const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/JsonSchemaForm-BEdm1Ihr.js","assets/TextareaWidget-B-TsRTnr.js","assets/index-BYs8IsB5.js"])))=>i.map(i=>d[i]);
var tQ=Object.defineProperty;var Mk=e=>{throw TypeError(e)};var nQ=(e,t,n)=>t in e?tQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var K=(e,t,n)=>nQ(e,typeof t!="symbol"?t+"":t,n),tN=(e,t,n)=>t.has(e)||Mk("Cannot "+n);var J=(e,t,n)=>(tN(e,t,"read from private field"),n?n.call(e):t.get(e)),Be=(e,t,n)=>t.has(e)?Mk("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ze=(e,t,n,r)=>(tN(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ot=(e,t,n)=>(tN(e,t,"access private method"),n);var Ik=(e,t,n,r)=>({set _(i){ze(e,t,i,n)},get _(){return J(e,t,r)}});function rQ(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var u7e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function so(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nN={exports:{}},Tp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pk;function iQ(){if(Pk)return Tp;Pk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var a in i)a!=="key"&&(s[a]=i[a])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:s}}return Tp.Fragment=t,Tp.jsx=n,Tp.jsxs=n,Tp}var Dk;function sQ(){return Dk||(Dk=1,nN.exports=iQ()),nN.exports}var h=sQ(),rN={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lk;function oQ(){if(Lk)return bt;Lk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function p(B){return B===null||typeof B!="object"?null:(B=m&&B[m]||B["@@iterator"],typeof B=="function"?B:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,x={};function S(B,q,X){this.props=B,this.context=q,this.refs=x,this.updater=X||y}S.prototype.isReactComponent={},S.prototype.setState=function(B,q){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,q,"setState")},S.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=S.prototype;function _(B,q,X){this.props=B,this.context=q,this.refs=x,this.updater=X||y}var C=_.prototype=new N;C.constructor=_,v(C,S.prototype),C.isPureReactComponent=!0;var j=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function k(B,q,X,Q,ie,ae){return X=ae.ref,{$$typeof:e,type:B,key:q,ref:X!==void 0?X:null,props:ae}}function R(B,q){return k(B.type,q,void 0,void 0,void 0,B.props)}function D(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function z(B){var q={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(X){return q[X]})}var L=/\/+/g;function F(B,q){return typeof B=="object"&&B!==null&&B.key!=null?z(""+B.key):q.toString(36)}function H(){}function M(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(H,H):(B.status="pending",B.then(function(q){B.status==="pending"&&(B.status="fulfilled",B.value=q)},function(q){B.status==="pending"&&(B.status="rejected",B.reason=q)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function V(B,q,X,Q,ie){var ae=typeof B;(ae==="undefined"||ae==="boolean")&&(B=null);var fe=!1;if(B===null)fe=!0;else switch(ae){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(B.$$typeof){case e:case t:fe=!0;break;case f:return fe=B._init,V(fe(B._payload),q,X,Q,ie)}}if(fe)return ie=ie(B),fe=Q===""?"."+F(B,0):Q,j(ie)?(X="",fe!=null&&(X=fe.replace(L,"$&/")+"/"),V(ie,q,X,"",function(ve){return ve})):ie!=null&&(D(ie)&&(ie=R(ie,X+(ie.key==null||B&&B.key===ie.key?"":(""+ie.key).replace(L,"$&/")+"/")+fe)),q.push(ie)),1;fe=0;var ce=Q===""?".":Q+":";if(j(B))for(var he=0;he<B.length;he++)Q=B[he],ae=ce+F(Q,he),fe+=V(Q,q,X,ae,ie);else if(he=p(B),typeof he=="function")for(B=he.call(B),he=0;!(Q=B.next()).done;)Q=Q.value,ae=ce+F(Q,he++),fe+=V(Q,q,X,ae,ie);else if(ae==="object"){if(typeof B.then=="function")return V(M(B),q,X,Q,ie);throw q=String(B),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return fe}function T(B,q,X){if(B==null)return B;var Q=[],ie=0;return V(B,Q,"","",function(ae){return q.call(X,ae,ie++)}),Q}function I(B){if(B._status===-1){var q=B._result;q=q(),q.then(function(X){(B._status===0||B._status===-1)&&(B._status=1,B._result=X)},function(X){(B._status===0||B._status===-1)&&(B._status=2,B._result=X)}),B._status===-1&&(B._status=0,B._result=q)}if(B._status===1)return B._result.default;throw B._result}var P=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function W(){}return bt.Children={map:T,forEach:function(B,q,X){T(B,function(){q.apply(this,arguments)},X)},count:function(B){var q=0;return T(B,function(){q++}),q},toArray:function(B){return T(B,function(q){return q})||[]},only:function(B){if(!D(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},bt.Component=S,bt.Fragment=n,bt.Profiler=i,bt.PureComponent=_,bt.StrictMode=r,bt.Suspense=c,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,bt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return A.H.useMemoCache(B)}},bt.cache=function(B){return function(){return B.apply(null,arguments)}},bt.cloneElement=function(B,q,X){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var Q=v({},B.props),ie=B.key,ae=void 0;if(q!=null)for(fe in q.ref!==void 0&&(ae=void 0),q.key!==void 0&&(ie=""+q.key),q)!$.call(q,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&q.ref===void 0||(Q[fe]=q[fe]);var fe=arguments.length-2;if(fe===1)Q.children=X;else if(1<fe){for(var ce=Array(fe),he=0;he<fe;he++)ce[he]=arguments[he+2];Q.children=ce}return k(B.type,ie,void 0,void 0,ae,Q)},bt.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:s,_context:B},B},bt.createElement=function(B,q,X){var Q,ie={},ae=null;if(q!=null)for(Q in q.key!==void 0&&(ae=""+q.key),q)$.call(q,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ie[Q]=q[Q]);var fe=arguments.length-2;if(fe===1)ie.children=X;else if(1<fe){for(var ce=Array(fe),he=0;he<fe;he++)ce[he]=arguments[he+2];ie.children=ce}if(B&&B.defaultProps)for(Q in fe=B.defaultProps,fe)ie[Q]===void 0&&(ie[Q]=fe[Q]);return k(B,ae,void 0,void 0,null,ie)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(B){return{$$typeof:a,render:B}},bt.isValidElement=D,bt.lazy=function(B){return{$$typeof:f,_payload:{_status:-1,_result:B},_init:I}},bt.memo=function(B,q){return{$$typeof:u,type:B,compare:q===void 0?null:q}},bt.startTransition=function(B){var q=A.T,X={};A.T=X;try{var Q=B(),ie=A.S;ie!==null&&ie(X,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(W,P)}catch(ae){P(ae)}finally{A.T=q}},bt.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},bt.use=function(B){return A.H.use(B)},bt.useActionState=function(B,q,X){return A.H.useActionState(B,q,X)},bt.useCallback=function(B,q){return A.H.useCallback(B,q)},bt.useContext=function(B){return A.H.useContext(B)},bt.useDebugValue=function(){},bt.useDeferredValue=function(B,q){return A.H.useDeferredValue(B,q)},bt.useEffect=function(B,q,X){var Q=A.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(B,q)},bt.useId=function(){return A.H.useId()},bt.useImperativeHandle=function(B,q,X){return A.H.useImperativeHandle(B,q,X)},bt.useInsertionEffect=function(B,q){return A.H.useInsertionEffect(B,q)},bt.useLayoutEffect=function(B,q){return A.H.useLayoutEffect(B,q)},bt.useMemo=function(B,q){return A.H.useMemo(B,q)},bt.useOptimistic=function(B,q){return A.H.useOptimistic(B,q)},bt.useReducer=function(B,q,X){return A.H.useReducer(B,q,X)},bt.useRef=function(B){return A.H.useRef(B)},bt.useState=function(B){return A.H.useState(B)},bt.useSyncExternalStore=function(B,q,X){return A.H.useSyncExternalStore(B,q,X)},bt.useTransition=function(){return A.H.useTransition()},bt.version="19.1.0",bt}var Fk;function Qh(){return Fk||(Fk=1,rN.exports=oQ()),rN.exports}var w=Qh();const je=so(w),Z8=rQ({__proto__:null,default:je},[w]);var iN={exports:{}},$p={},sN={exports:{}},oN={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bk;function aQ(){return Bk||(Bk=1,function(e){function t(T,I){var P=T.length;T.push(I);e:for(;0<P;){var W=P-1>>>1,B=T[W];if(0<i(B,I))T[W]=I,T[P]=B,P=W;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var I=T[0],P=T.pop();if(P!==I){T[0]=P;e:for(var W=0,B=T.length,q=B>>>1;W<q;){var X=2*(W+1)-1,Q=T[X],ie=X+1,ae=T[ie];if(0>i(Q,P))ie<B&&0>i(ae,Q)?(T[W]=ae,T[ie]=P,W=ie):(T[W]=Q,T[X]=P,W=X);else if(ie<B&&0>i(ae,P))T[W]=ae,T[ie]=P,W=ie;else break e}}return I}function i(T,I){var P=T.sortIndex-I.sortIndex;return P!==0?P:T.id-I.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],f=1,m=null,p=3,y=!1,v=!1,x=!1,S=!1,N=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function j(T){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=T)r(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(u)}}function A(T){if(x=!1,j(T),!v)if(n(c)!==null)v=!0,$||($=!0,F());else{var I=n(u);I!==null&&V(A,I.startTime-T)}}var $=!1,k=-1,R=5,D=-1;function z(){return S?!0:!(e.unstable_now()-D<R)}function L(){if(S=!1,$){var T=e.unstable_now();D=T;var I=!0;try{e:{v=!1,x&&(x=!1,_(k),k=-1),y=!0;var P=p;try{t:{for(j(T),m=n(c);m!==null&&!(m.expirationTime>T&&z());){var W=m.callback;if(typeof W=="function"){m.callback=null,p=m.priorityLevel;var B=W(m.expirationTime<=T);if(T=e.unstable_now(),typeof B=="function"){m.callback=B,j(T),I=!0;break t}m===n(c)&&r(c),j(T)}else r(c);m=n(c)}if(m!==null)I=!0;else{var q=n(u);q!==null&&V(A,q.startTime-T),I=!1}}break e}finally{m=null,p=P,y=!1}I=void 0}}finally{I?F():$=!1}}}var F;if(typeof C=="function")F=function(){C(L)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,M=H.port2;H.port1.onmessage=L,F=function(){M.postMessage(null)}}else F=function(){N(L,0)};function V(T,I){k=N(function(){T(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(T){switch(p){case 1:case 2:case 3:var I=3;break;default:I=p}var P=p;p=I;try{return T()}finally{p=P}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(T,I){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var P=p;p=T;try{return I()}finally{p=P}},e.unstable_scheduleCallback=function(T,I,P){var W=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?W+P:W):P=W,T){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=P+B,T={id:f++,callback:I,priorityLevel:T,startTime:P,expirationTime:B,sortIndex:-1},P>W?(T.sortIndex=P,t(u,T),n(c)===null&&T===n(u)&&(x?(_(k),k=-1):x=!0,V(A,P-W))):(T.sortIndex=B,t(c,T),v||y||(v=!0,$||($=!0,F()))),T},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(T){var I=p;return function(){var P=p;p=I;try{return T.apply(this,arguments)}finally{p=P}}}}(oN)),oN}var zk;function lQ(){return zk||(zk=1,sN.exports=aQ()),sN.exports}var aN={exports:{}},Nr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vk;function cQ(){if(Vk)return Nr;Vk=1;var e=Qh();function t(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(c,u,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:u,implementation:f}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Nr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Nr.createPortal=function(c,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return s(c,u,null,f)},Nr.flushSync=function(c){var u=o.T,f=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=u,r.p=f,r.d.f()}},Nr.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(c,u))},Nr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Nr.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var f=u.as,m=a(f,u.crossOrigin),p=typeof u.integrity=="string"?u.integrity:void 0,y=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;f==="style"?r.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:y}):f==="script"&&r.d.X(c,{crossOrigin:m,integrity:p,fetchPriority:y,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Nr.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var f=a(u.as,u.crossOrigin);r.d.M(c,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(c)},Nr.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var f=u.as,m=a(f,u.crossOrigin);r.d.L(c,f,{crossOrigin:m,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Nr.preloadModule=function(c,u){if(typeof c=="string")if(u){var f=a(u.as,u.crossOrigin);r.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(c)},Nr.requestFormReset=function(c){r.d.r(c)},Nr.unstable_batchedUpdates=function(c,u){return c(u)},Nr.useFormState=function(c,u,f){return o.H.useFormState(c,u,f)},Nr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Nr.version="19.1.0",Nr}var Uk;function e7(){if(Uk)return aN.exports;Uk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),aN.exports=cQ(),aN.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qk;function uQ(){if(qk)return $p;qk=1;var e=lQ(),t=Qh(),n=e7();function r(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function s(l){var d=l,g=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(g=d.return),l=d.return;while(l)}return d.tag===3?g:null}function o(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function a(l){if(s(l)!==l)throw Error(r(188))}function c(l){var d=l.alternate;if(!d){if(d=s(l),d===null)throw Error(r(188));return d!==l?null:l}for(var g=l,b=d;;){var E=g.return;if(E===null)break;var O=E.alternate;if(O===null){if(b=E.return,b!==null){g=b;continue}break}if(E.child===O.child){for(O=E.child;O;){if(O===g)return a(E),l;if(O===b)return a(E),d;O=O.sibling}throw Error(r(188))}if(g.return!==b.return)g=E,b=O;else{for(var U=!1,Y=E.child;Y;){if(Y===g){U=!0,g=E,b=O;break}if(Y===b){U=!0,b=E,g=O;break}Y=Y.sibling}if(!U){for(Y=O.child;Y;){if(Y===g){U=!0,g=O,b=E;break}if(Y===b){U=!0,b=O,g=E;break}Y=Y.sibling}if(!U)throw Error(r(189))}}if(g.alternate!==b)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?l:d}function u(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l;for(l=l.child;l!==null;){if(d=u(l),d!==null)return d;l=l.sibling}return null}var f=Object.assign,m=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),C=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function F(l){return l===null||typeof l!="object"?null:(l=L&&l[L]||l["@@iterator"],typeof l=="function"?l:null)}var H=Symbol.for("react.client.reference");function M(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===H?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case v:return"Fragment";case S:return"Profiler";case x:return"StrictMode";case A:return"Suspense";case $:return"SuspenseList";case D:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case y:return"Portal";case C:return(l.displayName||"Context")+".Provider";case _:return(l._context.displayName||"Context")+".Consumer";case j:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case k:return d=l.displayName||null,d!==null?d:M(l.type)||"Memo";case R:d=l._payload,l=l._init;try{return M(l(d))}catch{}}return null}var V=Array.isArray,T=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},W=[],B=-1;function q(l){return{current:l}}function X(l){0>B||(l.current=W[B],W[B]=null,B--)}function Q(l,d){B++,W[B]=l.current,l.current=d}var ie=q(null),ae=q(null),fe=q(null),ce=q(null);function he(l,d){switch(Q(fe,d),Q(ae,l),Q(ie,null),d.nodeType){case 9:case 11:l=(l=d.documentElement)&&(l=l.namespaceURI)?lk(l):0;break;default:if(l=d.tagName,d=d.namespaceURI)d=lk(d),l=ck(d,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}X(ie),Q(ie,l)}function ve(){X(ie),X(ae),X(fe)}function Ae(l){l.memoizedState!==null&&Q(ce,l);var d=ie.current,g=ck(d,l.type);d!==g&&(Q(ae,l),Q(ie,g))}function Ce(l){ae.current===l&&(X(ie),X(ae)),ce.current===l&&(X(ce),_p._currentValue=P)}var Ee=Object.prototype.hasOwnProperty,Re=e.unstable_scheduleCallback,ke=e.unstable_cancelCallback,We=e.unstable_shouldYield,et=e.unstable_requestPaint,Oe=e.unstable_now,Ie=e.unstable_getCurrentPriorityLevel,Pe=e.unstable_ImmediatePriority,G=e.unstable_UserBlockingPriority,re=e.unstable_NormalPriority,te=e.unstable_LowPriority,me=e.unstable_IdlePriority,se=e.log,ne=e.unstable_setDisableYieldValue,le=null,xe=null;function Ne(l){if(typeof se=="function"&&ne(l),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(le,l)}catch{}}var Ge=Math.clz32?Math.clz32:ho,Ut=Math.log,St=Math.LN2;function ho(l){return l>>>=0,l===0?32:31-(Ut(l)/St|0)|0}var qt=256,pn=4194304;function fr(l){var d=l&42;if(d!==0)return d;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function _s(l,d,g){var b=l.pendingLanes;if(b===0)return 0;var E=0,O=l.suspendedLanes,U=l.pingedLanes;l=l.warmLanes;var Y=b&134217727;return Y!==0?(b=Y&~O,b!==0?E=fr(b):(U&=Y,U!==0?E=fr(U):g||(g=Y&~l,g!==0&&(E=fr(g))))):(Y=b&~O,Y!==0?E=fr(Y):U!==0?E=fr(U):g||(g=b&~l,g!==0&&(E=fr(g)))),E===0?0:d!==0&&d!==E&&(d&O)===0&&(O=E&-E,g=d&-d,O>=g||O===32&&(g&4194048)!==0)?d:E}function Hi(l,d){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&d)===0}function mo(l,d){switch(l){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qc(){var l=qt;return qt<<=1,(qt&4194048)===0&&(qt=256),l}function $d(){var l=pn;return pn<<=1,(pn&62914560)===0&&(pn=4194304),l}function fl(l){for(var d=[],g=0;31>g;g++)d.push(l);return d}function Wo(l,d){l.pendingLanes|=d,d!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Wi(l,d,g,b,E,O){var U=l.pendingLanes;l.pendingLanes=g,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=g,l.entangledLanes&=g,l.errorRecoveryDisabledLanes&=g,l.shellSuspendCounter=0;var Y=l.entanglements,ee=l.expirationTimes,ge=l.hiddenUpdates;for(g=U&~g;0<g;){var we=31-Ge(g),_e=1<<we;Y[we]=0,ee[we]=-1;var ye=ge[we];if(ye!==null)for(ge[we]=null,we=0;we<ye.length;we++){var be=ye[we];be!==null&&(be.lane&=-536870913)}g&=~_e}b!==0&&Zc(l,b,0),O!==0&&E===0&&l.tag!==0&&(l.suspendedLanes|=O&~(U&~d))}function Zc(l,d,g){l.pendingLanes|=d,l.suspendedLanes&=~d;var b=31-Ge(d);l.entangledLanes|=d,l.entanglements[b]=l.entanglements[b]|1073741824|g&4194090}function Rm(l,d){var g=l.entangledLanes|=d;for(l=l.entanglements;g;){var b=31-Ge(g),E=1<<b;E&d|l[b]&d&&(l[b]|=d),g&=~E}}function eu(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function tu(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function gn(){var l=I.p;return l!==0?l:(l=window.event,l===void 0?32:jk(l.type))}function Cs(l,d){var g=I.p;try{return I.p=l,d()}finally{I.p=g}}var rr=Math.random().toString(36).slice(2),ln="__reactFiber$"+rr,zn="__reactProps$"+rr,Os="__reactContainer$"+rr,hl="__reactEvents$"+rr,Rd="__reactListeners$"+rr,km="__reactHandles$"+rr,kd="__reactResources$"+rr,Go="__reactMarker$"+rr;function nu(l){delete l[ln],delete l[zn],delete l[hl],delete l[Rd],delete l[km]}function gt(l){var d=l[ln];if(d)return d;for(var g=l.parentNode;g;){if(d=g[Os]||g[ln]){if(g=d.alternate,d.child!==null||g!==null&&g.child!==null)for(l=hk(l);l!==null;){if(g=l[ln])return g;l=hk(l)}return d}l=g,g=l.parentNode}return null}function kn(l){if(l=l[ln]||l[Os]){var d=l.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return l}return null}function Sr(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l.stateNode;throw Error(r(33))}function Jo(l){var d=l[kd];return d||(d=l[kd]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Vn(l){l[Go]=!0}var R0=new Set,k0={};function Yo(l,d){ml(l,d),ml(l+"Capture",d)}function ml(l,d){for(k0[l]=d,l=0;l<d.length;l++)R0.add(d[l])}var M0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),I0={},P0={};function XS(l){return Ee.call(P0,l)?!0:Ee.call(I0,l)?!1:M0.test(l)?P0[l]=!0:(I0[l]=!0,!1)}function Md(l,d,g){if(XS(d))if(g===null)l.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":l.removeAttribute(d);return;case"boolean":var b=d.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){l.removeAttribute(d);return}}l.setAttribute(d,""+g)}}function Id(l,d,g){if(g===null)l.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttribute(d,""+g)}}function js(l,d,g,b){if(b===null)l.removeAttribute(g);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(g);return}l.setAttributeNS(d,g,""+b)}}var Mm,Im;function pl(l){if(Mm===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);Mm=d&&d[1]||"",Im=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mm+l+Im}var Pm=!1;function Dm(l,d){if(!l||Pm)return"";Pm=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(d){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(be){var ye=be}Reflect.construct(l,[],_e)}else{try{_e.call()}catch(be){ye=be}l.call(_e.prototype)}}else{try{throw Error()}catch(be){ye=be}(_e=l())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(be){if(be&&ye&&typeof be.stack=="string")return[be.stack,ye.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=b.DetermineComponentFrameRoot(),U=O[0],Y=O[1];if(U&&Y){var ee=U.split(`
`),ge=Y.split(`
`);for(E=b=0;b<ee.length&&!ee[b].includes("DetermineComponentFrameRoot");)b++;for(;E<ge.length&&!ge[E].includes("DetermineComponentFrameRoot");)E++;if(b===ee.length||E===ge.length)for(b=ee.length-1,E=ge.length-1;1<=b&&0<=E&&ee[b]!==ge[E];)E--;for(;1<=b&&0<=E;b--,E--)if(ee[b]!==ge[E]){if(b!==1||E!==1)do if(b--,E--,0>E||ee[b]!==ge[E]){var we=`
`+ee[b].replace(" at new "," at ");return l.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",l.displayName)),we}while(1<=b&&0<=E);break}}}finally{Pm=!1,Error.prepareStackTrace=g}return(g=l?l.displayName||l.name:"")?pl(g):""}function KS(l){switch(l.tag){case 26:case 27:case 5:return pl(l.type);case 16:return pl("Lazy");case 13:return pl("Suspense");case 19:return pl("SuspenseList");case 0:case 15:return Dm(l.type,!1);case 11:return Dm(l.type.render,!1);case 1:return Dm(l.type,!0);case 31:return pl("Activity");default:return""}}function D0(l){try{var d="";do d+=KS(l),l=l.return;while(l);return d}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function Qr(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function L0(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Pd(l){var d=L0(l)?"checked":"value",g=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),b=""+l[d];if(!l.hasOwnProperty(d)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var E=g.get,O=g.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return E.call(this)},set:function(U){b=""+U,O.call(this,U)}}),Object.defineProperty(l,d,{enumerable:g.enumerable}),{getValue:function(){return b},setValue:function(U){b=""+U},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function Dd(l){l._valueTracker||(l._valueTracker=Pd(l))}function F0(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var g=d.getValue(),b="";return l&&(b=L0(l)?l.checked?"true":"false":l.value),l=b,l!==g?(d.setValue(l),!0):!1}function gl(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var QS=/[\n"\\]/g;function Zr(l){return l.replace(QS,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Ld(l,d,g,b,E,O,U,Y){l.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?l.type=U:l.removeAttribute("type"),d!=null?U==="number"?(d===0&&l.value===""||l.value!=d)&&(l.value=""+Qr(d)):l.value!==""+Qr(d)&&(l.value=""+Qr(d)):U!=="submit"&&U!=="reset"||l.removeAttribute("value"),d!=null?ZS(l,U,Qr(d)):g!=null?ZS(l,U,Qr(g)):b!=null&&l.removeAttribute("value"),E==null&&O!=null&&(l.defaultChecked=!!O),E!=null&&(l.checked=E&&typeof E!="function"&&typeof E!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?l.name=""+Qr(Y):l.removeAttribute("name")}function s3(l,d,g,b,E,O,U,Y){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(l.type=O),d!=null||g!=null){if(!(O!=="submit"&&O!=="reset"||d!=null))return;g=g!=null?""+Qr(g):"",d=d!=null?""+Qr(d):g,Y||d===l.value||(l.value=d),l.defaultValue=d}b=b??E,b=typeof b!="function"&&typeof b!="symbol"&&!!b,l.checked=Y?l.checked:!!b,l.defaultChecked=!!b,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(l.name=U)}function ZS(l,d,g){d==="number"&&gl(l.ownerDocument)===l||l.defaultValue===""+g||(l.defaultValue=""+g)}function Fd(l,d,g,b){if(l=l.options,d){d={};for(var E=0;E<g.length;E++)d["$"+g[E]]=!0;for(g=0;g<l.length;g++)E=d.hasOwnProperty("$"+l[g].value),l[g].selected!==E&&(l[g].selected=E),E&&b&&(l[g].defaultSelected=!0)}else{for(g=""+Qr(g),d=null,E=0;E<l.length;E++){if(l[E].value===g){l[E].selected=!0,b&&(l[E].defaultSelected=!0);return}d!==null||l[E].disabled||(d=l[E])}d!==null&&(d.selected=!0)}}function o3(l,d,g){if(d!=null&&(d=""+Qr(d),d!==l.value&&(l.value=d),g==null)){l.defaultValue!==d&&(l.defaultValue=d);return}l.defaultValue=g!=null?""+Qr(g):""}function a3(l,d,g,b){if(d==null){if(b!=null){if(g!=null)throw Error(r(92));if(V(b)){if(1<b.length)throw Error(r(93));b=b[0]}g=b}g==null&&(g=""),d=g}g=Qr(d),l.defaultValue=g,b=l.textContent,b===g&&b!==""&&b!==null&&(l.value=b)}function Bd(l,d){if(d){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=d;return}}l.textContent=d}var QY=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function l3(l,d,g){var b=d.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?b?l.setProperty(d,""):d==="float"?l.cssFloat="":l[d]="":b?l.setProperty(d,g):typeof g!="number"||g===0||QY.has(d)?d==="float"?l.cssFloat=g:l[d]=(""+g).trim():l[d]=g+"px"}function c3(l,d,g){if(d!=null&&typeof d!="object")throw Error(r(62));if(l=l.style,g!=null){for(var b in g)!g.hasOwnProperty(b)||d!=null&&d.hasOwnProperty(b)||(b.indexOf("--")===0?l.setProperty(b,""):b==="float"?l.cssFloat="":l[b]="");for(var E in d)b=d[E],d.hasOwnProperty(E)&&g[E]!==b&&l3(l,E,b)}else for(var O in d)d.hasOwnProperty(O)&&l3(l,O,d[O])}function eE(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ZY=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eX=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function B0(l){return eX.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var tE=null;function nE(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var zd=null,Vd=null;function u3(l){var d=kn(l);if(d&&(l=d.stateNode)){var g=l[zn]||null;e:switch(l=d.stateNode,d.type){case"input":if(Ld(l,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),d=g.name,g.type==="radio"&&d!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Zr(""+d)+'"][type="radio"]'),d=0;d<g.length;d++){var b=g[d];if(b!==l&&b.form===l.form){var E=b[zn]||null;if(!E)throw Error(r(90));Ld(b,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(d=0;d<g.length;d++)b=g[d],b.form===l.form&&F0(b)}break e;case"textarea":o3(l,g.value,g.defaultValue);break e;case"select":d=g.value,d!=null&&Fd(l,!!g.multiple,d,!1)}}}var rE=!1;function d3(l,d,g){if(rE)return l(d,g);rE=!0;try{var b=l(d);return b}finally{if(rE=!1,(zd!==null||Vd!==null)&&(_b(),zd&&(d=zd,l=Vd,Vd=zd=null,u3(d),l)))for(d=0;d<l.length;d++)u3(l[d])}}function Lm(l,d){var g=l.stateNode;if(g===null)return null;var b=g[zn]||null;if(b===null)return null;g=b[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(r(231,d,typeof g));return g}var Xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iE=!1;if(Xo)try{var Fm={};Object.defineProperty(Fm,"passive",{get:function(){iE=!0}}),window.addEventListener("test",Fm,Fm),window.removeEventListener("test",Fm,Fm)}catch{iE=!1}var yl=null,sE=null,z0=null;function f3(){if(z0)return z0;var l,d=sE,g=d.length,b,E="value"in yl?yl.value:yl.textContent,O=E.length;for(l=0;l<g&&d[l]===E[l];l++);var U=g-l;for(b=1;b<=U&&d[g-b]===E[O-b];b++);return z0=E.slice(l,1<b?1-b:void 0)}function V0(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function U0(){return!0}function h3(){return!1}function ei(l){function d(g,b,E,O,U){this._reactName=g,this._targetInst=E,this.type=b,this.nativeEvent=O,this.target=U,this.currentTarget=null;for(var Y in l)l.hasOwnProperty(Y)&&(g=l[Y],this[Y]=g?g(O):O[Y]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?U0:h3,this.isPropagationStopped=h3,this}return f(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=U0)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=U0)},persist:function(){},isPersistent:U0}),d}var ru={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},q0=ei(ru),Bm=f({},ru,{view:0,detail:0}),tX=ei(Bm),oE,aE,zm,H0=f({},Bm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cE,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==zm&&(zm&&l.type==="mousemove"?(oE=l.screenX-zm.screenX,aE=l.screenY-zm.screenY):aE=oE=0,zm=l),oE)},movementY:function(l){return"movementY"in l?l.movementY:aE}}),m3=ei(H0),nX=f({},H0,{dataTransfer:0}),rX=ei(nX),iX=f({},Bm,{relatedTarget:0}),lE=ei(iX),sX=f({},ru,{animationName:0,elapsedTime:0,pseudoElement:0}),oX=ei(sX),aX=f({},ru,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),lX=ei(aX),cX=f({},ru,{data:0}),p3=ei(cX),uX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hX(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=fX[l])?!!d[l]:!1}function cE(){return hX}var mX=f({},Bm,{key:function(l){if(l.key){var d=uX[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=V0(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?dX[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cE,charCode:function(l){return l.type==="keypress"?V0(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?V0(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),pX=ei(mX),gX=f({},H0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g3=ei(gX),yX=f({},Bm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cE}),bX=ei(yX),vX=f({},ru,{propertyName:0,elapsedTime:0,pseudoElement:0}),xX=ei(vX),wX=f({},H0,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),SX=ei(wX),EX=f({},ru,{newState:0,oldState:0}),NX=ei(EX),_X=[9,13,27,32],uE=Xo&&"CompositionEvent"in window,Vm=null;Xo&&"documentMode"in document&&(Vm=document.documentMode);var CX=Xo&&"TextEvent"in window&&!Vm,y3=Xo&&(!uE||Vm&&8<Vm&&11>=Vm),b3=" ",v3=!1;function x3(l,d){switch(l){case"keyup":return _X.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w3(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ud=!1;function OX(l,d){switch(l){case"compositionend":return w3(d);case"keypress":return d.which!==32?null:(v3=!0,b3);case"textInput":return l=d.data,l===b3&&v3?null:l;default:return null}}function jX(l,d){if(Ud)return l==="compositionend"||!uE&&x3(l,d)?(l=f3(),z0=sE=yl=null,Ud=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return y3&&d.locale!=="ko"?null:d.data;default:return null}}var AX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S3(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!AX[l.type]:d==="textarea"}function E3(l,d,g,b){zd?Vd?Vd.push(b):Vd=[b]:zd=b,d=$b(d,"onChange"),0<d.length&&(g=new q0("onChange","change",null,g,b),l.push({event:g,listeners:d}))}var Um=null,qm=null;function TX(l){rk(l,0)}function W0(l){var d=Sr(l);if(F0(d))return l}function N3(l,d){if(l==="change")return d}var _3=!1;if(Xo){var dE;if(Xo){var fE="oninput"in document;if(!fE){var C3=document.createElement("div");C3.setAttribute("oninput","return;"),fE=typeof C3.oninput=="function"}dE=fE}else dE=!1;_3=dE&&(!document.documentMode||9<document.documentMode)}function O3(){Um&&(Um.detachEvent("onpropertychange",j3),qm=Um=null)}function j3(l){if(l.propertyName==="value"&&W0(qm)){var d=[];E3(d,qm,l,nE(l)),d3(TX,d)}}function $X(l,d,g){l==="focusin"?(O3(),Um=d,qm=g,Um.attachEvent("onpropertychange",j3)):l==="focusout"&&O3()}function RX(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return W0(qm)}function kX(l,d){if(l==="click")return W0(d)}function MX(l,d){if(l==="input"||l==="change")return W0(d)}function IX(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var xi=typeof Object.is=="function"?Object.is:IX;function Hm(l,d){if(xi(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var g=Object.keys(l),b=Object.keys(d);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++){var E=g[b];if(!Ee.call(d,E)||!xi(l[E],d[E]))return!1}return!0}function A3(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function T3(l,d){var g=A3(l);l=0;for(var b;g;){if(g.nodeType===3){if(b=l+g.textContent.length,l<=d&&b>=d)return{node:g,offset:d-l};l=b}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=A3(g)}}function $3(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?$3(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function R3(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var d=gl(l.document);d instanceof l.HTMLIFrameElement;){try{var g=typeof d.contentWindow.location.href=="string"}catch{g=!1}if(g)l=d.contentWindow;else break;d=gl(l.document)}return d}function hE(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}var PX=Xo&&"documentMode"in document&&11>=document.documentMode,qd=null,mE=null,Wm=null,pE=!1;function k3(l,d,g){var b=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;pE||qd==null||qd!==gl(b)||(b=qd,"selectionStart"in b&&hE(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Wm&&Hm(Wm,b)||(Wm=b,b=$b(mE,"onSelect"),0<b.length&&(d=new q0("onSelect","select",null,d,g),l.push({event:d,listeners:b}),d.target=qd)))}function iu(l,d){var g={};return g[l.toLowerCase()]=d.toLowerCase(),g["Webkit"+l]="webkit"+d,g["Moz"+l]="moz"+d,g}var Hd={animationend:iu("Animation","AnimationEnd"),animationiteration:iu("Animation","AnimationIteration"),animationstart:iu("Animation","AnimationStart"),transitionrun:iu("Transition","TransitionRun"),transitionstart:iu("Transition","TransitionStart"),transitioncancel:iu("Transition","TransitionCancel"),transitionend:iu("Transition","TransitionEnd")},gE={},M3={};Xo&&(M3=document.createElement("div").style,"AnimationEvent"in window||(delete Hd.animationend.animation,delete Hd.animationiteration.animation,delete Hd.animationstart.animation),"TransitionEvent"in window||delete Hd.transitionend.transition);function su(l){if(gE[l])return gE[l];if(!Hd[l])return l;var d=Hd[l],g;for(g in d)if(d.hasOwnProperty(g)&&g in M3)return gE[l]=d[g];return l}var I3=su("animationend"),P3=su("animationiteration"),D3=su("animationstart"),DX=su("transitionrun"),LX=su("transitionstart"),FX=su("transitioncancel"),L3=su("transitionend"),F3=new Map,yE="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yE.push("scrollEnd");function As(l,d){F3.set(l,d),Yo(d,[l])}var B3=new WeakMap;function Gi(l,d){if(typeof l=="object"&&l!==null){var g=B3.get(l);return g!==void 0?g:(d={value:l,source:d,stack:D0(d)},B3.set(l,d),d)}return{value:l,source:d,stack:D0(d)}}var Ji=[],Wd=0,bE=0;function G0(){for(var l=Wd,d=bE=Wd=0;d<l;){var g=Ji[d];Ji[d++]=null;var b=Ji[d];Ji[d++]=null;var E=Ji[d];Ji[d++]=null;var O=Ji[d];if(Ji[d++]=null,b!==null&&E!==null){var U=b.pending;U===null?E.next=E:(E.next=U.next,U.next=E),b.pending=E}O!==0&&z3(g,E,O)}}function J0(l,d,g,b){Ji[Wd++]=l,Ji[Wd++]=d,Ji[Wd++]=g,Ji[Wd++]=b,bE|=b,l.lanes|=b,l=l.alternate,l!==null&&(l.lanes|=b)}function vE(l,d,g,b){return J0(l,d,g,b),Y0(l)}function Gd(l,d){return J0(l,null,null,d),Y0(l)}function z3(l,d,g){l.lanes|=g;var b=l.alternate;b!==null&&(b.lanes|=g);for(var E=!1,O=l.return;O!==null;)O.childLanes|=g,b=O.alternate,b!==null&&(b.childLanes|=g),O.tag===22&&(l=O.stateNode,l===null||l._visibility&1||(E=!0)),l=O,O=O.return;return l.tag===3?(O=l.stateNode,E&&d!==null&&(E=31-Ge(g),l=O.hiddenUpdates,b=l[E],b===null?l[E]=[d]:b.push(d),d.lane=g|536870912),O):null}function Y0(l){if(50<yp)throw yp=0,_2=null,Error(r(185));for(var d=l.return;d!==null;)l=d,d=l.return;return l.tag===3?l.stateNode:null}var Jd={};function BX(l,d,g,b){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wi(l,d,g,b){return new BX(l,d,g,b)}function xE(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Ko(l,d){var g=l.alternate;return g===null?(g=wi(l.tag,d,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=d,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&65011712,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,d=l.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g.refCleanup=l.refCleanup,g}function V3(l,d){l.flags&=65011714;var g=l.alternate;return g===null?(l.childLanes=0,l.lanes=d,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=g.childLanes,l.lanes=g.lanes,l.child=g.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=g.memoizedProps,l.memoizedState=g.memoizedState,l.updateQueue=g.updateQueue,l.type=g.type,d=g.dependencies,l.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),l}function X0(l,d,g,b,E,O){var U=0;if(b=l,typeof l=="function")xE(l)&&(U=1);else if(typeof l=="string")U=VK(l,g,ie.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case D:return l=wi(31,g,d,E),l.elementType=D,l.lanes=O,l;case v:return ou(g.children,E,O,d);case x:U=8,E|=24;break;case S:return l=wi(12,g,d,E|2),l.elementType=S,l.lanes=O,l;case A:return l=wi(13,g,d,E),l.elementType=A,l.lanes=O,l;case $:return l=wi(19,g,d,E),l.elementType=$,l.lanes=O,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case N:case C:U=10;break e;case _:U=9;break e;case j:U=11;break e;case k:U=14;break e;case R:U=16,b=null;break e}U=29,g=Error(r(130,l===null?"null":typeof l,"")),b=null}return d=wi(U,g,d,E),d.elementType=l,d.type=b,d.lanes=O,d}function ou(l,d,g,b){return l=wi(7,l,b,d),l.lanes=g,l}function wE(l,d,g){return l=wi(6,l,null,d),l.lanes=g,l}function SE(l,d,g){return d=wi(4,l.children!==null?l.children:[],l.key,d),d.lanes=g,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}var Yd=[],Xd=0,K0=null,Q0=0,Yi=[],Xi=0,au=null,Qo=1,Zo="";function lu(l,d){Yd[Xd++]=Q0,Yd[Xd++]=K0,K0=l,Q0=d}function U3(l,d,g){Yi[Xi++]=Qo,Yi[Xi++]=Zo,Yi[Xi++]=au,au=l;var b=Qo;l=Zo;var E=32-Ge(b)-1;b&=~(1<<E),g+=1;var O=32-Ge(d)+E;if(30<O){var U=E-E%5;O=(b&(1<<U)-1).toString(32),b>>=U,E-=U,Qo=1<<32-Ge(d)+E|g<<E|b,Zo=O+l}else Qo=1<<O|g<<E|b,Zo=l}function EE(l){l.return!==null&&(lu(l,1),U3(l,1,0))}function NE(l){for(;l===K0;)K0=Yd[--Xd],Yd[Xd]=null,Q0=Yd[--Xd],Yd[Xd]=null;for(;l===au;)au=Yi[--Xi],Yi[Xi]=null,Zo=Yi[--Xi],Yi[Xi]=null,Qo=Yi[--Xi],Yi[Xi]=null}var kr=null,_n=null,Lt=!1,cu=null,po=!1,_E=Error(r(519));function uu(l){var d=Error(r(418,""));throw Ym(Gi(d,l)),_E}function q3(l){var d=l.stateNode,g=l.type,b=l.memoizedProps;switch(d[ln]=l,d[zn]=b,g){case"dialog":jt("cancel",d),jt("close",d);break;case"iframe":case"object":case"embed":jt("load",d);break;case"video":case"audio":for(g=0;g<vp.length;g++)jt(vp[g],d);break;case"source":jt("error",d);break;case"img":case"image":case"link":jt("error",d),jt("load",d);break;case"details":jt("toggle",d);break;case"input":jt("invalid",d),s3(d,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0),Dd(d);break;case"select":jt("invalid",d);break;case"textarea":jt("invalid",d),a3(d,b.value,b.defaultValue,b.children),Dd(d)}g=b.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||d.textContent===""+g||b.suppressHydrationWarning===!0||ak(d.textContent,g)?(b.popover!=null&&(jt("beforetoggle",d),jt("toggle",d)),b.onScroll!=null&&jt("scroll",d),b.onScrollEnd!=null&&jt("scrollend",d),b.onClick!=null&&(d.onclick=Rb),d=!0):d=!1,d||uu(l)}function H3(l){for(kr=l.return;kr;)switch(kr.tag){case 5:case 13:po=!1;return;case 27:case 3:po=!0;return;default:kr=kr.return}}function Gm(l){if(l!==kr)return!1;if(!Lt)return H3(l),Lt=!0,!1;var d=l.tag,g;if((g=d!==3&&d!==27)&&((g=d===5)&&(g=l.type,g=!(g!=="form"&&g!=="button")||z2(l.type,l.memoizedProps)),g=!g),g&&_n&&uu(l),H3(l),d===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8)if(g=l.data,g==="/$"){if(d===0){_n=$s(l.nextSibling);break e}d--}else g!=="$"&&g!=="$!"&&g!=="$?"||d++;l=l.nextSibling}_n=null}}else d===27?(d=_n,kl(l.type)?(l=H2,H2=null,_n=l):_n=d):_n=kr?$s(l.stateNode.nextSibling):null;return!0}function Jm(){_n=kr=null,Lt=!1}function W3(){var l=cu;return l!==null&&(ri===null?ri=l:ri.push.apply(ri,l),cu=null),l}function Ym(l){cu===null?cu=[l]:cu.push(l)}var CE=q(null),du=null,ea=null;function bl(l,d,g){Q(CE,d._currentValue),d._currentValue=g}function ta(l){l._currentValue=CE.current,X(CE)}function OE(l,d,g){for(;l!==null;){var b=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,b!==null&&(b.childLanes|=d)):b!==null&&(b.childLanes&d)!==d&&(b.childLanes|=d),l===g)break;l=l.return}}function jE(l,d,g,b){var E=l.child;for(E!==null&&(E.return=l);E!==null;){var O=E.dependencies;if(O!==null){var U=E.child;O=O.firstContext;e:for(;O!==null;){var Y=O;O=E;for(var ee=0;ee<d.length;ee++)if(Y.context===d[ee]){O.lanes|=g,Y=O.alternate,Y!==null&&(Y.lanes|=g),OE(O.return,g,l),b||(U=null);break e}O=Y.next}}else if(E.tag===18){if(U=E.return,U===null)throw Error(r(341));U.lanes|=g,O=U.alternate,O!==null&&(O.lanes|=g),OE(U,g,l),U=null}else U=E.child;if(U!==null)U.return=E;else for(U=E;U!==null;){if(U===l){U=null;break}if(E=U.sibling,E!==null){E.return=U.return,U=E;break}U=U.return}E=U}}function Xm(l,d,g,b){l=null;for(var E=d,O=!1;E!==null;){if(!O){if((E.flags&524288)!==0)O=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var U=E.alternate;if(U===null)throw Error(r(387));if(U=U.memoizedProps,U!==null){var Y=E.type;xi(E.pendingProps.value,U.value)||(l!==null?l.push(Y):l=[Y])}}else if(E===ce.current){if(U=E.alternate,U===null)throw Error(r(387));U.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(l!==null?l.push(_p):l=[_p])}E=E.return}l!==null&&jE(d,l,g,b),d.flags|=262144}function Z0(l){for(l=l.firstContext;l!==null;){if(!xi(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function fu(l){du=l,ea=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Er(l){return G3(du,l)}function eb(l,d){return du===null&&fu(l),G3(l,d)}function G3(l,d){var g=d._currentValue;if(d={context:d,memoizedValue:g,next:null},ea===null){if(l===null)throw Error(r(308));ea=d,l.dependencies={lanes:0,firstContext:d},l.flags|=524288}else ea=ea.next=d;return g}var zX=typeof AbortController<"u"?AbortController:function(){var l=[],d=this.signal={aborted:!1,addEventListener:function(g,b){l.push(b)}};this.abort=function(){d.aborted=!0,l.forEach(function(g){return g()})}},VX=e.unstable_scheduleCallback,UX=e.unstable_NormalPriority,Xn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function AE(){return{controller:new zX,data:new Map,refCount:0}}function Km(l){l.refCount--,l.refCount===0&&VX(UX,function(){l.controller.abort()})}var Qm=null,TE=0,Kd=0,Qd=null;function qX(l,d){if(Qm===null){var g=Qm=[];TE=0,Kd=R2(),Qd={status:"pending",value:void 0,then:function(b){g.push(b)}}}return TE++,d.then(J3,J3),d}function J3(){if(--TE===0&&Qm!==null){Qd!==null&&(Qd.status="fulfilled");var l=Qm;Qm=null,Kd=0,Qd=null;for(var d=0;d<l.length;d++)(0,l[d])()}}function HX(l,d){var g=[],b={status:"pending",value:null,reason:null,then:function(E){g.push(E)}};return l.then(function(){b.status="fulfilled",b.value=d;for(var E=0;E<g.length;E++)(0,g[E])(d)},function(E){for(b.status="rejected",b.reason=E,E=0;E<g.length;E++)(0,g[E])(void 0)}),b}var Y3=T.S;T.S=function(l,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&qX(l,d),Y3!==null&&Y3(l,d)};var hu=q(null);function $E(){var l=hu.current;return l!==null?l:sn.pooledCache}function tb(l,d){d===null?Q(hu,hu.current):Q(hu,d.pool)}function X3(){var l=$E();return l===null?null:{parent:Xn._currentValue,pool:l}}var Zm=Error(r(460)),K3=Error(r(474)),nb=Error(r(542)),RE={then:function(){}};function Q3(l){return l=l.status,l==="fulfilled"||l==="rejected"}function rb(){}function Z3(l,d,g){switch(g=l[g],g===void 0?l.push(d):g!==d&&(d.then(rb,rb),d=g),d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,t5(l),l;default:if(typeof d.status=="string")d.then(rb,rb);else{if(l=sn,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=d,l.status="pending",l.then(function(b){if(d.status==="pending"){var E=d;E.status="fulfilled",E.value=b}},function(b){if(d.status==="pending"){var E=d;E.status="rejected",E.reason=b}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,t5(l),l}throw ep=d,Zm}}var ep=null;function e5(){if(ep===null)throw Error(r(459));var l=ep;return ep=null,l}function t5(l){if(l===Zm||l===nb)throw Error(r(483))}var vl=!1;function kE(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ME(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function xl(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function wl(l,d,g){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(Jt&2)!==0){var E=b.pending;return E===null?d.next=d:(d.next=E.next,E.next=d),b.pending=d,d=Y0(l),z3(l,null,g),d}return J0(l,b,d,g),Y0(l)}function tp(l,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194048)!==0)){var b=d.lanes;b&=l.pendingLanes,g|=b,d.lanes=g,Rm(l,g)}}function IE(l,d){var g=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,g===b)){var E=null,O=null;if(g=g.firstBaseUpdate,g!==null){do{var U={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};O===null?E=O=U:O=O.next=U,g=g.next}while(g!==null);O===null?E=O=d:O=O.next=d}else E=O=d;g={baseState:b.baseState,firstBaseUpdate:E,lastBaseUpdate:O,shared:b.shared,callbacks:b.callbacks},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=d:l.next=d,g.lastBaseUpdate=d}var PE=!1;function np(){if(PE){var l=Qd;if(l!==null)throw l}}function rp(l,d,g,b){PE=!1;var E=l.updateQueue;vl=!1;var O=E.firstBaseUpdate,U=E.lastBaseUpdate,Y=E.shared.pending;if(Y!==null){E.shared.pending=null;var ee=Y,ge=ee.next;ee.next=null,U===null?O=ge:U.next=ge,U=ee;var we=l.alternate;we!==null&&(we=we.updateQueue,Y=we.lastBaseUpdate,Y!==U&&(Y===null?we.firstBaseUpdate=ge:Y.next=ge,we.lastBaseUpdate=ee))}if(O!==null){var _e=E.baseState;U=0,we=ge=ee=null,Y=O;do{var ye=Y.lane&-536870913,be=ye!==Y.lane;if(be?(At&ye)===ye:(b&ye)===ye){ye!==0&&ye===Kd&&(PE=!0),we!==null&&(we=we.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var dt=l,lt=Y;ye=d;var Zt=g;switch(lt.tag){case 1:if(dt=lt.payload,typeof dt=="function"){_e=dt.call(Zt,_e,ye);break e}_e=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=lt.payload,ye=typeof dt=="function"?dt.call(Zt,_e,ye):dt,ye==null)break e;_e=f({},_e,ye);break e;case 2:vl=!0}}ye=Y.callback,ye!==null&&(l.flags|=64,be&&(l.flags|=8192),be=E.callbacks,be===null?E.callbacks=[ye]:be.push(ye))}else be={lane:ye,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},we===null?(ge=we=be,ee=_e):we=we.next=be,U|=ye;if(Y=Y.next,Y===null){if(Y=E.shared.pending,Y===null)break;be=Y,Y=be.next,be.next=null,E.lastBaseUpdate=be,E.shared.pending=null}}while(!0);we===null&&(ee=_e),E.baseState=ee,E.firstBaseUpdate=ge,E.lastBaseUpdate=we,O===null&&(E.shared.lanes=0),Al|=U,l.lanes=U,l.memoizedState=_e}}function n5(l,d){if(typeof l!="function")throw Error(r(191,l));l.call(d)}function r5(l,d){var g=l.callbacks;if(g!==null)for(l.callbacks=null,l=0;l<g.length;l++)n5(g[l],d)}var Zd=q(null),ib=q(0);function i5(l,d){l=la,Q(ib,l),Q(Zd,d),la=l|d.baseLanes}function DE(){Q(ib,la),Q(Zd,Zd.current)}function LE(){la=ib.current,X(Zd),X(ib)}var Sl=0,Et=null,Kt=null,Un=null,sb=!1,ef=!1,mu=!1,ob=0,ip=0,tf=null,WX=0;function Mn(){throw Error(r(321))}function FE(l,d){if(d===null)return!1;for(var g=0;g<d.length&&g<l.length;g++)if(!xi(l[g],d[g]))return!1;return!0}function BE(l,d,g,b,E,O){return Sl=O,Et=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,T.H=l===null||l.memoizedState===null?z5:V5,mu=!1,O=g(b,E),mu=!1,ef&&(O=o5(d,g,b,E)),s5(l),O}function s5(l){T.H=fb;var d=Kt!==null&&Kt.next!==null;if(Sl=0,Un=Kt=Et=null,sb=!1,ip=0,tf=null,d)throw Error(r(300));l===null||ir||(l=l.dependencies,l!==null&&Z0(l)&&(ir=!0))}function o5(l,d,g,b){Et=l;var E=0;do{if(ef&&(tf=null),ip=0,ef=!1,25<=E)throw Error(r(301));if(E+=1,Un=Kt=null,l.updateQueue!=null){var O=l.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}T.H=ZX,O=d(g,b)}while(ef);return O}function GX(){var l=T.H,d=l.useState()[0];return d=typeof d.then=="function"?sp(d):d,l=l.useState()[0],(Kt!==null?Kt.memoizedState:null)!==l&&(Et.flags|=1024),d}function zE(){var l=ob!==0;return ob=0,l}function VE(l,d,g){d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~g}function UE(l){if(sb){for(l=l.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}sb=!1}Sl=0,Un=Kt=Et=null,ef=!1,ip=ob=0,tf=null}function ti(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?Et.memoizedState=Un=l:Un=Un.next=l,Un}function qn(){if(Kt===null){var l=Et.alternate;l=l!==null?l.memoizedState:null}else l=Kt.next;var d=Un===null?Et.memoizedState:Un.next;if(d!==null)Un=d,Kt=l;else{if(l===null)throw Et.alternate===null?Error(r(467)):Error(r(310));Kt=l,l={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Un===null?Et.memoizedState=Un=l:Un=Un.next=l}return Un}function qE(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sp(l){var d=ip;return ip+=1,tf===null&&(tf=[]),l=Z3(tf,l,d),d=Et,(Un===null?d.memoizedState:Un.next)===null&&(d=d.alternate,T.H=d===null||d.memoizedState===null?z5:V5),l}function ab(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return sp(l);if(l.$$typeof===C)return Er(l)}throw Error(r(438,String(l)))}function HE(l){var d=null,g=Et.updateQueue;if(g!==null&&(d=g.memoCache),d==null){var b=Et.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(d={data:b.data.map(function(E){return E.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),g===null&&(g=qE(),Et.updateQueue=g),g.memoCache=d,g=d.data[d.index],g===void 0)for(g=d.data[d.index]=Array(l),b=0;b<l;b++)g[b]=z;return d.index++,g}function na(l,d){return typeof d=="function"?d(l):d}function lb(l){var d=qn();return WE(d,Kt,l)}function WE(l,d,g){var b=l.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=g;var E=l.baseQueue,O=b.pending;if(O!==null){if(E!==null){var U=E.next;E.next=O.next,O.next=U}d.baseQueue=E=O,b.pending=null}if(O=l.baseState,E===null)l.memoizedState=O;else{d=E.next;var Y=U=null,ee=null,ge=d,we=!1;do{var _e=ge.lane&-536870913;if(_e!==ge.lane?(At&_e)===_e:(Sl&_e)===_e){var ye=ge.revertLane;if(ye===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),_e===Kd&&(we=!0);else if((Sl&ye)===ye){ge=ge.next,ye===Kd&&(we=!0);continue}else _e={lane:0,revertLane:ge.revertLane,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},ee===null?(Y=ee=_e,U=O):ee=ee.next=_e,Et.lanes|=ye,Al|=ye;_e=ge.action,mu&&g(O,_e),O=ge.hasEagerState?ge.eagerState:g(O,_e)}else ye={lane:_e,revertLane:ge.revertLane,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},ee===null?(Y=ee=ye,U=O):ee=ee.next=ye,Et.lanes|=_e,Al|=_e;ge=ge.next}while(ge!==null&&ge!==d);if(ee===null?U=O:ee.next=Y,!xi(O,l.memoizedState)&&(ir=!0,we&&(g=Qd,g!==null)))throw g;l.memoizedState=O,l.baseState=U,l.baseQueue=ee,b.lastRenderedState=O}return E===null&&(b.lanes=0),[l.memoizedState,b.dispatch]}function GE(l){var d=qn(),g=d.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=l;var b=g.dispatch,E=g.pending,O=d.memoizedState;if(E!==null){g.pending=null;var U=E=E.next;do O=l(O,U.action),U=U.next;while(U!==E);xi(O,d.memoizedState)||(ir=!0),d.memoizedState=O,d.baseQueue===null&&(d.baseState=O),g.lastRenderedState=O}return[O,b]}function a5(l,d,g){var b=Et,E=qn(),O=Lt;if(O){if(g===void 0)throw Error(r(407));g=g()}else g=d();var U=!xi((Kt||E).memoizedState,g);U&&(E.memoizedState=g,ir=!0),E=E.queue;var Y=u5.bind(null,b,E,l);if(op(2048,8,Y,[l]),E.getSnapshot!==d||U||Un!==null&&Un.memoizedState.tag&1){if(b.flags|=2048,nf(9,cb(),c5.bind(null,b,E,g,d),null),sn===null)throw Error(r(349));O||(Sl&124)!==0||l5(b,d,g)}return g}function l5(l,d,g){l.flags|=16384,l={getSnapshot:d,value:g},d=Et.updateQueue,d===null?(d=qE(),Et.updateQueue=d,d.stores=[l]):(g=d.stores,g===null?d.stores=[l]:g.push(l))}function c5(l,d,g,b){d.value=g,d.getSnapshot=b,d5(d)&&f5(l)}function u5(l,d,g){return g(function(){d5(d)&&f5(l)})}function d5(l){var d=l.getSnapshot;l=l.value;try{var g=d();return!xi(l,g)}catch{return!0}}function f5(l){var d=Gd(l,2);d!==null&&Ci(d,l,2)}function JE(l){var d=ti();if(typeof l=="function"){var g=l;if(l=g(),mu){Ne(!0);try{g()}finally{Ne(!1)}}}return d.memoizedState=d.baseState=l,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:l},d}function h5(l,d,g,b){return l.baseState=g,WE(l,Kt,typeof b=="function"?b:na)}function JX(l,d,g,b,E){if(db(l))throw Error(r(485));if(l=d.action,l!==null){var O={payload:E,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){O.listeners.push(U)}};T.T!==null?g(!0):O.isTransition=!1,b(O),g=d.pending,g===null?(O.next=d.pending=O,m5(d,O)):(O.next=g.next,d.pending=g.next=O)}}function m5(l,d){var g=d.action,b=d.payload,E=l.state;if(d.isTransition){var O=T.T,U={};T.T=U;try{var Y=g(E,b),ee=T.S;ee!==null&&ee(U,Y),p5(l,d,Y)}catch(ge){YE(l,d,ge)}finally{T.T=O}}else try{O=g(E,b),p5(l,d,O)}catch(ge){YE(l,d,ge)}}function p5(l,d,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(b){g5(l,d,b)},function(b){return YE(l,d,b)}):g5(l,d,g)}function g5(l,d,g){d.status="fulfilled",d.value=g,y5(d),l.state=g,d=l.pending,d!==null&&(g=d.next,g===d?l.pending=null:(g=g.next,d.next=g,m5(l,g)))}function YE(l,d,g){var b=l.pending;if(l.pending=null,b!==null){b=b.next;do d.status="rejected",d.reason=g,y5(d),d=d.next;while(d!==b)}l.action=null}function y5(l){l=l.listeners;for(var d=0;d<l.length;d++)(0,l[d])()}function b5(l,d){return d}function v5(l,d){if(Lt){var g=sn.formState;if(g!==null){e:{var b=Et;if(Lt){if(_n){t:{for(var E=_n,O=po;E.nodeType!==8;){if(!O){E=null;break t}if(E=$s(E.nextSibling),E===null){E=null;break t}}O=E.data,E=O==="F!"||O==="F"?E:null}if(E){_n=$s(E.nextSibling),b=E.data==="F!";break e}}uu(b)}b=!1}b&&(d=g[0])}}return g=ti(),g.memoizedState=g.baseState=d,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b5,lastRenderedState:d},g.queue=b,g=L5.bind(null,Et,b),b.dispatch=g,b=JE(!1),O=e2.bind(null,Et,!1,b.queue),b=ti(),E={state:d,dispatch:null,action:l,pending:null},b.queue=E,g=JX.bind(null,Et,E,O,g),E.dispatch=g,b.memoizedState=l,[d,g,!1]}function x5(l){var d=qn();return w5(d,Kt,l)}function w5(l,d,g){if(d=WE(l,d,b5)[0],l=lb(na)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var b=sp(d)}catch(U){throw U===Zm?nb:U}else b=d;d=qn();var E=d.queue,O=E.dispatch;return g!==d.memoizedState&&(Et.flags|=2048,nf(9,cb(),YX.bind(null,E,g),null)),[b,O,l]}function YX(l,d){l.action=d}function S5(l){var d=qn(),g=Kt;if(g!==null)return w5(d,g,l);qn(),d=d.memoizedState,g=qn();var b=g.queue.dispatch;return g.memoizedState=l,[d,b,!1]}function nf(l,d,g,b){return l={tag:l,create:g,deps:b,inst:d,next:null},d=Et.updateQueue,d===null&&(d=qE(),Et.updateQueue=d),g=d.lastEffect,g===null?d.lastEffect=l.next=l:(b=g.next,g.next=l,l.next=b,d.lastEffect=l),l}function cb(){return{destroy:void 0,resource:void 0}}function E5(){return qn().memoizedState}function ub(l,d,g,b){var E=ti();b=b===void 0?null:b,Et.flags|=l,E.memoizedState=nf(1|d,cb(),g,b)}function op(l,d,g,b){var E=qn();b=b===void 0?null:b;var O=E.memoizedState.inst;Kt!==null&&b!==null&&FE(b,Kt.memoizedState.deps)?E.memoizedState=nf(d,O,g,b):(Et.flags|=l,E.memoizedState=nf(1|d,O,g,b))}function N5(l,d){ub(8390656,8,l,d)}function _5(l,d){op(2048,8,l,d)}function C5(l,d){return op(4,2,l,d)}function O5(l,d){return op(4,4,l,d)}function j5(l,d){if(typeof d=="function"){l=l();var g=d(l);return function(){typeof g=="function"?g():d(null)}}if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function A5(l,d,g){g=g!=null?g.concat([l]):null,op(4,4,j5.bind(null,d,l),g)}function XE(){}function T5(l,d){var g=qn();d=d===void 0?null:d;var b=g.memoizedState;return d!==null&&FE(d,b[1])?b[0]:(g.memoizedState=[l,d],l)}function $5(l,d){var g=qn();d=d===void 0?null:d;var b=g.memoizedState;if(d!==null&&FE(d,b[1]))return b[0];if(b=l(),mu){Ne(!0);try{l()}finally{Ne(!1)}}return g.memoizedState=[b,d],b}function KE(l,d,g){return g===void 0||(Sl&1073741824)!==0?l.memoizedState=d:(l.memoizedState=g,l=MR(),Et.lanes|=l,Al|=l,g)}function R5(l,d,g,b){return xi(g,d)?g:Zd.current!==null?(l=KE(l,g,b),xi(l,d)||(ir=!0),l):(Sl&42)===0?(ir=!0,l.memoizedState=g):(l=MR(),Et.lanes|=l,Al|=l,d)}function k5(l,d,g,b,E){var O=I.p;I.p=O!==0&&8>O?O:8;var U=T.T,Y={};T.T=Y,e2(l,!1,d,g);try{var ee=E(),ge=T.S;if(ge!==null&&ge(Y,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var we=HX(ee,b);ap(l,d,we,_i(l))}else ap(l,d,b,_i(l))}catch(_e){ap(l,d,{then:function(){},status:"rejected",reason:_e},_i())}finally{I.p=O,T.T=U}}function XX(){}function QE(l,d,g,b){if(l.tag!==5)throw Error(r(476));var E=M5(l).queue;k5(l,E,d,P,g===null?XX:function(){return I5(l),g(b)})}function M5(l){var d=l.memoizedState;if(d!==null)return d;d={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:P},next:null};var g={};return d.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:g},next:null},l.memoizedState=d,l=l.alternate,l!==null&&(l.memoizedState=d),d}function I5(l){var d=M5(l).next.queue;ap(l,d,{},_i())}function ZE(){return Er(_p)}function P5(){return qn().memoizedState}function D5(){return qn().memoizedState}function KX(l){for(var d=l.return;d!==null;){switch(d.tag){case 24:case 3:var g=_i();l=xl(g);var b=wl(d,l,g);b!==null&&(Ci(b,d,g),tp(b,d,g)),d={cache:AE()},l.payload=d;return}d=d.return}}function QX(l,d,g){var b=_i();g={lane:b,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},db(l)?F5(d,g):(g=vE(l,d,g,b),g!==null&&(Ci(g,l,b),B5(g,d,b)))}function L5(l,d,g){var b=_i();ap(l,d,g,b)}function ap(l,d,g,b){var E={lane:b,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(db(l))F5(d,E);else{var O=l.alternate;if(l.lanes===0&&(O===null||O.lanes===0)&&(O=d.lastRenderedReducer,O!==null))try{var U=d.lastRenderedState,Y=O(U,g);if(E.hasEagerState=!0,E.eagerState=Y,xi(Y,U))return J0(l,d,E,0),sn===null&&G0(),!1}catch{}finally{}if(g=vE(l,d,E,b),g!==null)return Ci(g,l,b),B5(g,d,b),!0}return!1}function e2(l,d,g,b){if(b={lane:2,revertLane:R2(),action:b,hasEagerState:!1,eagerState:null,next:null},db(l)){if(d)throw Error(r(479))}else d=vE(l,g,b,2),d!==null&&Ci(d,l,2)}function db(l){var d=l.alternate;return l===Et||d!==null&&d===Et}function F5(l,d){ef=sb=!0;var g=l.pending;g===null?d.next=d:(d.next=g.next,g.next=d),l.pending=d}function B5(l,d,g){if((g&4194048)!==0){var b=d.lanes;b&=l.pendingLanes,g|=b,d.lanes=g,Rm(l,g)}}var fb={readContext:Er,use:ab,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useLayoutEffect:Mn,useInsertionEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useSyncExternalStore:Mn,useId:Mn,useHostTransitionStatus:Mn,useFormState:Mn,useActionState:Mn,useOptimistic:Mn,useMemoCache:Mn,useCacheRefresh:Mn},z5={readContext:Er,use:ab,useCallback:function(l,d){return ti().memoizedState=[l,d===void 0?null:d],l},useContext:Er,useEffect:N5,useImperativeHandle:function(l,d,g){g=g!=null?g.concat([l]):null,ub(4194308,4,j5.bind(null,d,l),g)},useLayoutEffect:function(l,d){return ub(4194308,4,l,d)},useInsertionEffect:function(l,d){ub(4,2,l,d)},useMemo:function(l,d){var g=ti();d=d===void 0?null:d;var b=l();if(mu){Ne(!0);try{l()}finally{Ne(!1)}}return g.memoizedState=[b,d],b},useReducer:function(l,d,g){var b=ti();if(g!==void 0){var E=g(d);if(mu){Ne(!0);try{g(d)}finally{Ne(!1)}}}else E=d;return b.memoizedState=b.baseState=E,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:E},b.queue=l,l=l.dispatch=QX.bind(null,Et,l),[b.memoizedState,l]},useRef:function(l){var d=ti();return l={current:l},d.memoizedState=l},useState:function(l){l=JE(l);var d=l.queue,g=L5.bind(null,Et,d);return d.dispatch=g,[l.memoizedState,g]},useDebugValue:XE,useDeferredValue:function(l,d){var g=ti();return KE(g,l,d)},useTransition:function(){var l=JE(!1);return l=k5.bind(null,Et,l.queue,!0,!1),ti().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,d,g){var b=Et,E=ti();if(Lt){if(g===void 0)throw Error(r(407));g=g()}else{if(g=d(),sn===null)throw Error(r(349));(At&124)!==0||l5(b,d,g)}E.memoizedState=g;var O={value:g,getSnapshot:d};return E.queue=O,N5(u5.bind(null,b,O,l),[l]),b.flags|=2048,nf(9,cb(),c5.bind(null,b,O,g,d),null),g},useId:function(){var l=ti(),d=sn.identifierPrefix;if(Lt){var g=Zo,b=Qo;g=(b&~(1<<32-Ge(b)-1)).toString(32)+g,d=""+d+"R"+g,g=ob++,0<g&&(d+="H"+g.toString(32)),d+=""}else g=WX++,d=""+d+"r"+g.toString(32)+"";return l.memoizedState=d},useHostTransitionStatus:ZE,useFormState:v5,useActionState:v5,useOptimistic:function(l){var d=ti();d.memoizedState=d.baseState=l;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=g,d=e2.bind(null,Et,!0,g),g.dispatch=d,[l,d]},useMemoCache:HE,useCacheRefresh:function(){return ti().memoizedState=KX.bind(null,Et)}},V5={readContext:Er,use:ab,useCallback:T5,useContext:Er,useEffect:_5,useImperativeHandle:A5,useInsertionEffect:C5,useLayoutEffect:O5,useMemo:$5,useReducer:lb,useRef:E5,useState:function(){return lb(na)},useDebugValue:XE,useDeferredValue:function(l,d){var g=qn();return R5(g,Kt.memoizedState,l,d)},useTransition:function(){var l=lb(na)[0],d=qn().memoizedState;return[typeof l=="boolean"?l:sp(l),d]},useSyncExternalStore:a5,useId:P5,useHostTransitionStatus:ZE,useFormState:x5,useActionState:x5,useOptimistic:function(l,d){var g=qn();return h5(g,Kt,l,d)},useMemoCache:HE,useCacheRefresh:D5},ZX={readContext:Er,use:ab,useCallback:T5,useContext:Er,useEffect:_5,useImperativeHandle:A5,useInsertionEffect:C5,useLayoutEffect:O5,useMemo:$5,useReducer:GE,useRef:E5,useState:function(){return GE(na)},useDebugValue:XE,useDeferredValue:function(l,d){var g=qn();return Kt===null?KE(g,l,d):R5(g,Kt.memoizedState,l,d)},useTransition:function(){var l=GE(na)[0],d=qn().memoizedState;return[typeof l=="boolean"?l:sp(l),d]},useSyncExternalStore:a5,useId:P5,useHostTransitionStatus:ZE,useFormState:S5,useActionState:S5,useOptimistic:function(l,d){var g=qn();return Kt!==null?h5(g,Kt,l,d):(g.baseState=l,[l,g.queue.dispatch])},useMemoCache:HE,useCacheRefresh:D5},rf=null,lp=0;function hb(l){var d=lp;return lp+=1,rf===null&&(rf=[]),Z3(rf,l,d)}function cp(l,d){d=d.props.ref,l.ref=d!==void 0?d:null}function mb(l,d){throw d.$$typeof===m?Error(r(525)):(l=Object.prototype.toString.call(d),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l)))}function U5(l){var d=l._init;return d(l._payload)}function q5(l){function d(ue,oe){if(l){var pe=ue.deletions;pe===null?(ue.deletions=[oe],ue.flags|=16):pe.push(oe)}}function g(ue,oe){if(!l)return null;for(;oe!==null;)d(ue,oe),oe=oe.sibling;return null}function b(ue){for(var oe=new Map;ue!==null;)ue.key!==null?oe.set(ue.key,ue):oe.set(ue.index,ue),ue=ue.sibling;return oe}function E(ue,oe){return ue=Ko(ue,oe),ue.index=0,ue.sibling=null,ue}function O(ue,oe,pe){return ue.index=pe,l?(pe=ue.alternate,pe!==null?(pe=pe.index,pe<oe?(ue.flags|=67108866,oe):pe):(ue.flags|=67108866,oe)):(ue.flags|=1048576,oe)}function U(ue){return l&&ue.alternate===null&&(ue.flags|=67108866),ue}function Y(ue,oe,pe,Se){return oe===null||oe.tag!==6?(oe=wE(pe,ue.mode,Se),oe.return=ue,oe):(oe=E(oe,pe),oe.return=ue,oe)}function ee(ue,oe,pe,Se){var Ye=pe.type;return Ye===v?we(ue,oe,pe.props.children,Se,pe.key):oe!==null&&(oe.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===R&&U5(Ye)===oe.type)?(oe=E(oe,pe.props),cp(oe,pe),oe.return=ue,oe):(oe=X0(pe.type,pe.key,pe.props,null,ue.mode,Se),cp(oe,pe),oe.return=ue,oe)}function ge(ue,oe,pe,Se){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==pe.containerInfo||oe.stateNode.implementation!==pe.implementation?(oe=SE(pe,ue.mode,Se),oe.return=ue,oe):(oe=E(oe,pe.children||[]),oe.return=ue,oe)}function we(ue,oe,pe,Se,Ye){return oe===null||oe.tag!==7?(oe=ou(pe,ue.mode,Se,Ye),oe.return=ue,oe):(oe=E(oe,pe),oe.return=ue,oe)}function _e(ue,oe,pe){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=wE(""+oe,ue.mode,pe),oe.return=ue,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case p:return pe=X0(oe.type,oe.key,oe.props,null,ue.mode,pe),cp(pe,oe),pe.return=ue,pe;case y:return oe=SE(oe,ue.mode,pe),oe.return=ue,oe;case R:var Se=oe._init;return oe=Se(oe._payload),_e(ue,oe,pe)}if(V(oe)||F(oe))return oe=ou(oe,ue.mode,pe,null),oe.return=ue,oe;if(typeof oe.then=="function")return _e(ue,hb(oe),pe);if(oe.$$typeof===C)return _e(ue,eb(ue,oe),pe);mb(ue,oe)}return null}function ye(ue,oe,pe,Se){var Ye=oe!==null?oe.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Ye!==null?null:Y(ue,oe,""+pe,Se);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case p:return pe.key===Ye?ee(ue,oe,pe,Se):null;case y:return pe.key===Ye?ge(ue,oe,pe,Se):null;case R:return Ye=pe._init,pe=Ye(pe._payload),ye(ue,oe,pe,Se)}if(V(pe)||F(pe))return Ye!==null?null:we(ue,oe,pe,Se,null);if(typeof pe.then=="function")return ye(ue,oe,hb(pe),Se);if(pe.$$typeof===C)return ye(ue,oe,eb(ue,pe),Se);mb(ue,pe)}return null}function be(ue,oe,pe,Se,Ye){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return ue=ue.get(pe)||null,Y(oe,ue,""+Se,Ye);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case p:return ue=ue.get(Se.key===null?pe:Se.key)||null,ee(oe,ue,Se,Ye);case y:return ue=ue.get(Se.key===null?pe:Se.key)||null,ge(oe,ue,Se,Ye);case R:var _t=Se._init;return Se=_t(Se._payload),be(ue,oe,pe,Se,Ye)}if(V(Se)||F(Se))return ue=ue.get(pe)||null,we(oe,ue,Se,Ye,null);if(typeof Se.then=="function")return be(ue,oe,pe,hb(Se),Ye);if(Se.$$typeof===C)return be(ue,oe,pe,eb(oe,Se),Ye);mb(oe,Se)}return null}function dt(ue,oe,pe,Se){for(var Ye=null,_t=null,rt=oe,ut=oe=0,or=null;rt!==null&&ut<pe.length;ut++){rt.index>ut?(or=rt,rt=null):or=rt.sibling;var It=ye(ue,rt,pe[ut],Se);if(It===null){rt===null&&(rt=or);break}l&&rt&&It.alternate===null&&d(ue,rt),oe=O(It,oe,ut),_t===null?Ye=It:_t.sibling=It,_t=It,rt=or}if(ut===pe.length)return g(ue,rt),Lt&&lu(ue,ut),Ye;if(rt===null){for(;ut<pe.length;ut++)rt=_e(ue,pe[ut],Se),rt!==null&&(oe=O(rt,oe,ut),_t===null?Ye=rt:_t.sibling=rt,_t=rt);return Lt&&lu(ue,ut),Ye}for(rt=b(rt);ut<pe.length;ut++)or=be(rt,ue,ut,pe[ut],Se),or!==null&&(l&&or.alternate!==null&&rt.delete(or.key===null?ut:or.key),oe=O(or,oe,ut),_t===null?Ye=or:_t.sibling=or,_t=or);return l&&rt.forEach(function(Ll){return d(ue,Ll)}),Lt&&lu(ue,ut),Ye}function lt(ue,oe,pe,Se){if(pe==null)throw Error(r(151));for(var Ye=null,_t=null,rt=oe,ut=oe=0,or=null,It=pe.next();rt!==null&&!It.done;ut++,It=pe.next()){rt.index>ut?(or=rt,rt=null):or=rt.sibling;var Ll=ye(ue,rt,It.value,Se);if(Ll===null){rt===null&&(rt=or);break}l&&rt&&Ll.alternate===null&&d(ue,rt),oe=O(Ll,oe,ut),_t===null?Ye=Ll:_t.sibling=Ll,_t=Ll,rt=or}if(It.done)return g(ue,rt),Lt&&lu(ue,ut),Ye;if(rt===null){for(;!It.done;ut++,It=pe.next())It=_e(ue,It.value,Se),It!==null&&(oe=O(It,oe,ut),_t===null?Ye=It:_t.sibling=It,_t=It);return Lt&&lu(ue,ut),Ye}for(rt=b(rt);!It.done;ut++,It=pe.next())It=be(rt,ue,ut,It.value,Se),It!==null&&(l&&It.alternate!==null&&rt.delete(It.key===null?ut:It.key),oe=O(It,oe,ut),_t===null?Ye=It:_t.sibling=It,_t=It);return l&&rt.forEach(function(eQ){return d(ue,eQ)}),Lt&&lu(ue,ut),Ye}function Zt(ue,oe,pe,Se){if(typeof pe=="object"&&pe!==null&&pe.type===v&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case p:e:{for(var Ye=pe.key;oe!==null;){if(oe.key===Ye){if(Ye=pe.type,Ye===v){if(oe.tag===7){g(ue,oe.sibling),Se=E(oe,pe.props.children),Se.return=ue,ue=Se;break e}}else if(oe.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===R&&U5(Ye)===oe.type){g(ue,oe.sibling),Se=E(oe,pe.props),cp(Se,pe),Se.return=ue,ue=Se;break e}g(ue,oe);break}else d(ue,oe);oe=oe.sibling}pe.type===v?(Se=ou(pe.props.children,ue.mode,Se,pe.key),Se.return=ue,ue=Se):(Se=X0(pe.type,pe.key,pe.props,null,ue.mode,Se),cp(Se,pe),Se.return=ue,ue=Se)}return U(ue);case y:e:{for(Ye=pe.key;oe!==null;){if(oe.key===Ye)if(oe.tag===4&&oe.stateNode.containerInfo===pe.containerInfo&&oe.stateNode.implementation===pe.implementation){g(ue,oe.sibling),Se=E(oe,pe.children||[]),Se.return=ue,ue=Se;break e}else{g(ue,oe);break}else d(ue,oe);oe=oe.sibling}Se=SE(pe,ue.mode,Se),Se.return=ue,ue=Se}return U(ue);case R:return Ye=pe._init,pe=Ye(pe._payload),Zt(ue,oe,pe,Se)}if(V(pe))return dt(ue,oe,pe,Se);if(F(pe)){if(Ye=F(pe),typeof Ye!="function")throw Error(r(150));return pe=Ye.call(pe),lt(ue,oe,pe,Se)}if(typeof pe.then=="function")return Zt(ue,oe,hb(pe),Se);if(pe.$$typeof===C)return Zt(ue,oe,eb(ue,pe),Se);mb(ue,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,oe!==null&&oe.tag===6?(g(ue,oe.sibling),Se=E(oe,pe),Se.return=ue,ue=Se):(g(ue,oe),Se=wE(pe,ue.mode,Se),Se.return=ue,ue=Se),U(ue)):g(ue,oe)}return function(ue,oe,pe,Se){try{lp=0;var Ye=Zt(ue,oe,pe,Se);return rf=null,Ye}catch(rt){if(rt===Zm||rt===nb)throw rt;var _t=wi(29,rt,null,ue.mode);return _t.lanes=Se,_t.return=ue,_t}finally{}}}var sf=q5(!0),H5=q5(!1),Ki=q(null),go=null;function El(l){var d=l.alternate;Q(Kn,Kn.current&1),Q(Ki,l),go===null&&(d===null||Zd.current!==null||d.memoizedState!==null)&&(go=l)}function W5(l){if(l.tag===22){if(Q(Kn,Kn.current),Q(Ki,l),go===null){var d=l.alternate;d!==null&&d.memoizedState!==null&&(go=l)}}else Nl()}function Nl(){Q(Kn,Kn.current),Q(Ki,Ki.current)}function ra(l){X(Ki),go===l&&(go=null),X(Kn)}var Kn=q(0);function pb(l){for(var d=l;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||q2(g)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function t2(l,d,g,b){d=l.memoizedState,g=g(b,d),g=g==null?d:f({},d,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var n2={enqueueSetState:function(l,d,g){l=l._reactInternals;var b=_i(),E=xl(b);E.payload=d,g!=null&&(E.callback=g),d=wl(l,E,b),d!==null&&(Ci(d,l,b),tp(d,l,b))},enqueueReplaceState:function(l,d,g){l=l._reactInternals;var b=_i(),E=xl(b);E.tag=1,E.payload=d,g!=null&&(E.callback=g),d=wl(l,E,b),d!==null&&(Ci(d,l,b),tp(d,l,b))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var g=_i(),b=xl(g);b.tag=2,d!=null&&(b.callback=d),d=wl(l,b,g),d!==null&&(Ci(d,l,g),tp(d,l,g))}};function G5(l,d,g,b,E,O,U){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,O,U):d.prototype&&d.prototype.isPureReactComponent?!Hm(g,b)||!Hm(E,O):!0}function J5(l,d,g,b){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,b),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,b),d.state!==l&&n2.enqueueReplaceState(d,d.state,null)}function pu(l,d){var g=d;if("ref"in d){g={};for(var b in d)b!=="ref"&&(g[b]=d[b])}if(l=l.defaultProps){g===d&&(g=f({},g));for(var E in l)g[E]===void 0&&(g[E]=l[E])}return g}var gb=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function Y5(l){gb(l)}function X5(l){console.error(l)}function K5(l){gb(l)}function yb(l,d){try{var g=l.onUncaughtError;g(d.value,{componentStack:d.stack})}catch(b){setTimeout(function(){throw b})}}function Q5(l,d,g){try{var b=l.onCaughtError;b(g.value,{componentStack:g.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function r2(l,d,g){return g=xl(g),g.tag=3,g.payload={element:null},g.callback=function(){yb(l,d)},g}function Z5(l){return l=xl(l),l.tag=3,l}function eR(l,d,g,b){var E=g.type.getDerivedStateFromError;if(typeof E=="function"){var O=b.value;l.payload=function(){return E(O)},l.callback=function(){Q5(d,g,b)}}var U=g.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(l.callback=function(){Q5(d,g,b),typeof E!="function"&&(Tl===null?Tl=new Set([this]):Tl.add(this));var Y=b.stack;this.componentDidCatch(b.value,{componentStack:Y!==null?Y:""})})}function eK(l,d,g,b,E){if(g.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(d=g.alternate,d!==null&&Xm(d,g,E,!0),g=Ki.current,g!==null){switch(g.tag){case 13:return go===null?O2():g.alternate===null&&Cn===0&&(Cn=3),g.flags&=-257,g.flags|=65536,g.lanes=E,b===RE?g.flags|=16384:(d=g.updateQueue,d===null?g.updateQueue=new Set([b]):d.add(b),A2(l,b,E)),!1;case 22:return g.flags|=65536,b===RE?g.flags|=16384:(d=g.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([b])},g.updateQueue=d):(g=d.retryQueue,g===null?d.retryQueue=new Set([b]):g.add(b)),A2(l,b,E)),!1}throw Error(r(435,g.tag))}return A2(l,b,E),O2(),!1}if(Lt)return d=Ki.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=E,b!==_E&&(l=Error(r(422),{cause:b}),Ym(Gi(l,g)))):(b!==_E&&(d=Error(r(423),{cause:b}),Ym(Gi(d,g))),l=l.current.alternate,l.flags|=65536,E&=-E,l.lanes|=E,b=Gi(b,g),E=r2(l.stateNode,b,E),IE(l,E),Cn!==4&&(Cn=2)),!1;var O=Error(r(520),{cause:b});if(O=Gi(O,g),gp===null?gp=[O]:gp.push(O),Cn!==4&&(Cn=2),d===null)return!0;b=Gi(b,g),g=d;do{switch(g.tag){case 3:return g.flags|=65536,l=E&-E,g.lanes|=l,l=r2(g.stateNode,b,l),IE(g,l),!1;case 1:if(d=g.type,O=g.stateNode,(g.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Tl===null||!Tl.has(O))))return g.flags|=65536,E&=-E,g.lanes|=E,E=Z5(E),eR(E,l,g,b),IE(g,E),!1}g=g.return}while(g!==null);return!1}var tR=Error(r(461)),ir=!1;function hr(l,d,g,b){d.child=l===null?H5(d,null,g,b):sf(d,l.child,g,b)}function nR(l,d,g,b,E){g=g.render;var O=d.ref;if("ref"in b){var U={};for(var Y in b)Y!=="ref"&&(U[Y]=b[Y])}else U=b;return fu(d),b=BE(l,d,g,U,O,E),Y=zE(),l!==null&&!ir?(VE(l,d,E),ia(l,d,E)):(Lt&&Y&&EE(d),d.flags|=1,hr(l,d,b,E),d.child)}function rR(l,d,g,b,E){if(l===null){var O=g.type;return typeof O=="function"&&!xE(O)&&O.defaultProps===void 0&&g.compare===null?(d.tag=15,d.type=O,iR(l,d,O,b,E)):(l=X0(g.type,null,b,d,d.mode,E),l.ref=d.ref,l.return=d,d.child=l)}if(O=l.child,!d2(l,E)){var U=O.memoizedProps;if(g=g.compare,g=g!==null?g:Hm,g(U,b)&&l.ref===d.ref)return ia(l,d,E)}return d.flags|=1,l=Ko(O,b),l.ref=d.ref,l.return=d,d.child=l}function iR(l,d,g,b,E){if(l!==null){var O=l.memoizedProps;if(Hm(O,b)&&l.ref===d.ref)if(ir=!1,d.pendingProps=b=O,d2(l,E))(l.flags&131072)!==0&&(ir=!0);else return d.lanes=l.lanes,ia(l,d,E)}return i2(l,d,g,b,E)}function sR(l,d,g){var b=d.pendingProps,E=b.children,O=l!==null?l.memoizedState:null;if(b.mode==="hidden"){if((d.flags&128)!==0){if(b=O!==null?O.baseLanes|g:g,l!==null){for(E=d.child=l.child,O=0;E!==null;)O=O|E.lanes|E.childLanes,E=E.sibling;d.childLanes=O&~b}else d.childLanes=0,d.child=null;return oR(l,d,b,g)}if((g&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},l!==null&&tb(d,O!==null?O.cachePool:null),O!==null?i5(d,O):DE(),W5(d);else return d.lanes=d.childLanes=536870912,oR(l,d,O!==null?O.baseLanes|g:g,g)}else O!==null?(tb(d,O.cachePool),i5(d,O),Nl(),d.memoizedState=null):(l!==null&&tb(d,null),DE(),Nl());return hr(l,d,E,g),d.child}function oR(l,d,g,b){var E=$E();return E=E===null?null:{parent:Xn._currentValue,pool:E},d.memoizedState={baseLanes:g,cachePool:E},l!==null&&tb(d,null),DE(),W5(d),l!==null&&Xm(l,d,b,!0),null}function bb(l,d){var g=d.ref;if(g===null)l!==null&&l.ref!==null&&(d.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(l===null||l.ref!==g)&&(d.flags|=4194816)}}function i2(l,d,g,b,E){return fu(d),g=BE(l,d,g,b,void 0,E),b=zE(),l!==null&&!ir?(VE(l,d,E),ia(l,d,E)):(Lt&&b&&EE(d),d.flags|=1,hr(l,d,g,E),d.child)}function aR(l,d,g,b,E,O){return fu(d),d.updateQueue=null,g=o5(d,b,g,E),s5(l),b=zE(),l!==null&&!ir?(VE(l,d,O),ia(l,d,O)):(Lt&&b&&EE(d),d.flags|=1,hr(l,d,g,O),d.child)}function lR(l,d,g,b,E){if(fu(d),d.stateNode===null){var O=Jd,U=g.contextType;typeof U=="object"&&U!==null&&(O=Er(U)),O=new g(b,O),d.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=n2,d.stateNode=O,O._reactInternals=d,O=d.stateNode,O.props=b,O.state=d.memoizedState,O.refs={},kE(d),U=g.contextType,O.context=typeof U=="object"&&U!==null?Er(U):Jd,O.state=d.memoizedState,U=g.getDerivedStateFromProps,typeof U=="function"&&(t2(d,g,U,b),O.state=d.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(U=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),U!==O.state&&n2.enqueueReplaceState(O,O.state,null),rp(d,b,O,E),np(),O.state=d.memoizedState),typeof O.componentDidMount=="function"&&(d.flags|=4194308),b=!0}else if(l===null){O=d.stateNode;var Y=d.memoizedProps,ee=pu(g,Y);O.props=ee;var ge=O.context,we=g.contextType;U=Jd,typeof we=="object"&&we!==null&&(U=Er(we));var _e=g.getDerivedStateFromProps;we=typeof _e=="function"||typeof O.getSnapshotBeforeUpdate=="function",Y=d.pendingProps!==Y,we||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(Y||ge!==U)&&J5(d,O,b,U),vl=!1;var ye=d.memoizedState;O.state=ye,rp(d,b,O,E),np(),ge=d.memoizedState,Y||ye!==ge||vl?(typeof _e=="function"&&(t2(d,g,_e,b),ge=d.memoizedState),(ee=vl||G5(d,g,ee,b,ye,ge,U))?(we||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(d.flags|=4194308)):(typeof O.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=b,d.memoizedState=ge),O.props=b,O.state=ge,O.context=U,b=ee):(typeof O.componentDidMount=="function"&&(d.flags|=4194308),b=!1)}else{O=d.stateNode,ME(l,d),U=d.memoizedProps,we=pu(g,U),O.props=we,_e=d.pendingProps,ye=O.context,ge=g.contextType,ee=Jd,typeof ge=="object"&&ge!==null&&(ee=Er(ge)),Y=g.getDerivedStateFromProps,(ge=typeof Y=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(U!==_e||ye!==ee)&&J5(d,O,b,ee),vl=!1,ye=d.memoizedState,O.state=ye,rp(d,b,O,E),np();var be=d.memoizedState;U!==_e||ye!==be||vl||l!==null&&l.dependencies!==null&&Z0(l.dependencies)?(typeof Y=="function"&&(t2(d,g,Y,b),be=d.memoizedState),(we=vl||G5(d,g,we,b,ye,be,ee)||l!==null&&l.dependencies!==null&&Z0(l.dependencies))?(ge||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(b,be,ee),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(b,be,ee)),typeof O.componentDidUpdate=="function"&&(d.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof O.componentDidUpdate!="function"||U===l.memoizedProps&&ye===l.memoizedState||(d.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||U===l.memoizedProps&&ye===l.memoizedState||(d.flags|=1024),d.memoizedProps=b,d.memoizedState=be),O.props=b,O.state=be,O.context=ee,b=we):(typeof O.componentDidUpdate!="function"||U===l.memoizedProps&&ye===l.memoizedState||(d.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||U===l.memoizedProps&&ye===l.memoizedState||(d.flags|=1024),b=!1)}return O=b,bb(l,d),b=(d.flags&128)!==0,O||b?(O=d.stateNode,g=b&&typeof g.getDerivedStateFromError!="function"?null:O.render(),d.flags|=1,l!==null&&b?(d.child=sf(d,l.child,null,E),d.child=sf(d,null,g,E)):hr(l,d,g,E),d.memoizedState=O.state,l=d.child):l=ia(l,d,E),l}function cR(l,d,g,b){return Jm(),d.flags|=256,hr(l,d,g,b),d.child}var s2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function o2(l){return{baseLanes:l,cachePool:X3()}}function a2(l,d,g){return l=l!==null?l.childLanes&~g:0,d&&(l|=Qi),l}function uR(l,d,g){var b=d.pendingProps,E=!1,O=(d.flags&128)!==0,U;if((U=O)||(U=l!==null&&l.memoizedState===null?!1:(Kn.current&2)!==0),U&&(E=!0,d.flags&=-129),U=(d.flags&32)!==0,d.flags&=-33,l===null){if(Lt){if(E?El(d):Nl(),Lt){var Y=_n,ee;if(ee=Y){e:{for(ee=Y,Y=po;ee.nodeType!==8;){if(!Y){Y=null;break e}if(ee=$s(ee.nextSibling),ee===null){Y=null;break e}}Y=ee}Y!==null?(d.memoizedState={dehydrated:Y,treeContext:au!==null?{id:Qo,overflow:Zo}:null,retryLane:536870912,hydrationErrors:null},ee=wi(18,null,null,0),ee.stateNode=Y,ee.return=d,d.child=ee,kr=d,_n=null,ee=!0):ee=!1}ee||uu(d)}if(Y=d.memoizedState,Y!==null&&(Y=Y.dehydrated,Y!==null))return q2(Y)?d.lanes=32:d.lanes=536870912,null;ra(d)}return Y=b.children,b=b.fallback,E?(Nl(),E=d.mode,Y=vb({mode:"hidden",children:Y},E),b=ou(b,E,g,null),Y.return=d,b.return=d,Y.sibling=b,d.child=Y,E=d.child,E.memoizedState=o2(g),E.childLanes=a2(l,U,g),d.memoizedState=s2,b):(El(d),l2(d,Y))}if(ee=l.memoizedState,ee!==null&&(Y=ee.dehydrated,Y!==null)){if(O)d.flags&256?(El(d),d.flags&=-257,d=c2(l,d,g)):d.memoizedState!==null?(Nl(),d.child=l.child,d.flags|=128,d=null):(Nl(),E=b.fallback,Y=d.mode,b=vb({mode:"visible",children:b.children},Y),E=ou(E,Y,g,null),E.flags|=2,b.return=d,E.return=d,b.sibling=E,d.child=b,sf(d,l.child,null,g),b=d.child,b.memoizedState=o2(g),b.childLanes=a2(l,U,g),d.memoizedState=s2,d=E);else if(El(d),q2(Y)){if(U=Y.nextSibling&&Y.nextSibling.dataset,U)var ge=U.dgst;U=ge,b=Error(r(419)),b.stack="",b.digest=U,Ym({value:b,source:null,stack:null}),d=c2(l,d,g)}else if(ir||Xm(l,d,g,!1),U=(g&l.childLanes)!==0,ir||U){if(U=sn,U!==null&&(b=g&-g,b=(b&42)!==0?1:eu(b),b=(b&(U.suspendedLanes|g))!==0?0:b,b!==0&&b!==ee.retryLane))throw ee.retryLane=b,Gd(l,b),Ci(U,l,b),tR;Y.data==="$?"||O2(),d=c2(l,d,g)}else Y.data==="$?"?(d.flags|=192,d.child=l.child,d=null):(l=ee.treeContext,_n=$s(Y.nextSibling),kr=d,Lt=!0,cu=null,po=!1,l!==null&&(Yi[Xi++]=Qo,Yi[Xi++]=Zo,Yi[Xi++]=au,Qo=l.id,Zo=l.overflow,au=d),d=l2(d,b.children),d.flags|=4096);return d}return E?(Nl(),E=b.fallback,Y=d.mode,ee=l.child,ge=ee.sibling,b=Ko(ee,{mode:"hidden",children:b.children}),b.subtreeFlags=ee.subtreeFlags&65011712,ge!==null?E=Ko(ge,E):(E=ou(E,Y,g,null),E.flags|=2),E.return=d,b.return=d,b.sibling=E,d.child=b,b=E,E=d.child,Y=l.child.memoizedState,Y===null?Y=o2(g):(ee=Y.cachePool,ee!==null?(ge=Xn._currentValue,ee=ee.parent!==ge?{parent:ge,pool:ge}:ee):ee=X3(),Y={baseLanes:Y.baseLanes|g,cachePool:ee}),E.memoizedState=Y,E.childLanes=a2(l,U,g),d.memoizedState=s2,b):(El(d),g=l.child,l=g.sibling,g=Ko(g,{mode:"visible",children:b.children}),g.return=d,g.sibling=null,l!==null&&(U=d.deletions,U===null?(d.deletions=[l],d.flags|=16):U.push(l)),d.child=g,d.memoizedState=null,g)}function l2(l,d){return d=vb({mode:"visible",children:d},l.mode),d.return=l,l.child=d}function vb(l,d){return l=wi(22,l,null,d),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function c2(l,d,g){return sf(d,l.child,null,g),l=l2(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function dR(l,d,g){l.lanes|=d;var b=l.alternate;b!==null&&(b.lanes|=d),OE(l.return,d,g)}function u2(l,d,g,b,E){var O=l.memoizedState;O===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:E}:(O.isBackwards=d,O.rendering=null,O.renderingStartTime=0,O.last=b,O.tail=g,O.tailMode=E)}function fR(l,d,g){var b=d.pendingProps,E=b.revealOrder,O=b.tail;if(hr(l,d,b.children,g),b=Kn.current,(b&2)!==0)b=b&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&dR(l,g,d);else if(l.tag===19)dR(l,g,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}b&=1}switch(Q(Kn,b),E){case"forwards":for(g=d.child,E=null;g!==null;)l=g.alternate,l!==null&&pb(l)===null&&(E=g),g=g.sibling;g=E,g===null?(E=d.child,d.child=null):(E=g.sibling,g.sibling=null),u2(d,!1,E,g,O);break;case"backwards":for(g=null,E=d.child,d.child=null;E!==null;){if(l=E.alternate,l!==null&&pb(l)===null){d.child=E;break}l=E.sibling,E.sibling=g,g=E,E=l}u2(d,!0,g,null,O);break;case"together":u2(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function ia(l,d,g){if(l!==null&&(d.dependencies=l.dependencies),Al|=d.lanes,(g&d.childLanes)===0)if(l!==null){if(Xm(l,d,g,!1),(g&d.childLanes)===0)return null}else return null;if(l!==null&&d.child!==l.child)throw Error(r(153));if(d.child!==null){for(l=d.child,g=Ko(l,l.pendingProps),d.child=g,g.return=d;l.sibling!==null;)l=l.sibling,g=g.sibling=Ko(l,l.pendingProps),g.return=d;g.sibling=null}return d.child}function d2(l,d){return(l.lanes&d)!==0?!0:(l=l.dependencies,!!(l!==null&&Z0(l)))}function tK(l,d,g){switch(d.tag){case 3:he(d,d.stateNode.containerInfo),bl(d,Xn,l.memoizedState.cache),Jm();break;case 27:case 5:Ae(d);break;case 4:he(d,d.stateNode.containerInfo);break;case 10:bl(d,d.type,d.memoizedProps.value);break;case 13:var b=d.memoizedState;if(b!==null)return b.dehydrated!==null?(El(d),d.flags|=128,null):(g&d.child.childLanes)!==0?uR(l,d,g):(El(d),l=ia(l,d,g),l!==null?l.sibling:null);El(d);break;case 19:var E=(l.flags&128)!==0;if(b=(g&d.childLanes)!==0,b||(Xm(l,d,g,!1),b=(g&d.childLanes)!==0),E){if(b)return fR(l,d,g);d.flags|=128}if(E=d.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Q(Kn,Kn.current),b)break;return null;case 22:case 23:return d.lanes=0,sR(l,d,g);case 24:bl(d,Xn,l.memoizedState.cache)}return ia(l,d,g)}function hR(l,d,g){if(l!==null)if(l.memoizedProps!==d.pendingProps)ir=!0;else{if(!d2(l,g)&&(d.flags&128)===0)return ir=!1,tK(l,d,g);ir=(l.flags&131072)!==0}else ir=!1,Lt&&(d.flags&1048576)!==0&&U3(d,Q0,d.index);switch(d.lanes=0,d.tag){case 16:e:{l=d.pendingProps;var b=d.elementType,E=b._init;if(b=E(b._payload),d.type=b,typeof b=="function")xE(b)?(l=pu(b,l),d.tag=1,d=lR(null,d,b,l,g)):(d.tag=0,d=i2(null,d,b,l,g));else{if(b!=null){if(E=b.$$typeof,E===j){d.tag=11,d=nR(null,d,b,l,g);break e}else if(E===k){d.tag=14,d=rR(null,d,b,l,g);break e}}throw d=M(b)||b,Error(r(306,d,""))}}return d;case 0:return i2(l,d,d.type,d.pendingProps,g);case 1:return b=d.type,E=pu(b,d.pendingProps),lR(l,d,b,E,g);case 3:e:{if(he(d,d.stateNode.containerInfo),l===null)throw Error(r(387));b=d.pendingProps;var O=d.memoizedState;E=O.element,ME(l,d),rp(d,b,null,g);var U=d.memoizedState;if(b=U.cache,bl(d,Xn,b),b!==O.cache&&jE(d,[Xn],g,!0),np(),b=U.element,O.isDehydrated)if(O={element:b,isDehydrated:!1,cache:U.cache},d.updateQueue.baseState=O,d.memoizedState=O,d.flags&256){d=cR(l,d,b,g);break e}else if(b!==E){E=Gi(Error(r(424)),d),Ym(E),d=cR(l,d,b,g);break e}else{switch(l=d.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(_n=$s(l.firstChild),kr=d,Lt=!0,cu=null,po=!0,g=H5(d,null,b,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(Jm(),b===E){d=ia(l,d,g);break e}hr(l,d,b,g)}d=d.child}return d;case 26:return bb(l,d),l===null?(g=yk(d.type,null,d.pendingProps,null))?d.memoizedState=g:Lt||(g=d.type,l=d.pendingProps,b=kb(fe.current).createElement(g),b[ln]=d,b[zn]=l,pr(b,g,l),Vn(b),d.stateNode=b):d.memoizedState=yk(d.type,l.memoizedProps,d.pendingProps,l.memoizedState),null;case 27:return Ae(d),l===null&&Lt&&(b=d.stateNode=mk(d.type,d.pendingProps,fe.current),kr=d,po=!0,E=_n,kl(d.type)?(H2=E,_n=$s(b.firstChild)):_n=E),hr(l,d,d.pendingProps.children,g),bb(l,d),l===null&&(d.flags|=4194304),d.child;case 5:return l===null&&Lt&&((E=b=_n)&&(b=AK(b,d.type,d.pendingProps,po),b!==null?(d.stateNode=b,kr=d,_n=$s(b.firstChild),po=!1,E=!0):E=!1),E||uu(d)),Ae(d),E=d.type,O=d.pendingProps,U=l!==null?l.memoizedProps:null,b=O.children,z2(E,O)?b=null:U!==null&&z2(E,U)&&(d.flags|=32),d.memoizedState!==null&&(E=BE(l,d,GX,null,null,g),_p._currentValue=E),bb(l,d),hr(l,d,b,g),d.child;case 6:return l===null&&Lt&&((l=g=_n)&&(g=TK(g,d.pendingProps,po),g!==null?(d.stateNode=g,kr=d,_n=null,l=!0):l=!1),l||uu(d)),null;case 13:return uR(l,d,g);case 4:return he(d,d.stateNode.containerInfo),b=d.pendingProps,l===null?d.child=sf(d,null,b,g):hr(l,d,b,g),d.child;case 11:return nR(l,d,d.type,d.pendingProps,g);case 7:return hr(l,d,d.pendingProps,g),d.child;case 8:return hr(l,d,d.pendingProps.children,g),d.child;case 12:return hr(l,d,d.pendingProps.children,g),d.child;case 10:return b=d.pendingProps,bl(d,d.type,b.value),hr(l,d,b.children,g),d.child;case 9:return E=d.type._context,b=d.pendingProps.children,fu(d),E=Er(E),b=b(E),d.flags|=1,hr(l,d,b,g),d.child;case 14:return rR(l,d,d.type,d.pendingProps,g);case 15:return iR(l,d,d.type,d.pendingProps,g);case 19:return fR(l,d,g);case 31:return b=d.pendingProps,g=d.mode,b={mode:b.mode,children:b.children},l===null?(g=vb(b,g),g.ref=d.ref,d.child=g,g.return=d,d=g):(g=Ko(l.child,b),g.ref=d.ref,d.child=g,g.return=d,d=g),d;case 22:return sR(l,d,g);case 24:return fu(d),b=Er(Xn),l===null?(E=$E(),E===null&&(E=sn,O=AE(),E.pooledCache=O,O.refCount++,O!==null&&(E.pooledCacheLanes|=g),E=O),d.memoizedState={parent:b,cache:E},kE(d),bl(d,Xn,E)):((l.lanes&g)!==0&&(ME(l,d),rp(d,null,null,g),np()),E=l.memoizedState,O=d.memoizedState,E.parent!==b?(E={parent:b,cache:b},d.memoizedState=E,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=E),bl(d,Xn,b)):(b=O.cache,bl(d,Xn,b),b!==E.cache&&jE(d,[Xn],g,!0))),hr(l,d,d.pendingProps.children,g),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function sa(l){l.flags|=4}function mR(l,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!Sk(d)){if(d=Ki.current,d!==null&&((At&4194048)===At?go!==null:(At&62914560)!==At&&(At&536870912)===0||d!==go))throw ep=RE,K3;l.flags|=8192}}function xb(l,d){d!==null&&(l.flags|=4),l.flags&16384&&(d=l.tag!==22?$d():536870912,l.lanes|=d,cf|=d)}function up(l,d){if(!Lt)switch(l.tailMode){case"hidden":d=l.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function wn(l){var d=l.alternate!==null&&l.alternate.child===l.child,g=0,b=0;if(d)for(var E=l.child;E!==null;)g|=E.lanes|E.childLanes,b|=E.subtreeFlags&65011712,b|=E.flags&65011712,E.return=l,E=E.sibling;else for(E=l.child;E!==null;)g|=E.lanes|E.childLanes,b|=E.subtreeFlags,b|=E.flags,E.return=l,E=E.sibling;return l.subtreeFlags|=b,l.childLanes=g,d}function nK(l,d,g){var b=d.pendingProps;switch(NE(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(d),null;case 1:return wn(d),null;case 3:return g=d.stateNode,b=null,l!==null&&(b=l.memoizedState.cache),d.memoizedState.cache!==b&&(d.flags|=2048),ta(Xn),ve(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(l===null||l.child===null)&&(Gm(d)?sa(d):l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,W3())),wn(d),null;case 26:return g=d.memoizedState,l===null?(sa(d),g!==null?(wn(d),mR(d,g)):(wn(d),d.flags&=-16777217)):g?g!==l.memoizedState?(sa(d),wn(d),mR(d,g)):(wn(d),d.flags&=-16777217):(l.memoizedProps!==b&&sa(d),wn(d),d.flags&=-16777217),null;case 27:Ce(d),g=fe.current;var E=d.type;if(l!==null&&d.stateNode!=null)l.memoizedProps!==b&&sa(d);else{if(!b){if(d.stateNode===null)throw Error(r(166));return wn(d),null}l=ie.current,Gm(d)?q3(d):(l=mk(E,b,g),d.stateNode=l,sa(d))}return wn(d),null;case 5:if(Ce(d),g=d.type,l!==null&&d.stateNode!=null)l.memoizedProps!==b&&sa(d);else{if(!b){if(d.stateNode===null)throw Error(r(166));return wn(d),null}if(l=ie.current,Gm(d))q3(d);else{switch(E=kb(fe.current),l){case 1:l=E.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:l=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":l=E.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":l=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":l=E.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof b.is=="string"?E.createElement("select",{is:b.is}):E.createElement("select"),b.multiple?l.multiple=!0:b.size&&(l.size=b.size);break;default:l=typeof b.is=="string"?E.createElement(g,{is:b.is}):E.createElement(g)}}l[ln]=d,l[zn]=b;e:for(E=d.child;E!==null;){if(E.tag===5||E.tag===6)l.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===d)break e;for(;E.sibling===null;){if(E.return===null||E.return===d)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}d.stateNode=l;e:switch(pr(l,g,b),g){case"button":case"input":case"select":case"textarea":l=!!b.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&sa(d)}}return wn(d),d.flags&=-16777217,null;case 6:if(l&&d.stateNode!=null)l.memoizedProps!==b&&sa(d);else{if(typeof b!="string"&&d.stateNode===null)throw Error(r(166));if(l=fe.current,Gm(d)){if(l=d.stateNode,g=d.memoizedProps,b=null,E=kr,E!==null)switch(E.tag){case 27:case 5:b=E.memoizedProps}l[ln]=d,l=!!(l.nodeValue===g||b!==null&&b.suppressHydrationWarning===!0||ak(l.nodeValue,g)),l||uu(d)}else l=kb(l).createTextNode(b),l[ln]=d,d.stateNode=l}return wn(d),null;case 13:if(b=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(E=Gm(d),b!==null&&b.dehydrated!==null){if(l===null){if(!E)throw Error(r(318));if(E=d.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[ln]=d}else Jm(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;wn(d),E=!1}else E=W3(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=E),E=!0;if(!E)return d.flags&256?(ra(d),d):(ra(d),null)}if(ra(d),(d.flags&128)!==0)return d.lanes=g,d;if(g=b!==null,l=l!==null&&l.memoizedState!==null,g){b=d.child,E=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(E=b.alternate.memoizedState.cachePool.pool);var O=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(O=b.memoizedState.cachePool.pool),O!==E&&(b.flags|=2048)}return g!==l&&g&&(d.child.flags|=8192),xb(d,d.updateQueue),wn(d),null;case 4:return ve(),l===null&&P2(d.stateNode.containerInfo),wn(d),null;case 10:return ta(d.type),wn(d),null;case 19:if(X(Kn),E=d.memoizedState,E===null)return wn(d),null;if(b=(d.flags&128)!==0,O=E.rendering,O===null)if(b)up(E,!1);else{if(Cn!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(O=pb(l),O!==null){for(d.flags|=128,up(E,!1),l=O.updateQueue,d.updateQueue=l,xb(d,l),d.subtreeFlags=0,l=g,g=d.child;g!==null;)V3(g,l),g=g.sibling;return Q(Kn,Kn.current&1|2),d.child}l=l.sibling}E.tail!==null&&Oe()>Eb&&(d.flags|=128,b=!0,up(E,!1),d.lanes=4194304)}else{if(!b)if(l=pb(O),l!==null){if(d.flags|=128,b=!0,l=l.updateQueue,d.updateQueue=l,xb(d,l),up(E,!0),E.tail===null&&E.tailMode==="hidden"&&!O.alternate&&!Lt)return wn(d),null}else 2*Oe()-E.renderingStartTime>Eb&&g!==536870912&&(d.flags|=128,b=!0,up(E,!1),d.lanes=4194304);E.isBackwards?(O.sibling=d.child,d.child=O):(l=E.last,l!==null?l.sibling=O:d.child=O,E.last=O)}return E.tail!==null?(d=E.tail,E.rendering=d,E.tail=d.sibling,E.renderingStartTime=Oe(),d.sibling=null,l=Kn.current,Q(Kn,b?l&1|2:l&1),d):(wn(d),null);case 22:case 23:return ra(d),LE(),b=d.memoizedState!==null,l!==null?l.memoizedState!==null!==b&&(d.flags|=8192):b&&(d.flags|=8192),b?(g&536870912)!==0&&(d.flags&128)===0&&(wn(d),d.subtreeFlags&6&&(d.flags|=8192)):wn(d),g=d.updateQueue,g!==null&&xb(d,g.retryQueue),g=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==g&&(d.flags|=2048),l!==null&&X(hu),null;case 24:return g=null,l!==null&&(g=l.memoizedState.cache),d.memoizedState.cache!==g&&(d.flags|=2048),ta(Xn),wn(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function rK(l,d){switch(NE(d),d.tag){case 1:return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return ta(Xn),ve(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 26:case 27:case 5:return Ce(d),null;case 13:if(ra(d),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Jm()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return X(Kn),null;case 4:return ve(),null;case 10:return ta(d.type),null;case 22:case 23:return ra(d),LE(),l!==null&&X(hu),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 24:return ta(Xn),null;case 25:return null;default:return null}}function pR(l,d){switch(NE(d),d.tag){case 3:ta(Xn),ve();break;case 26:case 27:case 5:Ce(d);break;case 4:ve();break;case 13:ra(d);break;case 19:X(Kn);break;case 10:ta(d.type);break;case 22:case 23:ra(d),LE(),l!==null&&X(hu);break;case 24:ta(Xn)}}function dp(l,d){try{var g=d.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var E=b.next;g=E;do{if((g.tag&l)===l){b=void 0;var O=g.create,U=g.inst;b=O(),U.destroy=b}g=g.next}while(g!==E)}}catch(Y){tn(d,d.return,Y)}}function _l(l,d,g){try{var b=d.updateQueue,E=b!==null?b.lastEffect:null;if(E!==null){var O=E.next;b=O;do{if((b.tag&l)===l){var U=b.inst,Y=U.destroy;if(Y!==void 0){U.destroy=void 0,E=d;var ee=g,ge=Y;try{ge()}catch(we){tn(E,ee,we)}}}b=b.next}while(b!==O)}}catch(we){tn(d,d.return,we)}}function gR(l){var d=l.updateQueue;if(d!==null){var g=l.stateNode;try{r5(d,g)}catch(b){tn(l,l.return,b)}}}function yR(l,d,g){g.props=pu(l.type,l.memoizedProps),g.state=l.memoizedState;try{g.componentWillUnmount()}catch(b){tn(l,d,b)}}function fp(l,d){try{var g=l.ref;if(g!==null){switch(l.tag){case 26:case 27:case 5:var b=l.stateNode;break;case 30:b=l.stateNode;break;default:b=l.stateNode}typeof g=="function"?l.refCleanup=g(b):g.current=b}}catch(E){tn(l,d,E)}}function yo(l,d){var g=l.ref,b=l.refCleanup;if(g!==null)if(typeof b=="function")try{b()}catch(E){tn(l,d,E)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(E){tn(l,d,E)}else g.current=null}function bR(l){var d=l.type,g=l.memoizedProps,b=l.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":g.autoFocus&&b.focus();break e;case"img":g.src?b.src=g.src:g.srcSet&&(b.srcset=g.srcSet)}}catch(E){tn(l,l.return,E)}}function f2(l,d,g){try{var b=l.stateNode;NK(b,l.type,g,d),b[zn]=d}catch(E){tn(l,l.return,E)}}function vR(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&kl(l.type)||l.tag===4}function h2(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||vR(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&kl(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function m2(l,d,g){var b=l.tag;if(b===5||b===6)l=l.stateNode,d?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(l,d):(d=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,d.appendChild(l),g=g._reactRootContainer,g!=null||d.onclick!==null||(d.onclick=Rb));else if(b!==4&&(b===27&&kl(l.type)&&(g=l.stateNode,d=null),l=l.child,l!==null))for(m2(l,d,g),l=l.sibling;l!==null;)m2(l,d,g),l=l.sibling}function wb(l,d,g){var b=l.tag;if(b===5||b===6)l=l.stateNode,d?g.insertBefore(l,d):g.appendChild(l);else if(b!==4&&(b===27&&kl(l.type)&&(g=l.stateNode),l=l.child,l!==null))for(wb(l,d,g),l=l.sibling;l!==null;)wb(l,d,g),l=l.sibling}function xR(l){var d=l.stateNode,g=l.memoizedProps;try{for(var b=l.type,E=d.attributes;E.length;)d.removeAttributeNode(E[0]);pr(d,b,g),d[ln]=l,d[zn]=g}catch(O){tn(l,l.return,O)}}var oa=!1,In=!1,p2=!1,wR=typeof WeakSet=="function"?WeakSet:Set,sr=null;function iK(l,d){if(l=l.containerInfo,F2=Fb,l=R3(l),hE(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var b=g.getSelection&&g.getSelection();if(b&&b.rangeCount!==0){g=b.anchorNode;var E=b.anchorOffset,O=b.focusNode;b=b.focusOffset;try{g.nodeType,O.nodeType}catch{g=null;break e}var U=0,Y=-1,ee=-1,ge=0,we=0,_e=l,ye=null;t:for(;;){for(var be;_e!==g||E!==0&&_e.nodeType!==3||(Y=U+E),_e!==O||b!==0&&_e.nodeType!==3||(ee=U+b),_e.nodeType===3&&(U+=_e.nodeValue.length),(be=_e.firstChild)!==null;)ye=_e,_e=be;for(;;){if(_e===l)break t;if(ye===g&&++ge===E&&(Y=U),ye===O&&++we===b&&(ee=U),(be=_e.nextSibling)!==null)break;_e=ye,ye=_e.parentNode}_e=be}g=Y===-1||ee===-1?null:{start:Y,end:ee}}else g=null}g=g||{start:0,end:0}}else g=null;for(B2={focusedElem:l,selectionRange:g},Fb=!1,sr=d;sr!==null;)if(d=sr,l=d.child,(d.subtreeFlags&1024)!==0&&l!==null)l.return=d,sr=l;else for(;sr!==null;){switch(d=sr,O=d.alternate,l=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&O!==null){l=void 0,g=d,E=O.memoizedProps,O=O.memoizedState,b=g.stateNode;try{var dt=pu(g.type,E,g.elementType===g.type);l=b.getSnapshotBeforeUpdate(dt,O),b.__reactInternalSnapshotBeforeUpdate=l}catch(lt){tn(g,g.return,lt)}}break;case 3:if((l&1024)!==0){if(l=d.stateNode.containerInfo,g=l.nodeType,g===9)U2(l);else if(g===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":U2(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=d.sibling,l!==null){l.return=d.return,sr=l;break}sr=d.return}}function SR(l,d,g){var b=g.flags;switch(g.tag){case 0:case 11:case 15:Cl(l,g),b&4&&dp(5,g);break;case 1:if(Cl(l,g),b&4)if(l=g.stateNode,d===null)try{l.componentDidMount()}catch(U){tn(g,g.return,U)}else{var E=pu(g.type,d.memoizedProps);d=d.memoizedState;try{l.componentDidUpdate(E,d,l.__reactInternalSnapshotBeforeUpdate)}catch(U){tn(g,g.return,U)}}b&64&&gR(g),b&512&&fp(g,g.return);break;case 3:if(Cl(l,g),b&64&&(l=g.updateQueue,l!==null)){if(d=null,g.child!==null)switch(g.child.tag){case 27:case 5:d=g.child.stateNode;break;case 1:d=g.child.stateNode}try{r5(l,d)}catch(U){tn(g,g.return,U)}}break;case 27:d===null&&b&4&&xR(g);case 26:case 5:Cl(l,g),d===null&&b&4&&bR(g),b&512&&fp(g,g.return);break;case 12:Cl(l,g);break;case 13:Cl(l,g),b&4&&_R(l,g),b&64&&(l=g.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(g=hK.bind(null,g),$K(l,g))));break;case 22:if(b=g.memoizedState!==null||oa,!b){d=d!==null&&d.memoizedState!==null||In,E=oa;var O=In;oa=b,(In=d)&&!O?Ol(l,g,(g.subtreeFlags&8772)!==0):Cl(l,g),oa=E,In=O}break;case 30:break;default:Cl(l,g)}}function ER(l){var d=l.alternate;d!==null&&(l.alternate=null,ER(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&nu(d)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var yn=null,ni=!1;function aa(l,d,g){for(g=g.child;g!==null;)NR(l,d,g),g=g.sibling}function NR(l,d,g){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(le,g)}catch{}switch(g.tag){case 26:In||yo(g,d),aa(l,d,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:In||yo(g,d);var b=yn,E=ni;kl(g.type)&&(yn=g.stateNode,ni=!1),aa(l,d,g),wp(g.stateNode),yn=b,ni=E;break;case 5:In||yo(g,d);case 6:if(b=yn,E=ni,yn=null,aa(l,d,g),yn=b,ni=E,yn!==null)if(ni)try{(yn.nodeType===9?yn.body:yn.nodeName==="HTML"?yn.ownerDocument.body:yn).removeChild(g.stateNode)}catch(O){tn(g,d,O)}else try{yn.removeChild(g.stateNode)}catch(O){tn(g,d,O)}break;case 18:yn!==null&&(ni?(l=yn,fk(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,g.stateNode),Ap(l)):fk(yn,g.stateNode));break;case 4:b=yn,E=ni,yn=g.stateNode.containerInfo,ni=!0,aa(l,d,g),yn=b,ni=E;break;case 0:case 11:case 14:case 15:In||_l(2,g,d),In||_l(4,g,d),aa(l,d,g);break;case 1:In||(yo(g,d),b=g.stateNode,typeof b.componentWillUnmount=="function"&&yR(g,d,b)),aa(l,d,g);break;case 21:aa(l,d,g);break;case 22:In=(b=In)||g.memoizedState!==null,aa(l,d,g),In=b;break;default:aa(l,d,g)}}function _R(l,d){if(d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Ap(l)}catch(g){tn(d,d.return,g)}}function sK(l){switch(l.tag){case 13:case 19:var d=l.stateNode;return d===null&&(d=l.stateNode=new wR),d;case 22:return l=l.stateNode,d=l._retryCache,d===null&&(d=l._retryCache=new wR),d;default:throw Error(r(435,l.tag))}}function g2(l,d){var g=sK(l);d.forEach(function(b){var E=mK.bind(null,l,b);g.has(b)||(g.add(b),b.then(E,E))})}function Si(l,d){var g=d.deletions;if(g!==null)for(var b=0;b<g.length;b++){var E=g[b],O=l,U=d,Y=U;e:for(;Y!==null;){switch(Y.tag){case 27:if(kl(Y.type)){yn=Y.stateNode,ni=!1;break e}break;case 5:yn=Y.stateNode,ni=!1;break e;case 3:case 4:yn=Y.stateNode.containerInfo,ni=!0;break e}Y=Y.return}if(yn===null)throw Error(r(160));NR(O,U,E),yn=null,ni=!1,O=E.alternate,O!==null&&(O.return=null),E.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)CR(d,l),d=d.sibling}var Ts=null;function CR(l,d){var g=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Si(d,l),Ei(l),b&4&&(_l(3,l,l.return),dp(3,l),_l(5,l,l.return));break;case 1:Si(d,l),Ei(l),b&512&&(In||g===null||yo(g,g.return)),b&64&&oa&&(l=l.updateQueue,l!==null&&(b=l.callbacks,b!==null&&(g=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=g===null?b:g.concat(b))));break;case 26:var E=Ts;if(Si(d,l),Ei(l),b&512&&(In||g===null||yo(g,g.return)),b&4){var O=g!==null?g.memoizedState:null;if(b=l.memoizedState,g===null)if(b===null)if(l.stateNode===null){e:{b=l.type,g=l.memoizedProps,E=E.ownerDocument||E;t:switch(b){case"title":O=E.getElementsByTagName("title")[0],(!O||O[Go]||O[ln]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=E.createElement(b),E.head.insertBefore(O,E.querySelector("head > title"))),pr(O,b,g),O[ln]=l,Vn(O),b=O;break e;case"link":var U=xk("link","href",E).get(b+(g.href||""));if(U){for(var Y=0;Y<U.length;Y++)if(O=U[Y],O.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&O.getAttribute("rel")===(g.rel==null?null:g.rel)&&O.getAttribute("title")===(g.title==null?null:g.title)&&O.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){U.splice(Y,1);break t}}O=E.createElement(b),pr(O,b,g),E.head.appendChild(O);break;case"meta":if(U=xk("meta","content",E).get(b+(g.content||""))){for(Y=0;Y<U.length;Y++)if(O=U[Y],O.getAttribute("content")===(g.content==null?null:""+g.content)&&O.getAttribute("name")===(g.name==null?null:g.name)&&O.getAttribute("property")===(g.property==null?null:g.property)&&O.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&O.getAttribute("charset")===(g.charSet==null?null:g.charSet)){U.splice(Y,1);break t}}O=E.createElement(b),pr(O,b,g),E.head.appendChild(O);break;default:throw Error(r(468,b))}O[ln]=l,Vn(O),b=O}l.stateNode=b}else wk(E,l.type,l.stateNode);else l.stateNode=vk(E,b,l.memoizedProps);else O!==b?(O===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):O.count--,b===null?wk(E,l.type,l.stateNode):vk(E,b,l.memoizedProps)):b===null&&l.stateNode!==null&&f2(l,l.memoizedProps,g.memoizedProps)}break;case 27:Si(d,l),Ei(l),b&512&&(In||g===null||yo(g,g.return)),g!==null&&b&4&&f2(l,l.memoizedProps,g.memoizedProps);break;case 5:if(Si(d,l),Ei(l),b&512&&(In||g===null||yo(g,g.return)),l.flags&32){E=l.stateNode;try{Bd(E,"")}catch(be){tn(l,l.return,be)}}b&4&&l.stateNode!=null&&(E=l.memoizedProps,f2(l,E,g!==null?g.memoizedProps:E)),b&1024&&(p2=!0);break;case 6:if(Si(d,l),Ei(l),b&4){if(l.stateNode===null)throw Error(r(162));b=l.memoizedProps,g=l.stateNode;try{g.nodeValue=b}catch(be){tn(l,l.return,be)}}break;case 3:if(Pb=null,E=Ts,Ts=Mb(d.containerInfo),Si(d,l),Ts=E,Ei(l),b&4&&g!==null&&g.memoizedState.isDehydrated)try{Ap(d.containerInfo)}catch(be){tn(l,l.return,be)}p2&&(p2=!1,OR(l));break;case 4:b=Ts,Ts=Mb(l.stateNode.containerInfo),Si(d,l),Ei(l),Ts=b;break;case 12:Si(d,l),Ei(l);break;case 13:Si(d,l),Ei(l),l.child.flags&8192&&l.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(S2=Oe()),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,g2(l,b)));break;case 22:E=l.memoizedState!==null;var ee=g!==null&&g.memoizedState!==null,ge=oa,we=In;if(oa=ge||E,In=we||ee,Si(d,l),In=we,oa=ge,Ei(l),b&8192)e:for(d=l.stateNode,d._visibility=E?d._visibility&-2:d._visibility|1,E&&(g===null||ee||oa||In||gu(l)),g=null,d=l;;){if(d.tag===5||d.tag===26){if(g===null){ee=g=d;try{if(O=ee.stateNode,E)U=O.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{Y=ee.stateNode;var _e=ee.memoizedProps.style,ye=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;Y.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(be){tn(ee,ee.return,be)}}}else if(d.tag===6){if(g===null){ee=d;try{ee.stateNode.nodeValue=E?"":ee.memoizedProps}catch(be){tn(ee,ee.return,be)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===l)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;g===d&&(g=null),d=d.return}g===d&&(g=null),d.sibling.return=d.return,d=d.sibling}b&4&&(b=l.updateQueue,b!==null&&(g=b.retryQueue,g!==null&&(b.retryQueue=null,g2(l,g))));break;case 19:Si(d,l),Ei(l),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,g2(l,b)));break;case 30:break;case 21:break;default:Si(d,l),Ei(l)}}function Ei(l){var d=l.flags;if(d&2){try{for(var g,b=l.return;b!==null;){if(vR(b)){g=b;break}b=b.return}if(g==null)throw Error(r(160));switch(g.tag){case 27:var E=g.stateNode,O=h2(l);wb(l,O,E);break;case 5:var U=g.stateNode;g.flags&32&&(Bd(U,""),g.flags&=-33);var Y=h2(l);wb(l,Y,U);break;case 3:case 4:var ee=g.stateNode.containerInfo,ge=h2(l);m2(l,ge,ee);break;default:throw Error(r(161))}}catch(we){tn(l,l.return,we)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function OR(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var d=l;OR(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),l=l.sibling}}function Cl(l,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)SR(l,d.alternate,d),d=d.sibling}function gu(l){for(l=l.child;l!==null;){var d=l;switch(d.tag){case 0:case 11:case 14:case 15:_l(4,d,d.return),gu(d);break;case 1:yo(d,d.return);var g=d.stateNode;typeof g.componentWillUnmount=="function"&&yR(d,d.return,g),gu(d);break;case 27:wp(d.stateNode);case 26:case 5:yo(d,d.return),gu(d);break;case 22:d.memoizedState===null&&gu(d);break;case 30:gu(d);break;default:gu(d)}l=l.sibling}}function Ol(l,d,g){for(g=g&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var b=d.alternate,E=l,O=d,U=O.flags;switch(O.tag){case 0:case 11:case 15:Ol(E,O,g),dp(4,O);break;case 1:if(Ol(E,O,g),b=O,E=b.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(ge){tn(b,b.return,ge)}if(b=O,E=b.updateQueue,E!==null){var Y=b.stateNode;try{var ee=E.shared.hiddenCallbacks;if(ee!==null)for(E.shared.hiddenCallbacks=null,E=0;E<ee.length;E++)n5(ee[E],Y)}catch(ge){tn(b,b.return,ge)}}g&&U&64&&gR(O),fp(O,O.return);break;case 27:xR(O);case 26:case 5:Ol(E,O,g),g&&b===null&&U&4&&bR(O),fp(O,O.return);break;case 12:Ol(E,O,g);break;case 13:Ol(E,O,g),g&&U&4&&_R(E,O);break;case 22:O.memoizedState===null&&Ol(E,O,g),fp(O,O.return);break;case 30:break;default:Ol(E,O,g)}d=d.sibling}}function y2(l,d){var g=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),l=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(l=d.memoizedState.cachePool.pool),l!==g&&(l!=null&&l.refCount++,g!=null&&Km(g))}function b2(l,d){l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Km(l))}function bo(l,d,g,b){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)jR(l,d,g,b),d=d.sibling}function jR(l,d,g,b){var E=d.flags;switch(d.tag){case 0:case 11:case 15:bo(l,d,g,b),E&2048&&dp(9,d);break;case 1:bo(l,d,g,b);break;case 3:bo(l,d,g,b),E&2048&&(l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Km(l)));break;case 12:if(E&2048){bo(l,d,g,b),l=d.stateNode;try{var O=d.memoizedProps,U=O.id,Y=O.onPostCommit;typeof Y=="function"&&Y(U,d.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(ee){tn(d,d.return,ee)}}else bo(l,d,g,b);break;case 13:bo(l,d,g,b);break;case 23:break;case 22:O=d.stateNode,U=d.alternate,d.memoizedState!==null?O._visibility&2?bo(l,d,g,b):hp(l,d):O._visibility&2?bo(l,d,g,b):(O._visibility|=2,of(l,d,g,b,(d.subtreeFlags&10256)!==0)),E&2048&&y2(U,d);break;case 24:bo(l,d,g,b),E&2048&&b2(d.alternate,d);break;default:bo(l,d,g,b)}}function of(l,d,g,b,E){for(E=E&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var O=l,U=d,Y=g,ee=b,ge=U.flags;switch(U.tag){case 0:case 11:case 15:of(O,U,Y,ee,E),dp(8,U);break;case 23:break;case 22:var we=U.stateNode;U.memoizedState!==null?we._visibility&2?of(O,U,Y,ee,E):hp(O,U):(we._visibility|=2,of(O,U,Y,ee,E)),E&&ge&2048&&y2(U.alternate,U);break;case 24:of(O,U,Y,ee,E),E&&ge&2048&&b2(U.alternate,U);break;default:of(O,U,Y,ee,E)}d=d.sibling}}function hp(l,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var g=l,b=d,E=b.flags;switch(b.tag){case 22:hp(g,b),E&2048&&y2(b.alternate,b);break;case 24:hp(g,b),E&2048&&b2(b.alternate,b);break;default:hp(g,b)}d=d.sibling}}var mp=8192;function af(l){if(l.subtreeFlags&mp)for(l=l.child;l!==null;)AR(l),l=l.sibling}function AR(l){switch(l.tag){case 26:af(l),l.flags&mp&&l.memoizedState!==null&&qK(Ts,l.memoizedState,l.memoizedProps);break;case 5:af(l);break;case 3:case 4:var d=Ts;Ts=Mb(l.stateNode.containerInfo),af(l),Ts=d;break;case 22:l.memoizedState===null&&(d=l.alternate,d!==null&&d.memoizedState!==null?(d=mp,mp=16777216,af(l),mp=d):af(l));break;default:af(l)}}function TR(l){var d=l.alternate;if(d!==null&&(l=d.child,l!==null)){d.child=null;do d=l.sibling,l.sibling=null,l=d;while(l!==null)}}function pp(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var g=0;g<d.length;g++){var b=d[g];sr=b,RR(b,l)}TR(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)$R(l),l=l.sibling}function $R(l){switch(l.tag){case 0:case 11:case 15:pp(l),l.flags&2048&&_l(9,l,l.return);break;case 3:pp(l);break;case 12:pp(l);break;case 22:var d=l.stateNode;l.memoizedState!==null&&d._visibility&2&&(l.return===null||l.return.tag!==13)?(d._visibility&=-3,Sb(l)):pp(l);break;default:pp(l)}}function Sb(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var g=0;g<d.length;g++){var b=d[g];sr=b,RR(b,l)}TR(l)}for(l=l.child;l!==null;){switch(d=l,d.tag){case 0:case 11:case 15:_l(8,d,d.return),Sb(d);break;case 22:g=d.stateNode,g._visibility&2&&(g._visibility&=-3,Sb(d));break;default:Sb(d)}l=l.sibling}}function RR(l,d){for(;sr!==null;){var g=sr;switch(g.tag){case 0:case 11:case 15:_l(8,g,d);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var b=g.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Km(g.memoizedState.cache)}if(b=g.child,b!==null)b.return=g,sr=b;else e:for(g=l;sr!==null;){b=sr;var E=b.sibling,O=b.return;if(ER(b),b===g){sr=null;break e}if(E!==null){E.return=O,sr=E;break e}sr=O}}}var oK={getCacheForType:function(l){var d=Er(Xn),g=d.data.get(l);return g===void 0&&(g=l(),d.data.set(l,g)),g}},aK=typeof WeakMap=="function"?WeakMap:Map,Jt=0,sn=null,Ot=null,At=0,Yt=0,Ni=null,jl=!1,lf=!1,v2=!1,la=0,Cn=0,Al=0,yu=0,x2=0,Qi=0,cf=0,gp=null,ri=null,w2=!1,S2=0,Eb=1/0,Nb=null,Tl=null,mr=0,$l=null,uf=null,df=0,E2=0,N2=null,kR=null,yp=0,_2=null;function _i(){if((Jt&2)!==0&&At!==0)return At&-At;if(T.T!==null){var l=Kd;return l!==0?l:R2()}return gn()}function MR(){Qi===0&&(Qi=(At&536870912)===0||Lt?Qc():536870912);var l=Ki.current;return l!==null&&(l.flags|=32),Qi}function Ci(l,d,g){(l===sn&&(Yt===2||Yt===9)||l.cancelPendingCommit!==null)&&(ff(l,0),Rl(l,At,Qi,!1)),Wo(l,g),((Jt&2)===0||l!==sn)&&(l===sn&&((Jt&2)===0&&(yu|=g),Cn===4&&Rl(l,At,Qi,!1)),vo(l))}function IR(l,d,g){if((Jt&6)!==0)throw Error(r(327));var b=!g&&(d&124)===0&&(d&l.expiredLanes)===0||Hi(l,d),E=b?uK(l,d):j2(l,d,!0),O=b;do{if(E===0){lf&&!b&&Rl(l,d,0,!1);break}else{if(g=l.current.alternate,O&&!lK(g)){E=j2(l,d,!1),O=!1;continue}if(E===2){if(O=d,l.errorRecoveryDisabledLanes&O)var U=0;else U=l.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){d=U;e:{var Y=l;E=gp;var ee=Y.current.memoizedState.isDehydrated;if(ee&&(ff(Y,U).flags|=256),U=j2(Y,U,!1),U!==2){if(v2&&!ee){Y.errorRecoveryDisabledLanes|=O,yu|=O,E=4;break e}O=ri,ri=E,O!==null&&(ri===null?ri=O:ri.push.apply(ri,O))}E=U}if(O=!1,E!==2)continue}}if(E===1){ff(l,0),Rl(l,d,0,!0);break}e:{switch(b=l,O=E,O){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:Rl(b,d,Qi,!jl);break e;case 2:ri=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(E=S2+300-Oe(),10<E)){if(Rl(b,d,Qi,!jl),_s(b,0,!0)!==0)break e;b.timeoutHandle=uk(PR.bind(null,b,g,ri,Nb,w2,d,Qi,yu,cf,jl,O,2,-0,0),E);break e}PR(b,g,ri,Nb,w2,d,Qi,yu,cf,jl,O,0,-0,0)}}break}while(!0);vo(l)}function PR(l,d,g,b,E,O,U,Y,ee,ge,we,_e,ye,be){if(l.timeoutHandle=-1,_e=d.subtreeFlags,(_e&8192||(_e&16785408)===16785408)&&(Np={stylesheets:null,count:0,unsuspend:UK},AR(d),_e=HK(),_e!==null)){l.cancelPendingCommit=_e(UR.bind(null,l,d,O,g,b,E,U,Y,ee,we,1,ye,be)),Rl(l,O,U,!ge);return}UR(l,d,O,g,b,E,U,Y,ee)}function lK(l){for(var d=l;;){var g=d.tag;if((g===0||g===11||g===15)&&d.flags&16384&&(g=d.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var b=0;b<g.length;b++){var E=g[b],O=E.getSnapshot;E=E.value;try{if(!xi(O(),E))return!1}catch{return!1}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Rl(l,d,g,b){d&=~x2,d&=~yu,l.suspendedLanes|=d,l.pingedLanes&=~d,b&&(l.warmLanes|=d),b=l.expirationTimes;for(var E=d;0<E;){var O=31-Ge(E),U=1<<O;b[O]=-1,E&=~U}g!==0&&Zc(l,g,d)}function _b(){return(Jt&6)===0?(bp(0),!1):!0}function C2(){if(Ot!==null){if(Yt===0)var l=Ot.return;else l=Ot,ea=du=null,UE(l),rf=null,lp=0,l=Ot;for(;l!==null;)pR(l.alternate,l),l=l.return;Ot=null}}function ff(l,d){var g=l.timeoutHandle;g!==-1&&(l.timeoutHandle=-1,CK(g)),g=l.cancelPendingCommit,g!==null&&(l.cancelPendingCommit=null,g()),C2(),sn=l,Ot=g=Ko(l.current,null),At=d,Yt=0,Ni=null,jl=!1,lf=Hi(l,d),v2=!1,cf=Qi=x2=yu=Al=Cn=0,ri=gp=null,w2=!1,(d&8)!==0&&(d|=d&32);var b=l.entangledLanes;if(b!==0)for(l=l.entanglements,b&=d;0<b;){var E=31-Ge(b),O=1<<E;d|=l[E],b&=~O}return la=d,G0(),g}function DR(l,d){Et=null,T.H=fb,d===Zm||d===nb?(d=e5(),Yt=3):d===K3?(d=e5(),Yt=4):Yt=d===tR?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Ni=d,Ot===null&&(Cn=1,yb(l,Gi(d,l.current)))}function LR(){var l=T.H;return T.H=fb,l===null?fb:l}function FR(){var l=T.A;return T.A=oK,l}function O2(){Cn=4,jl||(At&4194048)!==At&&Ki.current!==null||(lf=!0),(Al&134217727)===0&&(yu&134217727)===0||sn===null||Rl(sn,At,Qi,!1)}function j2(l,d,g){var b=Jt;Jt|=2;var E=LR(),O=FR();(sn!==l||At!==d)&&(Nb=null,ff(l,d)),d=!1;var U=Cn;e:do try{if(Yt!==0&&Ot!==null){var Y=Ot,ee=Ni;switch(Yt){case 8:C2(),U=6;break e;case 3:case 2:case 9:case 6:Ki.current===null&&(d=!0);var ge=Yt;if(Yt=0,Ni=null,hf(l,Y,ee,ge),g&&lf){U=0;break e}break;default:ge=Yt,Yt=0,Ni=null,hf(l,Y,ee,ge)}}cK(),U=Cn;break}catch(we){DR(l,we)}while(!0);return d&&l.shellSuspendCounter++,ea=du=null,Jt=b,T.H=E,T.A=O,Ot===null&&(sn=null,At=0,G0()),U}function cK(){for(;Ot!==null;)BR(Ot)}function uK(l,d){var g=Jt;Jt|=2;var b=LR(),E=FR();sn!==l||At!==d?(Nb=null,Eb=Oe()+500,ff(l,d)):lf=Hi(l,d);e:do try{if(Yt!==0&&Ot!==null){d=Ot;var O=Ni;t:switch(Yt){case 1:Yt=0,Ni=null,hf(l,d,O,1);break;case 2:case 9:if(Q3(O)){Yt=0,Ni=null,zR(d);break}d=function(){Yt!==2&&Yt!==9||sn!==l||(Yt=7),vo(l)},O.then(d,d);break e;case 3:Yt=7;break e;case 4:Yt=5;break e;case 7:Q3(O)?(Yt=0,Ni=null,zR(d)):(Yt=0,Ni=null,hf(l,d,O,7));break;case 5:var U=null;switch(Ot.tag){case 26:U=Ot.memoizedState;case 5:case 27:var Y=Ot;if(!U||Sk(U)){Yt=0,Ni=null;var ee=Y.sibling;if(ee!==null)Ot=ee;else{var ge=Y.return;ge!==null?(Ot=ge,Cb(ge)):Ot=null}break t}}Yt=0,Ni=null,hf(l,d,O,5);break;case 6:Yt=0,Ni=null,hf(l,d,O,6);break;case 8:C2(),Cn=6;break e;default:throw Error(r(462))}}dK();break}catch(we){DR(l,we)}while(!0);return ea=du=null,T.H=b,T.A=E,Jt=g,Ot!==null?0:(sn=null,At=0,G0(),Cn)}function dK(){for(;Ot!==null&&!We();)BR(Ot)}function BR(l){var d=hR(l.alternate,l,la);l.memoizedProps=l.pendingProps,d===null?Cb(l):Ot=d}function zR(l){var d=l,g=d.alternate;switch(d.tag){case 15:case 0:d=aR(g,d,d.pendingProps,d.type,void 0,At);break;case 11:d=aR(g,d,d.pendingProps,d.type.render,d.ref,At);break;case 5:UE(d);default:pR(g,d),d=Ot=V3(d,la),d=hR(g,d,la)}l.memoizedProps=l.pendingProps,d===null?Cb(l):Ot=d}function hf(l,d,g,b){ea=du=null,UE(d),rf=null,lp=0;var E=d.return;try{if(eK(l,E,d,g,At)){Cn=1,yb(l,Gi(g,l.current)),Ot=null;return}}catch(O){if(E!==null)throw Ot=E,O;Cn=1,yb(l,Gi(g,l.current)),Ot=null;return}d.flags&32768?(Lt||b===1?l=!0:lf||(At&536870912)!==0?l=!1:(jl=l=!0,(b===2||b===9||b===3||b===6)&&(b=Ki.current,b!==null&&b.tag===13&&(b.flags|=16384))),VR(d,l)):Cb(d)}function Cb(l){var d=l;do{if((d.flags&32768)!==0){VR(d,jl);return}l=d.return;var g=nK(d.alternate,d,la);if(g!==null){Ot=g;return}if(d=d.sibling,d!==null){Ot=d;return}Ot=d=l}while(d!==null);Cn===0&&(Cn=5)}function VR(l,d){do{var g=rK(l.alternate,l);if(g!==null){g.flags&=32767,Ot=g;return}if(g=l.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!d&&(l=l.sibling,l!==null)){Ot=l;return}Ot=l=g}while(l!==null);Cn=6,Ot=null}function UR(l,d,g,b,E,O,U,Y,ee){l.cancelPendingCommit=null;do Ob();while(mr!==0);if((Jt&6)!==0)throw Error(r(327));if(d!==null){if(d===l.current)throw Error(r(177));if(O=d.lanes|d.childLanes,O|=bE,Wi(l,g,O,U,Y,ee),l===sn&&(Ot=sn=null,At=0),uf=d,$l=l,df=g,E2=O,N2=E,kR=b,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,pK(re,function(){return JR(),null})):(l.callbackNode=null,l.callbackPriority=0),b=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||b){b=T.T,T.T=null,E=I.p,I.p=2,U=Jt,Jt|=4;try{iK(l,d,g)}finally{Jt=U,I.p=E,T.T=b}}mr=1,qR(),HR(),WR()}}function qR(){if(mr===1){mr=0;var l=$l,d=uf,g=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||g){g=T.T,T.T=null;var b=I.p;I.p=2;var E=Jt;Jt|=4;try{CR(d,l);var O=B2,U=R3(l.containerInfo),Y=O.focusedElem,ee=O.selectionRange;if(U!==Y&&Y&&Y.ownerDocument&&$3(Y.ownerDocument.documentElement,Y)){if(ee!==null&&hE(Y)){var ge=ee.start,we=ee.end;if(we===void 0&&(we=ge),"selectionStart"in Y)Y.selectionStart=ge,Y.selectionEnd=Math.min(we,Y.value.length);else{var _e=Y.ownerDocument||document,ye=_e&&_e.defaultView||window;if(ye.getSelection){var be=ye.getSelection(),dt=Y.textContent.length,lt=Math.min(ee.start,dt),Zt=ee.end===void 0?lt:Math.min(ee.end,dt);!be.extend&&lt>Zt&&(U=Zt,Zt=lt,lt=U);var ue=T3(Y,lt),oe=T3(Y,Zt);if(ue&&oe&&(be.rangeCount!==1||be.anchorNode!==ue.node||be.anchorOffset!==ue.offset||be.focusNode!==oe.node||be.focusOffset!==oe.offset)){var pe=_e.createRange();pe.setStart(ue.node,ue.offset),be.removeAllRanges(),lt>Zt?(be.addRange(pe),be.extend(oe.node,oe.offset)):(pe.setEnd(oe.node,oe.offset),be.addRange(pe))}}}}for(_e=[],be=Y;be=be.parentNode;)be.nodeType===1&&_e.push({element:be,left:be.scrollLeft,top:be.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<_e.length;Y++){var Se=_e[Y];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}Fb=!!F2,B2=F2=null}finally{Jt=E,I.p=b,T.T=g}}l.current=d,mr=2}}function HR(){if(mr===2){mr=0;var l=$l,d=uf,g=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||g){g=T.T,T.T=null;var b=I.p;I.p=2;var E=Jt;Jt|=4;try{SR(l,d.alternate,d)}finally{Jt=E,I.p=b,T.T=g}}mr=3}}function WR(){if(mr===4||mr===3){mr=0,et();var l=$l,d=uf,g=df,b=kR;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?mr=5:(mr=0,uf=$l=null,GR(l,l.pendingLanes));var E=l.pendingLanes;if(E===0&&(Tl=null),tu(g),d=d.stateNode,xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(le,d,void 0,(d.current.flags&128)===128)}catch{}if(b!==null){d=T.T,E=I.p,I.p=2,T.T=null;try{for(var O=l.onRecoverableError,U=0;U<b.length;U++){var Y=b[U];O(Y.value,{componentStack:Y.stack})}}finally{T.T=d,I.p=E}}(df&3)!==0&&Ob(),vo(l),E=l.pendingLanes,(g&4194090)!==0&&(E&42)!==0?l===_2?yp++:(yp=0,_2=l):yp=0,bp(0)}}function GR(l,d){(l.pooledCacheLanes&=d)===0&&(d=l.pooledCache,d!=null&&(l.pooledCache=null,Km(d)))}function Ob(l){return qR(),HR(),WR(),JR()}function JR(){if(mr!==5)return!1;var l=$l,d=E2;E2=0;var g=tu(df),b=T.T,E=I.p;try{I.p=32>g?32:g,T.T=null,g=N2,N2=null;var O=$l,U=df;if(mr=0,uf=$l=null,df=0,(Jt&6)!==0)throw Error(r(331));var Y=Jt;if(Jt|=4,$R(O.current),jR(O,O.current,U,g),Jt=Y,bp(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(le,O)}catch{}return!0}finally{I.p=E,T.T=b,GR(l,d)}}function YR(l,d,g){d=Gi(g,d),d=r2(l.stateNode,d,2),l=wl(l,d,2),l!==null&&(Wo(l,2),vo(l))}function tn(l,d,g){if(l.tag===3)YR(l,l,g);else for(;d!==null;){if(d.tag===3){YR(d,l,g);break}else if(d.tag===1){var b=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Tl===null||!Tl.has(b))){l=Gi(g,l),g=Z5(2),b=wl(d,g,2),b!==null&&(eR(g,b,d,l),Wo(b,2),vo(b));break}}d=d.return}}function A2(l,d,g){var b=l.pingCache;if(b===null){b=l.pingCache=new aK;var E=new Set;b.set(d,E)}else E=b.get(d),E===void 0&&(E=new Set,b.set(d,E));E.has(g)||(v2=!0,E.add(g),l=fK.bind(null,l,d,g),d.then(l,l))}function fK(l,d,g){var b=l.pingCache;b!==null&&b.delete(d),l.pingedLanes|=l.suspendedLanes&g,l.warmLanes&=~g,sn===l&&(At&g)===g&&(Cn===4||Cn===3&&(At&62914560)===At&&300>Oe()-S2?(Jt&2)===0&&ff(l,0):x2|=g,cf===At&&(cf=0)),vo(l)}function XR(l,d){d===0&&(d=$d()),l=Gd(l,d),l!==null&&(Wo(l,d),vo(l))}function hK(l){var d=l.memoizedState,g=0;d!==null&&(g=d.retryLane),XR(l,g)}function mK(l,d){var g=0;switch(l.tag){case 13:var b=l.stateNode,E=l.memoizedState;E!==null&&(g=E.retryLane);break;case 19:b=l.stateNode;break;case 22:b=l.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(d),XR(l,g)}function pK(l,d){return Re(l,d)}var jb=null,mf=null,T2=!1,Ab=!1,$2=!1,bu=0;function vo(l){l!==mf&&l.next===null&&(mf===null?jb=mf=l:mf=mf.next=l),Ab=!0,T2||(T2=!0,yK())}function bp(l,d){if(!$2&&Ab){$2=!0;do for(var g=!1,b=jb;b!==null;){if(l!==0){var E=b.pendingLanes;if(E===0)var O=0;else{var U=b.suspendedLanes,Y=b.pingedLanes;O=(1<<31-Ge(42|l)+1)-1,O&=E&~(U&~Y),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(g=!0,ek(b,O))}else O=At,O=_s(b,b===sn?O:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(O&3)===0||Hi(b,O)||(g=!0,ek(b,O));b=b.next}while(g);$2=!1}}function gK(){KR()}function KR(){Ab=T2=!1;var l=0;bu!==0&&(_K()&&(l=bu),bu=0);for(var d=Oe(),g=null,b=jb;b!==null;){var E=b.next,O=QR(b,d);O===0?(b.next=null,g===null?jb=E:g.next=E,E===null&&(mf=g)):(g=b,(l!==0||(O&3)!==0)&&(Ab=!0)),b=E}bp(l)}function QR(l,d){for(var g=l.suspendedLanes,b=l.pingedLanes,E=l.expirationTimes,O=l.pendingLanes&-62914561;0<O;){var U=31-Ge(O),Y=1<<U,ee=E[U];ee===-1?((Y&g)===0||(Y&b)!==0)&&(E[U]=mo(Y,d)):ee<=d&&(l.expiredLanes|=Y),O&=~Y}if(d=sn,g=At,g=_s(l,l===d?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),b=l.callbackNode,g===0||l===d&&(Yt===2||Yt===9)||l.cancelPendingCommit!==null)return b!==null&&b!==null&&ke(b),l.callbackNode=null,l.callbackPriority=0;if((g&3)===0||Hi(l,g)){if(d=g&-g,d===l.callbackPriority)return d;switch(b!==null&&ke(b),tu(g)){case 2:case 8:g=G;break;case 32:g=re;break;case 268435456:g=me;break;default:g=re}return b=ZR.bind(null,l),g=Re(g,b),l.callbackPriority=d,l.callbackNode=g,d}return b!==null&&b!==null&&ke(b),l.callbackPriority=2,l.callbackNode=null,2}function ZR(l,d){if(mr!==0&&mr!==5)return l.callbackNode=null,l.callbackPriority=0,null;var g=l.callbackNode;if(Ob()&&l.callbackNode!==g)return null;var b=At;return b=_s(l,l===sn?b:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),b===0?null:(IR(l,b,d),QR(l,Oe()),l.callbackNode!=null&&l.callbackNode===g?ZR.bind(null,l):null)}function ek(l,d){if(Ob())return null;IR(l,d,!0)}function yK(){OK(function(){(Jt&6)!==0?Re(Pe,gK):KR()})}function R2(){return bu===0&&(bu=Qc()),bu}function tk(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:B0(""+l)}function nk(l,d){var g=d.ownerDocument.createElement("input");return g.name=d.name,g.value=d.value,l.id&&g.setAttribute("form",l.id),d.parentNode.insertBefore(g,d),l=new FormData(l),g.parentNode.removeChild(g),l}function bK(l,d,g,b,E){if(d==="submit"&&g&&g.stateNode===E){var O=tk((E[zn]||null).action),U=b.submitter;U&&(d=(d=U[zn]||null)?tk(d.formAction):U.getAttribute("formAction"),d!==null&&(O=d,U=null));var Y=new q0("action","action",null,b,E);l.push({event:Y,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(bu!==0){var ee=U?nk(E,U):new FormData(E);QE(g,{pending:!0,data:ee,method:E.method,action:O},null,ee)}}else typeof O=="function"&&(Y.preventDefault(),ee=U?nk(E,U):new FormData(E),QE(g,{pending:!0,data:ee,method:E.method,action:O},O,ee))},currentTarget:E}]})}}for(var k2=0;k2<yE.length;k2++){var M2=yE[k2],vK=M2.toLowerCase(),xK=M2[0].toUpperCase()+M2.slice(1);As(vK,"on"+xK)}As(I3,"onAnimationEnd"),As(P3,"onAnimationIteration"),As(D3,"onAnimationStart"),As("dblclick","onDoubleClick"),As("focusin","onFocus"),As("focusout","onBlur"),As(DX,"onTransitionRun"),As(LX,"onTransitionStart"),As(FX,"onTransitionCancel"),As(L3,"onTransitionEnd"),ml("onMouseEnter",["mouseout","mouseover"]),ml("onMouseLeave",["mouseout","mouseover"]),ml("onPointerEnter",["pointerout","pointerover"]),ml("onPointerLeave",["pointerout","pointerover"]),Yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wK=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vp));function rk(l,d){d=(d&4)!==0;for(var g=0;g<l.length;g++){var b=l[g],E=b.event;b=b.listeners;e:{var O=void 0;if(d)for(var U=b.length-1;0<=U;U--){var Y=b[U],ee=Y.instance,ge=Y.currentTarget;if(Y=Y.listener,ee!==O&&E.isPropagationStopped())break e;O=Y,E.currentTarget=ge;try{O(E)}catch(we){gb(we)}E.currentTarget=null,O=ee}else for(U=0;U<b.length;U++){if(Y=b[U],ee=Y.instance,ge=Y.currentTarget,Y=Y.listener,ee!==O&&E.isPropagationStopped())break e;O=Y,E.currentTarget=ge;try{O(E)}catch(we){gb(we)}E.currentTarget=null,O=ee}}}}function jt(l,d){var g=d[hl];g===void 0&&(g=d[hl]=new Set);var b=l+"__bubble";g.has(b)||(ik(d,l,2,!1),g.add(b))}function I2(l,d,g){var b=0;d&&(b|=4),ik(g,l,b,d)}var Tb="_reactListening"+Math.random().toString(36).slice(2);function P2(l){if(!l[Tb]){l[Tb]=!0,R0.forEach(function(g){g!=="selectionchange"&&(wK.has(g)||I2(g,!1,l),I2(g,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[Tb]||(d[Tb]=!0,I2("selectionchange",!1,d))}}function ik(l,d,g,b){switch(jk(d)){case 2:var E=JK;break;case 8:E=YK;break;default:E=X2}g=E.bind(null,d,g,l),E=void 0,!iE||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(E=!0),b?E!==void 0?l.addEventListener(d,g,{capture:!0,passive:E}):l.addEventListener(d,g,!0):E!==void 0?l.addEventListener(d,g,{passive:E}):l.addEventListener(d,g,!1)}function D2(l,d,g,b,E){var O=b;if((d&1)===0&&(d&2)===0&&b!==null)e:for(;;){if(b===null)return;var U=b.tag;if(U===3||U===4){var Y=b.stateNode.containerInfo;if(Y===E)break;if(U===4)for(U=b.return;U!==null;){var ee=U.tag;if((ee===3||ee===4)&&U.stateNode.containerInfo===E)return;U=U.return}for(;Y!==null;){if(U=gt(Y),U===null)return;if(ee=U.tag,ee===5||ee===6||ee===26||ee===27){b=O=U;continue e}Y=Y.parentNode}}b=b.return}d3(function(){var ge=O,we=nE(g),_e=[];e:{var ye=F3.get(l);if(ye!==void 0){var be=q0,dt=l;switch(l){case"keypress":if(V0(g)===0)break e;case"keydown":case"keyup":be=pX;break;case"focusin":dt="focus",be=lE;break;case"focusout":dt="blur",be=lE;break;case"beforeblur":case"afterblur":be=lE;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=m3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=rX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=bX;break;case I3:case P3:case D3:be=oX;break;case L3:be=xX;break;case"scroll":case"scrollend":be=tX;break;case"wheel":be=SX;break;case"copy":case"cut":case"paste":be=lX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=g3;break;case"toggle":case"beforetoggle":be=NX}var lt=(d&4)!==0,Zt=!lt&&(l==="scroll"||l==="scrollend"),ue=lt?ye!==null?ye+"Capture":null:ye;lt=[];for(var oe=ge,pe;oe!==null;){var Se=oe;if(pe=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||pe===null||ue===null||(Se=Lm(oe,ue),Se!=null&&lt.push(xp(oe,Se,pe))),Zt)break;oe=oe.return}0<lt.length&&(ye=new be(ye,dt,null,g,we),_e.push({event:ye,listeners:lt}))}}if((d&7)===0){e:{if(ye=l==="mouseover"||l==="pointerover",be=l==="mouseout"||l==="pointerout",ye&&g!==tE&&(dt=g.relatedTarget||g.fromElement)&&(gt(dt)||dt[Os]))break e;if((be||ye)&&(ye=we.window===we?we:(ye=we.ownerDocument)?ye.defaultView||ye.parentWindow:window,be?(dt=g.relatedTarget||g.toElement,be=ge,dt=dt?gt(dt):null,dt!==null&&(Zt=s(dt),lt=dt.tag,dt!==Zt||lt!==5&&lt!==27&&lt!==6)&&(dt=null)):(be=null,dt=ge),be!==dt)){if(lt=m3,Se="onMouseLeave",ue="onMouseEnter",oe="mouse",(l==="pointerout"||l==="pointerover")&&(lt=g3,Se="onPointerLeave",ue="onPointerEnter",oe="pointer"),Zt=be==null?ye:Sr(be),pe=dt==null?ye:Sr(dt),ye=new lt(Se,oe+"leave",be,g,we),ye.target=Zt,ye.relatedTarget=pe,Se=null,gt(we)===ge&&(lt=new lt(ue,oe+"enter",dt,g,we),lt.target=pe,lt.relatedTarget=Zt,Se=lt),Zt=Se,be&&dt)t:{for(lt=be,ue=dt,oe=0,pe=lt;pe;pe=pf(pe))oe++;for(pe=0,Se=ue;Se;Se=pf(Se))pe++;for(;0<oe-pe;)lt=pf(lt),oe--;for(;0<pe-oe;)ue=pf(ue),pe--;for(;oe--;){if(lt===ue||ue!==null&&lt===ue.alternate)break t;lt=pf(lt),ue=pf(ue)}lt=null}else lt=null;be!==null&&sk(_e,ye,be,lt,!1),dt!==null&&Zt!==null&&sk(_e,Zt,dt,lt,!0)}}e:{if(ye=ge?Sr(ge):window,be=ye.nodeName&&ye.nodeName.toLowerCase(),be==="select"||be==="input"&&ye.type==="file")var Ye=N3;else if(S3(ye))if(_3)Ye=MX;else{Ye=RX;var _t=$X}else be=ye.nodeName,!be||be.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?ge&&eE(ge.elementType)&&(Ye=N3):Ye=kX;if(Ye&&(Ye=Ye(l,ge))){E3(_e,Ye,g,we);break e}_t&&_t(l,ye,ge),l==="focusout"&&ge&&ye.type==="number"&&ge.memoizedProps.value!=null&&ZS(ye,"number",ye.value)}switch(_t=ge?Sr(ge):window,l){case"focusin":(S3(_t)||_t.contentEditable==="true")&&(qd=_t,mE=ge,Wm=null);break;case"focusout":Wm=mE=qd=null;break;case"mousedown":pE=!0;break;case"contextmenu":case"mouseup":case"dragend":pE=!1,k3(_e,g,we);break;case"selectionchange":if(PX)break;case"keydown":case"keyup":k3(_e,g,we)}var rt;if(uE)e:{switch(l){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else Ud?x3(l,g)&&(ut="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(ut="onCompositionStart");ut&&(y3&&g.locale!=="ko"&&(Ud||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&Ud&&(rt=f3()):(yl=we,sE="value"in yl?yl.value:yl.textContent,Ud=!0)),_t=$b(ge,ut),0<_t.length&&(ut=new p3(ut,l,null,g,we),_e.push({event:ut,listeners:_t}),rt?ut.data=rt:(rt=w3(g),rt!==null&&(ut.data=rt)))),(rt=CX?OX(l,g):jX(l,g))&&(ut=$b(ge,"onBeforeInput"),0<ut.length&&(_t=new p3("onBeforeInput","beforeinput",null,g,we),_e.push({event:_t,listeners:ut}),_t.data=rt)),bK(_e,l,ge,g,we)}rk(_e,d)})}function xp(l,d,g){return{instance:l,listener:d,currentTarget:g}}function $b(l,d){for(var g=d+"Capture",b=[];l!==null;){var E=l,O=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||O===null||(E=Lm(l,g),E!=null&&b.unshift(xp(l,E,O)),E=Lm(l,d),E!=null&&b.push(xp(l,E,O))),l.tag===3)return b;l=l.return}return[]}function pf(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function sk(l,d,g,b,E){for(var O=d._reactName,U=[];g!==null&&g!==b;){var Y=g,ee=Y.alternate,ge=Y.stateNode;if(Y=Y.tag,ee!==null&&ee===b)break;Y!==5&&Y!==26&&Y!==27||ge===null||(ee=ge,E?(ge=Lm(g,O),ge!=null&&U.unshift(xp(g,ge,ee))):E||(ge=Lm(g,O),ge!=null&&U.push(xp(g,ge,ee)))),g=g.return}U.length!==0&&l.push({event:d,listeners:U})}var SK=/\r\n?/g,EK=/\u0000|\uFFFD/g;function ok(l){return(typeof l=="string"?l:""+l).replace(SK,`
`).replace(EK,"")}function ak(l,d){return d=ok(d),ok(l)===d}function Rb(){}function Qt(l,d,g,b,E,O){switch(g){case"children":typeof b=="string"?d==="body"||d==="textarea"&&b===""||Bd(l,b):(typeof b=="number"||typeof b=="bigint")&&d!=="body"&&Bd(l,""+b);break;case"className":Id(l,"class",b);break;case"tabIndex":Id(l,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":Id(l,g,b);break;case"style":c3(l,b,O);break;case"data":if(d!=="object"){Id(l,"data",b);break}case"src":case"href":if(b===""&&(d!=="a"||g!=="href")){l.removeAttribute(g);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){l.removeAttribute(g);break}b=B0(""+b),l.setAttribute(g,b);break;case"action":case"formAction":if(typeof b=="function"){l.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(g==="formAction"?(d!=="input"&&Qt(l,d,"name",E.name,E,null),Qt(l,d,"formEncType",E.formEncType,E,null),Qt(l,d,"formMethod",E.formMethod,E,null),Qt(l,d,"formTarget",E.formTarget,E,null)):(Qt(l,d,"encType",E.encType,E,null),Qt(l,d,"method",E.method,E,null),Qt(l,d,"target",E.target,E,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){l.removeAttribute(g);break}b=B0(""+b),l.setAttribute(g,b);break;case"onClick":b!=null&&(l.onclick=Rb);break;case"onScroll":b!=null&&jt("scroll",l);break;case"onScrollEnd":b!=null&&jt("scrollend",l);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(g=b.__html,g!=null){if(E.children!=null)throw Error(r(60));l.innerHTML=g}}break;case"multiple":l.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":l.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){l.removeAttribute("xlink:href");break}g=B0(""+b),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(g,""+b):l.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(g,""):l.removeAttribute(g);break;case"capture":case"download":b===!0?l.setAttribute(g,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(g,b):l.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?l.setAttribute(g,b):l.removeAttribute(g);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?l.removeAttribute(g):l.setAttribute(g,b);break;case"popover":jt("beforetoggle",l),jt("toggle",l),Md(l,"popover",b);break;case"xlinkActuate":js(l,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":js(l,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":js(l,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":js(l,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":js(l,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":js(l,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":js(l,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":js(l,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":js(l,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":Md(l,"is",b);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=ZY.get(g)||g,Md(l,g,b))}}function L2(l,d,g,b,E,O){switch(g){case"style":c3(l,b,O);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(g=b.__html,g!=null){if(E.children!=null)throw Error(r(60));l.innerHTML=g}}break;case"children":typeof b=="string"?Bd(l,b):(typeof b=="number"||typeof b=="bigint")&&Bd(l,""+b);break;case"onScroll":b!=null&&jt("scroll",l);break;case"onScrollEnd":b!=null&&jt("scrollend",l);break;case"onClick":b!=null&&(l.onclick=Rb);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!k0.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(E=g.endsWith("Capture"),d=g.slice(2,E?g.length-7:void 0),O=l[zn]||null,O=O!=null?O[g]:null,typeof O=="function"&&l.removeEventListener(d,O,E),typeof b=="function")){typeof O!="function"&&O!==null&&(g in l?l[g]=null:l.hasAttribute(g)&&l.removeAttribute(g)),l.addEventListener(d,b,E);break e}g in l?l[g]=b:b===!0?l.setAttribute(g,""):Md(l,g,b)}}}function pr(l,d,g){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",l),jt("load",l);var b=!1,E=!1,O;for(O in g)if(g.hasOwnProperty(O)){var U=g[O];if(U!=null)switch(O){case"src":b=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Qt(l,d,O,U,g,null)}}E&&Qt(l,d,"srcSet",g.srcSet,g,null),b&&Qt(l,d,"src",g.src,g,null);return;case"input":jt("invalid",l);var Y=O=U=E=null,ee=null,ge=null;for(b in g)if(g.hasOwnProperty(b)){var we=g[b];if(we!=null)switch(b){case"name":E=we;break;case"type":U=we;break;case"checked":ee=we;break;case"defaultChecked":ge=we;break;case"value":O=we;break;case"defaultValue":Y=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(137,d));break;default:Qt(l,d,b,we,g,null)}}s3(l,O,Y,ee,ge,U,E,!1),Dd(l);return;case"select":jt("invalid",l),b=U=O=null;for(E in g)if(g.hasOwnProperty(E)&&(Y=g[E],Y!=null))switch(E){case"value":O=Y;break;case"defaultValue":U=Y;break;case"multiple":b=Y;default:Qt(l,d,E,Y,g,null)}d=O,g=U,l.multiple=!!b,d!=null?Fd(l,!!b,d,!1):g!=null&&Fd(l,!!b,g,!0);return;case"textarea":jt("invalid",l),O=E=b=null;for(U in g)if(g.hasOwnProperty(U)&&(Y=g[U],Y!=null))switch(U){case"value":b=Y;break;case"defaultValue":E=Y;break;case"children":O=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(91));break;default:Qt(l,d,U,Y,g,null)}a3(l,b,E,O),Dd(l);return;case"option":for(ee in g)if(g.hasOwnProperty(ee)&&(b=g[ee],b!=null))switch(ee){case"selected":l.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:Qt(l,d,ee,b,g,null)}return;case"dialog":jt("beforetoggle",l),jt("toggle",l),jt("cancel",l),jt("close",l);break;case"iframe":case"object":jt("load",l);break;case"video":case"audio":for(b=0;b<vp.length;b++)jt(vp[b],l);break;case"image":jt("error",l),jt("load",l);break;case"details":jt("toggle",l);break;case"embed":case"source":case"link":jt("error",l),jt("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ge in g)if(g.hasOwnProperty(ge)&&(b=g[ge],b!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Qt(l,d,ge,b,g,null)}return;default:if(eE(d)){for(we in g)g.hasOwnProperty(we)&&(b=g[we],b!==void 0&&L2(l,d,we,b,g,void 0));return}}for(Y in g)g.hasOwnProperty(Y)&&(b=g[Y],b!=null&&Qt(l,d,Y,b,g,null))}function NK(l,d,g,b){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,O=null,U=null,Y=null,ee=null,ge=null,we=null;for(be in g){var _e=g[be];if(g.hasOwnProperty(be)&&_e!=null)switch(be){case"checked":break;case"value":break;case"defaultValue":ee=_e;default:b.hasOwnProperty(be)||Qt(l,d,be,null,b,_e)}}for(var ye in b){var be=b[ye];if(_e=g[ye],b.hasOwnProperty(ye)&&(be!=null||_e!=null))switch(ye){case"type":O=be;break;case"name":E=be;break;case"checked":ge=be;break;case"defaultChecked":we=be;break;case"value":U=be;break;case"defaultValue":Y=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,d));break;default:be!==_e&&Qt(l,d,ye,be,b,_e)}}Ld(l,U,Y,ee,ge,we,O,E);return;case"select":be=U=Y=ye=null;for(O in g)if(ee=g[O],g.hasOwnProperty(O)&&ee!=null)switch(O){case"value":break;case"multiple":be=ee;default:b.hasOwnProperty(O)||Qt(l,d,O,null,b,ee)}for(E in b)if(O=b[E],ee=g[E],b.hasOwnProperty(E)&&(O!=null||ee!=null))switch(E){case"value":ye=O;break;case"defaultValue":Y=O;break;case"multiple":U=O;default:O!==ee&&Qt(l,d,E,O,b,ee)}d=Y,g=U,b=be,ye!=null?Fd(l,!!g,ye,!1):!!b!=!!g&&(d!=null?Fd(l,!!g,d,!0):Fd(l,!!g,g?[]:"",!1));return;case"textarea":be=ye=null;for(Y in g)if(E=g[Y],g.hasOwnProperty(Y)&&E!=null&&!b.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:Qt(l,d,Y,null,b,E)}for(U in b)if(E=b[U],O=g[U],b.hasOwnProperty(U)&&(E!=null||O!=null))switch(U){case"value":ye=E;break;case"defaultValue":be=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==O&&Qt(l,d,U,E,b,O)}o3(l,ye,be);return;case"option":for(var dt in g)if(ye=g[dt],g.hasOwnProperty(dt)&&ye!=null&&!b.hasOwnProperty(dt))switch(dt){case"selected":l.selected=!1;break;default:Qt(l,d,dt,null,b,ye)}for(ee in b)if(ye=b[ee],be=g[ee],b.hasOwnProperty(ee)&&ye!==be&&(ye!=null||be!=null))switch(ee){case"selected":l.selected=ye&&typeof ye!="function"&&typeof ye!="symbol";break;default:Qt(l,d,ee,ye,b,be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lt in g)ye=g[lt],g.hasOwnProperty(lt)&&ye!=null&&!b.hasOwnProperty(lt)&&Qt(l,d,lt,null,b,ye);for(ge in b)if(ye=b[ge],be=g[ge],b.hasOwnProperty(ge)&&ye!==be&&(ye!=null||be!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,d));break;default:Qt(l,d,ge,ye,b,be)}return;default:if(eE(d)){for(var Zt in g)ye=g[Zt],g.hasOwnProperty(Zt)&&ye!==void 0&&!b.hasOwnProperty(Zt)&&L2(l,d,Zt,void 0,b,ye);for(we in b)ye=b[we],be=g[we],!b.hasOwnProperty(we)||ye===be||ye===void 0&&be===void 0||L2(l,d,we,ye,b,be);return}}for(var ue in g)ye=g[ue],g.hasOwnProperty(ue)&&ye!=null&&!b.hasOwnProperty(ue)&&Qt(l,d,ue,null,b,ye);for(_e in b)ye=b[_e],be=g[_e],!b.hasOwnProperty(_e)||ye===be||ye==null&&be==null||Qt(l,d,_e,ye,b,be)}var F2=null,B2=null;function kb(l){return l.nodeType===9?l:l.ownerDocument}function lk(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ck(l,d){if(l===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&d==="foreignObject"?0:l}function z2(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var V2=null;function _K(){var l=window.event;return l&&l.type==="popstate"?l===V2?!1:(V2=l,!0):(V2=null,!1)}var uk=typeof setTimeout=="function"?setTimeout:void 0,CK=typeof clearTimeout=="function"?clearTimeout:void 0,dk=typeof Promise=="function"?Promise:void 0,OK=typeof queueMicrotask=="function"?queueMicrotask:typeof dk<"u"?function(l){return dk.resolve(null).then(l).catch(jK)}:uk;function jK(l){setTimeout(function(){throw l})}function kl(l){return l==="head"}function fk(l,d){var g=d,b=0,E=0;do{var O=g.nextSibling;if(l.removeChild(g),O&&O.nodeType===8)if(g=O.data,g==="/$"){if(0<b&&8>b){g=b;var U=l.ownerDocument;if(g&1&&wp(U.documentElement),g&2&&wp(U.body),g&4)for(g=U.head,wp(g),U=g.firstChild;U;){var Y=U.nextSibling,ee=U.nodeName;U[Go]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&U.rel.toLowerCase()==="stylesheet"||g.removeChild(U),U=Y}}if(E===0){l.removeChild(O),Ap(d);return}E--}else g==="$"||g==="$?"||g==="$!"?E++:b=g.charCodeAt(0)-48;else b=0;g=O}while(g);Ap(d)}function U2(l){var d=l.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var g=d;switch(d=d.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":U2(g),nu(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}l.removeChild(g)}}function AK(l,d,g,b){for(;l.nodeType===1;){var E=g;if(l.nodeName.toLowerCase()!==d.toLowerCase()){if(!b&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(b){if(!l[Go])switch(d){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(O=l.getAttribute("rel"),O==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(O!==E.rel||l.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||l.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||l.getAttribute("title")!==(E.title==null?null:E.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(O=l.getAttribute("src"),(O!==(E.src==null?null:E.src)||l.getAttribute("type")!==(E.type==null?null:E.type)||l.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&O&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(d==="input"&&l.type==="hidden"){var O=E.name==null?null:""+E.name;if(E.type==="hidden"&&l.getAttribute("name")===O)return l}else return l;if(l=$s(l.nextSibling),l===null)break}return null}function TK(l,d,g){if(d==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!g||(l=$s(l.nextSibling),l===null))return null;return l}function q2(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function $K(l,d){var g=l.ownerDocument;if(l.data!=="$?"||g.readyState==="complete")d();else{var b=function(){d(),g.removeEventListener("DOMContentLoaded",b)};g.addEventListener("DOMContentLoaded",b),l._reactRetry=b}}function $s(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return l}var H2=null;function hk(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"){if(d===0)return l;d--}else g==="/$"&&d++}l=l.previousSibling}return null}function mk(l,d,g){switch(d=kb(g),l){case"html":if(l=d.documentElement,!l)throw Error(r(452));return l;case"head":if(l=d.head,!l)throw Error(r(453));return l;case"body":if(l=d.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function wp(l){for(var d=l.attributes;d.length;)l.removeAttributeNode(d[0]);nu(l)}var Zi=new Map,pk=new Set;function Mb(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var ca=I.d;I.d={f:RK,r:kK,D:MK,C:IK,L:PK,m:DK,X:FK,S:LK,M:BK};function RK(){var l=ca.f(),d=_b();return l||d}function kK(l){var d=kn(l);d!==null&&d.tag===5&&d.type==="form"?I5(d):ca.r(l)}var gf=typeof document>"u"?null:document;function gk(l,d,g){var b=gf;if(b&&typeof d=="string"&&d){var E=Zr(d);E='link[rel="'+l+'"][href="'+E+'"]',typeof g=="string"&&(E+='[crossorigin="'+g+'"]'),pk.has(E)||(pk.add(E),l={rel:l,crossOrigin:g,href:d},b.querySelector(E)===null&&(d=b.createElement("link"),pr(d,"link",l),Vn(d),b.head.appendChild(d)))}}function MK(l){ca.D(l),gk("dns-prefetch",l,null)}function IK(l,d){ca.C(l,d),gk("preconnect",l,d)}function PK(l,d,g){ca.L(l,d,g);var b=gf;if(b&&l&&d){var E='link[rel="preload"][as="'+Zr(d)+'"]';d==="image"&&g&&g.imageSrcSet?(E+='[imagesrcset="'+Zr(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(E+='[imagesizes="'+Zr(g.imageSizes)+'"]')):E+='[href="'+Zr(l)+'"]';var O=E;switch(d){case"style":O=yf(l);break;case"script":O=bf(l)}Zi.has(O)||(l=f({rel:"preload",href:d==="image"&&g&&g.imageSrcSet?void 0:l,as:d},g),Zi.set(O,l),b.querySelector(E)!==null||d==="style"&&b.querySelector(Sp(O))||d==="script"&&b.querySelector(Ep(O))||(d=b.createElement("link"),pr(d,"link",l),Vn(d),b.head.appendChild(d)))}}function DK(l,d){ca.m(l,d);var g=gf;if(g&&l){var b=d&&typeof d.as=="string"?d.as:"script",E='link[rel="modulepreload"][as="'+Zr(b)+'"][href="'+Zr(l)+'"]',O=E;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=bf(l)}if(!Zi.has(O)&&(l=f({rel:"modulepreload",href:l},d),Zi.set(O,l),g.querySelector(E)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Ep(O)))return}b=g.createElement("link"),pr(b,"link",l),Vn(b),g.head.appendChild(b)}}}function LK(l,d,g){ca.S(l,d,g);var b=gf;if(b&&l){var E=Jo(b).hoistableStyles,O=yf(l);d=d||"default";var U=E.get(O);if(!U){var Y={loading:0,preload:null};if(U=b.querySelector(Sp(O)))Y.loading=5;else{l=f({rel:"stylesheet",href:l,"data-precedence":d},g),(g=Zi.get(O))&&W2(l,g);var ee=U=b.createElement("link");Vn(ee),pr(ee,"link",l),ee._p=new Promise(function(ge,we){ee.onload=ge,ee.onerror=we}),ee.addEventListener("load",function(){Y.loading|=1}),ee.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,Ib(U,d,b)}U={type:"stylesheet",instance:U,count:1,state:Y},E.set(O,U)}}}function FK(l,d){ca.X(l,d);var g=gf;if(g&&l){var b=Jo(g).hoistableScripts,E=bf(l),O=b.get(E);O||(O=g.querySelector(Ep(E)),O||(l=f({src:l,async:!0},d),(d=Zi.get(E))&&G2(l,d),O=g.createElement("script"),Vn(O),pr(O,"link",l),g.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},b.set(E,O))}}function BK(l,d){ca.M(l,d);var g=gf;if(g&&l){var b=Jo(g).hoistableScripts,E=bf(l),O=b.get(E);O||(O=g.querySelector(Ep(E)),O||(l=f({src:l,async:!0,type:"module"},d),(d=Zi.get(E))&&G2(l,d),O=g.createElement("script"),Vn(O),pr(O,"link",l),g.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},b.set(E,O))}}function yk(l,d,g,b){var E=(E=fe.current)?Mb(E):null;if(!E)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(d=yf(g.href),g=Jo(E).hoistableStyles,b=g.get(d),b||(b={type:"style",instance:null,count:0,state:null},g.set(d,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){l=yf(g.href);var O=Jo(E).hoistableStyles,U=O.get(l);if(U||(E=E.ownerDocument||E,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(l,U),(O=E.querySelector(Sp(l)))&&!O._p&&(U.instance=O,U.state.loading=5),Zi.has(l)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Zi.set(l,g),O||zK(E,l,g,U.state))),d&&b===null)throw Error(r(528,""));return U}if(d&&b!==null)throw Error(r(529,""));return null;case"script":return d=g.async,g=g.src,typeof g=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=bf(g),g=Jo(E).hoistableScripts,b=g.get(d),b||(b={type:"script",instance:null,count:0,state:null},g.set(d,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function yf(l){return'href="'+Zr(l)+'"'}function Sp(l){return'link[rel="stylesheet"]['+l+"]"}function bk(l){return f({},l,{"data-precedence":l.precedence,precedence:null})}function zK(l,d,g,b){l.querySelector('link[rel="preload"][as="style"]['+d+"]")?b.loading=1:(d=l.createElement("link"),b.preload=d,d.addEventListener("load",function(){return b.loading|=1}),d.addEventListener("error",function(){return b.loading|=2}),pr(d,"link",g),Vn(d),l.head.appendChild(d))}function bf(l){return'[src="'+Zr(l)+'"]'}function Ep(l){return"script[async]"+l}function vk(l,d,g){if(d.count++,d.instance===null)switch(d.type){case"style":var b=l.querySelector('style[data-href~="'+Zr(g.href)+'"]');if(b)return d.instance=b,Vn(b),b;var E=f({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return b=(l.ownerDocument||l).createElement("style"),Vn(b),pr(b,"style",E),Ib(b,g.precedence,l),d.instance=b;case"stylesheet":E=yf(g.href);var O=l.querySelector(Sp(E));if(O)return d.state.loading|=4,d.instance=O,Vn(O),O;b=bk(g),(E=Zi.get(E))&&W2(b,E),O=(l.ownerDocument||l).createElement("link"),Vn(O);var U=O;return U._p=new Promise(function(Y,ee){U.onload=Y,U.onerror=ee}),pr(O,"link",b),d.state.loading|=4,Ib(O,g.precedence,l),d.instance=O;case"script":return O=bf(g.src),(E=l.querySelector(Ep(O)))?(d.instance=E,Vn(E),E):(b=g,(E=Zi.get(O))&&(b=f({},g),G2(b,E)),l=l.ownerDocument||l,E=l.createElement("script"),Vn(E),pr(E,"link",b),l.head.appendChild(E),d.instance=E);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(b=d.instance,d.state.loading|=4,Ib(b,g.precedence,l));return d.instance}function Ib(l,d,g){for(var b=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=b.length?b[b.length-1]:null,O=E,U=0;U<b.length;U++){var Y=b[U];if(Y.dataset.precedence===d)O=Y;else if(O!==E)break}O?O.parentNode.insertBefore(l,O.nextSibling):(d=g.nodeType===9?g.head:g,d.insertBefore(l,d.firstChild))}function W2(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.title==null&&(l.title=d.title)}function G2(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.integrity==null&&(l.integrity=d.integrity)}var Pb=null;function xk(l,d,g){if(Pb===null){var b=new Map,E=Pb=new Map;E.set(g,b)}else E=Pb,b=E.get(g),b||(b=new Map,E.set(g,b));if(b.has(l))return b;for(b.set(l,null),g=g.getElementsByTagName(l),E=0;E<g.length;E++){var O=g[E];if(!(O[Go]||O[ln]||l==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var U=O.getAttribute(d)||"";U=l+U;var Y=b.get(U);Y?Y.push(O):b.set(U,[O])}}return b}function wk(l,d,g){l=l.ownerDocument||l,l.head.insertBefore(g,d==="title"?l.querySelector("head > title"):null)}function VK(l,d,g){if(g===1||d.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return l=d.disabled,typeof d.precedence=="string"&&l==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function Sk(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var Np=null;function UK(){}function qK(l,d,g){if(Np===null)throw Error(r(475));var b=Np;if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var E=yf(g.href),O=l.querySelector(Sp(E));if(O){l=O._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(b.count++,b=Db.bind(b),l.then(b,b)),d.state.loading|=4,d.instance=O,Vn(O);return}O=l.ownerDocument||l,g=bk(g),(E=Zi.get(E))&&W2(g,E),O=O.createElement("link"),Vn(O);var U=O;U._p=new Promise(function(Y,ee){U.onload=Y,U.onerror=ee}),pr(O,"link",g),d.instance=O}b.stylesheets===null&&(b.stylesheets=new Map),b.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(b.count++,d=Db.bind(b),l.addEventListener("load",d),l.addEventListener("error",d))}}function HK(){if(Np===null)throw Error(r(475));var l=Np;return l.stylesheets&&l.count===0&&J2(l,l.stylesheets),0<l.count?function(d){var g=setTimeout(function(){if(l.stylesheets&&J2(l,l.stylesheets),l.unsuspend){var b=l.unsuspend;l.unsuspend=null,b()}},6e4);return l.unsuspend=d,function(){l.unsuspend=null,clearTimeout(g)}}:null}function Db(){if(this.count--,this.count===0){if(this.stylesheets)J2(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Lb=null;function J2(l,d){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Lb=new Map,d.forEach(WK,l),Lb=null,Db.call(l))}function WK(l,d){if(!(d.state.loading&4)){var g=Lb.get(l);if(g)var b=g.get(null);else{g=new Map,Lb.set(l,g);for(var E=l.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<E.length;O++){var U=E[O];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(g.set(U.dataset.precedence,U),b=U)}b&&g.set(null,b)}E=d.instance,U=E.getAttribute("data-precedence"),O=g.get(U)||b,O===b&&g.set(null,E),g.set(U,E),this.count++,b=Db.bind(this),E.addEventListener("load",b),E.addEventListener("error",b),O?O.parentNode.insertBefore(E,O.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(E,l.firstChild)),d.state.loading|=4}}var _p={$$typeof:C,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function GK(l,d,g,b,E,O,U,Y){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fl(0),this.hiddenUpdates=fl(null),this.identifierPrefix=b,this.onUncaughtError=E,this.onCaughtError=O,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function Ek(l,d,g,b,E,O,U,Y,ee,ge,we,_e){return l=new GK(l,d,g,U,Y,ee,ge,_e),d=1,O===!0&&(d|=24),O=wi(3,null,null,d),l.current=O,O.stateNode=l,d=AE(),d.refCount++,l.pooledCache=d,d.refCount++,O.memoizedState={element:b,isDehydrated:g,cache:d},kE(O),l}function Nk(l){return l?(l=Jd,l):Jd}function _k(l,d,g,b,E,O){E=Nk(E),b.context===null?b.context=E:b.pendingContext=E,b=xl(d),b.payload={element:g},O=O===void 0?null:O,O!==null&&(b.callback=O),g=wl(l,b,d),g!==null&&(Ci(g,l,d),tp(g,l,d))}function Ck(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<d?g:d}}function Y2(l,d){Ck(l,d),(l=l.alternate)&&Ck(l,d)}function Ok(l){if(l.tag===13){var d=Gd(l,67108864);d!==null&&Ci(d,l,67108864),Y2(l,67108864)}}var Fb=!0;function JK(l,d,g,b){var E=T.T;T.T=null;var O=I.p;try{I.p=2,X2(l,d,g,b)}finally{I.p=O,T.T=E}}function YK(l,d,g,b){var E=T.T;T.T=null;var O=I.p;try{I.p=8,X2(l,d,g,b)}finally{I.p=O,T.T=E}}function X2(l,d,g,b){if(Fb){var E=K2(b);if(E===null)D2(l,d,b,Bb,g),Ak(l,b);else if(KK(E,l,d,g,b))b.stopPropagation();else if(Ak(l,b),d&4&&-1<XK.indexOf(l)){for(;E!==null;){var O=kn(E);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var U=fr(O.pendingLanes);if(U!==0){var Y=O;for(Y.pendingLanes|=2,Y.entangledLanes|=2;U;){var ee=1<<31-Ge(U);Y.entanglements[1]|=ee,U&=~ee}vo(O),(Jt&6)===0&&(Eb=Oe()+500,bp(0))}}break;case 13:Y=Gd(O,2),Y!==null&&Ci(Y,O,2),_b(),Y2(O,2)}if(O=K2(b),O===null&&D2(l,d,b,Bb,g),O===E)break;E=O}E!==null&&b.stopPropagation()}else D2(l,d,b,null,g)}}function K2(l){return l=nE(l),Q2(l)}var Bb=null;function Q2(l){if(Bb=null,l=gt(l),l!==null){var d=s(l);if(d===null)l=null;else{var g=d.tag;if(g===13){if(l=o(d),l!==null)return l;l=null}else if(g===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null)}}return Bb=l,null}function jk(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ie()){case Pe:return 2;case G:return 8;case re:case te:return 32;case me:return 268435456;default:return 32}default:return 32}}var Z2=!1,Ml=null,Il=null,Pl=null,Cp=new Map,Op=new Map,Dl=[],XK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ak(l,d){switch(l){case"focusin":case"focusout":Ml=null;break;case"dragenter":case"dragleave":Il=null;break;case"mouseover":case"mouseout":Pl=null;break;case"pointerover":case"pointerout":Cp.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Op.delete(d.pointerId)}}function jp(l,d,g,b,E,O){return l===null||l.nativeEvent!==O?(l={blockedOn:d,domEventName:g,eventSystemFlags:b,nativeEvent:O,targetContainers:[E]},d!==null&&(d=kn(d),d!==null&&Ok(d)),l):(l.eventSystemFlags|=b,d=l.targetContainers,E!==null&&d.indexOf(E)===-1&&d.push(E),l)}function KK(l,d,g,b,E){switch(d){case"focusin":return Ml=jp(Ml,l,d,g,b,E),!0;case"dragenter":return Il=jp(Il,l,d,g,b,E),!0;case"mouseover":return Pl=jp(Pl,l,d,g,b,E),!0;case"pointerover":var O=E.pointerId;return Cp.set(O,jp(Cp.get(O)||null,l,d,g,b,E)),!0;case"gotpointercapture":return O=E.pointerId,Op.set(O,jp(Op.get(O)||null,l,d,g,b,E)),!0}return!1}function Tk(l){var d=gt(l.target);if(d!==null){var g=s(d);if(g!==null){if(d=g.tag,d===13){if(d=o(g),d!==null){l.blockedOn=d,Cs(l.priority,function(){if(g.tag===13){var b=_i();b=eu(b);var E=Gd(g,b);E!==null&&Ci(E,g,b),Y2(g,b)}});return}}else if(d===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function zb(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var g=K2(l.nativeEvent);if(g===null){g=l.nativeEvent;var b=new g.constructor(g.type,g);tE=b,g.target.dispatchEvent(b),tE=null}else return d=kn(g),d!==null&&Ok(d),l.blockedOn=g,!1;d.shift()}return!0}function $k(l,d,g){zb(l)&&g.delete(d)}function QK(){Z2=!1,Ml!==null&&zb(Ml)&&(Ml=null),Il!==null&&zb(Il)&&(Il=null),Pl!==null&&zb(Pl)&&(Pl=null),Cp.forEach($k),Op.forEach($k)}function Vb(l,d){l.blockedOn===d&&(l.blockedOn=null,Z2||(Z2=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,QK)))}var Ub=null;function Rk(l){Ub!==l&&(Ub=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ub===l&&(Ub=null);for(var d=0;d<l.length;d+=3){var g=l[d],b=l[d+1],E=l[d+2];if(typeof b!="function"){if(Q2(b||g)===null)continue;break}var O=kn(g);O!==null&&(l.splice(d,3),d-=3,QE(O,{pending:!0,data:E,method:g.method,action:b},b,E))}}))}function Ap(l){function d(ee){return Vb(ee,l)}Ml!==null&&Vb(Ml,l),Il!==null&&Vb(Il,l),Pl!==null&&Vb(Pl,l),Cp.forEach(d),Op.forEach(d);for(var g=0;g<Dl.length;g++){var b=Dl[g];b.blockedOn===l&&(b.blockedOn=null)}for(;0<Dl.length&&(g=Dl[0],g.blockedOn===null);)Tk(g),g.blockedOn===null&&Dl.shift();if(g=(l.ownerDocument||l).$$reactFormReplay,g!=null)for(b=0;b<g.length;b+=3){var E=g[b],O=g[b+1],U=E[zn]||null;if(typeof O=="function")U||Rk(g);else if(U){var Y=null;if(O&&O.hasAttribute("formAction")){if(E=O,U=O[zn]||null)Y=U.formAction;else if(Q2(E)!==null)continue}else Y=U.action;typeof Y=="function"?g[b+1]=Y:(g.splice(b,3),b-=3),Rk(g)}}}function eN(l){this._internalRoot=l}qb.prototype.render=eN.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(r(409));var g=d.current,b=_i();_k(g,b,l,d,null,null)},qb.prototype.unmount=eN.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;_k(l.current,2,null,l,null,null),_b(),d[Os]=null}};function qb(l){this._internalRoot=l}qb.prototype.unstable_scheduleHydration=function(l){if(l){var d=gn();l={blockedOn:null,target:l,priority:d};for(var g=0;g<Dl.length&&d!==0&&d<Dl[g].priority;g++);Dl.splice(g,0,l),g===0&&Tk(l)}};var kk=t.version;if(kk!=="19.1.0")throw Error(r(527,kk,"19.1.0"));I.findDOMNode=function(l){var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=c(d),l=l!==null?u(l):null,l=l===null?null:l.stateNode,l};var ZK={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hb.isDisabled&&Hb.supportsFiber)try{le=Hb.inject(ZK),xe=Hb}catch{}}return $p.createRoot=function(l,d){if(!i(l))throw Error(r(299));var g=!1,b="",E=Y5,O=X5,U=K5,Y=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(E=d.onUncaughtError),d.onCaughtError!==void 0&&(O=d.onCaughtError),d.onRecoverableError!==void 0&&(U=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(Y=d.unstable_transitionCallbacks)),d=Ek(l,1,!1,null,null,g,b,E,O,U,Y,null),l[Os]=d.current,P2(l),new eN(d)},$p.hydrateRoot=function(l,d,g){if(!i(l))throw Error(r(299));var b=!1,E="",O=Y5,U=X5,Y=K5,ee=null,ge=null;return g!=null&&(g.unstable_strictMode===!0&&(b=!0),g.identifierPrefix!==void 0&&(E=g.identifierPrefix),g.onUncaughtError!==void 0&&(O=g.onUncaughtError),g.onCaughtError!==void 0&&(U=g.onCaughtError),g.onRecoverableError!==void 0&&(Y=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(ee=g.unstable_transitionCallbacks),g.formState!==void 0&&(ge=g.formState)),d=Ek(l,1,!0,d,g??null,b,E,O,U,Y,ee,ge),d.context=Nk(null),g=d.current,b=_i(),b=eu(b),E=xl(b),E.callback=null,wl(g,E,b),g=b,d.current.lanes=g,Wo(d,g),vo(d),l[Os]=d.current,P2(l),new qb(d)},$p.version="19.1.0",$p}var Hk;function dQ(){if(Hk)return iN.exports;Hk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),iN.exports=uQ(),iN.exports}var fQ=dQ(),Zl=function(){return Zl=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Zl.apply(this,arguments)};function hQ(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function mQ(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Lv="right-scroll-bar-position",Fv="width-before-scroll-bar",pQ="with-scroll-bars-hidden",gQ="--removed-body-scroll-bar-size";function lN(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function yQ(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var bQ=typeof window<"u"?w.useLayoutEffect:w.useEffect,Wk=new WeakMap;function vQ(e,t){var n=yQ(null,function(r){return e.forEach(function(i){return lN(i,r)})});return bQ(function(){var r=Wk.get(n);if(r){var i=new Set(r),s=new Set(e),o=n.current;i.forEach(function(a){s.has(a)||lN(a,null)}),s.forEach(function(a){i.has(a)||lN(a,o)})}Wk.set(n,e)},[e]),n}var hx=function(){return hx=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},hx.apply(this,arguments)};function xQ(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function wQ(e){return e}function SQ(e,t){t===void 0&&(t=wQ);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var c=function(){var f=o;o=[],f.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),n}}}};return i}function EQ(e){e===void 0&&(e={});var t=SQ(null);return t.options=hx({async:!0,ssr:!1},e),t}var t7=function(e){var t=e.sideCar,n=xQ(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,hx({},n))};t7.isSideCarExport=!0;function NQ(e,t){return e.useMedium(t),t7}var n7=EQ(),cN=function(){},Yw=w.forwardRef(function(e,t){var n=w.useRef(null),r=w.useState({onScrollCapture:cN,onWheelCapture:cN,onTouchMoveCapture:cN}),i=r[0],s=r[1],o=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,m=e.shards,p=e.sideCar,y=e.noIsolation,v=e.inert,x=e.allowPinchZoom,S=e.as,N=S===void 0?"div":S,_=e.gapMode,C=hQ(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=p,A=vQ([n,t]),$=Zl(Zl({},C),i);return w.createElement(w.Fragment,null,f&&w.createElement(j,{sideCar:n7,removeScrollBar:u,shards:m,noIsolation:y,inert:v,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:_}),o?w.cloneElement(w.Children.only(a),Zl(Zl({},$),{ref:A})):w.createElement(N,Zl({},$,{className:c,ref:A}),a))});Yw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yw.classNames={fullWidth:Fv,zeroRight:Lv};var _Q=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function CQ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=_Q();return t&&e.setAttribute("nonce",t),e}function OQ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function jQ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var AQ=function(){var e=0,t=null;return{add:function(n){e==0&&(t=CQ())&&(OQ(t,n),jQ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},TQ=function(){var e=AQ();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},r7=function(){var e=TQ(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},$Q={left:0,top:0,right:0,gap:0},uN=function(e){return parseInt(e||"",10)||0},RQ=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[uN(n),uN(r),uN(i)]},kQ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $Q;var t=RQ(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},MQ=r7(),Gf="data-scroll-locked",IQ=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(pQ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Gf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Lv,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Fv,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Lv," .").concat(Lv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Fv," .").concat(Fv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Gf,`] {
    `).concat(gQ,": ").concat(a,`px;
  }
`)},Gk=function(){var e=parseInt(document.body.getAttribute(Gf)||"0",10);return isFinite(e)?e:0},PQ=function(){w.useEffect(function(){return document.body.setAttribute(Gf,(Gk()+1).toString()),function(){var e=Gk()-1;e<=0?document.body.removeAttribute(Gf):document.body.setAttribute(Gf,e.toString())}},[])},DQ=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;PQ();var s=w.useMemo(function(){return kQ(i)},[i]);return w.createElement(MQ,{styles:IQ(s,!t,i,n?"":"!important")})},yC=!1;if(typeof window<"u")try{var Wb=Object.defineProperty({},"passive",{get:function(){return yC=!0,!0}});window.addEventListener("test",Wb,Wb),window.removeEventListener("test",Wb,Wb)}catch{yC=!1}var vf=yC?{passive:!1}:!1,LQ=function(e){return e.tagName==="TEXTAREA"},i7=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!LQ(e)&&n[t]==="visible")},FQ=function(e){return i7(e,"overflowY")},BQ=function(e){return i7(e,"overflowX")},Jk=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=s7(e,r);if(i){var s=o7(e,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},zQ=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},VQ=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},s7=function(e,t){return e==="v"?FQ(t):BQ(t)},o7=function(e,t){return e==="v"?zQ(t):VQ(t)},UQ=function(e,t){return e==="h"&&t==="rtl"?-1:1},qQ=function(e,t,n,r,i){var s=UQ(e,window.getComputedStyle(t).direction),o=s*r,a=n.target,c=t.contains(a),u=!1,f=o>0,m=0,p=0;do{var y=o7(e,a),v=y[0],x=y[1],S=y[2],N=x-S-s*v;(v||N)&&s7(e,a)&&(m+=N,p+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(f&&Math.abs(m)<1||!f&&Math.abs(p)<1)&&(u=!0),u},Gb=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Yk=function(e){return[e.deltaX,e.deltaY]},Xk=function(e){return e&&"current"in e?e.current:e},HQ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},WQ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},GQ=0,xf=[];function JQ(e){var t=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState(GQ++)[0],s=w.useState(r7)[0],o=w.useRef(e);w.useEffect(function(){o.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=mQ([e.lockRef.current],(e.shards||[]).map(Xk),!0).filter(Boolean);return x.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=w.useCallback(function(x,S){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var N=Gb(x),_=n.current,C="deltaX"in x?x.deltaX:_[0]-N[0],j="deltaY"in x?x.deltaY:_[1]-N[1],A,$=x.target,k=Math.abs(C)>Math.abs(j)?"h":"v";if("touches"in x&&k==="h"&&$.type==="range")return!1;var R=Jk(k,$);if(!R)return!0;if(R?A=k:(A=k==="v"?"h":"v",R=Jk(k,$)),!R)return!1;if(!r.current&&"changedTouches"in x&&(C||j)&&(r.current=A),!A)return!0;var D=r.current||A;return qQ(D,S,x,D==="h"?C:j)},[]),c=w.useCallback(function(x){var S=x;if(!(!xf.length||xf[xf.length-1]!==s)){var N="deltaY"in S?Yk(S):Gb(S),_=t.current.filter(function(A){return A.name===S.type&&(A.target===S.target||S.target===A.shadowParent)&&HQ(A.delta,N)})[0];if(_&&_.should){S.cancelable&&S.preventDefault();return}if(!_){var C=(o.current.shards||[]).map(Xk).filter(Boolean).filter(function(A){return A.contains(S.target)}),j=C.length>0?a(S,C[0]):!o.current.noIsolation;j&&S.cancelable&&S.preventDefault()}}},[]),u=w.useCallback(function(x,S,N,_){var C={name:x,delta:S,target:N,should:_,shadowParent:YQ(N)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(j){return j!==C})},1)},[]),f=w.useCallback(function(x){n.current=Gb(x),r.current=void 0},[]),m=w.useCallback(function(x){u(x.type,Yk(x),x.target,a(x,e.lockRef.current))},[]),p=w.useCallback(function(x){u(x.type,Gb(x),x.target,a(x,e.lockRef.current))},[]);w.useEffect(function(){return xf.push(s),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",c,vf),document.addEventListener("touchmove",c,vf),document.addEventListener("touchstart",f,vf),function(){xf=xf.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,vf),document.removeEventListener("touchmove",c,vf),document.removeEventListener("touchstart",f,vf)}},[]);var y=e.removeScrollBar,v=e.inert;return w.createElement(w.Fragment,null,v?w.createElement(s,{styles:WQ(i)}):null,y?w.createElement(DQ,{gapMode:e.gapMode}):null)}function YQ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const XQ=NQ(n7,JQ);var mx=w.forwardRef(function(e,t){return w.createElement(Yw,Zl({},e,{ref:t,sideCar:XQ}))});mx.classNames=Yw.classNames;function To(e){return Object.keys(e)}function dN(e){return e&&typeof e=="object"&&!Array.isArray(e)}function Jj(e,t){const n={...e},r=t;return dN(e)&&dN(t)&&Object.keys(t).forEach(i=>{dN(r[i])&&i in e?n[i]=Jj(n[i],r[i]):n[i]=r[i]}),n}function KQ(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function QQ(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function ZQ(e){const t=QQ(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function fN(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function a7(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const i=`${r/16}${e}`;return t?fN(i):i}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(s=>n(s)).join(",");if(r.includes(" "))return r.split(" ").map(s=>n(s)).join(" ");if(r.includes(e))return t?fN(r):r;const i=r.replace("px","");if(!Number.isNaN(Number(i))){const s=`${Number(i)/16}${e}`;return t?fN(s):s}}return r}return n}const Te=a7("rem",{shouldScale:!0}),Kk=a7("em");function Yj(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function l7(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(r=>t.test(r))}return!1}function Ic(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==w.Fragment:!1}function el(e){const t=w.createContext(null);return[({children:i,value:s})=>h.jsx(t.Provider,{value:s,children:i}),()=>{const i=w.useContext(t);if(i===null)throw new Error(e);return i}]}function bd(e=null){const t=w.createContext(e);return[({children:i,value:s})=>h.jsx(t.Provider,{value:s,children:i}),()=>w.useContext(t)]}function Qk(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function px(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function eZ(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function tZ(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function nZ(e,t,n){return px(e,n)===px(t,n)}function c7({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var v;n==null||n(a);const c=Array.from(((v=px(a.currentTarget,e))==null?void 0:v.querySelectorAll(t))||[]).filter(x=>nZ(a.currentTarget,x,e)),u=c.findIndex(x=>a.currentTarget===x),f=tZ(u,c,r),m=eZ(u,c,r),p=s==="rtl"?m:f,y=s==="rtl"?f:m;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),c[p].focus(),i&&c[p].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),c[y].focus(),i&&c[y].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),c[m].focus(),i&&c[m].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),c[f].focus(),i&&c[f].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!c[0].disabled&&c[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const x=c.length-1;!c[x].disabled&&c[x].focus();break}}}}const rZ={app:100,modal:200,popover:300,overlay:400,max:9999};function oo(e){return rZ[e]}const bC=()=>{};function iZ(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||bC:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function Mt(e,t="size",n=!0){if(e!==void 0)return l7(e)?n?Te(e):e:`var(--${t}-${e})`}function Xj(e){return Mt(e,"mantine-spacing")}function tr(e){return e===void 0?"var(--mantine-radius-default)":Mt(e,"mantine-radius")}function Jr(e){return Mt(e,"mantine-font-size")}function Kj(e){if(e)return Mt(e,"mantine-shadow",!1)}function jo(e,t){return n=>{e==null||e(n),t==null||t(n)}}function sZ(e,t,n){var r;return n?Array.from(((r=px(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function oZ(){const[e,t]=w.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function Ta(e,t,n){return t===void 0&&n===void 0?e:t!==void 0&&n===void 0?Math.max(e,t):Math.min(t===void 0&&n!==void 0?e:Math.max(e,t),n)}function Jf(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function Tu(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}const aZ=()=>{};function Xw(e,t){const n=typeof t=="number"?t:t.delay,r=typeof t=="number"?!1:t.flushOnUnmount,i=Tu(e),s=w.useRef(0),o=Object.assign(w.useCallback((...a)=>{window.clearTimeout(s.current);const c=()=>{s.current!==0&&(s.current=0,i(...a))};o.flush=c,s.current=window.setTimeout(c,n)},[i,n]),{flush:aZ});return w.useEffect(()=>()=>{window.clearTimeout(s.current),r&&o.flush()},[o,r]),o}const Zk=["mousedown","touchstart"];function lZ(e,t,n){const r=w.useRef(null);return w.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";n.every(u=>!!u&&!s.composedPath().includes(u))&&!a&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||Zk).forEach(s=>document.addEventListener(s,i)),()=>{(t||Zk).forEach(s=>document.removeEventListener(s,i))}},[r,e,n]),r}function cZ(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function uZ(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function dZ(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=w.useState(n?t:uZ(e)),s=w.useRef(null);return w.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),i(s.current.matches),cZ(s.current,o=>i(o.matches))},[e]),r}const Zh=typeof document<"u"?w.useLayoutEffect:w.useEffect;function za(e,t){const n=w.useRef(!1);w.useEffect(()=>()=>{n.current=!1},[]),w.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function u7({opened:e,shouldReturnFocus:t=!0}){const n=w.useRef(null),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return za(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[e,t]),r}const fZ=/input|select|textarea|button|object/,d7="a, input, select, textarea, button, object, [tabindex]";function hZ(e){return e.style.display==="none"}function mZ(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(hZ(n))return!1;n=n.parentNode}return!0}function f7(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function vC(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(f7(e));return(fZ.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&mZ(e)}function h7(e){const t=f7(e);return(Number.isNaN(t)||t>=0)&&vC(e)}function pZ(e){return Array.from(e.querySelectorAll(d7)).filter(h7)}function gZ(e,t){const n=pZ(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],i=e.getRootNode();let s=r===i.activeElement||e===i.activeElement;const o=i.activeElement;if(o.tagName==="INPUT"&&o.getAttribute("type")==="radio"&&(s=n.filter(f=>f.getAttribute("type")==="radio"&&f.getAttribute("name")===o.getAttribute("name")).includes(r)),!s)return;t.preventDefault();const c=n[t.shiftKey?n.length-1:0];c&&c.focus()}function yZ(e=!0){const t=w.useRef(null),n=i=>{let s=i.querySelector("[data-autofocus]");if(!s){const o=Array.from(i.querySelectorAll(d7));s=o.find(h7)||o.find(vC)||null,!s&&vC(i)&&(s=i)}s&&s.focus({preventScroll:!0})},r=w.useCallback(i=>{e&&i!==null&&t.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&n(i)}),t.current=i):t.current=null)},[e]);return w.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>n(t.current));const i=s=>{s.key==="Tab"&&t.current&&gZ(t.current,s)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e]),r}const bZ=e=>(e+1)%1e6;function vZ(){const[,e]=w.useReducer(bZ,0);return e}const xZ=je.useId||(()=>{});function wZ(){const e=xZ();return e?`mantine-${e.replace(/:/g,"")}`:""}function gs(e){const t=wZ(),[n,r]=w.useState(t);return Zh(()=>{r(Jf())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function SZ(e,t,n){w.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function gx(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function EZ(...e){const t=new Map;return n=>{if(e.forEach(r=>{const i=gx(r,n);i&&t.set(r,i)}),t.size>0)return()=>{e.forEach(r=>{const i=t.get(r);i?i():gx(r,null)}),t.clear()}}}function $n(...e){return w.useCallback(EZ(...e),e)}function NZ(e,t,n="ltr"){const r=w.useRef(null),i=w.useRef(!1),s=w.useRef(!1),o=w.useRef(0),[a,c]=w.useState(!1);return w.useEffect(()=>{i.current=!0},[]),w.useEffect(()=>{const u=r.current,f=({x:C,y:j})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&u){u.style.userSelect="none";const A=u.getBoundingClientRect();if(A.width&&A.height){const $=Ta((C-A.left)/A.width,0,1);e({x:n==="ltr"?$:1-$,y:Ta((j-A.top)/A.height,0,1)})}}})},m=()=>{document.addEventListener("mousemove",S),document.addEventListener("mouseup",v),document.addEventListener("touchmove",_),document.addEventListener("touchend",v)},p=()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",v),document.removeEventListener("touchmove",_),document.removeEventListener("touchend",v)},y=()=>{!s.current&&i.current&&(s.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),c(!0),m())},v=()=>{s.current&&i.current&&(s.current=!1,c(!1),p(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},x=C=>{y(),C.preventDefault(),S(C)},S=C=>f({x:C.clientX,y:C.clientY}),N=C=>{C.cancelable&&C.preventDefault(),y(),_(C)},_=C=>{C.cancelable&&C.preventDefault(),f({x:C.changedTouches[0].clientX,y:C.changedTouches[0].clientY})};return u==null||u.addEventListener("mousedown",x),u==null||u.addEventListener("touchstart",N,{passive:!1}),()=>{u&&(u.removeEventListener("mousedown",x),u.removeEventListener("touchstart",N))}},[n,e]),{ref:r,active:a}}function pi({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,s]=w.useState(t!==void 0?t:n),o=(a,...c)=>{s(a),r==null||r(a,...c)};return e!==void 0?[e,r,!0]:[i,o,!1]}function Qj(e,t){return dZ("(prefers-reduced-motion: reduce)",e,t)}function _Z(e,t,n={autoInvoke:!1}){const r=w.useRef(null),i=w.useCallback((...o)=>{r.current||(r.current=window.setTimeout(()=>{e(o),r.current=null},t))},[t]),s=w.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return w.useEffect(()=>(n.autoInvoke&&i(),s),[s,i]),{start:i,clear:s}}function CZ(e){const t=w.useRef(void 0);return w.useEffect(()=>{t.current=e},[e]),t.current}function OZ(e,t,n){const r=w.useRef(null),i=w.useRef(null);return w.useEffect(()=>{const s=typeof n=="function"?n():n;return(s||i.current)&&(r.current=new MutationObserver(e),r.current.observe(s||i.current,t)),()=>{var o;(o=r.current)==null||o.disconnect()}},[e,t]),i}function jZ(){const[e,t]=w.useState(!1);return w.useEffect(()=>t(!0),[]),e}function AZ(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}function TZ(e){function t(r){const i=Object.keys(r).reduce((s,o)=>(s[`${e}:${o}`]=a=>r[o](a.detail),s),{});Zh(()=>(Object.keys(i).forEach(s=>{window.removeEventListener(s,i[s]),window.addEventListener(s,i[s])}),()=>Object.keys(i).forEach(s=>{window.removeEventListener(s,i[s])})),[i])}function n(r){return(...i)=>AZ(`${e}:${String(r)}`,i[0])}return[t,n]}var $Z={};function m7(){return typeof process<"u"&&$Z?"production":"development"}function eM(e,t){return t.length===0?e:t.reduce((n,r)=>Math.abs(r-e)<Math.abs(n-e)?r:n)}function Kw(e){var n;const t=je.version;return typeof je.version!="string"||t.startsWith("18.")?e==null?void 0:e.ref:(n=e==null?void 0:e.props)==null?void 0:n.ref}function p7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=p7(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function vn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=p7(e))&&(r&&(r+=" "),r+=t);return r}const RZ={};function kZ(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,i])=>{t[r]?t[r]=vn(t[r],i):t[r]=i})}),t}function Qw({theme:e,classNames:t,props:n,stylesCtx:r}){const s=(Array.isArray(t)?t:[t]).map(o=>typeof o=="function"?o(e,n,r):o||RZ);return kZ(s)}function yx({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((s,o)=>typeof o=="function"?{...s,...o(e,n,r)}:{...s,...o},{})}const g7=w.createContext(null);function Pc(){const e=w.useContext(g7);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function MZ(){return Pc().cssVariablesResolver}function IZ(){return Pc().classNamesPrefix}function Zj(){return Pc().getStyleNonce}function PZ(){return Pc().withStaticClasses}function DZ(){return Pc().headless}function LZ(){var e;return(e=Pc().stylesTransform)==null?void 0:e.sx}function FZ(){var e;return(e=Pc().stylesTransform)==null?void 0:e.styles}function y7(){return Pc().env||"default"}function BZ(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function zZ(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}if(t.length===8){const o=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:o}}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function VZ(e){const[t,n,r,i]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:r,a:i||1}}function UZ(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,s=parseInt(n[3],10)/100,o=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*s-1))*i,c=r/60,u=a*(1-Math.abs(c%2-1)),f=s-a/2;let m,p,y;return c>=0&&c<1?(m=a,p=u,y=0):c>=1&&c<2?(m=u,p=a,y=0):c>=2&&c<3?(m=0,p=a,y=u):c>=3&&c<4?(m=0,p=u,y=a):c>=4&&c<5?(m=u,p=0,y=a):(m=a,p=0,y=u),{r:Math.round((m+f)*255),g:Math.round((p+f)*255),b:Math.round((y+f)*255),a:o||1}}function eA(e){return BZ(e)?zZ(e):e.startsWith("rgb")?VZ(e):e.startsWith("hsl")?UZ(e):{r:0,g:0,b:0,a:1}}function Jb(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:r,b:i,a:s}=eA(e),o=1-t,a=c=>Math.round(c*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function Mg(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function hN(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function qZ(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function HZ(e){if(e.startsWith("oklch("))return(qZ(e)||0)/100;const{r:t,g:n,b:r}=eA(e),i=t/255,s=n/255,o=r/255,a=hN(i),c=hN(s),u=hN(o);return .2126*a+.7152*c+.0722*u}function Rp(e,t=.179){return e.startsWith("var(")?!1:HZ(e)>t}function Dc({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Rp(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Rp(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Rp(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,i]=e.split("."),s=i?Number(i):void 0,o=r in t.colors;if(o){const a=s!==void 0?t.colors[r][s]:t.colors[r][Mg(t,n||"light")];return{color:r,value:a,shade:s,isThemeColor:o,isLight:Rp(a,t.luminanceThreshold),variable:i?`--mantine-color-${r}-${s}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:o,isLight:Rp(e,t.luminanceThreshold),shade:s,variable:void 0}}function Ar(e,t){const n=Dc({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function tM(e,t){const n={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)??t.defaultGradient.deg??0},r=Ar(n.from,t),i=Ar(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function wo(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const s=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${s}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:i}=eA(e);return`rgba(${n}, ${r}, ${i}, ${t})`}const wf=wo,WZ=({color:e,theme:t,variant:n,gradient:r,autoContrast:i})=>{const s=Dc({color:e,theme:t}),o=typeof i=="boolean"?i:t.autoContrast;if(n==="filled"){const a=o&&s.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return s.isThemeColor?s.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:a,border:`${Te(1)} solid transparent`}:{background:`var(--mantine-color-${s.color}-${s.shade})`,hover:`var(--mantine-color-${s.color}-${s.shade===9?8:s.shade+1})`,color:a,border:`${Te(1)} solid transparent`}:{background:e,hover:Jb(e,.1),color:a,border:`${Te(1)} solid transparent`}}if(n==="light"){if(s.isThemeColor){if(s.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Te(1)} solid transparent`};const a=t.colors[s.color][s.shade];return{background:wo(a,.1),hover:wo(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Te(1)} solid transparent`}}return{background:wo(e,.1),hover:wo(e,.12),color:e,border:`${Te(1)} solid transparent`}}if(n==="outline")return s.isThemeColor?s.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${Te(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:wo(t.colors[s.color][s.shade],.05),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${Te(1)} solid var(--mantine-color-${s.color}-${s.shade})`}:{background:"transparent",hover:wo(e,.05),color:e,border:`${Te(1)} solid ${e}`};if(n==="subtle"){if(s.isThemeColor){if(s.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Te(1)} solid transparent`};const a=t.colors[s.color][s.shade];return{background:"transparent",hover:wo(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Te(1)} solid transparent`}}return{background:"transparent",hover:wo(e,.12),color:e,border:`${Te(1)} solid transparent`}}return n==="transparent"?s.isThemeColor?s.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${Te(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Te(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${Te(1)} solid transparent`}:n==="white"?s.isThemeColor?s.shade===void 0?{background:"var(--mantine-color-white)",hover:Jb(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${Te(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Jb(t.white,.01),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${Te(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Jb(t.white,.01),color:e,border:`${Te(1)} solid transparent`}:n==="gradient"?{background:tM(r,t),hover:tM(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${Te(1)} solid var(--mantine-color-default-border)`}:{}},GZ={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},nM="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",tA={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:GZ,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:WZ,autoContrast:!1,luminanceThreshold:.3,fontFamily:nM,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:nM,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Te(34),lineHeight:"1.3"},h2:{fontSize:Te(26),lineHeight:"1.35"},h3:{fontSize:Te(22),lineHeight:"1.4"},h4:{fontSize:Te(18),lineHeight:"1.45"},h5:{fontSize:Te(16),lineHeight:"1.5"},h6:{fontSize:Te(14),lineHeight:"1.5"}}},fontSizes:{xs:Te(12),sm:Te(14),md:Te(16),lg:Te(18),xl:Te(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Te(2),sm:Te(4),md:Te(8),lg:Te(16),xl:Te(32)},spacing:{xs:Te(10),sm:Te(12),md:Te(16),lg:Te(20),xl:Te(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${Te(1)} ${Te(3)} rgba(0, 0, 0, 0.05), 0 ${Te(1)} ${Te(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${Te(1)} ${Te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Te(10)} ${Te(15)} ${Te(-5)}, rgba(0, 0, 0, 0.04) 0 ${Te(7)} ${Te(7)} ${Te(-5)}`,md:`0 ${Te(1)} ${Te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Te(20)} ${Te(25)} ${Te(-5)}, rgba(0, 0, 0, 0.04) 0 ${Te(10)} ${Te(10)} ${Te(-5)}`,lg:`0 ${Te(1)} ${Te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Te(28)} ${Te(23)} ${Te(-7)}, rgba(0, 0, 0, 0.04) 0 ${Te(12)} ${Te(12)} ${Te(-7)}`,xl:`0 ${Te(1)} ${Te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Te(36)} ${Te(28)} ${Te(-7)}, rgba(0, 0, 0, 0.04) 0 ${Te(17)} ${Te(17)} ${Te(-7)}`},other:{},components:{}};function rM(e){return e==="auto"||e==="dark"||e==="light"}function JZ({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return rM(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&rM(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const YZ="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",iM="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function mN(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function sM(e){if(!(e.primaryColor in e.colors))throw new Error(YZ);if(typeof e.primaryShade=="object"&&(!mN(e.primaryShade.dark)||!mN(e.primaryShade.light)))throw new Error(iM);if(typeof e.primaryShade=="number"&&!mN(e.primaryShade))throw new Error(iM)}function XZ(e,t){var r;if(!t)return sM(e),e;const n=Jj(e,t);return t.fontFamily&&!((r=t.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=t.fontFamily),sM(n),n}const nA=w.createContext(null),KZ=()=>w.useContext(nA)||tA;function Vi(){const e=w.useContext(nA);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function b7({theme:e,children:t,inherit:n=!0}){const r=KZ(),i=w.useMemo(()=>XZ(n?r:tA,e),[e,r,n]);return h.jsx(nA.Provider,{value:i,children:t})}b7.displayName="@mantine/core/MantineThemeProvider";function QZ(){const e=Vi(),t=Zj(),n=To(e.breakpoints).reduce((r,i)=>{const s=e.breakpoints[i].includes("px"),o=ZQ(e.breakpoints[i]),a=s?`${o-.1}px`:Kk(o-.1),c=s?`${o}px`:Kk(o);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${c}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return h.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:n}})}function pN(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function kp(e,t){return(Array.isArray(e)?e:[e]).reduce((r,i)=>`${i}{${r}}`,t)}function ZZ(e,t){const n=pN(e.variables),r=n?kp(t,n):"",i=pN(e.dark),s=pN(e.light),o=i?kp(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,i):"",a=s?kp(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,s):"";return`${r}${o}${a}`}function Fy({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&Dc({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function oM(e,t){return Fy({color:e.colors[e.primaryColor][Mg(e,t)],theme:e,autoContrast:null})}function Yb({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:i=!0}){if(!e.colors[t])return{};if(n==="light"){const a=Mg(e,"light"),c={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:wf(e.colors[t][a],.1),[`--mantine-color-${r}-light-hover`]:wf(e.colors[t][a],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline-hover`]:wf(e.colors[t][a],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...c}:c}const s=Mg(e,"dark"),o={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${s===9?8:s+1})`,[`--mantine-color-${r}-light`]:wf(e.colors[t][Math.max(0,s-2)],.15),[`--mantine-color-${r}-light-hover`]:wf(e.colors[t][Math.max(0,s-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(s-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(s-4,0)})`,[`--mantine-color-${r}-outline-hover`]:wf(e.colors[t][Math.max(s-4,0)],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...o}:o}function eee(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function Sf(e,t,n){To(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const v7=e=>{const t=Mg(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:Te(e.defaultRadius),r={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":oM(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":oM(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};Sf(r.variables,e.breakpoints,"breakpoint"),Sf(r.variables,e.spacing,"spacing"),Sf(r.variables,e.fontSizes,"font-size"),Sf(r.variables,e.lineHeights,"line-height"),Sf(r.variables,e.shadows,"shadow"),Sf(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((s,o)=>{r.variables[`--mantine-primary-color-${o}`]=`var(--mantine-color-${e.primaryColor}-${o})`}),To(e.colors).forEach(s=>{const o=e.colors[s];if(eee(o)){Object.assign(r.light,Yb({theme:e,name:o.name,color:o.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,Yb({theme:e,name:o.name,color:o.dark,colorScheme:"dark",withColorValues:!0}));return}o.forEach((a,c)=>{r.variables[`--mantine-color-${s}-${c}`]=a}),Object.assign(r.light,Yb({theme:e,color:s,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,Yb({theme:e,color:s,colorScheme:"dark",withColorValues:!1}))});const i=e.headings.sizes;return To(i).forEach(s=>{r.variables[`--mantine-${s}-font-size`]=i[s].fontSize,r.variables[`--mantine-${s}-line-height`]=i[s].lineHeight,r.variables[`--mantine-${s}-font-weight`]=i[s].fontWeight||e.headings.fontWeight}),r};function tee({theme:e,generator:t}){const n=v7(e),r=t==null?void 0:t(e);return r?Jj(n,r):n}const gN=v7(tA);function nee(e){const t={variables:{},light:{},dark:{}};return To(e.variables).forEach(n=>{gN.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),To(e.light).forEach(n=>{gN.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),To(e.dark).forEach(n=>{gN.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function ree(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function x7({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=Vi(),r=Zj(),i=MZ(),s=tee({theme:n,generator:i}),o=e===":root"&&t,a=o?nee(s):s,c=ZZ(a,e);return c?h.jsx("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${c}${o?"":ree(e)}`}}):null}x7.displayName="@mantine/CssVariables";function iee(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function Ef(e,t){var i,s;const n=typeof window<"u"&&"matchMedia"in window&&((i=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:i.matches),r=e!=="auto"?e:n?"dark":"light";(s=t())==null||s.setAttribute("data-mantine-color-scheme",r)}function see({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const i=w.useRef(null),[s,o]=w.useState(()=>e.get(t)),a=r||s,c=w.useCallback(f=>{r||(Ef(f,n),o(f),e.set(f))},[e.set,a,r]),u=w.useCallback(()=>{o(t),Ef(t,n),e.clear()},[e.clear,t]);return w.useEffect(()=>(e.subscribe(c),e.unsubscribe),[e.subscribe,e.unsubscribe]),Zh(()=>{Ef(e.get(t),n)},[]),w.useEffect(()=>{var m;if(r)return Ef(r,n),()=>{};r===void 0&&Ef(s,n),typeof window<"u"&&"matchMedia"in window&&(i.current=window.matchMedia("(prefers-color-scheme: dark)"));const f=p=>{s==="auto"&&Ef(p.matches?"dark":"light",n)};return(m=i.current)==null||m.addEventListener("change",f),()=>{var p;return(p=i.current)==null?void 0:p.removeEventListener("change",f)}},[s,r]),{colorScheme:a,setColorScheme:c,clearColorScheme:u}}function oee({respectReducedMotion:e,getRootElement:t}){Zh(()=>{var n;e&&((n=t())==null||n.setAttribute("data-respect-reduced-motion","true"))},[e])}iee();function w7({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:i=!0,deduplicateCssVariables:s=!0,withCssVariables:o=!0,cssVariablesSelector:a=":root",classNamesPrefix:c="mantine",colorSchemeManager:u=JZ(),defaultColorScheme:f="light",getRootElement:m=()=>document.documentElement,cssVariablesResolver:p,forceColorScheme:y,stylesTransform:v,env:x}){const{colorScheme:S,setColorScheme:N,clearColorScheme:_}=see({defaultColorScheme:f,forceColorScheme:y,manager:u,getRootElement:m});return oee({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:m}),h.jsx(g7.Provider,{value:{colorScheme:S,setColorScheme:N,clearColorScheme:_,getRootElement:m,classNamesPrefix:c,getStyleNonce:n,cssVariablesResolver:p,cssVariablesSelector:a,withStaticClasses:r,stylesTransform:v,env:x},children:h.jsxs(b7,{theme:e,children:[o&&h.jsx(x7,{cssVariablesSelector:a,deduplicateCssVariables:s}),i&&h.jsx(QZ,{}),t]})})}w7.displayName="@mantine/core/MantineProvider";function em({classNames:e,styles:t,props:n,stylesCtx:r}){const i=Vi();return{resolvedClassNames:Qw({theme:i,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:yx({theme:i,styles:t,props:n,stylesCtx:r||void 0})}}const aee={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function lee({theme:e,options:t,unstyled:n}){return vn((t==null?void 0:t.focusable)&&!n&&(e.focusClassName||aee[e.focusRing]),(t==null?void 0:t.active)&&!n&&e.activeClassName)}function cee({selector:e,stylesCtx:t,options:n,props:r,theme:i}){return Qw({theme:i,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:t})[e]}function aM({selector:e,stylesCtx:t,theme:n,classNames:r,props:i}){return Qw({theme:n,classNames:r,props:i,stylesCtx:t})[e]}function uee({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function dee({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function fee({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:r}){return r===!1?[]:e.map(i=>`${t}-${i}-${n}`)}function hee({themeName:e,theme:t,selector:n,props:r,stylesCtx:i}){return e.map(s=>{var o,a;return(a=Qw({theme:t,classNames:(o=t.components[s])==null?void 0:o.classNames,props:r,stylesCtx:i}))==null?void 0:a[n]})}function mee({options:e,classes:t,selector:n,unstyled:r}){return e!=null&&e.variant&&!r?t[`${n}--${e.variant}`]:void 0}function pee({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:i,classNames:s,classes:o,unstyled:a,className:c,rootSelector:u,props:f,stylesCtx:m,withStaticClasses:p,headless:y,transformedStyles:v}){return vn(lee({theme:e,options:t,unstyled:a||y}),hee({theme:e,themeName:n,selector:r,props:f,stylesCtx:m}),mee({options:t,classes:o,selector:r,unstyled:a}),aM({selector:r,stylesCtx:m,theme:e,classNames:s,props:f}),aM({selector:r,stylesCtx:m,theme:e,classNames:v,props:f}),cee({selector:r,stylesCtx:m,options:t,props:f,theme:e}),uee({rootSelector:u,selector:r,className:c}),dee({selector:r,classes:o,unstyled:a||y}),p&&!y&&fee({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function gee({theme:e,themeName:t,props:n,stylesCtx:r,selector:i}){return t.map(s=>{var o;return yx({theme:e,styles:(o=e.components[s])==null?void 0:o.styles,props:n,stylesCtx:r})[i]}).reduce((s,o)=>({...s,...o}),{})}function xC({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...xC({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function yee(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],...Yj(n[r])}}),t),{})}function bee({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:i,selector:s,themeName:o,headless:a}){var c;return(c=yee([a?{}:t==null?void 0:t(n,r,i),...o.map(u=>{var f,m,p;return(p=(m=(f=n.components)==null?void 0:f[u])==null?void 0:m.vars)==null?void 0:p.call(m,n,r,i)}),e==null?void 0:e(n,r,i)]))==null?void 0:c[s]}function vee({theme:e,themeName:t,selector:n,options:r,props:i,stylesCtx:s,rootSelector:o,styles:a,style:c,vars:u,varsResolver:f,headless:m,withStylesTransform:p}){return{...!p&&gee({theme:e,themeName:t,props:i,stylesCtx:s,selector:n}),...!p&&yx({theme:e,styles:a,props:i,stylesCtx:s})[n],...!p&&yx({theme:e,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||i,stylesCtx:s})[n],...bee({theme:e,props:i,stylesCtx:s,vars:u,varsResolver:f,selector:n,themeName:t,headless:m}),...o===n?xC({style:c,theme:e}):null,...xC({style:r==null?void 0:r.style,theme:e})}}function xee({props:e,stylesCtx:t,themeName:n}){var o;const r=Vi(),i=(o=FZ())==null?void 0:o();return{getTransformedStyles:a=>i?[...a.map(u=>i(u,{props:e,theme:r,ctx:t})),...n.map(u=>{var f;return i((f=r.components[u])==null?void 0:f.styles,{props:e,theme:r,ctx:t})})].filter(Boolean):[],withStylesTransform:!!i}}function wt({name:e,classes:t,props:n,stylesCtx:r,className:i,style:s,rootSelector:o="root",unstyled:a,classNames:c,styles:u,vars:f,varsResolver:m}){const p=Vi(),y=IZ(),v=PZ(),x=DZ(),S=(Array.isArray(e)?e:[e]).filter(C=>C),{withStylesTransform:N,getTransformedStyles:_}=xee({props:n,stylesCtx:r,themeName:S});return(C,j)=>({className:pee({theme:p,options:j,themeName:S,selector:C,classNamesPrefix:y,classNames:c,classes:t,unstyled:a,className:i,rootSelector:o,props:n,stylesCtx:r,withStaticClasses:v,headless:x,transformedStyles:_([j==null?void 0:j.styles,u])}),style:vee({theme:p,themeName:S,selector:C,options:j,props:n,stylesCtx:r,rootSelector:o,styles:u,style:s,vars:f,varsResolver:m,headless:x,withStylesTransform:N})})}function rA(e,t){return typeof e=="boolean"?e:t.autoContrast}function De(e,t,n){var o;const r=Vi(),i=(o=r.components[e])==null?void 0:o.defaultProps,s=typeof i=="function"?i(r):i;return{...t,...s,...Yj(n)}}function yN(e){return To(e).reduce((t,n)=>e[n]!==void 0?`${t}${KQ(n)}:${e[n]};`:t,"").trim()}function wee({selector:e,styles:t,media:n,container:r}){const i=t?yN(t):"",s=Array.isArray(n)?n.map(a=>`@media${a.query}{${e}{${yN(a.styles)}}}`):[],o=Array.isArray(r)?r.map(a=>`@container ${a.query}{${e}{${yN(a.styles)}}}`):[];return`${i?`${e}{${i}}`:""}${s.join("")}${o.join("")}`.trim()}function See(e){const t=Zj();return h.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:wee(e)}})}function tm(e){const{m:t,mx:n,my:r,mt:i,mb:s,ml:o,mr:a,me:c,ms:u,p:f,px:m,py:p,pt:y,pb:v,pl:x,pr:S,pe:N,ps:_,bd:C,bg:j,c:A,opacity:$,ff:k,fz:R,fw:D,lts:z,ta:L,lh:F,fs:H,tt:M,td:V,w:T,miw:I,maw:P,h:W,mih:B,mah:q,bgsz:X,bgp:Q,bgr:ie,bga:ae,pos:fe,top:ce,left:he,bottom:ve,right:Ae,inset:Ce,display:Ee,flex:Re,hiddenFrom:ke,visibleFrom:We,lightHidden:et,darkHidden:Oe,sx:Ie,...Pe}=e;return{styleProps:Yj({m:t,mx:n,my:r,mt:i,mb:s,ml:o,mr:a,me:c,ms:u,p:f,px:m,py:p,pt:y,pb:v,pl:x,pr:S,pe:N,ps:_,bd:C,bg:j,c:A,opacity:$,ff:k,fz:R,fw:D,lts:z,ta:L,lh:F,fs:H,tt:M,td:V,w:T,miw:I,maw:P,h:W,mih:B,mah:q,bgsz:X,bgp:Q,bgr:ie,bga:ae,pos:fe,top:ce,left:he,bottom:ve,right:Ae,inset:Ce,display:Ee,flex:Re,hiddenFrom:ke,visibleFrom:We,lightHidden:et,darkHidden:Oe,sx:Ie}),rest:Pe}}const Eee={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function iA(e,t){const n=Dc({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function Nee(e,t){const n=Dc({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:iA(e,t)}function _ee(e,t){if(typeof e=="number")return Te(e);if(typeof e=="string"){const[n,r,...i]=e.split(" ").filter(o=>o.trim()!=="");let s=`${Te(n)}`;return r&&(s+=` ${r}`),i.length>0&&(s+=` ${iA(i.join(" "),t)}`),s.trim()}return e}const lM={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function Cee(e){return typeof e=="string"&&e in lM?lM[e]:e}const Oee=["h1","h2","h3","h4","h5","h6"];function jee(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&Oee.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?Te(e):e}function Aee(e){return e}const Tee=["h1","h2","h3","h4","h5","h6"];function $ee(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&Tee.includes(e)?`var(--mantine-${e}-line-height)`:e}function Ree(e){return typeof e=="number"?Te(e):e}function kee(e,t){if(typeof e=="number")return Te(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return Te(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const bN={color:iA,textColor:Nee,fontSize:jee,spacing:kee,identity:Aee,size:Ree,lineHeight:$ee,fontFamily:Cee,border:_ee};function cM(e){return e.replace("(min-width: ","").replace("em)","")}function Mee({media:e,...t}){const r=Object.keys(e).sort((i,s)=>Number(cM(i))-Number(cM(s))).map(i=>({query:i,styles:e[i]}));return{...t,media:r}}function Iee(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function Pee(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function Dee(e){return typeof e=="object"&&e!==null?To(e).filter(t=>t!=="base"):[]}function Lee(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function Fee({styleProps:e,data:t,theme:n}){return Mee(To(e).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return r;const s=t[i],o=Array.isArray(s.property)?s.property:[s.property],a=Pee(e[i]);if(!Iee(e[i]))return o.forEach(u=>{r.inlineStyles[u]=bN[s.type](a,n)}),r;r.hasResponsiveStyles=!0;const c=Dee(e[i]);return o.forEach(u=>{a&&(r.styles[u]=bN[s.type](a,n)),c.forEach(f=>{const m=`(min-width: ${n.breakpoints[f]})`;r.media[m]={...r.media[m],[u]:bN[s.type](Lee(e[i],f),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function Bee(){return`__m__-${w.useId().replace(/:/g,"")}`}function S7(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...S7(r,t)}),{}):typeof e=="function"?e(t):e??{}}function E7(e){return e.startsWith("data-")?e:`data-${e}`}function zee(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[E7(n)]=e[n]),t},{})}function N7(e){return e?typeof e=="string"?{[E7(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...N7(n)}),{}):zee(e):null}function wC(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...wC(r,t)}),{}):typeof e=="function"?e(t):e??{}}function Vee({theme:e,style:t,vars:n,styleProps:r}){const i=wC(t,e),s=wC(n,e);return{...i,...s,...r}}const _7=w.forwardRef(({component:e,style:t,__vars:n,className:r,variant:i,mod:s,size:o,hiddenFrom:a,visibleFrom:c,lightHidden:u,darkHidden:f,renderRoot:m,__size:p,...y},v)=>{var R;const x=Vi(),S=e||"div",{styleProps:N,rest:_}=tm(y),C=LZ(),j=(R=C==null?void 0:C())==null?void 0:R(N.sx),A=Bee(),$=Fee({styleProps:N,theme:x,data:Eee}),k={ref:v,style:Vee({theme:x,style:t,vars:n,styleProps:$.inlineStyles}),className:vn(r,j,{[A]:$.hasResponsiveStyles,"mantine-light-hidden":u,"mantine-dark-hidden":f,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${c}`]:c}),"data-variant":i,"data-size":l7(o)?void 0:o||void 0,size:p,...N7(s),..._};return h.jsxs(h.Fragment,{children:[$.hasResponsiveStyles&&h.jsx(See,{selector:`.${A}`,styles:$.styles,media:$.media}),typeof m=="function"?m(k):h.jsx(S,{...k})]})});_7.displayName="@mantine/core/Box";const Ue=_7;function C7(e){return e}function Je(e){const t=w.forwardRef(e);return t.extend=C7,t.withProps=n=>{const r=w.forwardRef((i,s)=>h.jsx(t,{...n,...i,ref:s}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t}function Lc(e){const t=w.forwardRef(e);return t.withProps=n=>{const r=w.forwardRef((i,s)=>h.jsx(t,{...n,...i,ref:s}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t.extend=C7,t}const Uee=w.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Fc(){return w.useContext(Uee)}var By=e7();const Ff=so(By),[qee,ys]=el("ScrollArea.Root component was not found in tree");function Nh(e,t){const n=Tu(t);Zh(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const Hee=w.forwardRef((e,t)=>{const{style:n,...r}=e,i=ys(),[s,o]=w.useState(0),[a,c]=w.useState(0),u=!!(s&&a);return Nh(i.scrollbarX,()=>{var m;const f=((m=i.scrollbarX)==null?void 0:m.offsetHeight)||0;i.onCornerHeightChange(f),c(f)}),Nh(i.scrollbarY,()=>{var m;const f=((m=i.scrollbarY)==null?void 0:m.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),u?h.jsx("div",{...r,ref:t,style:{...n,width:s,height:a}}):null}),Wee=w.forwardRef((e,t)=>{const n=ys(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?h.jsx(Hee,{...e,ref:t}):null}),Gee={scrollHideDelay:1e3,type:"hover"},O7=w.forwardRef((e,t)=>{const n=De("ScrollAreaRoot",Gee,e),{type:r,scrollHideDelay:i,scrollbars:s,...o}=n,[a,c]=w.useState(null),[u,f]=w.useState(null),[m,p]=w.useState(null),[y,v]=w.useState(null),[x,S]=w.useState(null),[N,_]=w.useState(0),[C,j]=w.useState(0),[A,$]=w.useState(!1),[k,R]=w.useState(!1),D=$n(t,z=>c(z));return h.jsx(qee,{value:{type:r,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:f,content:m,onContentChange:p,scrollbarX:y,onScrollbarXChange:v,scrollbarXEnabled:A,onScrollbarXEnabledChange:$,scrollbarY:x,onScrollbarYChange:S,scrollbarYEnabled:k,onScrollbarYEnabledChange:R,onCornerWidthChange:_,onCornerHeightChange:j},children:h.jsx(Ue,{...o,ref:D,__vars:{"--sa-corner-width":s!=="xy"?"0px":`${N}px`,"--sa-corner-height":s!=="xy"?"0px":`${C}px`}})})});O7.displayName="@mantine/core/ScrollAreaRoot";function j7(e,t){const n=e/t;return Number.isNaN(n)?0:n}function Zw(e){const t=j7(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function A7(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Jee(e,[t,n]){return Math.min(n,Math.max(t,e))}function uM(e,t,n="ltr"){const r=Zw(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,c=n==="ltr"?[0,o]:[o*-1,0],u=Jee(e,c);return A7([0,o],[0,a])(u)}function Yee(e,t,n,r="ltr"){const i=Zw(n),s=i/2,o=t||s,a=i-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,f=n.content-n.viewport,m=r==="ltr"?[0,f]:[f*-1,0];return A7([c,u],m)(e)}function T7(e,t){return e>0&&e<t}function fc(e){return e?parseInt(e,10):0}function ed(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e==null||e(r),(n===!1||!r.defaultPrevented)&&(t==null||t(r))}}const[Xee,$7]=el("ScrollAreaScrollbar was not found in tree"),R7=w.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:a,onDragScroll:c,onWheelScroll:u,onResize:f,...m}=e,p=ys(),[y,v]=w.useState(null),x=$n(t,R=>v(R)),S=w.useRef(null),N=w.useRef(""),{viewport:_}=p,C=n.content-n.viewport,j=Tu(u),A=Tu(a),$=Xw(f,10),k=R=>{if(S.current){const D=R.clientX-S.current.left,z=R.clientY-S.current.top;c({x:D,y:z})}};return w.useEffect(()=>{const R=D=>{const z=D.target;(y==null?void 0:y.contains(z))&&j(D,C)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[_,y,C,j]),w.useEffect(A,[n,A]),Nh(y,$),Nh(p.content,$),h.jsx(Xee,{value:{scrollbar:y,hasThumb:r,onThumbChange:Tu(i),onThumbPointerUp:Tu(s),onThumbPositionChange:A,onThumbPointerDown:Tu(o)},children:h.jsx("div",{...m,ref:x,"data-mantine-scrollbar":!0,style:{position:"absolute",...m.style},onPointerDown:ed(e.onPointerDown,R=>{R.preventDefault(),R.button===0&&(R.target.setPointerCapture(R.pointerId),S.current=y.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",k(R))}),onPointerMove:ed(e.onPointerMove,k),onPointerUp:ed(e.onPointerUp,R=>{const D=R.target;D.hasPointerCapture(R.pointerId)&&(R.preventDefault(),D.releasePointerCapture(R.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=N.current,S.current=null}})})}),k7=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...s}=e,o=ys(),[a,c]=w.useState(),u=w.useRef(null),f=$n(t,u,o.onScrollbarXChange);return w.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),h.jsx(R7,{"data-orientation":"horizontal",...s,ref:f,sizes:n,style:{...i,"--sa-thumb-width":`${Zw(n)}px`},onThumbPointerDown:m=>e.onThumbPointerDown(m.x),onDragScroll:m=>e.onDragScroll(m.x),onWheelScroll:(m,p)=>{if(o.viewport){const y=o.viewport.scrollLeft+m.deltaX;e.onWheelScroll(y),T7(y,p)&&m.preventDefault()}},onResize:()=>{u.current&&o.viewport&&a&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:fc(a.paddingLeft),paddingEnd:fc(a.paddingRight)}})}})});k7.displayName="@mantine/core/ScrollAreaScrollbarX";const M7=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...s}=e,o=ys(),[a,c]=w.useState(),u=w.useRef(null),f=$n(t,u,o.onScrollbarYChange);return w.useEffect(()=>{u.current&&c(window.getComputedStyle(u.current))},[]),h.jsx(R7,{...s,"data-orientation":"vertical",ref:f,sizes:n,style:{"--sa-thumb-height":`${Zw(n)}px`,...i},onThumbPointerDown:m=>e.onThumbPointerDown(m.y),onDragScroll:m=>e.onDragScroll(m.y),onWheelScroll:(m,p)=>{if(o.viewport){const y=o.viewport.scrollTop+m.deltaY;e.onWheelScroll(y),T7(y,p)&&m.preventDefault()}},onResize:()=>{u.current&&o.viewport&&a&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:fc(a.paddingTop),paddingEnd:fc(a.paddingBottom)}})}})});M7.displayName="@mantine/core/ScrollAreaScrollbarY";const e1=w.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:i}=Fc(),s=ys(),o=w.useRef(null),a=w.useRef(0),[c,u]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=j7(c.viewport,c.content),m={...r,sizes:c,onSizesChange:u,hasThumb:f>0&&f<1,onThumbChange:y=>{o.current=y},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:y=>{a.current=y}},p=(y,v)=>Yee(y,a.current,c,v);return n==="horizontal"?h.jsx(k7,{...m,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const y=s.viewport.scrollLeft,v=uM(y,c,i);o.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:y=>{s.viewport&&(s.viewport.scrollLeft=y)},onDragScroll:y=>{s.viewport&&(s.viewport.scrollLeft=p(y,i))}}):n==="vertical"?h.jsx(M7,{...m,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const y=s.viewport.scrollTop,v=uM(y,c);c.scrollbar.size===0?o.current.style.setProperty("--thumb-opacity","0"):o.current.style.setProperty("--thumb-opacity","1"),o.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:y=>{s.viewport&&(s.viewport.scrollTop=y)},onDragScroll:y=>{s.viewport&&(s.viewport.scrollTop=p(y))}}):null});e1.displayName="@mantine/core/ScrollAreaScrollbarVisible";const sA=w.forwardRef((e,t)=>{const n=ys(),{forceMount:r,...i}=e,[s,o]=w.useState(!1),a=e.orientation==="horizontal",c=Xw(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:f)}},10);return Nh(n.viewport,c),Nh(n.content,c),r||s?h.jsx(e1,{"data-state":s?"visible":"hidden",...i,ref:t}):null});sA.displayName="@mantine/core/ScrollAreaScrollbarAuto";const I7=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ys(),[s,o]=w.useState(!1);return w.useEffect(()=>{const{scrollArea:a}=i;let c=0;if(a){const u=()=>{window.clearTimeout(c),o(!0)},f=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),n||s?h.jsx(sA,{"data-state":s?"visible":"hidden",...r,ref:t}):null});I7.displayName="@mantine/core/ScrollAreaScrollbarHover";const Kee=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ys(),s=e.orientation==="horizontal",[o,a]=w.useState("hidden"),c=Xw(()=>a("idle"),100);return w.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>a("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,i.scrollHideDelay]),w.useEffect(()=>{const{viewport:u}=i,f=s?"scrollLeft":"scrollTop";if(u){let m=u[f];const p=()=>{const y=u[f];m!==y&&(a("scrolling"),c()),m=y};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[i.viewport,s,c]),n||o!=="hidden"?h.jsx(e1,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ed(e.onPointerEnter,()=>a("interacting")),onPointerLeave:ed(e.onPointerLeave,()=>a("idle"))}):null}),SC=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ys(),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return w.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?h.jsx(I7,{...r,ref:t,forceMount:n}):i.type==="scroll"?h.jsx(Kee,{...r,ref:t,forceMount:n}):i.type==="auto"?h.jsx(sA,{...r,ref:t,forceMount:n}):i.type==="always"?h.jsx(e1,{...r,ref:t}):null});SC.displayName="@mantine/core/ScrollAreaScrollbar";function Qee(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)}const P7=w.forwardRef((e,t)=>{const{style:n,...r}=e,i=ys(),s=$7(),{onThumbPositionChange:o}=s,a=$n(t,f=>s.onThumbChange(f)),c=w.useRef(void 0),u=Xw(()=>{c.current&&(c.current(),c.current=void 0)},100);return w.useEffect(()=>{const{viewport:f}=i;if(f){const m=()=>{if(u(),!c.current){const p=Qee(f,o);c.current=p,o()}};return o(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,u,o]),h.jsx("div",{"data-state":s.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:ed(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),y=f.clientX-p.left,v=f.clientY-p.top;s.onThumbPointerDown({x:y,y:v})}),onPointerUp:ed(e.onPointerUp,s.onThumbPointerUp)})});P7.displayName="@mantine/core/ScrollAreaThumb";const EC=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=$7();return n||i.hasThumb?h.jsx(P7,{ref:t,...r}):null});EC.displayName="@mantine/core/ScrollAreaThumb";const D7=w.forwardRef(({children:e,style:t,...n},r)=>{const i=ys(),s=$n(r,i.onViewportChange);return h.jsx(Ue,{...n,ref:s,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t},children:h.jsx("div",{style:{minWidth:"100%",display:"table"},ref:i.onContentChange,children:e})})});D7.displayName="@mantine/core/ScrollAreaViewport";var oA={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const L7={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},Zee=(e,{scrollbarSize:t,overscrollBehavior:n})=>({root:{"--scrollarea-scrollbar-size":Te(t),"--scrollarea-over-scroll-behavior":n}}),zy=Je((e,t)=>{const n=De("ScrollArea",L7,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,scrollbarSize:c,vars:u,type:f,scrollHideDelay:m,viewportProps:p,viewportRef:y,onScrollPositionChange:v,children:x,offsetScrollbars:S,scrollbars:N,onBottomReached:_,onTopReached:C,overscrollBehavior:j,...A}=n,[$,k]=w.useState(!1),R=wt({name:"ScrollArea",props:n,classes:oA,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Zee});return h.jsxs(O7,{type:f==="never"?"always":f,scrollHideDelay:m,ref:t,scrollbars:N,...R("root"),...A,children:[h.jsx(D7,{...p,...R("viewport",{style:p==null?void 0:p.style}),ref:y,"data-offset-scrollbars":S===!0?"xy":S||void 0,"data-scrollbars":N||void 0,onScroll:D=>{var H;(H=p==null?void 0:p.onScroll)==null||H.call(p,D),v==null||v({x:D.currentTarget.scrollLeft,y:D.currentTarget.scrollTop});const{scrollTop:z,scrollHeight:L,clientHeight:F}=D.currentTarget;z-(L-F)>=0&&(_==null||_()),z===0&&(C==null||C())},children:x}),(N==="xy"||N==="x")&&h.jsx(SC,{...R("scrollbar"),orientation:"horizontal","data-hidden":f==="never"||void 0,forceMount:!0,onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:h.jsx(EC,{...R("thumb")})}),(N==="xy"||N==="y")&&h.jsx(SC,{...R("scrollbar"),orientation:"vertical","data-hidden":f==="never"||void 0,forceMount:!0,onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:h.jsx(EC,{...R("thumb")})}),h.jsx(Wee,{...R("corner"),"data-hovered":$||void 0,"data-hidden":f==="never"||void 0})]})});zy.displayName="@mantine/core/ScrollArea";const aA=Je((e,t)=>{const{children:n,classNames:r,styles:i,scrollbarSize:s,scrollHideDelay:o,type:a,dir:c,offsetScrollbars:u,viewportRef:f,onScrollPositionChange:m,unstyled:p,variant:y,viewportProps:v,scrollbars:x,style:S,vars:N,onBottomReached:_,onTopReached:C,...j}=De("ScrollAreaAutosize",L7,e);return h.jsx(Ue,{...j,ref:t,style:[{display:"flex",overflow:"auto"},S],children:h.jsx(Ue,{style:{display:"flex",flexDirection:"column",flex:1},children:h.jsx(zy,{classNames:r,styles:i,scrollHideDelay:o,scrollbarSize:s,type:a,dir:c,offsetScrollbars:u,viewportRef:f,onScrollPositionChange:m,unstyled:p,variant:y,viewportProps:v,vars:N,scrollbars:x,onBottomReached:_,onTopReached:C,children:n})})})});zy.classes=oA;aA.displayName="@mantine/core/ScrollAreaAutosize";aA.classes=oA;zy.Autosize=aA;var F7={root:"m_87cf2631"};const ete={__staticSelector:"UnstyledButton"},Va=Lc((e,t)=>{const n=De("UnstyledButton",ete,e),{className:r,component:i="button",__staticSelector:s,unstyled:o,classNames:a,styles:c,style:u,...f}=n,m=wt({name:s,props:n,classes:F7,className:r,style:u,classNames:a,styles:c,unstyled:o});return h.jsx(Ue,{...m("root",{focusable:!0}),component:i,ref:t,type:i==="button"?"button":void 0,...f})});Va.classes=F7;Va.displayName="@mantine/core/UnstyledButton";var B7={root:"m_515a97f8"};const tte={},lA=Je((e,t)=>{const n=De("VisuallyHidden",tte,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:c,...u}=n,f=wt({name:"VisuallyHidden",classes:B7,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a});return h.jsx(Ue,{component:"span",ref:t,...f("root"),...u})});lA.classes=B7;lA.displayName="@mantine/core/VisuallyHidden";var z7={root:"m_1b7284a3"};const nte={},rte=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:tr(t),"--paper-shadow":Kj(n)}}),cA=Lc((e,t)=>{const n=De("Paper",nte,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,withBorder:c,vars:u,radius:f,shadow:m,variant:p,mod:y,...v}=n,x=wt({name:"Paper",props:n,classes:z7,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:rte});return h.jsx(Ue,{ref:t,mod:[{"data-with-border":c},y],...x("root"),variant:p,...v})});cA.classes=z7;cA.displayName="@mantine/core/Paper";function t1(){return typeof window<"u"}function nm(e){return V7(e)?(e.nodeName||"").toLowerCase():"#document"}function fi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Bo(e){var t;return(t=(V7(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function V7(e){return t1()?e instanceof Node||e instanceof fi(e).Node:!1}function hn(e){return t1()?e instanceof Element||e instanceof fi(e).Element:!1}function Di(e){return t1()?e instanceof HTMLElement||e instanceof fi(e).HTMLElement:!1}function NC(e){return!t1()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fi(e).ShadowRoot}function Vy(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=hs(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function ite(e){return["table","td","th"].includes(nm(e))}function n1(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function uA(e){const t=r1(),n=hn(e)?hs(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ste(e){let t=Ua(e);for(;Di(t)&&!_c(t);){if(uA(t))return t;if(n1(t))return null;t=Ua(t)}return null}function r1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _c(e){return["html","body","#document"].includes(nm(e))}function hs(e){return fi(e).getComputedStyle(e)}function i1(e){return hn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ua(e){if(nm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||NC(e)&&e.host||Bo(e);return NC(t)?t.host:t}function U7(e){const t=Ua(e);return _c(t)?e.ownerDocument?e.ownerDocument.body:e.body:Di(t)&&Vy(t)?t:U7(t)}function ka(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=U7(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=fi(i);if(s){const a=_C(o);return t.concat(o,o.visualViewport||[],Vy(i)?i:[],a&&n?ka(a):[])}return t.concat(i,ka(i,[],n))}function _C(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function dM(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function Ig(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&NC(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function q7(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function H7(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function ote(e){return cte()?!1:!fM()&&e.width===0&&e.height===0||fM()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function ate(){return/apple/i.test(navigator.vendor)}function fM(){const e=/android/i;return e.test(q7())||e.test(H7())}function lte(){return q7().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function cte(){return H7().includes("jsdom/")}function CC(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function ute(e){return"nativeEvent"in e}function dte(e){return e.matches("html,body")}function ku(e){return(e==null?void 0:e.ownerDocument)||document}function vN(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function $f(e){return"composedPath"in e?e.composedPath()[0]:e.target}const fte="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function hte(e){return Di(e)&&e.matches(fte)}const eo=Math.min,jr=Math.max,bx=Math.round,Xb=Math.floor,$o=e=>({x:e,y:e}),mte={left:"right",right:"left",bottom:"top",top:"bottom"},pte={start:"end",end:"start"};function OC(e,t,n){return jr(e,eo(t,n))}function qa(e,t){return typeof e=="function"?e(t):e}function to(e){return e.split("-")[0]}function rm(e){return e.split("-")[1]}function dA(e){return e==="x"?"y":"x"}function fA(e){return e==="y"?"height":"width"}function Ha(e){return["top","bottom"].includes(to(e))?"y":"x"}function hA(e){return dA(Ha(e))}function gte(e,t,n){n===void 0&&(n=!1);const r=rm(e),i=hA(e),s=fA(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=vx(o)),[o,vx(o)]}function yte(e){const t=vx(e);return[jC(e),t,jC(t)]}function jC(e){return e.replace(/start|end/g,t=>pte[t])}function bte(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function vte(e,t,n,r){const i=rm(e);let s=bte(to(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(jC)))),s}function vx(e){return e.replace(/left|right|bottom|top/g,t=>mte[t])}function xte(e){return{top:0,right:0,bottom:0,left:0,...e}}function mA(e){return typeof e!="number"?xte(e):{top:e,right:e,bottom:e,left:e}}function _h(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function hM(e,t,n){let{reference:r,floating:i}=e;const s=Ha(t),o=hA(t),a=fA(o),c=to(t),u=s==="y",f=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let y;switch(c){case"top":y={x:f,y:r.y-i.height};break;case"bottom":y={x:f,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:m};break;case"left":y={x:r.x-i.width,y:m};break;default:y={x:r.x,y:r.y}}switch(rm(t)){case"start":y[o]-=p*(n&&u?-1:1);break;case"end":y[o]+=p*(n&&u?-1:1);break}return y}const wte=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:m}=hM(u,r,c),p=r,y={},v=0;for(let x=0;x<a.length;x++){const{name:S,fn:N}=a[x],{x:_,y:C,data:j,reset:A}=await N({x:f,y:m,initialPlacement:r,placement:p,strategy:i,middlewareData:y,rects:u,platform:o,elements:{reference:e,floating:t}});f=_??f,m=C??m,y={...y,[S]:{...y[S],...j}},A&&v<=50&&(v++,typeof A=="object"&&(A.placement&&(p=A.placement),A.rects&&(u=A.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):A.rects),{x:f,y:m}=hM(u,p,c)),x=-1)}return{x:f,y:m,placement:p,strategy:i,middlewareData:y}};async function pA(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:p=!1,padding:y=0}=qa(t,e),v=mA(y),S=a[p?m==="floating"?"reference":"floating":m],N=_h(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:c})),_=m==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),j=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},A=_h(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:C,strategy:c}):_);return{top:(N.top-A.top+v.top)/j.y,bottom:(A.bottom-N.bottom+v.bottom)/j.y,left:(N.left-A.left+v.left)/j.x,right:(A.right-N.right+v.right)/j.x}}const Ste=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=t,{element:u,padding:f=0}=qa(e,t)||{};if(u==null)return{};const m=mA(f),p={x:n,y:r},y=hA(i),v=fA(y),x=await o.getDimensions(u),S=y==="y",N=S?"top":"left",_=S?"bottom":"right",C=S?"clientHeight":"clientWidth",j=s.reference[v]+s.reference[y]-p[y]-s.floating[v],A=p[y]-s.reference[y],$=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=$?$[C]:0;(!k||!await(o.isElement==null?void 0:o.isElement($)))&&(k=a.floating[C]||s.floating[v]);const R=j/2-A/2,D=k/2-x[v]/2-1,z=eo(m[N],D),L=eo(m[_],D),F=z,H=k-x[v]-L,M=k/2-x[v]/2+R,V=OC(F,M,H),T=!c.arrow&&rm(i)!=null&&M!==V&&s.reference[v]/2-(M<F?z:L)-x[v]/2<0,I=T?M<F?M-F:M-H:0;return{[y]:p[y]+I,data:{[y]:V,centerOffset:M-V-I,...T&&{alignmentOffset:I}},reset:T}}}),Ete=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...S}=qa(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const N=to(i),_=Ha(a),C=to(a)===a,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),A=p||(C||!x?[vx(a)]:yte(a)),$=v!=="none";!p&&$&&A.push(...vte(a,x,v,j));const k=[a,...A],R=await pA(t,S),D=[];let z=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&D.push(R[N]),m){const M=gte(i,o,j);D.push(R[M[0]],R[M[1]])}if(z=[...z,{placement:i,overflows:D}],!D.every(M=>M<=0)){var L,F;const M=(((L=s.flip)==null?void 0:L.index)||0)+1,V=k[M];if(V)return{data:{index:M,overflows:z},reset:{placement:V}};let T=(F=z.filter(I=>I.overflows[0]<=0).sort((I,P)=>I.overflows[1]-P.overflows[1])[0])==null?void 0:F.placement;if(!T)switch(y){case"bestFit":{var H;const I=(H=z.filter(P=>{if($){const W=Ha(P.placement);return W===_||W==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(W=>W>0).reduce((W,B)=>W+B,0)]).sort((P,W)=>P[1]-W[1])[0])==null?void 0:H[0];I&&(T=I);break}case"initialPlacement":T=a;break}if(i!==T)return{reset:{placement:T}}}return{}}}};function W7(e){const t=eo(...e.map(s=>s.left)),n=eo(...e.map(s=>s.top)),r=jr(...e.map(s=>s.right)),i=jr(...e.map(s=>s.bottom));return{x:t,y:n,width:r-t,height:i-n}}function Nte(e){const t=e.slice().sort((i,s)=>i.y-s.y),n=[];let r=null;for(let i=0;i<t.length;i++){const s=t[i];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(i=>_h(W7(i)))}const _te=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:s,strategy:o}=t,{padding:a=2,x:c,y:u}=qa(e,t),f=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),m=Nte(f),p=_h(W7(f)),y=mA(a);function v(){if(m.length===2&&m[0].left>m[1].right&&c!=null&&u!=null)return m.find(S=>c>S.left-y.left&&c<S.right+y.right&&u>S.top-y.top&&u<S.bottom+y.bottom)||p;if(m.length>=2){if(Ha(n)==="y"){const z=m[0],L=m[m.length-1],F=to(n)==="top",H=z.top,M=L.bottom,V=F?z.left:L.left,T=F?z.right:L.right,I=T-V,P=M-H;return{top:H,bottom:M,left:V,right:T,width:I,height:P,x:V,y:H}}const S=to(n)==="left",N=jr(...m.map(z=>z.right)),_=eo(...m.map(z=>z.left)),C=m.filter(z=>S?z.left===_:z.right===N),j=C[0].top,A=C[C.length-1].bottom,$=_,k=N,R=k-$,D=A-j;return{top:j,bottom:A,left:$,right:k,width:R,height:D,x:$,y:j}}return p}const x=await s.getElementRects({reference:{getBoundingClientRect:v},floating:r.floating,strategy:o});return i.reference.x!==x.reference.x||i.reference.y!==x.reference.y||i.reference.width!==x.reference.width||i.reference.height!==x.reference.height?{reset:{rects:x}}:{}}}};async function Cte(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=to(n),a=rm(n),c=Ha(n)==="y",u=["left","top"].includes(o)?-1:1,f=s&&c?-1:1,m=qa(t,e);let{mainAxis:p,crossAxis:y,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return a&&typeof v=="number"&&(y=a==="end"?v*-1:v),c?{x:y*f,y:p*u}:{x:p*u,y:y*f}}const Ote=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,c=await Cte(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},jte=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:N,y:_}=S;return{x:N,y:_}}},...c}=qa(e,t),u={x:n,y:r},f=await pA(t,c),m=Ha(to(i)),p=dA(m);let y=u[p],v=u[m];if(s){const S=p==="y"?"top":"left",N=p==="y"?"bottom":"right",_=y+f[S],C=y-f[N];y=OC(_,y,C)}if(o){const S=m==="y"?"top":"left",N=m==="y"?"bottom":"right",_=v+f[S],C=v-f[N];v=OC(_,v,C)}const x=a.fn({...t,[p]:y,[m]:v});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[p]:s,[m]:o}}}}}},Ate=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=qa(e,t),f={x:n,y:r},m=Ha(i),p=dA(m);let y=f[p],v=f[m];const x=qa(a,t),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const C=p==="y"?"height":"width",j=s.reference[p]-s.floating[C]+S.mainAxis,A=s.reference[p]+s.reference[C]-S.mainAxis;y<j?y=j:y>A&&(y=A)}if(u){var N,_;const C=p==="y"?"width":"height",j=["top","left"].includes(to(i)),A=s.reference[m]-s.floating[C]+(j&&((N=o.offset)==null?void 0:N[m])||0)+(j?0:S.crossAxis),$=s.reference[m]+s.reference[C]+(j?0:((_=o.offset)==null?void 0:_[m])||0)-(j?S.crossAxis:0);v<A?v=A:v>$&&(v=$)}return{[p]:y,[m]:v}}}},Tte=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:o,elements:a}=t,{apply:c=()=>{},...u}=qa(e,t),f=await pA(t,u),m=to(i),p=rm(i),y=Ha(i)==="y",{width:v,height:x}=s.floating;let S,N;m==="top"||m==="bottom"?(S=m,N=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(N=m,S=p==="end"?"top":"bottom");const _=x-f.top-f.bottom,C=v-f.left-f.right,j=eo(x-f[S],_),A=eo(v-f[N],C),$=!t.middlewareData.shift;let k=j,R=A;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=C),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=_),$&&!p){const z=jr(f.left,0),L=jr(f.right,0),F=jr(f.top,0),H=jr(f.bottom,0);y?R=v-2*(z!==0||L!==0?z+L:jr(f.left,f.right)):k=x-2*(F!==0||H!==0?F+H:jr(f.top,f.bottom))}await c({...t,availableWidth:R,availableHeight:k});const D=await o.getDimensions(a.floating);return v!==D.width||x!==D.height?{reset:{rects:!0}}:{}}}};function G7(e){const t=hs(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Di(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=bx(n)!==s||bx(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function gA(e){return hn(e)?e:e.contextElement}function Yf(e){const t=gA(e);if(!Di(t))return $o(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=G7(t);let o=(s?bx(n.width):n.width)/r,a=(s?bx(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const $te=$o(0);function J7(e){const t=fi(e);return!r1()||!t.visualViewport?$te:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Rte(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==fi(e)?!1:t}function rd(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=gA(e);let o=$o(1);t&&(r?hn(r)&&(o=Yf(r)):o=Yf(e));const a=Rte(s,n,r)?J7(s):$o(0);let c=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,f=i.width/o.x,m=i.height/o.y;if(s){const p=fi(s),y=r&&hn(r)?fi(r):r;let v=p,x=_C(v);for(;x&&r&&y!==v;){const S=Yf(x),N=x.getBoundingClientRect(),_=hs(x),C=N.left+(x.clientLeft+parseFloat(_.paddingLeft))*S.x,j=N.top+(x.clientTop+parseFloat(_.paddingTop))*S.y;c*=S.x,u*=S.y,f*=S.x,m*=S.y,c+=C,u+=j,v=fi(x),x=_C(v)}}return _h({width:f,height:m,x:c,y:u})}function yA(e,t){const n=i1(e).scrollLeft;return t?t.left+n:rd(Bo(e)).left+n}function Y7(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:yA(e,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function kte(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=Bo(r),a=t?n1(t.floating):!1;if(r===o||a&&s)return n;let c={scrollLeft:0,scrollTop:0},u=$o(1);const f=$o(0),m=Di(r);if((m||!m&&!s)&&((nm(r)!=="body"||Vy(o))&&(c=i1(r)),Di(r))){const y=rd(r);u=Yf(r),f.x=y.x+r.clientLeft,f.y=y.y+r.clientTop}const p=o&&!m&&!s?Y7(o,c,!0):$o(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x+p.x,y:n.y*u.y-c.scrollTop*u.y+f.y+p.y}}function Mte(e){return Array.from(e.getClientRects())}function Ite(e){const t=Bo(e),n=i1(e),r=e.ownerDocument.body,i=jr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=jr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+yA(e);const a=-n.scrollTop;return hs(r).direction==="rtl"&&(o+=jr(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Pte(e,t){const n=fi(e),r=Bo(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const u=r1();(!u||u&&t==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}function Dte(e,t){const n=rd(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Di(e)?Yf(e):$o(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:o,height:a,x:c,y:u}}function mM(e,t,n){let r;if(t==="viewport")r=Pte(e,n);else if(t==="document")r=Ite(Bo(e));else if(hn(t))r=Dte(t,n);else{const i=J7(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return _h(r)}function X7(e,t){const n=Ua(e);return n===t||!hn(n)||_c(n)?!1:hs(n).position==="fixed"||X7(n,t)}function Lte(e,t){const n=t.get(e);if(n)return n;let r=ka(e,[],!1).filter(a=>hn(a)&&nm(a)!=="body"),i=null;const s=hs(e).position==="fixed";let o=s?Ua(e):e;for(;hn(o)&&!_c(o);){const a=hs(o),c=uA(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Vy(o)&&!c&&X7(e,o))?r=r.filter(f=>f!==o):i=a,o=Ua(o)}return t.set(e,r),r}function Fte(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?n1(t)?[]:Lte(t,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,f)=>{const m=mM(t,f,i);return u.top=jr(m.top,u.top),u.right=eo(m.right,u.right),u.bottom=eo(m.bottom,u.bottom),u.left=jr(m.left,u.left),u},mM(t,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Bte(e){const{width:t,height:n}=G7(e);return{width:t,height:n}}function zte(e,t,n){const r=Di(t),i=Bo(t),s=n==="fixed",o=rd(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const c=$o(0);if(r||!r&&!s)if((nm(t)!=="body"||Vy(i))&&(a=i1(t)),r){const p=rd(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else i&&(c.x=yA(i));const u=i&&!r&&!s?Y7(i,a):$o(0),f=o.left+a.scrollLeft-c.x-u.x,m=o.top+a.scrollTop-c.y-u.y;return{x:f,y:m,width:o.width,height:o.height}}function xN(e){return hs(e).position==="static"}function pM(e,t){if(!Di(e)||hs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Bo(e)===n&&(n=n.ownerDocument.body),n}function K7(e,t){const n=fi(e);if(n1(e))return n;if(!Di(e)){let i=Ua(e);for(;i&&!_c(i);){if(hn(i)&&!xN(i))return i;i=Ua(i)}return n}let r=pM(e,t);for(;r&&ite(r)&&xN(r);)r=pM(r,t);return r&&_c(r)&&xN(r)&&!uA(r)?n:r||ste(e)||n}const Vte=async function(e){const t=this.getOffsetParent||K7,n=this.getDimensions,r=await n(e.floating);return{reference:zte(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Ute(e){return hs(e).direction==="rtl"}const qte={convertOffsetParentRelativeRectToViewportRelativeRect:kte,getDocumentElement:Bo,getClippingRect:Fte,getOffsetParent:K7,getElementRects:Vte,getClientRects:Mte,getDimensions:Bte,getScale:Yf,isElement:hn,isRTL:Ute};function Q7(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Hte(e,t){let n=null,r;const i=Bo(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:f,top:m,width:p,height:y}=u;if(a||t(),!p||!y)return;const v=Xb(m),x=Xb(i.clientWidth-(f+p)),S=Xb(i.clientHeight-(m+y)),N=Xb(f),C={rootMargin:-v+"px "+-x+"px "+-S+"px "+-N+"px",threshold:jr(0,eo(1,c))||1};let j=!0;function A($){const k=$[0].intersectionRatio;if(k!==c){if(!j)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!Q7(u,e.getBoundingClientRect())&&o(),j=!1}try{n=new IntersectionObserver(A,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,C)}n.observe(e)}return o(!0),s}function Wte(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=gA(e),f=i||s?[...u?ka(u):[],...ka(t)]:[];f.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),s&&N.addEventListener("resize",n)});const m=u&&a?Hte(u,n):null;let p=-1,y=null;o&&(y=new ResizeObserver(N=>{let[_]=N;_&&_.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var C;(C=y)==null||C.observe(t)})),n()}),u&&!c&&y.observe(u),y.observe(t));let v,x=c?rd(e):null;c&&S();function S(){const N=rd(e);x&&!Q7(x,N)&&n(),x=N,v=requestAnimationFrame(S)}return n(),()=>{var N;f.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),m==null||m(),(N=y)==null||N.disconnect(),y=null,c&&cancelAnimationFrame(v)}}const Gte=Ote,Jte=jte,Yte=Ete,Xte=Tte,gM=Ste,Kte=_te,Qte=Ate,Zte=(e,t,n)=>{const r=new Map,i={platform:qte,...n},s={...i.platform,_c:r};return wte(e,t,{...i,platform:s})};var Bv=typeof document<"u"?w.useLayoutEffect:w.useEffect;function xx(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!xx(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!xx(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Z7(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yM(e,t){const n=Z7(e);return Math.round(t*n)/n}function wN(e){const t=w.useRef(e);return Bv(()=>{t.current=e}),t}function ene(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[f,m]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,y]=w.useState(r);xx(p,r)||y(r);const[v,x]=w.useState(null),[S,N]=w.useState(null),_=w.useCallback(P=>{P!==$.current&&($.current=P,x(P))},[]),C=w.useCallback(P=>{P!==k.current&&(k.current=P,N(P))},[]),j=s||v,A=o||S,$=w.useRef(null),k=w.useRef(null),R=w.useRef(f),D=c!=null,z=wN(c),L=wN(i),F=wN(u),H=w.useCallback(()=>{if(!$.current||!k.current)return;const P={placement:t,strategy:n,middleware:p};L.current&&(P.platform=L.current),Zte($.current,k.current,P).then(W=>{const B={...W,isPositioned:F.current!==!1};M.current&&!xx(R.current,B)&&(R.current=B,By.flushSync(()=>{m(B)}))})},[p,t,n,L,F]);Bv(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,m(P=>({...P,isPositioned:!1})))},[u]);const M=w.useRef(!1);Bv(()=>(M.current=!0,()=>{M.current=!1}),[]),Bv(()=>{if(j&&($.current=j),A&&(k.current=A),j&&A){if(z.current)return z.current(j,A,H);H()}},[j,A,H,z,D]);const V=w.useMemo(()=>({reference:$,floating:k,setReference:_,setFloating:C}),[_,C]),T=w.useMemo(()=>({reference:j,floating:A}),[j,A]),I=w.useMemo(()=>{const P={position:n,left:0,top:0};if(!T.floating)return P;const W=yM(T.floating,f.x),B=yM(T.floating,f.y);return a?{...P,transform:"translate("+W+"px, "+B+"px)",...Z7(T.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:B}},[n,a,T.floating,f.x,f.y]);return w.useMemo(()=>({...f,update:H,refs:V,elements:T,floatingStyles:I}),[f,H,V,T,I])}const tne=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?gM({element:r.current,padding:i}).fn(n):{}:r?gM({element:r,padding:i}).fn(n):{}}}},eL=(e,t)=>({...Gte(e),options:[e,t]}),bA=(e,t)=>({...Jte(e),options:[e,t]}),bM=(e,t)=>({...Qte(e),options:[e,t]}),wx=(e,t)=>({...Yte(e),options:[e,t]}),nne=(e,t)=>({...Xte(e),options:[e,t]}),dg=(e,t)=>({...Kte(e),options:[e,t]}),tL=(e,t)=>({...tne(e),options:[e,t]}),nL={...Z8},rne=nL.useInsertionEffect,ine=rne||(e=>e());function _a(e){const t=w.useRef(()=>{});return ine(()=>{t.current=e}),w.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var Ro=typeof document<"u"?w.useLayoutEffect:w.useEffect;let vM=!1,sne=0;const xM=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+sne++;function one(){const[e,t]=w.useState(()=>vM?xM():void 0);return Ro(()=>{e==null&&t(xM())},[]),w.useEffect(()=>{vM=!0},[]),e}const ane=nL.useId,rL=ane||one;function lne(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const cne=w.createContext(null),une=w.createContext(null),vA=()=>{var e;return((e=w.useContext(cne))==null?void 0:e.id)||null},xA=()=>w.useContext(une);function wA(e){return"data-floating-ui-"+e}function SN(e){const t=w.useRef(e);return Ro(()=>{t.current=e}),t}const wM=wA("safe-polygon");function zv(e,t,n){return n&&!CC(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function dne(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:s,elements:o}=e,{enabled:a=!0,delay:c=0,handleClose:u=null,mouseOnly:f=!1,restMs:m=0,move:p=!0}=t,y=xA(),v=vA(),x=SN(u),S=SN(c),N=SN(n),_=w.useRef(),C=w.useRef(-1),j=w.useRef(),A=w.useRef(-1),$=w.useRef(!0),k=w.useRef(!1),R=w.useRef(()=>{}),D=w.useRef(!1),z=w.useCallback(()=>{var I;const P=(I=i.current.openEvent)==null?void 0:I.type;return(P==null?void 0:P.includes("mouse"))&&P!=="mousedown"},[i]);w.useEffect(()=>{if(!a)return;function I(P){let{open:W}=P;W||(clearTimeout(C.current),clearTimeout(A.current),$.current=!0,D.current=!1)}return s.on("openchange",I),()=>{s.off("openchange",I)}},[a,s]),w.useEffect(()=>{if(!a||!x.current||!n)return;function I(W){z()&&r(!1,W,"hover")}const P=ku(o.floating).documentElement;return P.addEventListener("mouseleave",I),()=>{P.removeEventListener("mouseleave",I)}},[o.floating,n,r,a,x,z]);const L=w.useCallback(function(I,P,W){P===void 0&&(P=!0),W===void 0&&(W="hover");const B=zv(S.current,"close",_.current);B&&!j.current?(clearTimeout(C.current),C.current=window.setTimeout(()=>r(!1,I,W),B)):P&&(clearTimeout(C.current),r(!1,I,W))},[S,r]),F=_a(()=>{R.current(),j.current=void 0}),H=_a(()=>{if(k.current){const I=ku(o.floating).body;I.style.pointerEvents="",I.removeAttribute(wM),k.current=!1}}),M=_a(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);w.useEffect(()=>{if(!a)return;function I(q){if(clearTimeout(C.current),$.current=!1,f&&!CC(_.current)||m>0&&!zv(S.current,"open"))return;const X=zv(S.current,"open",_.current);X?C.current=window.setTimeout(()=>{N.current||r(!0,q,"hover")},X):n||r(!0,q,"hover")}function P(q){if(M())return;R.current();const X=ku(o.floating);if(clearTimeout(A.current),D.current=!1,x.current&&i.current.floatingContext){n||clearTimeout(C.current),j.current=x.current({...i.current.floatingContext,tree:y,x:q.clientX,y:q.clientY,onClose(){H(),F(),M()||L(q,!0,"safe-polygon")}});const ie=j.current;X.addEventListener("mousemove",ie),R.current=()=>{X.removeEventListener("mousemove",ie)};return}(_.current==="touch"?!Ig(o.floating,q.relatedTarget):!0)&&L(q)}function W(q){M()||i.current.floatingContext&&(x.current==null||x.current({...i.current.floatingContext,tree:y,x:q.clientX,y:q.clientY,onClose(){H(),F(),M()||L(q)}})(q))}if(hn(o.domReference)){var B;const q=o.domReference;return n&&q.addEventListener("mouseleave",W),(B=o.floating)==null||B.addEventListener("mouseleave",W),p&&q.addEventListener("mousemove",I,{once:!0}),q.addEventListener("mouseenter",I),q.addEventListener("mouseleave",P),()=>{var X;n&&q.removeEventListener("mouseleave",W),(X=o.floating)==null||X.removeEventListener("mouseleave",W),p&&q.removeEventListener("mousemove",I),q.removeEventListener("mouseenter",I),q.removeEventListener("mouseleave",P)}}},[o,a,e,f,m,p,L,F,H,r,n,N,y,S,x,i,M]),Ro(()=>{var I;if(a&&n&&(I=x.current)!=null&&I.__options.blockPointerEvents&&z()){k.current=!0;const W=o.floating;if(hn(o.domReference)&&W){var P;const B=ku(o.floating).body;B.setAttribute(wM,"");const q=o.domReference,X=y==null||(P=y.nodesRef.current.find(Q=>Q.id===v))==null||(P=P.context)==null?void 0:P.elements.floating;return X&&(X.style.pointerEvents=""),B.style.pointerEvents="none",q.style.pointerEvents="auto",W.style.pointerEvents="auto",()=>{B.style.pointerEvents="",q.style.pointerEvents="",W.style.pointerEvents=""}}}},[a,n,v,o,y,x,z]),Ro(()=>{n||(_.current=void 0,D.current=!1,F(),H())},[n,F,H]),w.useEffect(()=>()=>{F(),clearTimeout(C.current),clearTimeout(A.current),H()},[a,o.domReference,F,H]);const V=w.useMemo(()=>{function I(P){_.current=P.pointerType}return{onPointerDown:I,onPointerEnter:I,onMouseMove(P){const{nativeEvent:W}=P;function B(){!$.current&&!N.current&&r(!0,W,"hover")}f&&!CC(_.current)||n||m===0||D.current&&P.movementX**2+P.movementY**2<2||(clearTimeout(A.current),_.current==="touch"?B():(D.current=!0,A.current=window.setTimeout(B,m)))}}},[f,r,n,N,m]),T=w.useMemo(()=>({onMouseEnter(){clearTimeout(C.current)},onMouseLeave(I){M()||L(I.nativeEvent,!1)}}),[L,M]);return w.useMemo(()=>a?{reference:V,floating:T}:{},[a,V,T])}const AC=()=>{},iL=w.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:AC,setState:AC,isInstantPhase:!1}),fne=()=>w.useContext(iL);function hne(e){const{children:t,delay:n,timeoutMs:r=0}=e,[i,s]=w.useReducer((c,u)=>({...c,...u}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),o=w.useRef(null),a=w.useCallback(c=>{s({currentId:c})},[]);return Ro(()=>{i.currentId?o.current===null?o.current=i.currentId:i.isInstantPhase||s({isInstantPhase:!0}):(i.isInstantPhase&&s({isInstantPhase:!1}),o.current=null)},[i.currentId,i.isInstantPhase]),w.createElement(iL.Provider,{value:w.useMemo(()=>({...i,setState:s,setCurrentId:a}),[i,a])},t)}function mne(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:i}=e,{id:s,enabled:o=!0}=t,a=s??i,c=fne(),{currentId:u,setCurrentId:f,initialDelay:m,setState:p,timeoutMs:y}=c;return Ro(()=>{o&&u&&(p({delay:{open:1,close:zv(m,"close")}}),u!==a&&r(!1))},[o,a,r,p,u,m]),Ro(()=>{function v(){r(!1),p({delay:m,currentId:null})}if(o&&u&&!n&&u===a){if(y){const x=window.setTimeout(v,y);return()=>{clearTimeout(x)}}v()}},[o,n,p,u,a,r,m,y]),Ro(()=>{o&&(f===AC||!n||f(a))},[o,n,f,a]),c}function EN(e,t){let n=e.filter(i=>{var s;return i.parentId===t&&((s=i.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=e.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var a;return i.parentId===o.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}const pne="data-floating-ui-focusable",gne={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},yne={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},SM=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function bne(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:s}=e,{enabled:o=!0,escapeKey:a=!0,outsidePress:c=!0,outsidePressEvent:u="pointerdown",referencePress:f=!1,referencePressEvent:m="pointerdown",ancestorScroll:p=!1,bubbles:y,capture:v}=t,x=xA(),S=_a(typeof c=="function"?c:()=>!1),N=typeof c=="function"?S:c,_=w.useRef(!1),C=w.useRef(!1),{escapeKey:j,outsidePress:A}=SM(y),{escapeKey:$,outsidePress:k}=SM(v),R=w.useRef(!1),D=_a(V=>{var T;if(!n||!o||!a||V.key!=="Escape"||R.current)return;const I=(T=s.current.floatingContext)==null?void 0:T.nodeId,P=x?EN(x.nodesRef.current,I):[];if(!j&&(V.stopPropagation(),P.length>0)){let W=!0;if(P.forEach(B=>{var q;if((q=B.context)!=null&&q.open&&!B.context.dataRef.current.__escapeKeyBubbles){W=!1;return}}),!W)return}r(!1,ute(V)?V.nativeEvent:V,"escape-key")}),z=_a(V=>{var T;const I=()=>{var P;D(V),(P=$f(V))==null||P.removeEventListener("keydown",I)};(T=$f(V))==null||T.addEventListener("keydown",I)}),L=_a(V=>{var T;const I=_.current;_.current=!1;const P=C.current;if(C.current=!1,u==="click"&&P||I||typeof N=="function"&&!N(V))return;const W=$f(V),B="["+wA("inert")+"]",q=ku(i.floating).querySelectorAll(B);let X=hn(W)?W:null;for(;X&&!_c(X);){const fe=Ua(X);if(_c(fe)||!hn(fe))break;X=fe}if(q.length&&hn(W)&&!dte(W)&&!Ig(W,i.floating)&&Array.from(q).every(fe=>!Ig(X,fe)))return;if(Di(W)&&M){const fe=W.clientWidth>0&&W.scrollWidth>W.clientWidth,ce=W.clientHeight>0&&W.scrollHeight>W.clientHeight;let he=ce&&V.offsetX>W.clientWidth;if(ce&&hs(W).direction==="rtl"&&(he=V.offsetX<=W.offsetWidth-W.clientWidth),he||fe&&V.offsetY>W.clientHeight)return}const Q=(T=s.current.floatingContext)==null?void 0:T.nodeId,ie=x&&EN(x.nodesRef.current,Q).some(fe=>{var ce;return vN(V,(ce=fe.context)==null?void 0:ce.elements.floating)});if(vN(V,i.floating)||vN(V,i.domReference)||ie)return;const ae=x?EN(x.nodesRef.current,Q):[];if(ae.length>0){let fe=!0;if(ae.forEach(ce=>{var he;if((he=ce.context)!=null&&he.open&&!ce.context.dataRef.current.__outsidePressBubbles){fe=!1;return}}),!fe)return}r(!1,V,"outside-press")}),F=_a(V=>{var T;const I=()=>{var P;L(V),(P=$f(V))==null||P.removeEventListener(u,I)};(T=$f(V))==null||T.addEventListener(u,I)});w.useEffect(()=>{if(!n||!o)return;s.current.__escapeKeyBubbles=j,s.current.__outsidePressBubbles=A;let V=-1;function T(q){r(!1,q,"ancestor-scroll")}function I(){window.clearTimeout(V),R.current=!0}function P(){V=window.setTimeout(()=>{R.current=!1},r1()?5:0)}const W=ku(i.floating);a&&(W.addEventListener("keydown",$?z:D,$),W.addEventListener("compositionstart",I),W.addEventListener("compositionend",P)),N&&W.addEventListener(u,k?F:L,k);let B=[];return p&&(hn(i.domReference)&&(B=ka(i.domReference)),hn(i.floating)&&(B=B.concat(ka(i.floating))),!hn(i.reference)&&i.reference&&i.reference.contextElement&&(B=B.concat(ka(i.reference.contextElement)))),B=B.filter(q=>{var X;return q!==((X=W.defaultView)==null?void 0:X.visualViewport)}),B.forEach(q=>{q.addEventListener("scroll",T,{passive:!0})}),()=>{a&&(W.removeEventListener("keydown",$?z:D,$),W.removeEventListener("compositionstart",I),W.removeEventListener("compositionend",P)),N&&W.removeEventListener(u,k?F:L,k),B.forEach(q=>{q.removeEventListener("scroll",T)}),window.clearTimeout(V)}},[s,i,a,N,u,n,r,p,o,j,A,D,$,z,L,k,F]),w.useEffect(()=>{_.current=!1},[N,u]);const H=w.useMemo(()=>({onKeyDown:D,[gne[m]]:V=>{f&&r(!1,V.nativeEvent,"reference-press")}}),[D,r,f,m]),M=w.useMemo(()=>({onKeyDown:D,onMouseDown(){C.current=!0},onMouseUp(){C.current=!0},[yne[u]]:()=>{_.current=!0}}),[D,u]);return w.useMemo(()=>o?{reference:H,floating:M}:{},[o,H,M])}function vne(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=rL(),s=w.useRef({}),[o]=w.useState(()=>lne()),a=vA()!=null,[c,u]=w.useState(r.reference),f=_a((y,v,x)=>{s.current.openEvent=y?v:void 0,o.emit("openchange",{open:y,event:v,reason:x,nested:a}),n==null||n(y,v,x)}),m=w.useMemo(()=>({setPositionReference:u}),[]),p=w.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return w.useMemo(()=>({dataRef:s,open:t,onOpenChange:f,elements:p,events:o,floatingId:i,refs:m}),[t,f,p,o,i,m])}function SA(e){e===void 0&&(e={});const{nodeId:t}=e,n=vne({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[s,o]=w.useState(null),[a,c]=w.useState(null),f=(i==null?void 0:i.domReference)||s,m=w.useRef(null),p=xA();Ro(()=>{f&&(m.current=f)},[f]);const y=ene({...e,elements:{...i,...a&&{reference:a}}}),v=w.useCallback(C=>{const j=hn(C)?{getBoundingClientRect:()=>C.getBoundingClientRect(),contextElement:C}:C;c(j),y.refs.setReference(j)},[y.refs]),x=w.useCallback(C=>{(hn(C)||C===null)&&(m.current=C,o(C)),(hn(y.refs.reference.current)||y.refs.reference.current===null||C!==null&&!hn(C))&&y.refs.setReference(C)},[y.refs]),S=w.useMemo(()=>({...y.refs,setReference:x,setPositionReference:v,domReference:m}),[y.refs,x,v]),N=w.useMemo(()=>({...y.elements,domReference:f}),[y.elements,f]),_=w.useMemo(()=>({...y,...r,refs:S,elements:N,nodeId:t}),[y,S,N,t,r]);return Ro(()=>{r.dataRef.current.floatingContext=_;const C=p==null?void 0:p.nodesRef.current.find(j=>j.id===t);C&&(C.context=_)}),w.useMemo(()=>({...y,context:_,refs:S,elements:N}),[y,S,N,_])}function xne(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:i,dataRef:s,elements:o}=e,{enabled:a=!0,visibleOnly:c=!0}=t,u=w.useRef(!1),f=w.useRef(),m=w.useRef(!0);w.useEffect(()=>{if(!a)return;const y=fi(o.domReference);function v(){!n&&Di(o.domReference)&&o.domReference===dM(ku(o.domReference))&&(u.current=!0)}function x(){m.current=!0}return y.addEventListener("blur",v),y.addEventListener("keydown",x,!0),()=>{y.removeEventListener("blur",v),y.removeEventListener("keydown",x,!0)}},[o.domReference,n,a]),w.useEffect(()=>{if(!a)return;function y(v){let{reason:x}=v;(x==="reference-press"||x==="escape-key")&&(u.current=!0)}return i.on("openchange",y),()=>{i.off("openchange",y)}},[i,a]),w.useEffect(()=>()=>{clearTimeout(f.current)},[]);const p=w.useMemo(()=>({onPointerDown(y){ote(y.nativeEvent)||(m.current=!1)},onMouseLeave(){u.current=!1},onFocus(y){if(u.current)return;const v=$f(y.nativeEvent);if(c&&hn(v))try{if(ate()&&lte())throw Error();if(!v.matches(":focus-visible"))return}catch{if(!m.current&&!hte(v))return}r(!0,y.nativeEvent,"focus")},onBlur(y){u.current=!1;const v=y.relatedTarget,x=y.nativeEvent,S=hn(v)&&v.hasAttribute(wA("focus-guard"))&&v.getAttribute("data-type")==="outside";f.current=window.setTimeout(()=>{var N;const _=dM(o.domReference?o.domReference.ownerDocument:document);!v&&_===o.domReference||Ig((N=s.current.floatingContext)==null?void 0:N.refs.floating.current,_)||Ig(o.domReference,_)||S||r(!1,x,"focus")})}}),[s,o.domReference,r,c]);return w.useMemo(()=>a?{reference:p}:{},[a,p])}const EM="active",NM="selected";function NN(e,t,n){const r=new Map,i=n==="item";let s=e;if(i&&e){const{[EM]:o,[NM]:a,...c}=e;s=c}return{...n==="floating"&&{tabIndex:-1,[pne]:""},...s,...t.map(o=>{const a=o?o[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((o,a)=>(a&&Object.entries(a).forEach(c=>{let[u,f]=c;if(!(i&&[EM,NM].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof f=="function"){var m;(m=r.get(u))==null||m.push(f),o[u]=function(){for(var p,y=arguments.length,v=new Array(y),x=0;x<y;x++)v[x]=arguments[x];return(p=r.get(u))==null?void 0:p.map(S=>S(...v)).find(S=>S!==void 0)}}}else o[u]=f}),o),{})}}function wne(e){e===void 0&&(e=[]);const t=e.map(a=>a==null?void 0:a.reference),n=e.map(a=>a==null?void 0:a.floating),r=e.map(a=>a==null?void 0:a.item),i=w.useCallback(a=>NN(a,e,"reference"),t),s=w.useCallback(a=>NN(a,e,"floating"),n),o=w.useCallback(a=>NN(a,e,"item"),r);return w.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}const Sne=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Ene(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:i}=e,{enabled:s=!0,role:o="dialog"}=t,a=(n=Sne.get(o))!=null?n:o,c=rL(),f=vA()!=null,m=w.useMemo(()=>a==="tooltip"||o==="label"?{["aria-"+(o==="label"?"labelledby":"describedby")]:r?i:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?i:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:c},...a==="menu"&&f&&{role:"menuitem"},...o==="select"&&{"aria-autocomplete":"none"},...o==="combobox"&&{"aria-autocomplete":"list"}},[a,i,f,r,c,o]),p=w.useMemo(()=>{const v={id:i,...a&&{role:a}};return a==="tooltip"||o==="label"?v:{...v,...a==="menu"&&{"aria-labelledby":c}}},[a,i,c,o]),y=w.useCallback(v=>{let{active:x,selected:S}=v;const N={role:"option",...x&&{id:i+"-option"}};switch(o){case"select":return{...N,"aria-selected":x&&S};case"combobox":return{...N,...x&&{"aria-selected":!0}}}return{}},[i,o]);return w.useMemo(()=>s?{reference:m,floating:p,item:y}:{},[s,m,p,y])}function sL(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}function _M(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function CM(e,t,n,r,i){return e==="center"||r==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:n}:e==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const Nne={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function _ne({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:s,arrowY:o,dir:a}){const[c,u="center"]=e.split("-"),f={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[Nne[c]]:r},m=-t/2;return c==="left"?{...f,..._M(u,o,n,i),right:m,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:c==="right"?{...f,..._M(u,o,n,i),left:m,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:c==="top"?{...f,...CM(u,s,n,i,a),bottom:m,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:c==="bottom"?{...f,...CM(u,s,n,i,a),top:m,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const EA=w.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:s,arrowX:o,arrowY:a,style:c,...u},f)=>{const{dir:m}=Fc();return s?h.jsx("div",{...u,ref:f,style:{...c,..._ne({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:m,arrowX:o,arrowY:a})}}):null});EA.displayName="@mantine/core/FloatingArrow";var oL={root:"m_9814e45f"};const Cne={zIndex:oo("modal")},One=(e,{gradient:t,color:n,backgroundOpacity:r,blur:i,radius:s,zIndex:o})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&wo(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${Te(i)})`:void 0,"--overlay-radius":s===void 0?void 0:tr(s),"--overlay-z-index":o==null?void 0:o.toString()}}),s1=Lc((e,t)=>{const n=De("Overlay",Cne,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:c,fixed:u,center:f,children:m,radius:p,zIndex:y,gradient:v,blur:x,color:S,backgroundOpacity:N,mod:_,...C}=n,j=wt({name:"Overlay",props:n,classes:oL,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:c,varsResolver:One});return h.jsx(Ue,{ref:t,...j("root"),mod:[{center:f,fixed:u},_],...C,children:m})});s1.classes=oL;s1.displayName="@mantine/core/Overlay";function _N(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function jne({target:e,reuseTargetNode:t,...n}){if(e)return typeof e=="string"?document.querySelector(e)||_N(n):e;if(t){const r=document.querySelector("[data-mantine-shared-portal-node]");if(r)return r;const i=_N(n);return i.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(i),i}return _N(n)}const Ane={},aL=Je((e,t)=>{const{children:n,target:r,reuseTargetNode:i,...s}=De("Portal",Ane,e),[o,a]=w.useState(!1),c=w.useRef(null);return Zh(()=>(a(!0),c.current=jne({target:r,reuseTargetNode:i,...s}),gx(t,c.current),!r&&!i&&c.current&&document.body.appendChild(c.current),()=>{!r&&!i&&c.current&&document.body.removeChild(c.current)}),[r]),!o||!c.current?null:By.createPortal(h.jsx(h.Fragment,{children:n}),c.current)});aL.displayName="@mantine/core/Portal";const vd=Je(({withinPortal:e=!0,children:t,...n},r)=>y7()==="test"||!e?h.jsx(h.Fragment,{children:t}):h.jsx(aL,{ref:r,...n,children:t}));vd.displayName="@mantine/core/OptionalPortal";const Mp=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),Kb={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Mp("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Mp("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Mp("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Mp("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Mp("top"),common:{transformOrigin:"top right"}}},OM={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function Tne({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in Kb?{transitionProperty:Kb[e].transitionProperty,...i,...Kb[e].common,...Kb[e][OM[t]]}:{}:{transitionProperty:e.transitionProperty,...i,...e.common,...e[OM[t]]}}function $ne({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a,enterDelay:c,exitDelay:u}){const f=Vi(),m=Qj(),p=f.respectReducedMotion?m:!1,[y,v]=w.useState(p?0:e),[x,S]=w.useState(r?"entered":"exited"),N=w.useRef(-1),_=w.useRef(-1),C=w.useRef(-1),j=$=>{const k=$?i:s,R=$?o:a;window.clearTimeout(N.current);const D=p?0:$?e:t;v(D),D===0?(typeof k=="function"&&k(),typeof R=="function"&&R(),S($?"entered":"exited")):C.current=requestAnimationFrame(()=>{Ff.flushSync(()=>{S($?"pre-entering":"pre-exiting")}),C.current=requestAnimationFrame(()=>{typeof k=="function"&&k(),S($?"entering":"exiting"),N.current=window.setTimeout(()=>{typeof R=="function"&&R(),S($?"entered":"exited")},D)})})},A=$=>{if(window.clearTimeout(_.current),typeof($?c:u)!="number"){j($);return}_.current=window.setTimeout(()=>{j($)},$?c:u)};return za(()=>{A(r)},[r]),w.useEffect(()=>()=>{window.clearTimeout(N.current),cancelAnimationFrame(C.current)},[]),{transitionDuration:y,transitionStatus:x,transitionTimingFunction:n||"ease"}}function Bc({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:i,children:s,timingFunction:o="ease",onExit:a,onEntered:c,onEnter:u,onExited:f,enterDelay:m,exitDelay:p}){const y=y7(),{transitionDuration:v,transitionStatus:x,transitionTimingFunction:S}=$ne({mounted:i,exitDuration:r,duration:n,timingFunction:o,onExit:a,onEntered:c,onEnter:u,onExited:f,enterDelay:m,exitDelay:p});return v===0||y==="test"?i?h.jsx(h.Fragment,{children:s({})}):e?s({display:"none"}):null:x==="exited"?e?s({display:"none"}):null:h.jsx(h.Fragment,{children:s(Tne({transition:t,duration:v,state:x,timingFunction:S}))})}Bc.displayName="@mantine/core/Transition";const[Rne,lL]=el("Popover component was not found in the tree");function o1({children:e,active:t=!0,refProp:n="ref",innerRef:r}){const i=yZ(t),s=$n(i,r);return Ic(e)?w.cloneElement(e,{[n]:s}):e}function cL(e){return h.jsx(lA,{tabIndex:-1,"data-autofocus":!0,...e})}o1.displayName="@mantine/core/FocusTrap";cL.displayName="@mantine/core/FocusTrapInitialFocus";o1.InitialFocus=cL;var uL={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const kne={},NA=Je((e,t)=>{var S,N,_,C;const n=De("PopoverDropdown",kne,e),{className:r,style:i,vars:s,children:o,onKeyDownCapture:a,variant:c,classNames:u,styles:f,...m}=n,p=lL(),y=u7({opened:p.opened,shouldReturnFocus:p.returnFocus}),v=p.withRoles?{"aria-labelledby":p.getTargetId(),id:p.getDropdownId(),role:"dialog",tabIndex:-1}:{},x=$n(t,p.floating);return p.disabled?null:h.jsx(vd,{...p.portalProps,withinPortal:p.withinPortal,children:h.jsx(Bc,{mounted:p.opened,...p.transitionProps,transition:((S=p.transitionProps)==null?void 0:S.transition)||"fade",duration:((N=p.transitionProps)==null?void 0:N.duration)??150,keepMounted:p.keepMounted,exitDuration:typeof((_=p.transitionProps)==null?void 0:_.exitDuration)=="number"?p.transitionProps.exitDuration:(C=p.transitionProps)==null?void 0:C.duration,children:j=>h.jsx(o1,{active:p.trapFocus&&p.opened,innerRef:x,children:h.jsxs(Ue,{...v,...m,variant:c,onKeyDownCapture:iZ(()=>{var A,$;(A=p.onClose)==null||A.call(p),($=p.onDismiss)==null||$.call(p)},{active:p.closeOnEscape,onTrigger:y,onKeyDown:a}),"data-position":p.placement,"data-fixed":p.floatingStrategy==="fixed"||void 0,...p.getStyles("dropdown",{className:r,props:n,classNames:u,styles:f,style:[{...j,zIndex:p.zIndex,top:p.y??0,left:p.x??0,width:p.width==="target"?void 0:Te(p.width)},p.resolvedStyles.dropdown,f==null?void 0:f.dropdown,i]}),children:[o,h.jsx(EA,{ref:p.arrowRef,arrowX:p.arrowX,arrowY:p.arrowY,visible:p.withArrow,position:p.placement,arrowSize:p.arrowSize,arrowRadius:p.arrowRadius,arrowOffset:p.arrowOffset,arrowPosition:p.arrowPosition,...p.getStyles("arrow",{props:n,classNames:u,styles:f})})]})})})})});NA.classes=uL;NA.displayName="@mantine/core/PopoverDropdown";const Mne={refProp:"ref",popupType:"dialog"},dL=Je((e,t)=>{const{children:n,refProp:r,popupType:i,...s}=De("PopoverTarget",Mne,e);if(!Ic(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=s,a=lL(),c=$n(a.reference,Kw(n),t),u=a.withRoles?{"aria-haspopup":i,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return w.cloneElement(n,{...o,...u,...a.targetProps,className:vn(a.targetProps.className,o.className,n.props.className),[r]:c,...a.controlled?null:{onClick:a.onToggle}})});dL.displayName="@mantine/core/PopoverTarget";function fL({opened:e,floating:t,position:n,positionDependencies:r}){const[i,s]=w.useState(0);w.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return Wte(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,i,n]),za(()=>{t.update()},r),za(()=>{s(o=>o+1)},[e])}function Ine(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function Pne(e,t){const n=Ine(e.middlewares),r=[eL(e.offset)];return n.shift&&r.push(bA(typeof n.shift=="boolean"?{limiter:bM(),padding:5}:{limiter:bM(),padding:5,...n.shift})),n.flip&&r.push(typeof n.flip=="boolean"?wx():wx(n.flip)),n.inline&&r.push(typeof n.inline=="boolean"?dg():dg(n.inline)),r.push(tL({element:e.arrowRef,padding:e.arrowOffset})),(n.size||e.width==="target")&&r.push(nne({...typeof n.size=="boolean"?{}:n.size,apply({rects:i,availableWidth:s,availableHeight:o,...a}){var f;const u=((f=t().refs.floating.current)==null?void 0:f.style)??{};n.size&&(typeof n.size=="object"&&n.size.apply?n.size.apply({rects:i,availableWidth:s,availableHeight:o,...a}):Object.assign(u,{maxWidth:`${s}px`,maxHeight:`${o}px`})),e.width==="target"&&Object.assign(u,{width:`${i.reference.width}px`})}})),r}function Dne(e){const[t,n]=pi({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=w.useRef(t),i=()=>{t&&n(!1)},s=()=>n(!t),o=SA({strategy:e.strategy,placement:e.position,middleware:Pne(e,()=>o)});return fL({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:o}),za(()=>{var a;(a=e.onPositionChange)==null||a.call(e,o.placement)},[o.placement]),za(()=>{var a,c;t!==r.current&&(t?(c=e.onOpen)==null||c.call(e):(a=e.onClose)==null||a.call(e)),r.current=t},[t,e.onClose,e.onOpen]),{floating:o,controlled:typeof e.opened=="boolean",opened:t,onClose:i,onToggle:s}}const Lne={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:oo("popover"),__staticSelector:"Popover",width:"max-content"},Fne=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:tr(t),"--popover-shadow":Kj(n)}});function hi(e){var ne,le,xe,Ne,Ge,Ut;const t=De("Popover",Lne,e),{children:n,position:r,offset:i,onPositionChange:s,positionDependencies:o,opened:a,transitionProps:c,onExitTransitionEnd:u,onEnterTransitionEnd:f,width:m,middlewares:p,withArrow:y,arrowSize:v,arrowOffset:x,arrowRadius:S,arrowPosition:N,unstyled:_,classNames:C,styles:j,closeOnClickOutside:A,withinPortal:$,portalProps:k,closeOnEscape:R,clickOutsideEvents:D,trapFocus:z,onClose:L,onDismiss:F,onOpen:H,onChange:M,zIndex:V,radius:T,shadow:I,id:P,defaultOpened:W,__staticSelector:B,withRoles:q,disabled:X,returnFocus:Q,variant:ie,keepMounted:ae,vars:fe,floatingStrategy:ce,withOverlay:he,overlayProps:ve,...Ae}=t,Ce=wt({name:B,props:t,classes:uL,classNames:C,styles:j,unstyled:_,rootSelector:"dropdown",vars:fe,varsResolver:Fne}),{resolvedStyles:Ee}=em({classNames:C,styles:j,props:t}),Re=w.useRef(null),[ke,We]=w.useState(null),[et,Oe]=w.useState(null),{dir:Ie}=Fc(),Pe=gs(P),G=Dne({middlewares:p,width:m,position:sL(Ie,r),offset:typeof i=="number"?i+(y?v/2:0):i,arrowRef:Re,arrowOffset:x,onPositionChange:s,positionDependencies:o,opened:a,defaultOpened:W,onChange:M,onOpen:H,onClose:L,onDismiss:F,strategy:ce});lZ(()=>{A&&(G.onClose(),F==null||F())},D,[ke,et]);const re=w.useCallback(St=>{We(St),G.floating.refs.setReference(St)},[G.floating.refs.setReference]),te=w.useCallback(St=>{Oe(St),G.floating.refs.setFloating(St)},[G.floating.refs.setFloating]),me=w.useCallback(()=>{var St;(St=c==null?void 0:c.onExited)==null||St.call(c),u==null||u()},[c==null?void 0:c.onExited,u]),se=w.useCallback(()=>{var St;(St=c==null?void 0:c.onEntered)==null||St.call(c),f==null||f()},[c==null?void 0:c.onEntered,f]);return h.jsxs(Rne,{value:{returnFocus:Q,disabled:X,controlled:G.controlled,reference:re,floating:te,x:G.floating.x,y:G.floating.y,arrowX:(xe=(le=(ne=G.floating)==null?void 0:ne.middlewareData)==null?void 0:le.arrow)==null?void 0:xe.x,arrowY:(Ut=(Ge=(Ne=G.floating)==null?void 0:Ne.middlewareData)==null?void 0:Ge.arrow)==null?void 0:Ut.y,opened:G.opened,arrowRef:Re,transitionProps:{...c,onExited:me,onEntered:se},width:m,withArrow:y,arrowSize:v,arrowOffset:x,arrowRadius:S,arrowPosition:N,placement:G.floating.placement,trapFocus:z,withinPortal:$,portalProps:k,zIndex:V,radius:T,shadow:I,closeOnEscape:R,onDismiss:F,onClose:G.onClose,onToggle:G.onToggle,getTargetId:()=>`${Pe}-target`,getDropdownId:()=>`${Pe}-dropdown`,withRoles:q,targetProps:Ae,__staticSelector:B,classNames:C,styles:j,unstyled:_,variant:ie,keepMounted:ae,getStyles:Ce,resolvedStyles:Ee,floatingStrategy:ce},children:[n,he&&h.jsx(Bc,{transition:"fade",mounted:G.opened,duration:(c==null?void 0:c.duration)||250,exitDuration:(c==null?void 0:c.exitDuration)||250,children:St=>h.jsx(vd,{withinPortal:$,children:h.jsx(s1,{...ve,...Ce("overlay",{className:ve==null?void 0:ve.className,style:[St,ve==null?void 0:ve.style]})})})})]})}hi.Target=dL;hi.Dropdown=NA;hi.displayName="@mantine/core/Popover";hi.extend=e=>e;var Ws={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const hL=w.forwardRef(({className:e,...t},n)=>h.jsxs(Ue,{component:"span",className:vn(Ws.barsLoader,e),...t,ref:n,children:[h.jsx("span",{className:Ws.bar}),h.jsx("span",{className:Ws.bar}),h.jsx("span",{className:Ws.bar})]}));hL.displayName="@mantine/core/Bars";const mL=w.forwardRef(({className:e,...t},n)=>h.jsxs(Ue,{component:"span",className:vn(Ws.dotsLoader,e),...t,ref:n,children:[h.jsx("span",{className:Ws.dot}),h.jsx("span",{className:Ws.dot}),h.jsx("span",{className:Ws.dot})]}));mL.displayName="@mantine/core/Dots";const pL=w.forwardRef(({className:e,...t},n)=>h.jsx(Ue,{component:"span",className:vn(Ws.ovalLoader,e),...t,ref:n}));pL.displayName="@mantine/core/Oval";const gL={bars:hL,oval:pL,dots:mL},Bne={loaders:gL,type:"oval"},zne=(e,{size:t,color:n})=>({root:{"--loader-size":Mt(t,"loader-size"),"--loader-color":n?Ar(n,e):void 0}}),Uy=Je((e,t)=>{const n=De("Loader",Bne,e),{size:r,color:i,type:s,vars:o,className:a,style:c,classNames:u,styles:f,unstyled:m,loaders:p,variant:y,children:v,...x}=n,S=wt({name:"Loader",props:n,classes:Ws,className:a,style:c,classNames:u,styles:f,unstyled:m,vars:o,varsResolver:zne});return v?h.jsx(Ue,{...S("root"),ref:t,...x,children:v}):h.jsx(Ue,{...S("root"),ref:t,component:p[s],variant:y,size:r,...x})});Uy.defaultLoaders=gL;Uy.classes=Ws;Uy.displayName="@mantine/core/Loader";const yL=w.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>h.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n,children:h.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));yL.displayName="@mantine/core/CloseIcon";var bL={root:"m_86a44da5","root--subtle":"m_220c80f2"};const Vne={variant:"subtle"},Une=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":Mt(t,"cb-size"),"--cb-radius":n===void 0?void 0:tr(n),"--cb-icon-size":Te(r)}}),im=Lc((e,t)=>{const n=De("CloseButton",Vne,e),{iconSize:r,children:i,vars:s,radius:o,className:a,classNames:c,style:u,styles:f,unstyled:m,"data-disabled":p,disabled:y,variant:v,icon:x,mod:S,__staticSelector:N,..._}=n,C=wt({name:N||"CloseButton",props:n,className:a,style:u,classes:bL,classNames:c,styles:f,unstyled:m,vars:s,varsResolver:Une});return h.jsxs(Va,{ref:t,..._,unstyled:m,variant:v,disabled:y,mod:[{disabled:y||p},S],...C("root",{variant:v,active:!y&&!p}),children:[x||h.jsx(yL,{}),i]})});im.classes=bL;im.displayName="@mantine/core/CloseButton";function qne(e){return w.Children.toArray(e).filter(Boolean)}var vL={root:"m_4081bf90"};const Hne={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},Wne=(e,{grow:t,preventGrowOverflow:n,gap:r,align:i,justify:s,wrap:o},{childWidth:a})=>({root:{"--group-child-width":t&&n?a:void 0,"--group-gap":Xj(r),"--group-align":i,"--group-justify":s,"--group-wrap":o}}),_A=Je((e,t)=>{const n=De("Group",Hne,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,children:c,gap:u,align:f,justify:m,wrap:p,grow:y,preventGrowOverflow:v,vars:x,variant:S,__size:N,mod:_,...C}=n,j=qne(c),A=j.length,$=Xj(u??"md"),R={childWidth:`calc(${100/A}% - (${$} - ${$} / ${A}))`},D=wt({name:"Group",props:n,stylesCtx:R,className:i,style:s,classes:vL,classNames:r,styles:o,unstyled:a,vars:x,varsResolver:Wne});return h.jsx(Ue,{...D("root"),ref:t,variant:S,mod:[{grow:y},_],size:N,...C,children:j})});_A.classes=vL;_A.displayName="@mantine/core/Group";const[Gne,tl]=el("ModalBase component was not found in tree");function Jne({opened:e,transitionDuration:t}){const[n,r]=w.useState(e),i=w.useRef(-1),o=Qj()?0:t;return w.useEffect(()=>(e?(r(!0),window.clearTimeout(i.current)):o===0?r(!1):i.current=window.setTimeout(()=>r(!1),o),()=>window.clearTimeout(i.current)),[e,o]),n}function Yne({id:e,transitionProps:t,opened:n,trapFocus:r,closeOnEscape:i,onClose:s,returnFocus:o}){const a=gs(e),[c,u]=w.useState(!1),[f,m]=w.useState(!1),p=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,y=Jne({opened:n,transitionDuration:p});return SZ("keydown",v=>{var x;v.key==="Escape"&&i&&n&&((x=v.target)==null?void 0:x.getAttribute("data-mantine-stop-propagation"))!=="true"&&s()},{capture:!0}),u7({opened:n,shouldReturnFocus:r&&o}),{_id:a,titleMounted:c,bodyMounted:f,shouldLockScroll:y,setTitleMounted:u,setBodyMounted:m}}const xL=w.forwardRef(({keepMounted:e,opened:t,onClose:n,id:r,transitionProps:i,onExitTransitionEnd:s,onEnterTransitionEnd:o,trapFocus:a,closeOnEscape:c,returnFocus:u,closeOnClickOutside:f,withinPortal:m,portalProps:p,lockScroll:y,children:v,zIndex:x,shadow:S,padding:N,__vars:_,unstyled:C,removeScrollProps:j,...A},$)=>{const{_id:k,titleMounted:R,bodyMounted:D,shouldLockScroll:z,setTitleMounted:L,setBodyMounted:F}=Yne({id:r,transitionProps:i,opened:t,trapFocus:a,closeOnEscape:c,onClose:n,returnFocus:u}),{key:H,...M}=j||{};return h.jsx(vd,{...p,withinPortal:m,children:h.jsx(Gne,{value:{opened:t,onClose:n,closeOnClickOutside:f,onExitTransitionEnd:s,onEnterTransitionEnd:o,transitionProps:{...i,keepMounted:e},getTitleId:()=>`${k}-title`,getBodyId:()=>`${k}-body`,titleMounted:R,bodyMounted:D,setTitleMounted:L,setBodyMounted:F,trapFocus:a,closeOnEscape:c,zIndex:x,unstyled:C},children:h.jsx(mx,{enabled:z&&y,...M,children:h.jsx(Ue,{ref:$,...A,__vars:{..._,"--mb-z-index":(x||oo("modal")).toString(),"--mb-shadow":Kj(S),"--mb-padding":Xj(N)},children:v})},H)})})});xL.displayName="@mantine/core/ModalBase";function Xne(){const e=tl();return w.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var Ch={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const wL=w.forwardRef(({className:e,...t},n)=>{const r=Xne(),i=tl();return h.jsx(Ue,{ref:n,...t,id:r,className:vn({[Ch.body]:!i.unstyled},e)})});wL.displayName="@mantine/core/ModalBaseBody";const SL=w.forwardRef(({className:e,onClick:t,...n},r)=>{const i=tl();return h.jsx(im,{ref:r,...n,onClick:s=>{i.onClose(),t==null||t(s)},className:vn({[Ch.close]:!i.unstyled},e),unstyled:i.unstyled})});SL.displayName="@mantine/core/ModalBaseCloseButton";const EL=w.forwardRef(({transitionProps:e,className:t,innerProps:n,onKeyDown:r,style:i,...s},o)=>{const a=tl();return h.jsx(Bc,{mounted:a.opened,transition:"pop",...a.transitionProps,onExited:()=>{var c,u,f;(c=a.onExitTransitionEnd)==null||c.call(a),(f=(u=a.transitionProps)==null?void 0:u.onExited)==null||f.call(u)},onEntered:()=>{var c,u,f;(c=a.onEnterTransitionEnd)==null||c.call(a),(f=(u=a.transitionProps)==null?void 0:u.onEntered)==null||f.call(u)},...e,children:c=>h.jsx("div",{...n,className:vn({[Ch.inner]:!a.unstyled},n.className),children:h.jsx(o1,{active:a.opened&&a.trapFocus,innerRef:o,children:h.jsx(cA,{...s,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,style:[i,c],className:vn({[Ch.content]:!a.unstyled},t),unstyled:a.unstyled,children:s.children})})})})});EL.displayName="@mantine/core/ModalBaseContent";const NL=w.forwardRef(({className:e,...t},n)=>{const r=tl();return h.jsx(Ue,{component:"header",ref:n,className:vn({[Ch.header]:!r.unstyled},e),...t})});NL.displayName="@mantine/core/ModalBaseHeader";const Kne={duration:200,timingFunction:"ease",transition:"fade"};function Qne(e){const t=tl();return{...Kne,...t.transitionProps,...e}}const _L=w.forwardRef(({onClick:e,transitionProps:t,style:n,visible:r,...i},s)=>{const o=tl(),a=Qne(t);return h.jsx(Bc,{mounted:r!==void 0?r:o.opened,...a,transition:"fade",children:c=>h.jsx(s1,{ref:s,fixed:!0,style:[n,c],zIndex:o.zIndex,unstyled:o.unstyled,onClick:u=>{e==null||e(u),o.closeOnClickOutside&&o.onClose()},...i})})});_L.displayName="@mantine/core/ModalBaseOverlay";function Zne(){const e=tl();return w.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const CL=w.forwardRef(({className:e,...t},n)=>{const r=Zne(),i=tl();return h.jsx(Ue,{component:"h2",ref:n,className:vn({[Ch.title]:!i.unstyled},e),...t,id:r})});CL.displayName="@mantine/core/ModalBaseTitle";function ere({children:e}){return h.jsx(h.Fragment,{children:e})}const[tre,nre]=bd({size:"sm"}),rre={},OL=Je((e,t)=>{const n=De("InputClearButton",rre,e),{size:r,variant:i,vars:s,classNames:o,styles:a,...c}=n,u=nre(),{resolvedClassNames:f,resolvedStyles:m}=em({classNames:o,styles:a,props:n});return h.jsx(im,{variant:i||"transparent",ref:t,size:r||(u==null?void 0:u.size)||"sm",classNames:f,styles:m,__staticSelector:"InputClearButton",...c})});OL.displayName="@mantine/core/InputClearButton";const[ire,sm]=bd({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var bs={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const jM={},sre=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${Jr(t)} - ${Te(2)})`}}),a1=Je((e,t)=>{const n=De("InputDescription",jM,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:c,size:u,__staticSelector:f,__inheritStyles:m=!0,variant:p,...y}=De("InputDescription",jM,n),v=sm(),x=wt({name:["InputWrapper",f],props:n,classes:bs,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"description",vars:c,varsResolver:sre}),S=m&&(v==null?void 0:v.getStyles)||x;return h.jsx(Ue,{component:"p",ref:t,variant:p,size:u,...S("description",v!=null&&v.getStyles?{className:i,style:s}:void 0),...y})});a1.classes=bs;a1.displayName="@mantine/core/InputDescription";const ore={},are=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${Jr(t)} - ${Te(2)})`}}),l1=Je((e,t)=>{const n=De("InputError",ore,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:c,size:u,__staticSelector:f,__inheritStyles:m=!0,variant:p,...y}=n,v=wt({name:["InputWrapper",f],props:n,classes:bs,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"error",vars:c,varsResolver:are}),x=sm(),S=m&&(x==null?void 0:x.getStyles)||v;return h.jsx(Ue,{component:"p",ref:t,variant:p,size:u,...S("error",x!=null&&x.getStyles?{className:i,style:s}:void 0),...y})});l1.classes=bs;l1.displayName="@mantine/core/InputError";const AM={labelElement:"label"},lre=(e,{size:t})=>({label:{"--input-label-size":Jr(t),"--input-asterisk-color":void 0}}),c1=Je((e,t)=>{const n=De("InputLabel",AM,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:c,labelElement:u,size:f,required:m,htmlFor:p,onMouseDown:y,children:v,__staticSelector:x,variant:S,mod:N,..._}=De("InputLabel",AM,n),C=wt({name:["InputWrapper",x],props:n,classes:bs,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"label",vars:c,varsResolver:lre}),j=sm(),A=(j==null?void 0:j.getStyles)||C;return h.jsxs(Ue,{...A("label",j!=null&&j.getStyles?{className:i,style:s}:void 0),component:u,variant:S,size:f,ref:t,htmlFor:u==="label"?p:void 0,mod:[{required:m},N],onMouseDown:$=>{y==null||y($),!$.defaultPrevented&&$.detail>1&&$.preventDefault()},..._,children:[v,m&&h.jsx("span",{...A("required"),"aria-hidden":!0,children:" *"})]})});c1.classes=bs;c1.displayName="@mantine/core/InputLabel";const TM={},CA=Je((e,t)=>{const n=De("InputPlaceholder",TM,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:c,__staticSelector:u,variant:f,error:m,mod:p,...y}=De("InputPlaceholder",TM,n),v=wt({name:["InputPlaceholder",u],props:n,classes:bs,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"placeholder"});return h.jsx(Ue,{...v("placeholder"),mod:[{error:!!m},p],component:"span",variant:f,ref:t,...y})});CA.classes=bs;CA.displayName="@mantine/core/InputPlaceholder";function cre(e,{hasDescription:t,hasError:n}){const r=e.findIndex(c=>c==="input"),i=e.slice(0,r),s=e.slice(r+1),o=t&&i.includes("description")||n&&i.includes("error");return{offsetBottom:t&&s.includes("description")||n&&s.includes("error"),offsetTop:o}}const ure={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},dre=(e,{size:t})=>({label:{"--input-label-size":Jr(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${Jr(t)} - ${Te(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${Jr(t)} - ${Te(2)})`}}),OA=Je((e,t)=>{const n=De("InputWrapper",ure,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:c,size:u,variant:f,__staticSelector:m,inputContainer:p,inputWrapperOrder:y,label:v,error:x,description:S,labelProps:N,descriptionProps:_,errorProps:C,labelElement:j,children:A,withAsterisk:$,id:k,required:R,__stylesApiProps:D,mod:z,...L}=n,F=wt({name:["InputWrapper",m],props:D||n,classes:bs,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:c,varsResolver:dre}),H={size:u,variant:f,__staticSelector:m},M=gs(k),V=typeof $=="boolean"?$:R,T=(C==null?void 0:C.id)||`${M}-error`,I=(_==null?void 0:_.id)||`${M}-description`,P=M,W=!!x&&typeof x!="boolean",B=!!S,q=`${W?T:""} ${B?I:""}`,X=q.trim().length>0?q.trim():void 0,Q=(N==null?void 0:N.id)||`${M}-label`,ie=v&&h.jsx(c1,{labelElement:j,id:Q,htmlFor:P,required:V,...H,...N,children:v},"label"),ae=B&&h.jsx(a1,{..._,...H,size:(_==null?void 0:_.size)||H.size,id:(_==null?void 0:_.id)||I,children:S},"description"),fe=h.jsx(w.Fragment,{children:p(A)},"input"),ce=W&&w.createElement(l1,{...C,...H,size:(C==null?void 0:C.size)||H.size,key:"error",id:(C==null?void 0:C.id)||T},x),he=y.map(ve=>{switch(ve){case"label":return ie;case"input":return fe;case"description":return ae;case"error":return ce;default:return null}});return h.jsx(ire,{value:{getStyles:F,describedBy:X,inputId:P,labelId:Q,...cre(y,{hasDescription:B,hasError:W})},children:h.jsx(Ue,{ref:t,variant:f,size:u,mod:[{error:!!x},z],...F("root"),...L,children:he})})});OA.classes=bs;OA.displayName="@mantine/core/InputWrapper";const fre={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},hre=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Mt(t.size,"input-height"),"--input-fz":Jr(t.size),"--input-radius":t.radius===void 0?void 0:tr(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?Te(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?Te(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?Mt(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Vt=Lc((e,t)=>{const n=De("Input",fre,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,required:c,__staticSelector:u,__stylesApiProps:f,size:m,wrapperProps:p,error:y,disabled:v,leftSection:x,leftSectionProps:S,leftSectionWidth:N,rightSection:_,rightSectionProps:C,rightSectionWidth:j,rightSectionPointerEvents:A,leftSectionPointerEvents:$,variant:k,vars:R,pointer:D,multiline:z,radius:L,id:F,withAria:H,withErrorStyles:M,mod:V,inputSize:T,__clearSection:I,__clearable:P,__defaultRightSection:W,...B}=n,{styleProps:q,rest:X}=tm(B),Q=sm(),ie={offsetBottom:Q==null?void 0:Q.offsetBottom,offsetTop:Q==null?void 0:Q.offsetTop},ae=wt({name:["Input",u],props:f||n,classes:bs,className:i,style:s,classNames:r,styles:o,unstyled:a,stylesCtx:ie,rootSelector:"wrapper",vars:R,varsResolver:hre}),fe=H?{required:c,disabled:v,"aria-invalid":!!y,"aria-describedby":Q==null?void 0:Q.describedBy,id:(Q==null?void 0:Q.inputId)||F}:{},ce=_||P&&I||W;return h.jsx(tre,{value:{size:m||"sm"},children:h.jsxs(Ue,{...ae("wrapper"),...q,...p,mod:[{error:!!y&&M,pointer:D,disabled:v,multiline:z,"data-with-right-section":!!ce,"data-with-left-section":!!x},V],variant:k,size:m,children:[x&&h.jsx("div",{...S,"data-position":"left",...ae("section",{className:S==null?void 0:S.className,style:S==null?void 0:S.style}),children:x}),h.jsx(Ue,{component:"input",...X,...fe,ref:t,required:c,mod:{disabled:v,error:!!y&&M},variant:k,__size:T,...ae("input")}),ce&&h.jsx("div",{...C,"data-position":"right",...ae("section",{className:C==null?void 0:C.className,style:C==null?void 0:C.style}),children:ce})]})})});Vt.classes=bs;Vt.Wrapper=OA;Vt.Label=c1;Vt.Error=l1;Vt.Description=a1;Vt.Placeholder=CA;Vt.ClearButton=OL;Vt.displayName="@mantine/core/Input";function mre(e,t,n){const r=De(e,t,n),{label:i,description:s,error:o,required:a,classNames:c,styles:u,className:f,unstyled:m,__staticSelector:p,__stylesApiProps:y,errorProps:v,labelProps:x,descriptionProps:S,wrapperProps:N,id:_,size:C,style:j,inputContainer:A,inputWrapperOrder:$,withAsterisk:k,variant:R,vars:D,mod:z,...L}=r,{styleProps:F,rest:H}=tm(L),M={label:i,description:s,error:o,required:a,classNames:c,className:f,__staticSelector:p,__stylesApiProps:y||r,errorProps:v,labelProps:x,descriptionProps:S,unstyled:m,styles:u,size:C,style:j,inputContainer:A,inputWrapperOrder:$,withAsterisk:k,variant:R,id:_,mod:z,...N};return{...H,classNames:c,styles:u,unstyled:m,wrapperProps:{...M,...F},inputProps:{required:a,classNames:c,styles:u,unstyled:m,size:C,__staticSelector:p,__stylesApiProps:y||r,error:o,variant:R,id:_}}}const pre={__staticSelector:"InputBase",withAria:!0},vs=Lc((e,t)=>{const{inputProps:n,wrapperProps:r,...i}=mre("InputBase",pre,e);return h.jsx(Vt.Wrapper,{...r,children:h.jsx(Vt,{...n,...i,ref:t})})});vs.classes={...Vt.classes,...Vt.Wrapper.classes};vs.displayName="@mantine/core/InputBase";function gre(e,t){if(!t||!e)return!1;let n=t.parentNode;for(;n!=null;){if(n===e)return!0;n=n.parentNode}return!1}function yre({target:e,parent:t,ref:n,displayAfterTransitionEnd:r}){const i=w.useRef(-1),[s,o]=w.useState(!1),[a,c]=w.useState(typeof r=="boolean"?r:!1),u=()=>{if(!e||!t||!n.current)return;const y=e.getBoundingClientRect(),v=t.getBoundingClientRect(),x=window.getComputedStyle(e),S=window.getComputedStyle(t),N=fc(x.borderTopWidth)+fc(S.borderTopWidth),_=fc(x.borderLeftWidth)+fc(S.borderLeftWidth),C={top:y.top-v.top-N,left:y.left-v.left-_,width:y.width,height:y.height};n.current.style.transform=`translateY(${C.top}px) translateX(${C.left}px)`,n.current.style.width=`${C.width}px`,n.current.style.height=`${C.height}px`},f=()=>{window.clearTimeout(i.current),n.current&&(n.current.style.transitionDuration="0ms"),u(),i.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},m=w.useRef(null),p=w.useRef(null);return w.useEffect(()=>{if(u(),e)return m.current=new ResizeObserver(f),m.current.observe(e),t&&(p.current=new ResizeObserver(f),p.current.observe(t)),()=>{var y,v;(y=m.current)==null||y.disconnect(),(v=p.current)==null||v.disconnect()}},[t,e]),w.useEffect(()=>{if(t){const y=v=>{gre(v.target,t)&&(f(),c(!1))};return t.addEventListener("transitionend",y),()=>{t.removeEventListener("transitionend",y)}}},[t]),_Z(()=>{m7()!=="test"&&o(!0)},20,{autoInvoke:!0}),OZ(y=>{y.forEach(v=>{v.type==="attributes"&&v.attributeName==="dir"&&f()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:s,hidden:a}}var jL={root:"m_96b553a6"};const bre={},vre=(e,{transitionDuration:t})=>({root:{"--transition-duration":typeof t=="number"?`${t}ms`:t}}),jA=Je((e,t)=>{const n=De("FloatingIndicator",bre,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:c,target:u,parent:f,transitionDuration:m,mod:p,displayAfterTransitionEnd:y,...v}=n,x=wt({name:"FloatingIndicator",classes:jL,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:c,varsResolver:vre}),S=w.useRef(null),{initialized:N,hidden:_}=yre({target:u,parent:f,ref:S,displayAfterTransitionEnd:y}),C=$n(t,S);return!u||!f?null:h.jsx(Ue,{ref:C,mod:[{initialized:N,hidden:_},p],...x("root"),...v})});jA.displayName="@mantine/core/FloatingIndicator";jA.classes=jL;function AL(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>AL(t))}:e}function TL(e){return e?e.map(t=>AL(t)):[]}function AA(e){return e.reduce((t,n)=>"group"in n?{...t,...AA(n.items)}:(t[n.value]=n,t),{})}var gi={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const xre={error:null},wre=(e,{size:t,color:n})=>({chevron:{"--combobox-chevron-size":Mt(t,"combobox-chevron-size"),"--combobox-chevron-color":n?Ar(n,e):void 0}}),TA=Je((e,t)=>{const n=De("ComboboxChevron",xre,e),{size:r,error:i,style:s,className:o,classNames:a,styles:c,unstyled:u,vars:f,mod:m,...p}=n,y=wt({name:"ComboboxChevron",classes:gi,props:n,style:s,className:o,classNames:a,styles:c,unstyled:u,vars:f,varsResolver:wre,rootSelector:"chevron"});return h.jsx(Ue,{component:"svg",...p,...y("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},m],ref:t,children:h.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});TA.classes=gi;TA.displayName="@mantine/core/ComboboxChevron";const[Sre,xs]=el("Combobox component was not found in tree"),$L=w.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...i},s)=>h.jsx(Vt.ClearButton,{ref:s,tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:o=>{o.preventDefault(),t==null||t(o)},onClick:o=>{r(),n==null||n(o)}}));$L.displayName="@mantine/core/ComboboxClearButton";const Ere={},$A=Je((e,t)=>{const{classNames:n,styles:r,className:i,style:s,hidden:o,...a}=De("ComboboxDropdown",Ere,e),c=xs();return h.jsx(hi.Dropdown,{...a,ref:t,role:"presentation","data-hidden":o||void 0,...c.getStyles("dropdown",{className:i,style:s,classNames:n,styles:r})})});$A.classes=gi;$A.displayName="@mantine/core/ComboboxDropdown";const Nre={refProp:"ref"},RL=Je((e,t)=>{const{children:n,refProp:r}=De("ComboboxDropdownTarget",Nre,e);if(xs(),!Ic(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return h.jsx(hi.Target,{ref:t,refProp:r,children:n})});RL.displayName="@mantine/core/ComboboxDropdownTarget";const _re={},RA=Je((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=De("ComboboxEmpty",_re,e),c=xs();return h.jsx(Ue,{ref:t,...c.getStyles("empty",{className:r,classNames:n,styles:s,style:i}),...a})});RA.classes=gi;RA.displayName="@mantine/core/ComboboxEmpty";function kA({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:i,autoComplete:s}){const o=xs(),[a,c]=w.useState(null),u=m=>{if(e==null||e(m),!o.readOnly&&t){if(m.nativeEvent.isComposing)return;if(m.nativeEvent.code==="ArrowDown"&&(m.preventDefault(),o.store.dropdownOpened?c(o.store.selectNextOption()):(o.store.openDropdown("keyboard"),c(o.store.selectActiveOption()),o.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),m.nativeEvent.code==="ArrowUp"&&(m.preventDefault(),o.store.dropdownOpened?c(o.store.selectPreviousOption()):(o.store.openDropdown("keyboard"),c(o.store.selectActiveOption()),o.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),m.nativeEvent.code==="Enter"||m.nativeEvent.code==="NumpadEnter"){if(m.nativeEvent.keyCode===229)return;const p=o.store.getSelectedOptionIndex();o.store.dropdownOpened&&p!==-1?(m.preventDefault(),o.store.clickSelectedOption()):i==="button"&&(m.preventDefault(),o.store.openDropdown("keyboard"))}m.key==="Escape"&&o.store.closeDropdown("keyboard"),m.nativeEvent.code==="Space"&&i==="button"&&(m.preventDefault(),o.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(o.store.listId&&o.store.dropdownOpened)||void 0,"aria-controls":o.store.dropdownOpened?o.store.listId:void 0,"aria-activedescendant":o.store.dropdownOpened&&a||void 0,autoComplete:s,"data-expanded":o.store.dropdownOpened||void 0,"data-mantine-stop-propagation":o.store.dropdownOpened||void 0}:{},onKeyDown:u}}const Cre={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},kL=Je((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:s,withExpandedAttribute:o,targetType:a,autoComplete:c,...u}=De("ComboboxEventsTarget",Cre,e);if(!Ic(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const f=xs(),m=kA({targetType:a,withAriaAttributes:s,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:n.props.onKeyDown,autoComplete:c});return w.cloneElement(n,{...m,...u,[r]:$n(t,f.store.targetRef,Kw(n))})});kL.displayName="@mantine/core/ComboboxEventsTarget";const Ore={},MA=Je((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=De("ComboboxFooter",Ore,e),c=xs();return h.jsx(Ue,{ref:t,...c.getStyles("footer",{className:r,classNames:n,style:i,styles:s}),...a,onMouseDown:u=>{u.preventDefault()}})});MA.classes=gi;MA.displayName="@mantine/core/ComboboxFooter";const jre={},IA=Je((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,children:a,label:c,...u}=De("ComboboxGroup",jre,e),f=xs();return h.jsxs(Ue,{ref:t,...f.getStyles("group",{className:r,classNames:n,style:i,styles:s}),...u,children:[c&&h.jsx("div",{...f.getStyles("groupLabel",{classNames:n,styles:s}),children:c}),a]})});IA.classes=gi;IA.displayName="@mantine/core/ComboboxGroup";const Are={},PA=Je((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=De("ComboboxHeader",Are,e),c=xs();return h.jsx(Ue,{ref:t,...c.getStyles("header",{className:r,classNames:n,style:i,styles:s}),...a,onMouseDown:u=>{u.preventDefault()}})});PA.classes=gi;PA.displayName="@mantine/core/ComboboxHeader";function ML({value:e,valuesDivider:t=",",...n}){return h.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...n})}ML.displayName="@mantine/core/ComboboxHiddenInput";const Tre={},DA=Je((e,t)=>{const n=De("ComboboxOption",Tre,e),{classNames:r,className:i,style:s,styles:o,vars:a,onClick:c,id:u,active:f,onMouseDown:m,onMouseOver:p,disabled:y,selected:v,mod:x,...S}=n,N=xs(),_=w.useId(),C=u||_;return h.jsx(Ue,{...N.getStyles("option",{className:i,classNames:r,styles:o,style:s}),...S,ref:t,id:C,mod:["combobox-option",{"combobox-active":f,"combobox-disabled":y,"combobox-selected":v},x],role:"option",onClick:j=>{var A;y?j.preventDefault():((A=N.onOptionSubmit)==null||A.call(N,n.value,n),c==null||c(j))},onMouseDown:j=>{j.preventDefault(),m==null||m(j)},onMouseOver:j=>{N.resetSelectionOnOptionHover&&N.store.resetSelectedOption(),p==null||p(j)}})});DA.classes=gi;DA.displayName="@mantine/core/ComboboxOption";const $re={},LA=Je((e,t)=>{const n=De("ComboboxOptions",$re,e),{classNames:r,className:i,style:s,styles:o,id:a,onMouseDown:c,labelledBy:u,...f}=n,m=xs(),p=gs(a);return w.useEffect(()=>{m.store.setListId(p)},[p]),h.jsx(Ue,{ref:t,...m.getStyles("options",{className:i,style:s,classNames:r,styles:o}),...f,id:p,role:"listbox","aria-labelledby":u,onMouseDown:y=>{y.preventDefault(),c==null||c(y)}})});LA.classes=gi;LA.displayName="@mantine/core/ComboboxOptions";const Rre={withAriaAttributes:!0,withKeyboardNavigation:!0},FA=Je((e,t)=>{const n=De("ComboboxSearch",Rre,e),{classNames:r,styles:i,unstyled:s,vars:o,withAriaAttributes:a,onKeyDown:c,withKeyboardNavigation:u,size:f,...m}=n,p=xs(),y=p.getStyles("search"),v=kA({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:u,withExpandedAttribute:!1,onKeyDown:c,autoComplete:"off"});return h.jsx(Vt,{ref:$n(t,p.store.searchRef),classNames:[{input:y.className},r],styles:[{input:y.style},i],size:f||p.size,...v,...m,__staticSelector:"Combobox"})});FA.classes=gi;FA.displayName="@mantine/core/ComboboxSearch";const kre={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},IL=Je((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:s,withExpandedAttribute:o,targetType:a,autoComplete:c,...u}=De("ComboboxTarget",kre,e);if(!Ic(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const f=xs(),m=kA({targetType:a,withAriaAttributes:s,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:n.props.onKeyDown,autoComplete:c}),p=w.cloneElement(n,{...m,...u});return h.jsx(hi.Target,{ref:$n(t,f.store.targetRef),children:p})});IL.displayName="@mantine/core/ComboboxTarget";function Mre(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function Ire(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function Pre(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function BA({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:i,loop:s=!0,scrollBehavior:o="instant"}={}){const[a,c]=pi({value:t,defaultValue:e,finalValue:!1,onChange:n}),u=w.useRef(null),f=w.useRef(-1),m=w.useRef(null),p=w.useRef(null),y=w.useRef(-1),v=w.useRef(-1),x=w.useRef(-1),S=w.useCallback((T="unknown")=>{a||(c(!0),i==null||i(T))},[c,i,a]),N=w.useCallback((T="unknown")=>{a&&(c(!1),r==null||r(T))},[c,r,a]),_=w.useCallback((T="unknown")=>{a?N(T):S(T)},[N,S,a]),C=w.useCallback(()=>{const T=document.querySelector(`#${u.current} [data-combobox-selected]`);T==null||T.removeAttribute("data-combobox-selected"),T==null||T.removeAttribute("aria-selected")},[]),j=w.useCallback(T=>{const I=document.getElementById(u.current),P=I==null?void 0:I.querySelectorAll("[data-combobox-option]");if(!P)return null;const W=T>=P.length?0:T<0?P.length-1:T;return f.current=W,P!=null&&P[W]&&!P[W].hasAttribute("data-combobox-disabled")?(C(),P[W].setAttribute("data-combobox-selected","true"),P[W].setAttribute("aria-selected","true"),P[W].scrollIntoView({block:"nearest",behavior:o}),P[W].id):null},[o,C]),A=w.useCallback(()=>{const T=document.querySelector(`#${u.current} [data-combobox-active]`);if(T){const I=document.querySelectorAll(`#${u.current} [data-combobox-option]`),P=Array.from(I).findIndex(W=>W===T);return j(P)}return j(0)},[j]),$=w.useCallback(()=>j(Ire(f.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),s)),[j,s]),k=w.useCallback(()=>j(Mre(f.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),s)),[j,s]),R=w.useCallback(()=>j(Pre(document.querySelectorAll(`#${u.current} [data-combobox-option]`))),[j]),D=w.useCallback((T="selected",I)=>{x.current=window.setTimeout(()=>{var B;const P=document.querySelectorAll(`#${u.current} [data-combobox-option]`),W=Array.from(P).findIndex(q=>q.hasAttribute(`data-combobox-${T}`));f.current=W,I!=null&&I.scrollIntoView&&((B=P[W])==null||B.scrollIntoView({block:"nearest",behavior:o}))},0)},[]),z=w.useCallback(()=>{f.current=-1,C()},[C]),L=w.useCallback(()=>{const T=document.querySelectorAll(`#${u.current} [data-combobox-option]`),I=T==null?void 0:T[f.current];I==null||I.click()},[]),F=w.useCallback(T=>{u.current=T},[]),H=w.useCallback(()=>{y.current=window.setTimeout(()=>m.current.focus(),0)},[]),M=w.useCallback(()=>{v.current=window.setTimeout(()=>p.current.focus(),0)},[]),V=w.useCallback(()=>f.current,[]);return w.useEffect(()=>()=>{window.clearTimeout(y.current),window.clearTimeout(v.current),window.clearTimeout(x.current)},[]),{dropdownOpened:a,openDropdown:S,closeDropdown:N,toggleDropdown:_,selectedOptionIndex:f.current,getSelectedOptionIndex:V,selectOption:j,selectFirstOption:R,selectActiveOption:A,selectNextOption:$,selectPreviousOption:k,resetSelectedOption:z,updateSelectedOptionIndex:D,listId:u.current,setListId:F,clickSelectedOption:L,searchRef:m,focusSearchInput:H,targetRef:p,focusTarget:M}}const Dre={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},Lre=(e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":Jr(t),"--combobox-option-padding":Mt(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:Te(n),"--combobox-option-fz":Jr(t),"--combobox-option-padding":Mt(t,"combobox-option-padding")}});function $t(e){const t=De("Combobox",Dre,e),{classNames:n,styles:r,unstyled:i,children:s,store:o,vars:a,onOptionSubmit:c,onClose:u,size:f,dropdownPadding:m,resetSelectionOnOptionHover:p,__staticSelector:y,readOnly:v,...x}=t,S=BA(),N=o||S,_=wt({name:y||"Combobox",classes:gi,props:t,classNames:n,styles:r,unstyled:i,vars:a,varsResolver:Lre}),C=()=>{u==null||u(),N.closeDropdown()};return h.jsx(Sre,{value:{getStyles:_,store:N,onOptionSubmit:c,size:f,resetSelectionOnOptionHover:p,readOnly:v},children:h.jsx(hi,{opened:N.dropdownOpened,...x,onChange:j=>!j&&C(),withRoles:!1,unstyled:i,children:s})})}const Fre=e=>e;$t.extend=Fre;$t.classes=gi;$t.displayName="@mantine/core/Combobox";$t.Target=IL;$t.Dropdown=$A;$t.Options=LA;$t.Option=DA;$t.Search=FA;$t.Empty=RA;$t.Chevron=TA;$t.Footer=MA;$t.Header=PA;$t.EventsTarget=kL;$t.DropdownTarget=RL;$t.Group=IA;$t.ClearButton=$L;$t.HiddenInput=ML;var PL={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const Bre=PL,zA=w.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:i,unstyled:s,children:o,label:a,description:c,id:u,disabled:f,error:m,size:p,labelPosition:y="left",bodyElement:v="div",labelElement:x="label",variant:S,style:N,vars:_,mod:C,...j},A)=>{const $=wt({name:e,props:t,className:n,style:N,classes:PL,classNames:r,styles:i,unstyled:s});return h.jsx(Ue,{...$("root"),ref:A,__vars:{"--label-fz":Jr(p),"--label-lh":Mt(p,"label-lh")},mod:[{"label-position":y},C],variant:S,size:p,...j,children:h.jsxs(Ue,{component:v,htmlFor:v==="label"?u:void 0,...$("body"),children:[o,h.jsxs("div",{...$("labelWrapper"),"data-disabled":f||void 0,children:[a&&h.jsx(Ue,{component:x,htmlFor:x==="label"?u:void 0,...$("label"),"data-disabled":f||void 0,children:a}),c&&h.jsx(Vt.Description,{size:p,__inheritStyles:!1,...$("description"),children:c}),m&&typeof m!="boolean"&&h.jsx(Vt.Error,{size:p,__inheritStyles:!1,...$("error"),children:m})]})]})})});zA.displayName="@mantine/core/InlineInput";function DL({children:e,role:t}){const n=sm();return n?h.jsx("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:e}):h.jsx(h.Fragment,{children:e})}function zre({size:e,style:t,...n}){const r=e!==void 0?{width:Te(e),height:Te(e),...t}:t;return h.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:h.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function Oh(e){return"group"in e}function LL({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),i=[];for(let s=0;s<e.length;s+=1){const o=e[s];if(i.length===n)return i;Oh(o)&&i.push({group:o.group,items:LL({options:o.items,search:t,limit:n-i.length})}),Oh(o)||o.label.toLowerCase().includes(r)&&i.push(o)}return i}function Vre(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function FL(e,t=new Set){if(Array.isArray(e))for(const n of e)if(Oh(n))FL(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function Ure(e,t){return Array.isArray(e)?e.includes(t):e===t}function BL({data:e,withCheckIcon:t,value:n,checkIconPosition:r,unstyled:i,renderOption:s}){if(!Oh(e)){const a=Ure(n,e.value),c=t&&a&&h.jsx(zre,{className:gi.optionsDropdownCheckIcon}),u=h.jsxs(h.Fragment,{children:[r==="left"&&c,h.jsx("span",{children:e.label}),r==="right"&&c]});return h.jsx($t.Option,{value:e.value,disabled:e.disabled,className:vn({[gi.optionsDropdownOption]:!i}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof s=="function"?s({option:e,checked:a}):u})}const o=e.items.map(a=>h.jsx(BL,{data:a,value:n,unstyled:i,withCheckIcon:t,checkIconPosition:r,renderOption:s},a.value));return h.jsx($t.Group,{label:e.group,children:o})}function zL({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:i,limit:s,maxDropdownHeight:o,withScrollArea:a=!0,filterOptions:c=!0,withCheckIcon:u=!1,value:f,checkIconPosition:m,nothingFoundMessage:p,unstyled:y,labelId:v,renderOption:x,scrollAreaProps:S,"aria-label":N}){FL(e);const C=typeof i=="string"?(r||LL)({options:e,search:c?i:"",limit:s??1/0}):e,j=Vre(C),A=C.map($=>h.jsx(BL,{data:$,withCheckIcon:u,value:f,checkIconPosition:m,unstyled:y,renderOption:x},Oh($)?$.group:$.value));return h.jsx($t.Dropdown,{hidden:t||n&&j,"data-composed":!0,children:h.jsxs($t.Options,{labelledBy:v,"aria-label":N,children:[a?h.jsx(zy.Autosize,{mah:o??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...S,children:A}):A,j&&p&&h.jsx($t.Empty,{children:p})]})})}var om={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const $M={orientation:"horizontal"},qre=(e,{borderWidth:t})=>({group:{"--button-border-width":Te(t)}}),VA=Je((e,t)=>{const n=De("ButtonGroup",$M,e),{className:r,style:i,classNames:s,styles:o,unstyled:a,orientation:c,vars:u,borderWidth:f,variant:m,mod:p,...y}=De("ButtonGroup",$M,e),v=wt({name:"ButtonGroup",props:n,classes:om,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:u,varsResolver:qre,rootSelector:"group"});return h.jsx(Ue,{...v("group"),ref:t,variant:m,mod:[{"data-orientation":c},p],role:"group",...y})});VA.classes=om;VA.displayName="@mantine/core/ButtonGroup";const RM={},Hre=(e,{radius:t,color:n,gradient:r,variant:i,autoContrast:s,size:o})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:s});return{groupSection:{"--section-height":Mt(o,"section-height"),"--section-padding-x":Mt(o,"section-padding-x"),"--section-fz":o!=null&&o.includes("compact")?Jr(o.replace("compact-","")):Jr(o),"--section-radius":t===void 0?void 0:tr(t),"--section-bg":n||i?a.background:void 0,"--section-color":a.color,"--section-bd":n||i?a.border:void 0}}},UA=Je((e,t)=>{const n=De("ButtonGroupSection",RM,e),{className:r,style:i,classNames:s,styles:o,unstyled:a,vars:c,variant:u,gradient:f,radius:m,autoContrast:p,...y}=De("ButtonGroupSection",RM,e),v=wt({name:"ButtonGroupSection",props:n,classes:om,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:c,varsResolver:Hre,rootSelector:"groupSection"});return h.jsx(Ue,{...v("groupSection"),ref:t,variant:u,...y})});UA.classes=om;UA.displayName="@mantine/core/ButtonGroupSection";const Wre={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${Te(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},Gre={},Jre=(e,{radius:t,color:n,gradient:r,variant:i,size:s,justify:o,autoContrast:a})=>{const c=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:a});return{root:{"--button-justify":o,"--button-height":Mt(s,"button-height"),"--button-padding-x":Mt(s,"button-padding-x"),"--button-fz":s!=null&&s.includes("compact")?Jr(s.replace("compact-","")):Jr(s),"--button-radius":t===void 0?void 0:tr(t),"--button-bg":n||i?c.background:void 0,"--button-hover":n||i?c.hover:void 0,"--button-color":c.color,"--button-bd":n||i?c.border:void 0,"--button-hover-color":n||i?c.hoverColor:void 0}}},id=Lc((e,t)=>{const n=De("Button",Gre,e),{style:r,vars:i,className:s,color:o,disabled:a,children:c,leftSection:u,rightSection:f,fullWidth:m,variant:p,radius:y,loading:v,loaderProps:x,gradient:S,classNames:N,styles:_,unstyled:C,"data-disabled":j,autoContrast:A,mod:$,...k}=n,R=wt({name:"Button",props:n,classes:om,className:s,style:r,classNames:N,styles:_,unstyled:C,vars:i,varsResolver:Jre}),D=!!u,z=!!f;return h.jsxs(Va,{ref:t,...R("root",{active:!a&&!v&&!j}),unstyled:C,variant:p,disabled:a||v,mod:[{disabled:a||j,loading:v,block:m,"with-left-section":D,"with-right-section":z},$],...k,children:[h.jsx(Bc,{mounted:!!v,transition:Wre,duration:150,children:L=>h.jsx(Ue,{component:"span",...R("loader",{style:L}),"aria-hidden":!0,children:h.jsx(Uy,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...x})})}),h.jsxs("span",{...R("inner"),children:[u&&h.jsx(Ue,{component:"span",...R("section"),mod:{position:"left"},children:u}),h.jsx(Ue,{component:"span",mod:{loading:v},...R("label"),children:c}),f&&h.jsx(Ue,{component:"span",...R("section"),mod:{position:"right"},children:f})]})]})});id.classes=om;id.displayName="@mantine/core/Button";id.Group=VA;id.GroupSection=UA;function Yre({open:e,close:t,openDelay:n,closeDelay:r}){const i=w.useRef(-1),s=w.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0||n===void 0?e():i.current=window.setTimeout(e,n)},c=()=>{o(),r===0||r===void 0?t():s.current=window.setTimeout(t,r)};return w.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:c}}function jh(){return jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jh.apply(null,arguments)}function qA(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Xre=w.useLayoutEffect,Kre=function(t){var n=je.useRef(t);return Xre(function(){n.current=t}),n},kM=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},Qre=function(t,n){var r=je.useRef();return je.useCallback(function(i){t.current=i,r.current&&kM(r.current,null),r.current=n,n&&kM(n,i)},[n])},MM={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},Zre=function(t){Object.keys(MM).forEach(function(n){t.style.setProperty(n,MM[n],"important")})},IM=Zre,Mr=null,PM=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function eie(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Mr||(Mr=document.createElement("textarea"),Mr.setAttribute("tabindex","-1"),Mr.setAttribute("aria-hidden","true"),IM(Mr)),Mr.parentNode===null&&document.body.appendChild(Mr);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(p){var y=p;Mr.style[y]=o[y]}),IM(Mr),Mr.value=t;var c=PM(Mr,e);Mr.value=t,c=PM(Mr,e),Mr.value="x";var u=Mr.scrollHeight-i,f=u*n;a==="border-box"&&(f=f+i+s),c=Math.max(f,c);var m=u*r;return a==="border-box"&&(m=m+i+s),c=Math.min(m,c),[c,u]}var DM=function(){},tie=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},nie=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],rie=!!document.documentElement.currentStyle,iie=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=tie(nie,n),i=r.boxSizing;if(i==="")return null;rie&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},sie=iie;function VL(e,t,n){var r=Kre(n);w.useLayoutEffect(function(){var i=function(o){return r.current(o)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var oie=function(t){VL(window,"resize",t)},aie=function(t){VL(document.fonts,"loadingdone",t)},lie=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],cie=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?DM:o,c=t.onHeightChange,u=c===void 0?DM:c,f=qA(t,lie),m=f.value!==void 0,p=w.useRef(null),y=Qre(p,n),v=w.useRef(0),x=w.useRef(),S=function(){var C=p.current,j=r&&x.current?x.current:sie(C);if(j){x.current=j;var A=eie(j,C.value||C.placeholder||"x",s,i),$=A[0],k=A[1];v.current!==$&&(v.current=$,C.style.setProperty("height",$+"px","important"),u($,{rowHeight:k}))}},N=function(C){m||S(),a(C)};return w.useLayoutEffect(S),oie(S),aie(S),w.createElement("textarea",jh({},f,{onChange:N,ref:y}))},uie=w.forwardRef(cie);const die={},qy=Je((e,t)=>{const{autosize:n,maxRows:r,minRows:i,__staticSelector:s,resize:o,...a}=De("Textarea",die,e),c=n&&m7()!=="test",u=c?{maxRows:r,minRows:i}:{};return h.jsx(vs,{component:c?uie:"textarea",ref:t,...a,__staticSelector:s||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":o},...u})});qy.classes=vs.classes;qy.displayName="@mantine/core/Textarea";const[fie,Hy]=el("Menu component was not found in the tree");var am={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const hie={},HA=Je((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=De("MenuDivider",hie,e),c=Hy();return h.jsx(Ue,{ref:t,...c.getStyles("divider",{className:r,style:i,styles:s,classNames:n}),...a})});HA.classes=am;HA.displayName="@mantine/core/MenuDivider";const mie={},WA=Je((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,onMouseEnter:a,onMouseLeave:c,onKeyDown:u,children:f,...m}=De("MenuDropdown",mie,e),p=w.useRef(null),y=Hy(),v=jo(u,N=>{var _,C;(N.key==="ArrowUp"||N.key==="ArrowDown")&&(N.preventDefault(),(C=(_=p.current)==null?void 0:_.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||C.focus())}),x=jo(a,()=>(y.trigger==="hover"||y.trigger==="click-hover")&&y.openDropdown()),S=jo(c,()=>(y.trigger==="hover"||y.trigger==="click-hover")&&y.closeDropdown());return h.jsxs(hi.Dropdown,{...m,onMouseEnter:x,onMouseLeave:S,role:"menu","aria-orientation":"vertical",ref:$n(t,p),...y.getStyles("dropdown",{className:r,style:i,styles:s,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:v,children:[y.withInitialFocusPlaceholder&&h.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),f]})});WA.classes=am;WA.displayName="@mantine/core/MenuDropdown";const pie={},GA=Lc((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,color:a,closeMenuOnClick:c,leftSection:u,rightSection:f,children:m,disabled:p,"data-disabled":y,...v}=De("MenuItem",pie,e),x=Hy(),S=Vi(),{dir:N}=Fc(),_=w.useRef(null),C=x.getItemIndex(_.current),j=v,A=jo(j.onMouseLeave,()=>x.setHovered(-1)),$=jo(j.onMouseEnter,()=>x.setHovered(x.getItemIndex(_.current))),k=jo(j.onClick,()=>{y||(typeof c=="boolean"?c&&x.closeDropdownImmediately():x.closeOnItemClick&&x.closeDropdownImmediately())}),R=jo(j.onFocus,()=>x.setHovered(x.getItemIndex(_.current))),D=a?S.variantColorResolver({color:a,theme:S,variant:"light"}):void 0,z=a?Dc({color:a,theme:S}):null;return h.jsxs(Va,{...v,unstyled:x.unstyled,tabIndex:x.menuItemTabIndex,onFocus:R,...x.getStyles("item",{className:r,style:i,styles:s,classNames:n}),ref:$n(_,t),role:"menuitem",disabled:p,"data-menu-item":!0,"data-disabled":p||y||void 0,"data-hovered":x.hovered===C?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:$,onMouseLeave:A,onClick:k,onKeyDown:c7({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:x.loop,dir:N,orientation:"vertical",onKeyDown:j.onKeyDown}),__vars:{"--menu-item-color":z!=null&&z.isThemeColor&&(z==null?void 0:z.shade)===void 0?`var(--mantine-color-${z.color}-6)`:D==null?void 0:D.color,"--menu-item-hover":D==null?void 0:D.hover},children:[u&&h.jsx("div",{...x.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"left",children:u}),m&&h.jsx("div",{...x.getStyles("itemLabel",{styles:s,classNames:n}),children:m}),f&&h.jsx("div",{...x.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"right",children:f})]})});GA.classes=am;GA.displayName="@mantine/core/MenuItem";const gie={},JA=Je((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=De("MenuLabel",gie,e),c=Hy();return h.jsx(Ue,{ref:t,...c.getStyles("label",{className:r,style:i,styles:s,classNames:n}),...a})});JA.classes=am;JA.displayName="@mantine/core/MenuLabel";const yie={refProp:"ref"},UL=w.forwardRef((e,t)=>{const{children:n,refProp:r,...i}=De("MenuTarget",yie,e);if(!Ic(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=Hy(),o=n.props,a=jo(o.onClick,()=>{s.trigger==="click"?s.toggleDropdown():s.trigger==="click-hover"&&(s.setOpenedViaClick(!0),s.opened||s.openDropdown())}),c=jo(o.onMouseEnter,()=>(s.trigger==="hover"||s.trigger==="click-hover")&&s.openDropdown()),u=jo(o.onMouseLeave,()=>{(s.trigger==="hover"||s.trigger==="click-hover"&&!s.openedViaClick)&&s.closeDropdown()});return h.jsx(hi.Target,{refProp:r,popupType:"menu",ref:t,...i,children:w.cloneElement(n,{onClick:a,onMouseEnter:c,onMouseLeave:u,"data-expanded":s.opened?!0:void 0})})});UL.displayName="@mantine/core/MenuTarget";const bie={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function Ri(e){const t=De("Menu",bie,e),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,trapFocus:a,onChange:c,closeOnItemClick:u,loop:f,closeOnEscape:m,trigger:p,openDelay:y,closeDelay:v,classNames:x,styles:S,unstyled:N,variant:_,vars:C,menuItemTabIndex:j,keepMounted:A,withInitialFocusPlaceholder:$,...k}=t,R=wt({name:"Menu",classes:am,props:t,classNames:x,styles:S,unstyled:N}),[D,{setHovered:z,resetHovered:L}]=oZ(),[F,H]=pi({value:s,defaultValue:o,finalValue:!1,onChange:c}),[M,V]=w.useState(!1),T=()=>{H(!1),V(!1),F&&(i==null||i())},I=()=>{H(!0),!F&&(r==null||r())},P=()=>{F?T():I()},{openDropdown:W,closeDropdown:B}=Yre({open:I,close:T,closeDelay:v,openDelay:y}),q=ie=>sZ("[data-menu-item]","[data-menu-dropdown]",ie),{resolvedClassNames:X,resolvedStyles:Q}=em({classNames:x,styles:S,props:t});return za(()=>{L()},[F]),h.jsx(fie,{value:{getStyles:R,opened:F,toggleDropdown:P,getItemIndex:q,hovered:D,setHovered:z,openedViaClick:M,setOpenedViaClick:V,closeOnItemClick:u,closeDropdown:p==="click"?T:B,openDropdown:p==="click"?I:W,closeDropdownImmediately:T,loop:f,trigger:p,unstyled:N,menuItemTabIndex:j,withInitialFocusPlaceholder:$},children:h.jsx(hi,{...k,opened:F,onChange:P,defaultOpened:o,trapFocus:A?!1:a,closeOnEscape:m,__staticSelector:"Menu",classNames:X,styles:Q,unstyled:N,variant:_,keepMounted:A,children:n})})}Ri.extend=e=>e;Ri.classes=am;Ri.displayName="@mantine/core/Menu";Ri.Item=GA;Ri.Label=JA;Ri.Dropdown=WA;Ri.Target=UL;Ri.Divider=HA;const[vie,lm]=el("Modal component was not found in tree");var nl={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const xie={},u1=Je((e,t)=>{const n=De("ModalBody",xie,e),{classNames:r,className:i,style:s,styles:o,vars:a,...c}=n,u=lm();return h.jsx(wL,{ref:t,...u.getStyles("body",{classNames:r,style:s,styles:o,className:i}),...c})});u1.classes=nl;u1.displayName="@mantine/core/ModalBody";const wie={},d1=Je((e,t)=>{const n=De("ModalCloseButton",wie,e),{classNames:r,className:i,style:s,styles:o,vars:a,...c}=n,u=lm();return h.jsx(SL,{ref:t,...u.getStyles("close",{classNames:r,style:s,styles:o,className:i}),...c})});d1.classes=nl;d1.displayName="@mantine/core/ModalCloseButton";const Sie={},f1=Je((e,t)=>{const n=De("ModalContent",Sie,e),{classNames:r,className:i,style:s,styles:o,vars:a,children:c,__hidden:u,...f}=n,m=lm(),p=m.scrollAreaComponent||ere;return h.jsx(EL,{...m.getStyles("content",{className:i,style:s,styles:o,classNames:r}),innerProps:m.getStyles("inner",{className:i,style:s,styles:o,classNames:r}),"data-full-screen":m.fullScreen||void 0,"data-modal-content":!0,"data-hidden":u||void 0,ref:t,...f,children:h.jsx(p,{style:{maxHeight:m.fullScreen?"100dvh":`calc(100dvh - (${Te(m.yOffset)} * 2))`},children:c})})});f1.classes=nl;f1.displayName="@mantine/core/ModalContent";const Eie={},h1=Je((e,t)=>{const n=De("ModalHeader",Eie,e),{classNames:r,className:i,style:s,styles:o,vars:a,...c}=n,u=lm();return h.jsx(NL,{ref:t,...u.getStyles("header",{classNames:r,style:s,styles:o,className:i}),...c})});h1.classes=nl;h1.displayName="@mantine/core/ModalHeader";const Nie={},m1=Je((e,t)=>{const n=De("ModalOverlay",Nie,e),{classNames:r,className:i,style:s,styles:o,vars:a,...c}=n,u=lm();return h.jsx(_L,{ref:t,...u.getStyles("overlay",{classNames:r,style:s,styles:o,className:i}),...c})});m1.classes=nl;m1.displayName="@mantine/core/ModalOverlay";const _ie={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:oo("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},Cie=(e,{radius:t,size:n,yOffset:r,xOffset:i})=>({root:{"--modal-radius":t===void 0?void 0:tr(t),"--modal-size":Mt(n,"modal-size"),"--modal-y-offset":Te(r),"--modal-x-offset":Te(i)}}),p1=Je((e,t)=>{const n=De("ModalRoot",_ie,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:c,yOffset:u,scrollAreaComponent:f,radius:m,fullScreen:p,centered:y,xOffset:v,__staticSelector:x,...S}=n,N=wt({name:x,classes:nl,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:c,varsResolver:Cie});return h.jsx(vie,{value:{yOffset:u,scrollAreaComponent:f,getStyles:N,fullScreen:p},children:h.jsx(xL,{ref:t,...N("root"),"data-full-screen":p||void 0,"data-centered":y||void 0,unstyled:a,...S})})});p1.classes=nl;p1.displayName="@mantine/core/ModalRoot";const[Oie,jie]=bd();function qL({children:e}){const[t,n]=w.useState([]),[r,i]=w.useState(oo("modal"));return h.jsx(Oie,{value:{stack:t,addModal:(s,o)=>{n(a=>[...new Set([...a,s])]),i(a=>typeof o=="number"&&typeof a=="number"?Math.max(a,o):a)},removeModal:s=>n(o=>o.filter(a=>a!==s)),getZIndex:s=>`calc(${r} + ${t.indexOf(s)} + 1)`,currentId:t[t.length-1],maxZIndex:r},children:e})}qL.displayName="@mantine/core/ModalStack";const Aie={},g1=Je((e,t)=>{const n=De("ModalTitle",Aie,e),{classNames:r,className:i,style:s,styles:o,vars:a,...c}=n,u=lm();return h.jsx(CL,{ref:t,...u.getStyles("title",{classNames:r,style:s,styles:o,className:i}),...c})});g1.classes=nl;g1.displayName="@mantine/core/ModalTitle";const Tie={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:oo("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Ui=Je((e,t)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:s,closeButtonProps:o,children:a,radius:c,opened:u,stackId:f,zIndex:m,...p}=De("Modal",Tie,e),y=jie(),v=!!n||s,x=y&&f?{closeOnEscape:y.currentId===f,trapFocus:y.currentId===f,zIndex:y.getZIndex(f)}:{},S=r===!1?!1:f&&y?y.currentId===f:u;return w.useEffect(()=>{y&&f&&(u?y.addModal(f,m||oo("modal")):y.removeModal(f))},[u,f,m]),h.jsxs(p1,{ref:t,radius:c,opened:u,zIndex:y&&f?y.getZIndex(f):m,...p,...x,children:[r&&h.jsx(m1,{visible:S,transitionProps:y&&f?{duration:0}:void 0,...i}),h.jsxs(f1,{radius:c,__hidden:y&&f&&u?f!==y.currentId:!1,children:[v&&h.jsxs(h1,{children:[n&&h.jsx(g1,{children:n}),s&&h.jsx(d1,{...o})]}),h.jsx(u1,{children:a})]})]})});Ui.classes=nl;Ui.displayName="@mantine/core/Modal";Ui.Root=p1;Ui.Overlay=m1;Ui.Content=f1;Ui.Body=u1;Ui.Header=h1;Ui.Title=g1;Ui.CloseButton=d1;Ui.Stack=qL;const[$ie,YA]=bd(),[Rie,kie]=bd();var y1={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const Mie={},Iie=(e,{gap:t},{size:n})=>({group:{"--pg-gap":t!==void 0?Mt(t):Mt(n,"pg-gap")}}),XA=Je((e,t)=>{const n=De("PillGroup",Mie,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:c,size:u,disabled:f,...m}=n,p=YA(),y=(p==null?void 0:p.size)||u||void 0,v=wt({name:"PillGroup",classes:y1,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:c,varsResolver:Iie,stylesCtx:{size:y},rootSelector:"group"});return h.jsx(Rie,{value:{size:y,disabled:f},children:h.jsx(Ue,{ref:t,size:y,...v("group"),...m})})});XA.classes=y1;XA.displayName="@mantine/core/PillGroup";const Pie={variant:"default"},Die=(e,{radius:t},{size:n})=>({root:{"--pill-fz":Mt(n,"pill-fz"),"--pill-height":Mt(n,"pill-height"),"--pill-radius":t===void 0?void 0:tr(t)}}),Pg=Je((e,t)=>{const n=De("Pill",Pie,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:c,variant:u,children:f,withRemoveButton:m,onRemove:p,removeButtonProps:y,radius:v,size:x,disabled:S,mod:N,..._}=n,C=kie(),j=YA(),A=x||(C==null?void 0:C.size)||void 0,$=(j==null?void 0:j.variant)==="filled"?"contrast":u||"default",k=wt({name:"Pill",classes:y1,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:c,varsResolver:Die,stylesCtx:{size:A}});return h.jsxs(Ue,{component:"span",ref:t,variant:$,size:A,...k("root",{variant:$}),mod:[{"with-remove":m&&!S,disabled:S||(C==null?void 0:C.disabled)},N],..._,children:[h.jsx("span",{...k("label"),children:f}),m&&h.jsx(im,{variant:"transparent",radius:v,tabIndex:-1,"aria-hidden":!0,unstyled:a,...y,...k("remove",{className:y==null?void 0:y.className,style:y==null?void 0:y.style}),onMouseDown:R=>{var D;R.preventDefault(),R.stopPropagation(),(D=y==null?void 0:y.onMouseDown)==null||D.call(y,R)},onClick:R=>{var D;R.stopPropagation(),p==null||p(),(D=y==null?void 0:y.onClick)==null||D.call(y,R)}})]})});Pg.classes=y1;Pg.displayName="@mantine/core/Pill";Pg.Group=XA;var HL={field:"m_45c4369d"};const Lie={type:"visible"},KA=Je((e,t)=>{const n=De("PillsInputField",Lie,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:c,type:u,disabled:f,id:m,pointer:p,mod:y,...v}=n,x=YA(),S=sm(),N=wt({name:"PillsInputField",classes:HL,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"field"}),_=f||(x==null?void 0:x.disabled);return h.jsx(Ue,{component:"input",ref:$n(t,x==null?void 0:x.fieldRef),"data-type":u,disabled:_,mod:[{disabled:_,pointer:p},y],...N("field"),...v,id:(S==null?void 0:S.inputId)||m,"aria-invalid":x==null?void 0:x.hasError,"aria-describedby":S==null?void 0:S.describedBy,type:"text",onMouseDown:C=>!p&&C.stopPropagation()})});KA.classes=HL;KA.displayName="@mantine/core/PillsInputField";const Fie={},Sx=Je((e,t)=>{const n=De("PillsInput",Fie,e),{children:r,onMouseDown:i,onClick:s,size:o,disabled:a,__staticSelector:c,error:u,variant:f,...m}=n,p=w.useRef(null);return h.jsx($ie,{value:{fieldRef:p,size:o,disabled:a,hasError:!!u,variant:f},children:h.jsx(vs,{size:o,error:u,variant:f,component:"div",ref:t,onMouseDown:y=>{var v;y.preventDefault(),i==null||i(y),(v=p.current)==null||v.focus()},onClick:y=>{var x;y.preventDefault();const v=y.currentTarget.closest("fieldset");v!=null&&v.disabled||((x=p.current)==null||x.focus(),s==null||s(y))},...m,multiline:!0,disabled:a,__staticSelector:c||"PillsInput",withAria:!1,children:r})})});Sx.displayName="@mantine/core/PillsInput";Sx.Field=KA;var WL={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const Bie={withCloseButton:!0},zie=(e,{radius:t,color:n})=>({root:{"--notification-radius":t===void 0?void 0:tr(t),"--notification-color":n?Ar(n,e):void 0}}),QA=Je((e,t)=>{const n=De("Notification",Bie,e),{className:r,color:i,radius:s,loading:o,withCloseButton:a,withBorder:c,title:u,icon:f,children:m,onClose:p,closeButtonProps:y,classNames:v,style:x,styles:S,unstyled:N,variant:_,vars:C,mod:j,...A}=n,$=wt({name:"Notification",classes:WL,props:n,className:r,style:x,classNames:v,styles:S,unstyled:N,vars:C,varsResolver:zie});return h.jsxs(Ue,{...$("root"),mod:[{"data-with-icon":!!f||o,"data-with-border":c},j],ref:t,variant:_,...A,role:"alert",children:[f&&!o&&h.jsx("div",{...$("icon"),children:f}),o&&h.jsx(Uy,{size:28,color:i,...$("loader")}),h.jsxs("div",{...$("body"),children:[u&&h.jsx("div",{...$("title"),children:u}),h.jsx(Ue,{...$("description"),mod:{"data-with-title":!!u},children:m})]}),a&&h.jsx(im,{iconSize:16,color:"gray",...y,unstyled:N,onClick:p,...$("closeButton")})]})});QA.classes=WL;QA.displayName="@mantine/core/Notification";function GL(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var Dg;(function(e){e.event="event",e.props="prop"})(Dg||(Dg={}));function ec(){}function Vie(e){var t,n=void 0;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t&&r.length===t.length&&r.every(function(s,o){return s===t[o]})||(t=r,n=e.apply(void 0,r)),n}}function Lg(e){return!!(e||"").match(/\d/)}function Xf(e){return e==null}function Uie(e){return typeof e=="number"&&isNaN(e)}function JL(e){return Xf(e)||Uie(e)||typeof e=="number"&&!isFinite(e)}function YL(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function qie(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function Hie(e,t,n){var r=qie(n),i=e.search(/[1-9]/);return i=i===-1?e.length:i,e.substring(0,i)+e.substring(i,e.length).replace(r,"$1"+t)}function Wie(e){var t=w.useRef(e);t.current=e;var n=w.useRef(function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t.current.apply(t,r)});return n.current}function ZA(e,t){t===void 0&&(t=!0);var n=e[0]==="-",r=n&&t;e=e.replace("-","");var i=e.split("."),s=i[0],o=i[1]||"";return{beforeDecimal:s,afterDecimal:o,hasNegation:n,addNegation:r}}function Gie(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")}function XL(e,t,n){for(var r="",i=n?"0":"",s=0;s<=t-1;s++)r+=e[s]||i;return r}function LM(e,t){return Array(t+1).join(e)}function KL(e){var t=e+"",n=t[0]==="-"?"-":"";n&&(t=t.substring(1));var r=t.split(/[eE]/g),i=r[0],s=r[1];if(s=Number(s),!s)return n+i;i=i.replace(".","");var o=1+s,a=i.length;return o<0?i="0."+LM("0",Math.abs(o))+i:o>=a?i=i+LM("0",o-a):i=(i.substring(0,o)||"0")+"."+i.substring(o),n+i}function FM(e,t,n){if(["","-"].indexOf(e)!==-1)return e;var r=(e.indexOf(".")!==-1||n)&&t,i=ZA(e),s=i.beforeDecimal,o=i.afterDecimal,a=i.hasNegation,c=parseFloat("0."+(o||"0")),u=o.length<=t?"0."+o:c.toFixed(t),f=u.split("."),m=s;s&&Number(f[0])&&(m=s.split("").reverse().reduce(function(x,S,N){return x.length>N?(Number(x[0])+Number(S)).toString()+x.substring(1,x.length):S+x},f[0]));var p=XL(f[1]||"",t,n),y=a?"-":"",v=r?".":"";return""+y+m+v+p}function $u(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var QL=Vie(function(e,t){for(var n=0,r=0,i=e.length,s=t.length;e[n]===t[n]&&n<i;)n++;for(;e[i-1-r]===t[s-1-r]&&s-r>n&&i-r>n;)r++;return{from:{start:n,end:i-r},to:{start:n,end:s-r}}}),Jie=function(e,t){var n=Math.min(e.selectionStart,t);return{from:{start:n,end:e.selectionEnd},to:{start:n,end:t}}};function Yie(e,t,n){return Math.min(Math.max(e,t),n)}function CN(e){return Math.max(e.selectionStart,e.selectionEnd)}function Xie(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function Kie(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function Qie(e){var t=e.currentValue,n=e.formattedValue,r=e.currentValueIndex,i=e.formattedValueIndex;return t[r]===n[i]}function Zie(e,t,n,r,i,s,o){o===void 0&&(o=Qie);var a=i.findIndex(function(j){return j}),c=e.slice(0,a);!t&&!n.startsWith(c)&&(t=c,n=c+n,r=r+c.length);for(var u=n.length,f=e.length,m={},p=new Array(u),y=0;y<u;y++){p[y]=-1;for(var v=0,x=f;v<x;v++){var S=o({currentValue:n,lastValue:t,formattedValue:e,currentValueIndex:y,formattedValueIndex:v});if(S&&m[v]!==!0){p[y]=v,m[v]=!0;break}}}for(var N=r;N<u&&(p[N]===-1||!s(n[N]));)N++;var _=N===u||p[N]===-1?f:p[N];for(N=r-1;N>0&&p[N]===-1;)N--;var C=N===-1||p[N]===-1?0:p[N]+1;return C>_?_:r-C<_-r?C:_}function BM(e,t,n,r){var i=e.length;if(t=Yie(t,0,i),r==="left"){for(;t>=0&&!n[t];)t--;t===-1&&(t=n.indexOf(!0))}else{for(;t<=i&&!n[t];)t++;t>i&&(t=n.lastIndexOf(!0))}return t===-1&&(t=i),t}function ese(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),n=0,r=t.length;n<r;n++)t[n]=!!(Lg(e[n])||Lg(e[n-1]));return t}function ZL(e,t,n,r,i,s){s===void 0&&(s=ec);var o=Wie(function(v,x){var S,N;return JL(v)?(N="",S=""):typeof v=="number"||x?(N=typeof v=="number"?KL(v):v,S=r(N)):(N=i(v,void 0),S=r(N)),{formattedValue:S,numAsString:N}}),a=w.useState(function(){return o(Xf(e)?t:e,n)}),c=a[0],u=a[1],f=function(v,x){v.formattedValue!==c.formattedValue&&u({formattedValue:v.formattedValue,numAsString:v.value}),s(v,x)},m=e,p=n;Xf(e)&&(m=c.numAsString,p=!0);var y=o(m,p);return w.useMemo(function(){u(y)},[y.formattedValue]),[c,f]}function tse(e){return e.replace(/[^0-9]/g,"")}function nse(e){return e}function rse(e){var t=e.type;t===void 0&&(t="text");var n=e.displayType;n===void 0&&(n="input");var r=e.customInput,i=e.renderText,s=e.getInputRef,o=e.format;o===void 0&&(o=nse);var a=e.removeFormatting;a===void 0&&(a=tse);var c=e.defaultValue,u=e.valueIsNumericString,f=e.onValueChange,m=e.isAllowed,p=e.onChange;p===void 0&&(p=ec);var y=e.onKeyDown;y===void 0&&(y=ec);var v=e.onMouseUp;v===void 0&&(v=ec);var x=e.onFocus;x===void 0&&(x=ec);var S=e.onBlur;S===void 0&&(S=ec);var N=e.value,_=e.getCaretBoundary;_===void 0&&(_=ese);var C=e.isValidInputCharacter;C===void 0&&(C=Lg);var j=e.isCharacterSame,A=GL(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),$=ZL(N,c,!!u,o,a,f),k=$[0],R=k.formattedValue,D=k.numAsString,z=$[1],L=w.useRef(),F=w.useRef({formattedValue:R,numAsString:D}),H=function(Oe,Ie){F.current={formattedValue:Oe.formattedValue,numAsString:Oe.value},z(Oe,Ie)},M=w.useState(!1),V=M[0],T=M[1],I=w.useRef(null),P=w.useRef({setCaretTimeout:null,focusTimeout:null});w.useEffect(function(){return T(!0),function(){clearTimeout(P.current.setCaretTimeout),clearTimeout(P.current.focusTimeout)}},[]);var W=o,B=function(Oe,Ie){var Pe=parseFloat(Ie);return{formattedValue:Oe,value:Ie,floatValue:isNaN(Pe)?void 0:Pe}},q=function(Oe,Ie,Pe){Oe.selectionStart===0&&Oe.selectionEnd===Oe.value.length||($u(Oe,Ie),P.current.setCaretTimeout=setTimeout(function(){Oe.value===Pe&&Oe.selectionStart!==Ie&&$u(Oe,Ie)},0))},X=function(Oe,Ie,Pe){return BM(Oe,Ie,_(Oe),Pe)},Q=function(Oe,Ie,Pe){var G=_(Ie),re=Zie(Ie,R,Oe,Pe,G,C,j);return re=BM(Ie,re,G),re},ie=function(Oe){var Ie=Oe.formattedValue;Ie===void 0&&(Ie="");var Pe=Oe.input,G=Oe.source,re=Oe.event,te=Oe.numAsString,me;if(Pe){var se=Oe.inputValue||Pe.value,ne=CN(Pe);Pe.value=Ie,me=Q(se,Ie,ne),me!==void 0&&q(Pe,me,Ie)}Ie!==R&&H(B(Ie,te),{event:re,source:G})};w.useEffect(function(){var Oe=F.current,Ie=Oe.formattedValue,Pe=Oe.numAsString;(R!==Ie||D!==Pe)&&H(B(R,D),{event:void 0,source:Dg.props})},[R,D]);var ae=I.current?CN(I.current):void 0,fe=typeof window<"u"?w.useLayoutEffect:w.useEffect;fe(function(){var Oe=I.current;if(R!==F.current.formattedValue&&Oe){var Ie=Q(F.current.formattedValue,R,ae);Oe.value=R,q(Oe,Ie,R)}},[R]);var ce=function(Oe,Ie,Pe){var G=Ie.target,re=L.current?Jie(L.current,G.selectionEnd):QL(R,Oe),te=Object.assign(Object.assign({},re),{lastValue:R}),me=a(Oe,te),se=W(me);if(me=a(se,void 0),m&&!m(B(se,me))){var ne=Ie.target,le=CN(ne),xe=Q(Oe,R,le);return ne.value=R,q(ne,xe,R),!1}return ie({formattedValue:se,numAsString:me,inputValue:Oe,event:Ie,source:Pe,input:Ie.target}),!0},he=function(Oe,Ie){Ie===void 0&&(Ie=0);var Pe=Oe.selectionStart,G=Oe.selectionEnd;L.current={selectionStart:Pe,selectionEnd:G+Ie}},ve=function(Oe){var Ie=Oe.target,Pe=Ie.value,G=ce(Pe,Oe,Dg.event);G&&p(Oe),L.current=void 0},Ae=function(Oe){var Ie=Oe.target,Pe=Oe.key,G=Ie.selectionStart,re=Ie.selectionEnd,te=Ie.value;te===void 0&&(te="");var me;Pe==="ArrowLeft"||Pe==="Backspace"?me=Math.max(G-1,0):Pe==="ArrowRight"?me=Math.min(G+1,te.length):Pe==="Delete"&&(me=G);var se=0;Pe==="Delete"&&G===re&&(se=1);var ne=Pe==="ArrowLeft"||Pe==="ArrowRight";if(me===void 0||G!==re&&!ne){y(Oe),he(Ie,se);return}var le=me;if(ne){var xe=Pe==="ArrowLeft"?"left":"right";le=X(te,me,xe),le!==me&&Oe.preventDefault()}else Pe==="Delete"&&!C(te[me])?le=X(te,me,"right"):Pe==="Backspace"&&!C(te[me])&&(le=X(te,me,"left"));le!==me&&q(Ie,le,te),y(Oe),he(Ie,se)},Ce=function(Oe){var Ie=Oe.target,Pe=function(){var G=Ie.selectionStart,re=Ie.selectionEnd,te=Ie.value;if(te===void 0&&(te=""),G===re){var me=X(te,G);me!==G&&q(Ie,me,te)}};Pe(),requestAnimationFrame(function(){Pe()}),v(Oe),he(Ie)},Ee=function(Oe){Oe.persist&&Oe.persist();var Ie=Oe.target,Pe=Oe.currentTarget;I.current=Ie,P.current.focusTimeout=setTimeout(function(){var G=Ie.selectionStart,re=Ie.selectionEnd,te=Ie.value;te===void 0&&(te="");var me=X(te,G);me!==G&&!(G===0&&re===te.length)&&q(Ie,me,te),x(Object.assign(Object.assign({},Oe),{currentTarget:Pe}))},0)},Re=function(Oe){I.current=null,clearTimeout(P.current.focusTimeout),clearTimeout(P.current.setCaretTimeout),S(Oe)},ke=V&&Xie()?"numeric":void 0,We=Object.assign({inputMode:ke},A,{type:t,value:R,onChange:ve,onKeyDown:Ae,onMouseUp:Ce,onFocus:Ee,onBlur:Re});if(n==="text")return i?je.createElement(je.Fragment,null,i(R,A)||null):je.createElement("span",Object.assign({},A,{ref:s}),R);if(r){var et=r;return je.createElement(et,Object.assign({},We,{ref:s}))}return je.createElement("input",Object.assign({},We,{ref:s}))}function zM(e,t){var n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix;i===void 0&&(i="");var s=t.suffix;s===void 0&&(s="");var o=t.allowNegative,a=t.thousandsGroupStyle;if(a===void 0&&(a="thousand"),e===""||e==="-")return e;var c=b1(t),u=c.thousandSeparator,f=c.decimalSeparator,m=n!==0&&e.indexOf(".")!==-1||n&&r,p=ZA(e,o),y=p.beforeDecimal,v=p.afterDecimal,x=p.addNegation;return n!==void 0&&(v=XL(v,n,!!r)),u&&(y=Hie(y,u,a)),i&&(y=i+y),s&&(v=v+s),x&&(y="-"+y),e=y+(m&&f||"")+v,e}function b1(e){var t=e.decimalSeparator;t===void 0&&(t=".");var n=e.thousandSeparator,r=e.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[t,"."]),{decimalSeparator:t,thousandSeparator:n,allowedDecimalSeparators:r}}function ise(e,t){e===void 0&&(e="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),s=r.test(e);return e=e.replace(/-/g,""),i&&!s&&t&&(e="-"+e),e}function sse(e,t){return new RegExp("(^-)|[0-9]|"+YL(e),"g")}function ose(e,t,n){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(n!=null&&n.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function ase(e,t,n){var r;t===void 0&&(t=Kie(e));var i=n.allowNegative,s=n.prefix;s===void 0&&(s="");var o=n.suffix;o===void 0&&(o="");var a=n.decimalScale,c=t.from,u=t.to,f=u.start,m=u.end,p=b1(n),y=p.allowedDecimalSeparators,v=p.decimalSeparator,x=e[m]===v;if(Lg(e)&&(e===s||e===o)&&t.lastValue==="")return e;if(m-f===1&&y.indexOf(e[f])!==-1){var S=a===0?"":v;e=e.substring(0,f)+S+e.substring(f+1,e.length)}var N=function(I,P,W){var B=!1,q=!1;s.startsWith("-")?B=!1:I.startsWith("--")?(B=!1,q=!0):o.startsWith("-")&&I.length===o.length?B=!1:I[0]==="-"&&(B=!0);var X=B?1:0;return q&&(X=2),X&&(I=I.substring(X),P-=X,W-=X),{value:I,start:P,end:W,hasNegation:B}},_=N(e,f,m),C=_.hasNegation;r=_,e=r.value,f=r.start,m=r.end;var j=N(t.lastValue,c.start,c.end),A=j.start,$=j.end,k=j.value,R=e.substring(f,m);e.length&&k.length&&(A>k.length-o.length||$<s.length)&&!(R&&o.startsWith(R))&&(e=k);var D=0;e.startsWith(s)?D+=s.length:f<s.length&&(D=f),e=e.substring(D),m-=D;var z=e.length,L=e.length-o.length;e.endsWith(o)?z=L:(m>L||m>e.length-o.length)&&(z=m),e=e.substring(0,z),e=ise(C?"-"+e:e,i),e=(e.match(sse(v))||[]).join("");var F=e.indexOf(v);e=e.replace(new RegExp(YL(v),"g"),function(I,P){return P===F?".":""});var H=ZA(e,i),M=H.beforeDecimal,V=H.afterDecimal,T=H.addNegation;return u.end-u.start<c.end-c.start&&M===""&&x&&!parseFloat(V)&&(e=T?"-":""),e}function lse(e,t){var n=t.prefix;n===void 0&&(n="");var r=t.suffix;r===void 0&&(r="");var i=Array.from({length:e.length+1}).map(function(){return!0}),s=e[0]==="-";i.fill(!1,0,n.length+(s?1:0));var o=e.length;return i.fill(!1,o-r.length+1,o+1),i}function cse(e){var t=b1(e),n=t.thousandSeparator,r=t.decimalSeparator,i=e.prefix;i===void 0&&(i="");var s=e.allowNegative;if(s===void 0&&(s=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&s&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+s+`
    `),s=!1),Object.assign(Object.assign({},e),{allowNegative:s})}function use(e){e=cse(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,n=e.allowNegative,r=e.allowLeadingZeros,i=e.onKeyDown;i===void 0&&(i=ec);var s=e.onBlur;s===void 0&&(s=ec);var o=e.thousandSeparator,a=e.decimalScale,c=e.fixedDecimalScale,u=e.prefix;u===void 0&&(u="");var f=e.defaultValue,m=e.value,p=e.valueIsNumericString,y=e.onValueChange,v=GL(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),x=b1(e),S=x.decimalSeparator,N=x.allowedDecimalSeparators,_=function(T){return zM(T,e)},C=function(T,I){return ase(T,I,e)},j=Xf(m)?f:m,A=p??ose(j,u,t);Xf(m)?Xf(f)||(A=A||typeof f=="number"):A=A||typeof m=="number";var $=function(T){return JL(T)?T:(typeof T=="number"&&(T=KL(T)),A&&typeof a=="number"?FM(T,a,!!c):T)},k=ZL($(m),$(f),!!A,_,C,y),R=k[0],D=R.numAsString,z=R.formattedValue,L=k[1],F=function(T){var I=T.target,P=T.key,W=I.selectionStart,B=I.selectionEnd,q=I.value;if(q===void 0&&(q=""),(P==="Backspace"||P==="Delete")&&B<u.length){T.preventDefault();return}if(W!==B){i(T);return}P==="Backspace"&&q[0]==="-"&&W===u.length+1&&n&&$u(I,1),a&&c&&(P==="Backspace"&&q[W-1]===S?($u(I,W-1),T.preventDefault()):P==="Delete"&&q[W]===S&&T.preventDefault()),N!=null&&N.includes(P)&&q[W]===S&&$u(I,W+1);var X=o===!0?",":o;P==="Backspace"&&q[W-1]===X&&$u(I,W-1),P==="Delete"&&q[W]===X&&$u(I,W+1),i(T)},H=function(T){var I=D;if(I.match(/\d/g)||(I=""),r||(I=Gie(I)),c&&a&&(I=FM(I,a,c)),I!==D){var P=zM(I,e);L({formattedValue:P,value:I,floatValue:parseFloat(I)},{event:T,source:Dg.event})}s(T)},M=function(T){return T===S?!0:Lg(T)},V=function(T){var I=T.currentValue,P=T.lastValue,W=T.formattedValue,B=T.currentValueIndex,q=T.formattedValueIndex,X=I[B],Q=W[q],ie=QL(P,I),ae=ie.to,fe=function(ce){return C(ce).indexOf(".")+u.length};return m===0&&c&&a&&I[ae.start]===S&&fe(I)<B&&fe(W)>q?!1:B>=ae.start&&B<ae.end&&N&&N.includes(X)&&Q===S?!0:X===Q};return Object.assign(Object.assign({},v),{value:z,valueIsNumericString:!1,isValidInputCharacter:M,isCharacterSame:V,onValueChange:L,format:_,removeFormatting:C,getCaretBoundary:function(T){return lse(T,e)},onKeyDown:F,onBlur:H})}function dse(e){var t=use(e);return je.createElement(rse,Object.assign({},t))}function VM({direction:e,style:t,...n}){return h.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:h.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var TC={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const fse=/^(0\.0*|-0(\.0*)?)$/,hse=/^-?0\d+(\.\d+)?\.?$/;function $C(e){return typeof e=="string"&&e!==""&&!Number.isNaN(Number(e))}function ON(e){return typeof e=="number"?e<Number.MAX_SAFE_INTEGER:e===""||$C(e)&&Number(e)<Number.MAX_SAFE_INTEGER}function mse(e){return e.toString().replace(".","").length}function pse(e,t){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)&&mse(t)<14&&t!==""}function UM(e,t,n){if(e===void 0)return!0;const r=t===void 0||e>=t,i=n===void 0||e<=n;return r&&i}const gse={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},yse=(e,{size:t})=>({controls:{"--ni-chevron-size":Mt(t,"ni-chevron-size")}}),v1=Je((e,t)=>{const n=De("NumberInput",gse,e),{className:r,classNames:i,styles:s,unstyled:o,vars:a,onChange:c,onValueChange:u,value:f,defaultValue:m,max:p,min:y,step:v,hideControls:x,rightSection:S,isAllowed:N,clampBehavior:_,onBlur:C,allowDecimal:j,decimalScale:A,onKeyDown:$,onKeyDownCapture:k,handlersRef:R,startValue:D,disabled:z,rightSectionPointerEvents:L,allowNegative:F,readOnly:H,size:M,rightSectionWidth:V,stepHoldInterval:T,stepHoldDelay:I,allowLeadingZeros:P,withKeyboardEvents:W,trimLeadingZeroesOnBlur:B,...q}=n,X=wt({name:"NumberInput",classes:TC,props:n,classNames:i,styles:s,unstyled:o,vars:a,varsResolver:yse}),{resolvedClassNames:Q,resolvedStyles:ie}=em({classNames:i,styles:s,props:n}),[ae,fe]=pi({value:f,defaultValue:m,finalValue:"",onChange:c}),ce=I!==void 0&&T!==void 0,he=w.useRef(null),ve=w.useRef(null),Ae=w.useRef(0),Ce=(se,ne)=>{ne.source==="event"&&fe(pse(se.floatValue,se.value)&&!fse.test(se.value)&&!(P&&hse.test(se.value))?se.floatValue:se.value),u==null||u(se,ne)},Ee=se=>{const ne=String(se).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return ne?Math.max(0,(ne[1]?ne[1].length:0)-(ne[2]?+ne[2]:0)):0},Re=se=>{he.current&&typeof se<"u"&&he.current.setSelectionRange(se,se)},ke=w.useRef(bC);ke.current=()=>{if(!ON(ae))return;let se;const ne=Ee(ae),le=Ee(v),xe=Math.max(ne,le),Ne=10**xe;if(!$C(ae)&&(typeof ae!="number"||Number.isNaN(ae)))se=Ta(D,y,p);else if(p!==void 0){const Ut=(Math.round(Number(ae)*Ne)+Math.round(v*Ne))/Ne;se=Ut<=p?Ut:p}else se=(Math.round(Number(ae)*Ne)+Math.round(v*Ne))/Ne;const Ge=se.toFixed(xe);fe(parseFloat(Ge)),u==null||u({floatValue:parseFloat(Ge),formattedValue:Ge,value:Ge},{source:"increment"}),setTimeout(()=>{var Ut;return Re((Ut=he.current)==null?void 0:Ut.value.length)},0)};const We=w.useRef(bC);We.current=()=>{if(!ON(ae))return;let se;const ne=y!==void 0?y:F?Number.MIN_SAFE_INTEGER:0,le=Ee(ae),xe=Ee(v),Ne=Math.max(le,xe),Ge=10**Ne;if(!$C(ae)&&typeof ae!="number"||Number.isNaN(ae))se=Ta(D,ne,p);else{const St=(Math.round(Number(ae)*Ge)-Math.round(v*Ge))/Ge;se=ne!==void 0&&St<ne?ne:St}const Ut=se.toFixed(Ne);fe(parseFloat(Ut)),u==null||u({floatValue:parseFloat(Ut),formattedValue:Ut,value:Ut},{source:"decrement"}),setTimeout(()=>{var St;return Re((St=he.current)==null?void 0:St.value.length)},0)};const et=se=>{$==null||$(se),!(H||!W)&&(se.key==="ArrowUp"&&(se.preventDefault(),ke.current()),se.key==="ArrowDown"&&(se.preventDefault(),We.current()))},Oe=se=>{if(k==null||k(se),se.key==="Backspace"){const ne=he.current;ne.selectionStart===0&&ne.selectionStart===ne.selectionEnd&&(se.preventDefault(),window.setTimeout(()=>Re(0),0))}},Ie=se=>{let ne=ae;if(_==="blur"&&typeof ne=="number"&&(ne=Ta(ne,y,p)),B&&typeof ne=="string"&&Ee(ne)<15){const le=ne.toString().replace(/^0+/,""),xe=parseFloat(le);ne=Number.isNaN(xe)||xe>Number.MAX_SAFE_INTEGER?le:Ta(xe,y,p)}ae!==ne&&fe(ne),C==null||C(se)};gx(R,{increment:ke.current,decrement:We.current});const Pe=se=>{se?ke.current():We.current(),Ae.current+=1},G=se=>{if(Pe(se),ce){const ne=typeof T=="number"?T:T(Ae.current);ve.current=window.setTimeout(()=>G(se),ne)}},re=(se,ne)=>{var le;se.preventDefault(),(le=he.current)==null||le.focus(),Pe(ne),ce&&(ve.current=window.setTimeout(()=>G(ne),I))},te=()=>{ve.current&&window.clearTimeout(ve.current),ve.current=null,Ae.current=0},me=h.jsxs("div",{...X("controls"),children:[h.jsx(Va,{...X("control"),tabIndex:-1,"aria-hidden":!0,disabled:z||typeof ae=="number"&&p!==void 0&&ae>=p,mod:{direction:"up"},onMouseDown:se=>se.preventDefault(),onPointerDown:se=>{re(se,!0)},onPointerUp:te,onPointerLeave:te,children:h.jsx(VM,{direction:"up"})}),h.jsx(Va,{...X("control"),tabIndex:-1,"aria-hidden":!0,disabled:z||typeof ae=="number"&&y!==void 0&&ae<=y,mod:{direction:"down"},onMouseDown:se=>se.preventDefault(),onPointerDown:se=>{re(se,!1)},onPointerUp:te,onPointerLeave:te,children:h.jsx(VM,{direction:"down"})})]});return h.jsx(vs,{component:dse,allowNegative:F,className:vn(TC.root,r),size:M,...q,readOnly:H,disabled:z,value:ae,getInputRef:$n(t,he),onValueChange:Ce,rightSection:x||H||!ON(ae)?S:S||me,classNames:Q,styles:ie,unstyled:o,__staticSelector:"NumberInput",decimalScale:j?A:0,onKeyDown:et,onKeyDownCapture:Oe,rightSectionPointerEvents:L??(z?"none":void 0),rightSectionWidth:V??`var(--ni-right-section-width-${M||"sm"})`,allowLeadingZeros:P,onBlur:Ie,isAllowed:se=>_==="strict"?N?N(se)&&UM(se.floatValue,y,p):UM(se.floatValue,y,p):N?N(se):!0})});v1.classes={...vs.classes,...TC};v1.displayName="@mantine/core/NumberInput";const[bse,eF]=bd(),[vse,xse]=bd();var tF={card:"m_9dc8ae12"};const wse={withBorder:!0},Sse=(e,{radius:t})=>({card:{"--card-radius":tr(t)}}),eT=Je((e,t)=>{const n=De("RadioCard",wse,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:c,checked:u,mod:f,withBorder:m,value:p,onClick:y,name:v,onKeyDown:x,...S}=n,N=wt({name:"RadioCard",classes:tF,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:c,varsResolver:Sse,rootSelector:"card"}),{dir:_}=Fc(),C=eF(),j=typeof u=="boolean"?u:(C==null?void 0:C.value)===p||!1,A=v||(C==null?void 0:C.name),$=k=>{if(x==null||x(k),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(k.nativeEvent.code)){k.preventDefault();const R=Array.from(document.querySelectorAll(`[role="radio"][name="${A||"__mantine"}"]`)),D=R.findIndex(F=>F===k.target),z=D+1>=R.length?0:D+1,L=D-1<0?R.length-1:D-1;k.nativeEvent.code==="ArrowDown"&&(R[z].focus(),R[z].click()),k.nativeEvent.code==="ArrowUp"&&(R[L].focus(),R[L].click()),k.nativeEvent.code==="ArrowLeft"&&(R[_==="ltr"?L:z].focus(),R[_==="ltr"?L:z].click()),k.nativeEvent.code==="ArrowRight"&&(R[_==="ltr"?z:L].focus(),R[_==="ltr"?z:L].click())}};return h.jsx(vse,{value:{checked:j},children:h.jsx(Va,{ref:t,mod:[{"with-border":m,checked:j},f],...N("card"),...S,role:"radio","aria-checked":j,name:A,onClick:k=>{y==null||y(k),C==null||C.onChange(p||"")},onKeyDown:$})})});eT.displayName="@mantine/core/RadioCard";eT.classes=tF;const Ese={},x1=Je((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,name:c,readOnly:u,...f}=De("RadioGroup",Ese,e),m=gs(c),[p,y]=pi({value:n,defaultValue:r,finalValue:"",onChange:i}),v=x=>!u&&y(typeof x=="string"?x:x.currentTarget.value);return h.jsx(bse,{value:{value:p,onChange:v,size:s,name:m},children:h.jsx(Vt.Wrapper,{size:s,ref:t,...o,...f,labelElement:"div",__staticSelector:"RadioGroup",children:h.jsx(DL,{role:"radiogroup",children:a})})})});x1.classes=Vt.Wrapper.classes;x1.displayName="@mantine/core/RadioGroup";function nF({size:e,style:t,...n}){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:Te(e),height:Te(e),...t},"aria-hidden":!0,...n,children:h.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var rF={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const Nse={icon:nF},_se=(e,{radius:t,color:n,size:r,iconColor:i,variant:s,autoContrast:o})=>{const a=Dc({color:n||e.primaryColor,theme:e}),c=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--radio-size":Mt(r,"radio-size"),"--radio-radius":t===void 0?void 0:tr(t),"--radio-color":s==="outline"?c:Ar(n,e),"--radio-icon-size":Mt(r,"radio-icon-size"),"--radio-icon-color":i?Ar(i,e):rA(o,e)?Fy({color:n,theme:e,autoContrast:o}):void 0}}},tT=Je((e,t)=>{const n=De("RadioIndicator",Nse,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:c,icon:u,radius:f,color:m,iconColor:p,autoContrast:y,checked:v,mod:x,variant:S,disabled:N,..._}=n,C=u,j=wt({name:"RadioIndicator",classes:rF,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:c,varsResolver:_se,rootSelector:"indicator"}),A=xse(),$=typeof v=="boolean"?v:(A==null?void 0:A.checked)||!1;return h.jsx(Ue,{ref:t,...j("indicator",{variant:S}),variant:S,mod:[{checked:$,disabled:N},x],..._,children:h.jsx(C,{...j("icon")})})});tT.displayName="@mantine/core/RadioIndicator";tT.classes=rF;var iF={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const Cse={labelPosition:"right"},Ose=(e,{size:t,radius:n,color:r,iconColor:i,variant:s,autoContrast:o})=>{const a=Dc({color:r||e.primaryColor,theme:e}),c=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--radio-size":Mt(t,"radio-size"),"--radio-radius":n===void 0?void 0:tr(n),"--radio-color":s==="outline"?c:Ar(r,e),"--radio-icon-color":i?Ar(i,e):rA(o,e)?Fy({color:r,theme:e,autoContrast:o}):void 0,"--radio-icon-size":Mt(t,"radio-icon-size")}}},Mo=Je((e,t)=>{const n=De("Radio",Cse,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:c,id:u,size:f,label:m,labelPosition:p,description:y,error:v,radius:x,color:S,variant:N,disabled:_,wrapperProps:C,icon:j=nF,rootRef:A,iconColor:$,onChange:k,mod:R,...D}=n,z=wt({name:"Radio",classes:iF,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:c,varsResolver:Ose}),L=eF(),F=(L==null?void 0:L.size)??f,H=n.size?f:F,{styleProps:M,rest:V}=tm(D),T=gs(u),I=L?{checked:L.value===V.value,name:V.name??L.name,onChange:P=>{L.onChange(P),k==null||k(P)}}:{};return h.jsx(zA,{...z("root"),__staticSelector:"Radio",__stylesApiProps:n,id:T,size:H,labelPosition:p,label:m,description:y,error:v,disabled:_,classNames:r,styles:o,unstyled:a,"data-checked":I.checked||void 0,variant:N,ref:A,mod:R,...M,...C,children:h.jsxs(Ue,{...z("inner"),mod:{"label-position":p},children:[h.jsx(Ue,{...z("radio",{focusable:!0,variant:N}),onChange:k,...V,...I,component:"input",mod:{error:!!v},ref:t,id:T,disabled:_,type:"radio"}),h.jsx(j,{...z("icon"),"aria-hidden":!0})]})})});Mo.classes=iF;Mo.displayName="@mantine/core/Radio";Mo.Group=x1;Mo.Card=eT;Mo.Indicator=tT;const jse={duration:100,transition:"fade"};function Ase(e,t){return{...jse,...t,...e}}function Tse({offset:e,position:t,defaultOpened:n}){const[r,i]=w.useState(n),s=w.useRef(null),{x:o,y:a,elements:c,refs:u,update:f,placement:m}=SA({placement:t,middleware:[bA({crossAxis:!0,padding:5,rootBoundary:"document"})]}),p=m.includes("right")?e:t.includes("left")?e*-1:0,y=m.includes("bottom")?e:t.includes("top")?e*-1:0,v=w.useCallback(({clientX:x,clientY:S})=>{u.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x,y:S,left:x+p,top:S+y,right:x,bottom:S}}})},[c.reference]);return w.useEffect(()=>{if(u.floating.current){const x=s.current;x.addEventListener("mousemove",v);const S=ka(u.floating.current);return S.forEach(N=>{N.addEventListener("scroll",f)}),()=>{x.removeEventListener("mousemove",v),S.forEach(N=>{N.removeEventListener("scroll",f)})}}},[c.reference,u.floating.current,f,v,r]),{handleMouseMove:v,x:o,y:a,opened:r,setOpened:i,boundaryRef:s,floating:u.setFloating}}var w1={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const $se={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:oo("popover")},Rse=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:tr(t),"--tooltip-bg":n?Ar(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),nT=Je((e,t)=>{const n=De("TooltipFloating",$se,e),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:c,styles:u,unstyled:f,radius:m,color:p,label:y,offset:v,position:x,multiline:S,zIndex:N,disabled:_,defaultOpened:C,variant:j,vars:A,portalProps:$,...k}=n,R=Vi(),D=wt({name:"TooltipFloating",props:n,classes:w1,className:a,style:o,classNames:c,styles:u,unstyled:f,rootSelector:"tooltip",vars:A,varsResolver:Rse}),{handleMouseMove:z,x:L,y:F,opened:H,boundaryRef:M,floating:V,setOpened:T}=Tse({offset:v,position:x,defaultOpened:C});if(!Ic(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const I=$n(M,Kw(r),t),P=r.props,W=q=>{var X;(X=P.onMouseEnter)==null||X.call(P,q),z(q),T(!0)},B=q=>{var X;(X=P.onMouseLeave)==null||X.call(P,q),T(!1)};return h.jsxs(h.Fragment,{children:[h.jsx(vd,{...$,withinPortal:s,children:h.jsx(Ue,{...k,...D("tooltip",{style:{...S7(o,R),zIndex:N,display:!_&&H?"block":"none",top:(F&&Math.round(F))??"",left:(L&&Math.round(L))??""}}),variant:j,ref:V,mod:{multiline:S},children:y})}),w.cloneElement(r,{...P,[i]:I,onMouseEnter:W,onMouseLeave:B})]})});nT.classes=w1;nT.displayName="@mantine/core/TooltipFloating";const sF=w.createContext(!1),kse=sF.Provider,Mse=()=>w.useContext(sF),Ise={openDelay:0,closeDelay:0};function rT(e){const{openDelay:t,closeDelay:n,children:r}=De("TooltipGroup",Ise,e);return h.jsx(kse,{value:!0,children:h.jsx(hne,{delay:{open:t,close:n},children:r})})}rT.displayName="@mantine/core/TooltipGroup";rT.extend=e=>e;function Pse(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function Dse(e){const t=Pse(e.middlewares),n=[eL(e.offset)];return t.shift&&n.push(bA(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&n.push(typeof t.flip=="boolean"?wx():wx(t.flip)),n.push(tL({element:e.arrowRef,padding:e.arrowOffset})),t.inline?n.push(typeof t.inline=="boolean"?dg():dg(t.inline)):e.inline&&n.push(dg()),n}function Lse(e){var $,k,R;const[t,n]=w.useState(e.defaultOpened),i=typeof e.opened=="boolean"?e.opened:t,s=Mse(),o=gs(),a=w.useCallback(D=>{n(D),D&&_(o)},[o]),{x:c,y:u,context:f,refs:m,update:p,placement:y,middlewareData:{arrow:{x:v,y:x}={}}}=SA({strategy:e.strategy,placement:e.position,open:i,onOpenChange:a,middleware:Dse(e)}),{delay:S,currentId:N,setCurrentId:_}=mne(f,{id:o}),{getReferenceProps:C,getFloatingProps:j}=wne([dne(f,{enabled:($=e.events)==null?void 0:$.hover,delay:s?S:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((k=e.events)!=null&&k.touch)}),xne(f,{enabled:(R=e.events)==null?void 0:R.focus,visibleOnly:!0}),Ene(f,{role:"tooltip"}),bne(f,{enabled:typeof e.opened>"u"})]);fL({opened:i,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:m,update:p}}),za(()=>{var D;(D=e.onPositionChange)==null||D.call(e,y)},[y]);const A=i&&N&&N!==o;return{x:c,y:u,arrowX:v,arrowY:x,reference:m.setReference,floating:m.setFloating,getFloatingProps:j,getReferenceProps:C,isGroupPhase:A,opened:i,placement:y}}const qM={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:oo("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},Fse=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:tr(t),"--tooltip-bg":n?Ar(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),ao=Je((e,t)=>{const n=De("Tooltip",qM,e),{children:r,position:i,refProp:s,label:o,openDelay:a,closeDelay:c,onPositionChange:u,opened:f,defaultOpened:m,withinPortal:p,radius:y,color:v,classNames:x,styles:S,unstyled:N,style:_,className:C,withArrow:j,arrowSize:A,arrowOffset:$,arrowRadius:k,arrowPosition:R,offset:D,transitionProps:z,multiline:L,events:F,zIndex:H,disabled:M,positionDependencies:V,onClick:T,onMouseEnter:I,onMouseLeave:P,inline:W,variant:B,keepMounted:q,vars:X,portalProps:Q,mod:ie,floatingStrategy:ae,middlewares:fe,...ce}=De("Tooltip",qM,n),{dir:he}=Fc(),ve=w.useRef(null),Ae=Lse({position:sL(he,i),closeDelay:c,openDelay:a,onPositionChange:u,opened:f,defaultOpened:m,events:F,arrowRef:ve,arrowOffset:$,offset:typeof D=="number"?D+(j?A/2:0):D,positionDependencies:[...V,r],inline:W,strategy:ae,middlewares:fe}),Ce=wt({name:"Tooltip",props:n,classes:w1,className:C,style:_,classNames:x,styles:S,unstyled:N,rootSelector:"tooltip",vars:X,varsResolver:Fse});if(!Ic(r))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const Ee=$n(Ae.reference,Kw(r),t),Re=Ase(z,{duration:100,transition:"fade"}),ke=r.props;return h.jsxs(h.Fragment,{children:[h.jsx(vd,{...Q,withinPortal:p,children:h.jsx(Bc,{...Re,keepMounted:q,mounted:!M&&!!Ae.opened,duration:Ae.isGroupPhase?10:Re.duration,children:We=>h.jsxs(Ue,{...ce,"data-fixed":ae==="fixed"||void 0,variant:B,mod:[{multiline:L},ie],...Ae.getFloatingProps({ref:Ae.floating,className:Ce("tooltip").className,style:{...Ce("tooltip").style,...We,zIndex:H,top:Ae.y??0,left:Ae.x??0}}),children:[o,h.jsx(EA,{ref:ve,arrowX:Ae.arrowX,arrowY:Ae.arrowY,visible:j,position:Ae.placement,arrowSize:A,arrowOffset:$,arrowRadius:k,arrowPosition:R,...Ce("arrow")})]})})}),w.cloneElement(r,Ae.getReferenceProps({onClick:T,onMouseEnter:I,onMouseLeave:P,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,[s]:Ee,className:vn(C,ke.className),...ke}))]})});ao.classes=w1;ao.displayName="@mantine/core/Tooltip";ao.Floating=nT;ao.Group=rT;var oF={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const Bse={withItemsBorders:!0},zse=(e,{radius:t,color:n,transitionDuration:r,size:i,transitionTimingFunction:s})=>({root:{"--sc-radius":t===void 0?void 0:tr(t),"--sc-color":n?Ar(n,e):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":s,"--sc-padding":Mt(i,"sc-padding"),"--sc-font-size":Jr(i)}}),zc=Je((e,t)=>{var fe,ce;const n=De("SegmentedControl",Bse,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:c,data:u,value:f,defaultValue:m,onChange:p,size:y,name:v,disabled:x,readOnly:S,fullWidth:N,orientation:_,radius:C,color:j,transitionDuration:A,transitionTimingFunction:$,variant:k,autoContrast:R,withItemsBorders:D,mod:z,...L}=n,F=wt({name:"SegmentedControl",props:n,classes:oF,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:c,varsResolver:zse}),H=Vi(),M=u.map(he=>typeof he=="string"?{label:he,value:he}:he),V=jZ(),[T,I]=w.useState(null),[P,W]=w.useState({}),B=(he,ve)=>{P[ve]=he,W(P)},[q,X]=pi({value:f,defaultValue:m,finalValue:Array.isArray(u)?((fe=M.find(he=>!he.disabled))==null?void 0:fe.value)??((ce=u[0])==null?void 0:ce.value)??null:null,onChange:p}),Q=gs(v),ie=M.map(he=>w.createElement(Ue,{...F("control"),mod:{active:q===he.value,orientation:_},key:he.value},w.createElement("input",{...F("input"),disabled:x||he.disabled,type:"radio",name:Q,value:he.value,id:`${Q}-${he.value}`,checked:q===he.value,onChange:()=>!S&&X(he.value),"data-focus-ring":H.focusRing,key:`${he.value}-input`}),w.createElement(Ue,{component:"label",...F("label"),mod:{active:q===he.value&&!(x||he.disabled),disabled:x||he.disabled,"read-only":S},htmlFor:`${Q}-${he.value}`,ref:ve=>B(ve,he.value),__vars:{"--sc-label-color":j!==void 0?Fy({color:j,theme:H,autoContrast:R}):void 0},key:`${he.value}-label`},h.jsx("span",{...F("innerLabel"),children:he.label})))),ae=$n(t,he=>I(he));return u.length===0?null:h.jsxs(Ue,{...F("root"),variant:k,size:y,ref:ae,mod:[{"full-width":N,orientation:_,initialized:V,"with-items-borders":D},z],...L,role:"radiogroup","data-disabled":x,children:[typeof q=="string"&&h.jsx(jA,{target:P[q],parent:T,component:"span",transitionDuration:"var(--sc-transition-duration)",...F("indicator")}),ie]})});zc.classes=oF;zc.displayName="@mantine/core/SegmentedControl";const Vse={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},S1=Je((e,t)=>{const n=De("Select",Vse,e),{classNames:r,styles:i,unstyled:s,vars:o,dropdownOpened:a,defaultDropdownOpened:c,onDropdownClose:u,onDropdownOpen:f,onFocus:m,onBlur:p,onClick:y,onChange:v,data:x,value:S,defaultValue:N,selectFirstOptionOnChange:_,onOptionSubmit:C,comboboxProps:j,readOnly:A,disabled:$,filter:k,limit:R,withScrollArea:D,maxDropdownHeight:z,size:L,searchable:F,rightSection:H,checkIconPosition:M,withCheckIcon:V,nothingFoundMessage:T,name:I,form:P,searchValue:W,defaultSearchValue:B,onSearchChange:q,allowDeselect:X,error:Q,rightSectionPointerEvents:ie,id:ae,clearable:fe,clearButtonProps:ce,hiddenInputProps:he,renderOption:ve,onClear:Ae,autoComplete:Ce,scrollAreaProps:Ee,__defaultRightSection:Re,__clearSection:ke,__clearable:We,chevronColor:et,...Oe}=n,Ie=w.useMemo(()=>TL(x),[x]),Pe=w.useMemo(()=>AA(Ie),[Ie]),G=gs(ae),[re,te,me]=pi({value:S,defaultValue:N,finalValue:null,onChange:v}),se=typeof re=="string"?Pe[re]:void 0,ne=CZ(se),[le,xe]=pi({value:W,defaultValue:B,finalValue:se?se.label:"",onChange:q}),Ne=BA({opened:a,defaultOpened:c,onDropdownOpen:()=>{f==null||f(),Ne.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{u==null||u(),Ne.resetSelectedOption()}}),{resolvedClassNames:Ge,resolvedStyles:Ut}=em({props:n,styles:i,classNames:r});w.useEffect(()=>{_&&Ne.selectFirstOption()},[_,re]),w.useEffect(()=>{S===null&&xe(""),typeof S=="string"&&se&&((ne==null?void 0:ne.value)!==se.value||(ne==null?void 0:ne.label)!==se.label)&&xe(se.label)},[S,se]);const St=h.jsx($t.ClearButton,{...ce,onClear:()=>{te(null,null),xe(""),Ae==null||Ae()}}),ho=fe&&!!re&&!$&&!A;return h.jsxs(h.Fragment,{children:[h.jsxs($t,{store:Ne,__staticSelector:"Select",classNames:Ge,styles:Ut,unstyled:s,readOnly:A,onOptionSubmit:qt=>{C==null||C(qt);const pn=X&&Pe[qt].value===re?null:Pe[qt],fr=pn?pn.value:null;fr!==re&&te(fr,pn),!me&&xe(typeof fr=="string"&&(pn==null?void 0:pn.label)||""),Ne.closeDropdown()},size:L,...j,children:[h.jsx($t.Target,{targetType:F?"input":"button",autoComplete:Ce,children:h.jsx(vs,{id:G,ref:t,__defaultRightSection:h.jsx($t.Chevron,{size:L,error:Q,unstyled:s,color:et}),__clearSection:St,__clearable:ho,rightSection:H,rightSectionPointerEvents:ie||(ho?"all":"none"),...Oe,size:L,__staticSelector:"Select",disabled:$,readOnly:A||!F,value:le,onChange:qt=>{xe(qt.currentTarget.value),Ne.openDropdown(),_&&Ne.selectFirstOption()},onFocus:qt=>{F&&Ne.openDropdown(),m==null||m(qt)},onBlur:qt=>{var pn;F&&Ne.closeDropdown(),xe(re!=null&&((pn=Pe[re])==null?void 0:pn.label)||""),p==null||p(qt)},onClick:qt=>{F?Ne.openDropdown():Ne.toggleDropdown(),y==null||y(qt)},classNames:Ge,styles:Ut,unstyled:s,pointer:!F,error:Q})}),h.jsx(zL,{data:Ie,hidden:A||$,filter:k,search:le,limit:R,hiddenWhenEmpty:!T,withScrollArea:D,maxDropdownHeight:z,filterOptions:F&&(se==null?void 0:se.label)!==le,value:re,checkIconPosition:M,withCheckIcon:V,nothingFoundMessage:T,unstyled:s,labelId:Oe.label?`${G}-label`:void 0,"aria-label":Oe.label?void 0:Oe["aria-label"],renderOption:ve,scrollAreaProps:Ee})]}),h.jsx($t.HiddenInput,{value:re,name:I,form:P,disabled:$,...he})]})});S1.classes={...vs.classes,...$t.classes};S1.displayName="@mantine/core/Select";const[Use,E1]=el("SliderProvider was not found in tree"),aF=w.forwardRef(({size:e,disabled:t,variant:n,color:r,thumbSize:i,radius:s,...o},a)=>{const{getStyles:c}=E1();return h.jsx(Ue,{tabIndex:-1,variant:n,size:e,ref:a,...c("root"),...o})});aF.displayName="@mantine/core/SliderRoot";const lF=w.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:s,onMouseDown:o,onKeyDownCapture:a,labelTransitionProps:c,labelAlwaysOn:u,thumbLabel:f,onFocus:m,onBlur:p,showLabelOnHover:y,isHovered:v,children:x=null,disabled:S},N)=>{const{getStyles:_}=E1(),[C,j]=w.useState(!1),A=u||s||C||y&&v;return h.jsxs(Ue,{tabIndex:0,role:"slider","aria-label":f,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:N,__vars:{"--slider-thumb-offset":`${r}%`},..._("thumb",{focusable:!0}),mod:{dragging:s,disabled:S},onFocus:$=>{j(!0),typeof m=="function"&&m($)},onBlur:$=>{j(!1),typeof p=="function"&&p($)},onTouchStart:o,onMouseDown:o,onKeyDownCapture:a,onClick:$=>$.stopPropagation(),children:[x,h.jsx(Bc,{mounted:i!=null&&!!A,transition:"fade",duration:0,...c,children:$=>h.jsx("div",{..._("label",{style:$}),children:i})})]})});lF.displayName="@mantine/core/SliderThumb";function cF({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function qse({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}function uF({marks:e,min:t,max:n,disabled:r,value:i,offset:s,inverted:o}){const{getStyles:a}=E1();if(!e)return null;const c=e.map((u,f)=>w.createElement(Ue,{...a("markWrapper"),__vars:{"--mark-offset":`${cF({value:u.value,min:t,max:n})}%`},key:f},h.jsx(Ue,{...a("mark"),mod:{filled:qse({mark:u,value:i,offset:s,inverted:o}),disabled:r}}),u.label&&h.jsx("div",{...a("markLabel"),children:u.label})));return h.jsx("div",{children:c})}uF.displayName="@mantine/core/SliderMarks";function dF({filled:e,children:t,offset:n,disabled:r,marksOffset:i,inverted:s,containerProps:o,...a}){const{getStyles:c}=E1();return h.jsx(Ue,{...c("trackContainer"),mod:{disabled:r},...o,children:h.jsxs(Ue,{...c("track"),mod:{inverted:s,disabled:r},children:[h.jsx(Ue,{mod:{inverted:s,disabled:r},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${n}% - var(--slider-size))`},...c("bar")}),t,h.jsx(uF,{...a,offset:i,disabled:r,inverted:s})]})})}dF.displayName="@mantine/core/SliderTrack";function Hse({value:e,containerWidth:t,min:n,max:r,step:i,precision:s}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),c=(a!==0?Math.round(a/i)*i:0)+n,u=Math.max(c,n);return s!==void 0?Number(u.toFixed(s)):u}function Qb(e,t){return parseFloat(e.toFixed(t))}function Wse(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}function jN(e,t){const r=[...t].sort((i,s)=>i.value-s.value).find(i=>i.value>e);return r?r.value:e}function AN(e,t){const r=[...t].sort((i,s)=>s.value-i.value).find(i=>i.value<e);return r?r.value:e}function HM(e){const t=[...e].sort((n,r)=>n.value-r.value);return t.length>0?t[0].value:0}function WM(e){const t=[...e].sort((n,r)=>n.value-r.value);return t.length>0?t[t.length-1].value:100}var fF={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const Gse={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},Jse=(e,{size:t,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":Mt(t,"slider-size"),"--slider-color":n?Ar(n,e):void 0,"--slider-radius":i===void 0?void 0:tr(i),"--slider-thumb-size":r!==void 0?Te(r):"calc(var(--slider-size) * 2)"}}),iT=Je((e,t)=>{const n=De("Slider",Gse,e),{classNames:r,styles:i,value:s,onChange:o,onChangeEnd:a,size:c,min:u,max:f,step:m,precision:p,defaultValue:y,name:v,marks:x,label:S,labelTransitionProps:N,labelAlwaysOn:_,thumbLabel:C,showLabelOnHover:j,thumbChildren:A,disabled:$,unstyled:k,scale:R,inverted:D,className:z,style:L,vars:F,hiddenInputProps:H,restrictToMarks:M,thumbProps:V,...T}=n,I=wt({name:"Slider",props:n,classes:fF,classNames:r,className:z,styles:i,style:L,vars:F,varsResolver:Jse,unstyled:k}),{dir:P}=Fc(),[W,B]=w.useState(!1),[q,X]=pi({value:typeof s=="number"?Ta(s,u,f):s,defaultValue:typeof y=="number"?Ta(y,u,f):y,finalValue:Ta(0,u,f),onChange:o}),Q=w.useRef(q),ie=w.useRef(null),ae=w.useRef(null),fe=cF({value:q,min:u,max:f}),ce=R(q),he=typeof S=="function"?S(ce):S,ve=p??Wse(m),Ae=w.useCallback(({x:ke})=>{if(!$){const We=Hse({value:ke,min:u,max:f,step:m,precision:ve});X(M&&(x!=null&&x.length)?eM(We,x.map(et=>et.value)):We),Q.current=We}},[$,u,f,m,ve,X,x,M]),{ref:Ce,active:Ee}=NZ(Ae,{onScrubEnd:()=>!$&&(a==null?void 0:a(M&&(x!=null&&x.length)?eM(Q.current,x.map(ke=>ke.value)):Q.current))},P),Re=ke=>{var We,et,Oe,Ie,Pe,G;if(!$)switch(ke.key){case"ArrowUp":{if(ke.preventDefault(),(We=ae.current)==null||We.focus(),M&&x){const te=jN(q,x);X(te),a==null||a(te);break}const re=Qb(Math.min(Math.max(q+m,u),f),ve);X(re),a==null||a(re);break}case"ArrowRight":{if(ke.preventDefault(),(et=ae.current)==null||et.focus(),M&&x){const te=P==="rtl"?AN(q,x):jN(q,x);X(te),a==null||a(te);break}const re=Qb(Math.min(Math.max(P==="rtl"?q-m:q+m,u),f),ve);X(re),a==null||a(re);break}case"ArrowDown":{if(ke.preventDefault(),(Oe=ae.current)==null||Oe.focus(),M&&x){const te=AN(q,x);X(te),a==null||a(te);break}const re=Qb(Math.min(Math.max(q-m,u),f),ve);X(re),a==null||a(re);break}case"ArrowLeft":{if(ke.preventDefault(),(Ie=ae.current)==null||Ie.focus(),M&&x){const te=P==="rtl"?jN(q,x):AN(q,x);X(te),a==null||a(te);break}const re=Qb(Math.min(Math.max(P==="rtl"?q+m:q-m,u),f),ve);X(re),a==null||a(re);break}case"Home":{if(ke.preventDefault(),(Pe=ae.current)==null||Pe.focus(),M&&x){X(HM(x)),a==null||a(HM(x));break}X(u),a==null||a(u);break}case"End":{if(ke.preventDefault(),(G=ae.current)==null||G.focus(),M&&x){X(WM(x)),a==null||a(WM(x));break}X(f),a==null||a(f);break}}};return h.jsx(Use,{value:{getStyles:I},children:h.jsxs(aF,{...T,ref:$n(t,ie),onKeyDownCapture:Re,onMouseDownCapture:()=>{var ke;return(ke=ie.current)==null?void 0:ke.focus()},size:c,disabled:$,children:[h.jsx(dF,{inverted:D,offset:0,filled:fe,marks:x,min:u,max:f,value:ce,disabled:$,containerProps:{ref:Ce,onMouseEnter:j?()=>B(!0):void 0,onMouseLeave:j?()=>B(!1):void 0},children:h.jsx(lF,{max:f,min:u,value:ce,position:fe,dragging:Ee,label:he,ref:ae,labelTransitionProps:N,labelAlwaysOn:_,thumbLabel:C,showLabelOnHover:j,isHovered:W,disabled:$,...V,children:A})}),h.jsx("input",{type:"hidden",name:v,value:ce,...H})]})})});iT.classes=fF;iT.displayName="@mantine/core/Slider";const hF=w.createContext(null),Yse=hF.Provider,Xse=()=>w.useContext(hF),Kse={},sT=Je((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,readOnly:c,...u}=De("SwitchGroup",Kse,e),[f,m]=pi({value:n,defaultValue:r,finalValue:[],onChange:i}),p=y=>{const v=y.currentTarget.value;!c&&m(f.includes(v)?f.filter(x=>x!==v):[...f,v])};return h.jsx(Yse,{value:{value:f,onChange:p,size:s},children:h.jsx(Vt.Wrapper,{size:s,ref:t,...o,...u,labelElement:"div",__staticSelector:"SwitchGroup",children:h.jsx(DL,{role:"group",children:a})})})});sT.classes=Vt.Wrapper.classes;sT.displayName="@mantine/core/SwitchGroup";var mF={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const Qse={labelPosition:"right"},Zse=(e,{radius:t,color:n,size:r})=>({root:{"--switch-radius":t===void 0?void 0:tr(t),"--switch-height":Mt(r,"switch-height"),"--switch-width":Mt(r,"switch-width"),"--switch-thumb-size":Mt(r,"switch-thumb-size"),"--switch-label-font-size":Mt(r,"switch-label-font-size"),"--switch-track-label-padding":Mt(r,"switch-track-label-padding"),"--switch-color":n?Ar(n,e):void 0}}),Vc=Je((e,t)=>{const n=De("Switch",Qse,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:c,color:u,label:f,offLabel:m,onLabel:p,id:y,size:v,radius:x,wrapperProps:S,thumbIcon:N,checked:_,defaultChecked:C,onChange:j,labelPosition:A,description:$,error:k,disabled:R,variant:D,rootRef:z,mod:L,...F}=n,H=Xse(),M=v||(H==null?void 0:H.size),V=wt({name:"Switch",props:n,classes:mF,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:c,varsResolver:Zse}),{styleProps:T,rest:I}=tm(F),P=gs(y),W=H?{checked:H.value.includes(I.value),onChange:H.onChange}:{},[B,q]=pi({value:W.checked??_,defaultValue:C,finalValue:!1});return h.jsxs(zA,{...V("root"),__staticSelector:"Switch",__stylesApiProps:n,id:P,size:M,labelPosition:A,label:f,description:$,error:k,disabled:R,bodyElement:"label",labelElement:"span",classNames:r,styles:o,unstyled:a,"data-checked":W.checked||_||void 0,variant:D,ref:z,mod:L,...T,...S,children:[h.jsx("input",{...I,disabled:R,checked:B,"data-checked":W.checked||_||void 0,onChange:X=>{var Q;H?(Q=W.onChange)==null||Q.call(W,X):j==null||j(X),q(X.currentTarget.checked)},id:P,ref:t,type:"checkbox",role:"switch",...V("input")}),h.jsxs(Ue,{"aria-hidden":"true",mod:{error:k,"label-position":A,"without-labels":!p&&!m},...V("track"),children:[h.jsx(Ue,{component:"span",mod:"reduce-motion",...V("thumb"),children:N}),h.jsx("span",{...V("trackLabel"),children:B?p:m})]})]})});Vc.classes={...mF,...Bre};Vc.displayName="@mantine/core/Switch";Vc.Group=sT;const[eoe,oT]=el("Tabs component was not found in the tree");var Wy={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const toe={},aT=Je((e,t)=>{const n=De("TabsList",toe,e),{children:r,className:i,grow:s,justify:o,classNames:a,styles:c,style:u,mod:f,...m}=n,p=oT();return h.jsx(Ue,{...m,...p.getStyles("list",{className:i,style:u,classNames:a,styles:c,props:n,variant:p.variant}),ref:t,role:"tablist",variant:p.variant,mod:[{grow:s,orientation:p.orientation,placement:p.orientation==="vertical"&&p.placement,inverted:p.inverted},f],"aria-orientation":p.orientation,__vars:{"--tabs-justify":o},children:r})});aT.classes=Wy;aT.displayName="@mantine/core/TabsList";const noe={},lT=Je((e,t)=>{const n=De("TabsPanel",noe,e),{children:r,className:i,value:s,classNames:o,styles:a,style:c,mod:u,keepMounted:f,...m}=n,p=oT(),y=p.value===s,v=p.keepMounted||f||y?r:null;return h.jsx(Ue,{...m,...p.getStyles("panel",{className:i,classNames:o,styles:a,style:[c,y?void 0:{display:"none"}],props:n}),ref:t,mod:[{orientation:p.orientation},u],role:"tabpanel",id:p.getPanelId(s),"aria-labelledby":p.getTabId(s),children:v})});lT.classes=Wy;lT.displayName="@mantine/core/TabsPanel";const roe={},cT=Je((e,t)=>{const n=De("TabsTab",roe,e),{className:r,children:i,rightSection:s,leftSection:o,value:a,onClick:c,onKeyDown:u,disabled:f,color:m,style:p,classNames:y,styles:v,vars:x,mod:S,tabIndex:N,..._}=n,C=Vi(),{dir:j}=Fc(),A=oT(),$=a===A.value,k=D=>{A.onChange(A.allowTabDeactivation&&a===A.value?null:a),c==null||c(D)},R={classNames:y,styles:v,props:n};return h.jsxs(Va,{..._,...A.getStyles("tab",{className:r,style:p,variant:A.variant,...R}),disabled:f,unstyled:A.unstyled,variant:A.variant,mod:[{active:$,disabled:f,orientation:A.orientation,inverted:A.inverted,placement:A.orientation==="vertical"&&A.placement},S],ref:t,role:"tab",id:A.getTabId(a),"aria-selected":$,tabIndex:N!==void 0?N:$||A.value===null?0:-1,"aria-controls":A.getPanelId(a),onClick:k,__vars:{"--tabs-color":m?Ar(m,C):void 0},onKeyDown:c7({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:A.activateTabWithKeyboard,loop:A.loop,orientation:A.orientation||"horizontal",dir:j,onKeyDown:u}),children:[o&&h.jsx("span",{...A.getStyles("tabSection",R),"data-position":"left",children:o}),i&&h.jsx("span",{...A.getStyles("tabLabel",R),children:i}),s&&h.jsx("span",{...A.getStyles("tabSection",R),"data-position":"right",children:s})]})});cT.classes=Wy;cT.displayName="@mantine/core/TabsTab";const GM="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",ioe={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},soe=(e,{radius:t,color:n,autoContrast:r})=>({root:{"--tabs-radius":tr(t),"--tabs-color":Ar(n,e),"--tabs-text-color":rA(r,e)?Fy({color:n,theme:e,autoContrast:r}):void 0}}),En=Je((e,t)=>{const n=De("Tabs",ioe,e),{defaultValue:r,value:i,onChange:s,orientation:o,children:a,loop:c,id:u,activateTabWithKeyboard:f,allowTabDeactivation:m,variant:p,color:y,radius:v,inverted:x,placement:S,keepMounted:N,classNames:_,styles:C,unstyled:j,className:A,style:$,vars:k,autoContrast:R,mod:D,...z}=n,L=gs(u),[F,H]=pi({value:i,defaultValue:r,finalValue:null,onChange:s}),M=wt({name:"Tabs",props:n,classes:Wy,className:A,style:$,classNames:_,styles:C,unstyled:j,vars:k,varsResolver:soe});return h.jsx(eoe,{value:{placement:S,value:F,orientation:o,id:L,loop:c,activateTabWithKeyboard:f,getTabId:Qk(`${L}-tab`,GM),getPanelId:Qk(`${L}-panel`,GM),onChange:H,allowTabDeactivation:m,variant:p,color:y,radius:v,inverted:x,keepMounted:N,unstyled:j,getStyles:M},children:h.jsx(Ue,{ref:t,id:L,variant:p,mod:[{orientation:o,inverted:o==="horizontal"&&x,placement:o==="vertical"&&S},D],...M("root"),...z,children:a})})});En.classes=Wy;En.displayName="@mantine/core/Tabs";En.Tab=cT;En.Panel=lT;En.List=aT;function ooe({data:e,value:t}){const n=t.map(i=>i.trim().toLowerCase());return e.reduce((i,s)=>(Oh(s)?i.push({group:s.group,items:s.items.filter(o=>n.indexOf(o.label.toLowerCase().trim())===-1)}):n.indexOf(s.label.toLowerCase().trim())===-1&&i.push(s),i),[])}function aoe(e,t){return e?t.split(new RegExp(`[${e.join("")}]`)).map(n=>n.trim()).filter(n=>n!==""):[t]}function JM({splitChars:e,allowDuplicates:t,maxTags:n,value:r,currentTags:i}){const s=aoe(e,r),o=t?[...i,...s]:[...new Set([...i,...s])];return n?o.slice(0,n):o}const loe={maxTags:1/0,allowDuplicates:!1,acceptValueOnBlur:!0,splitChars:[","],hiddenInputValuesDivider:","},uT=Je((e,t)=>{const n=De("TagsInput",loe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:c,size:u,value:f,defaultValue:m,onChange:p,onKeyDown:y,maxTags:v,allowDuplicates:x,onDuplicate:S,variant:N,data:_,dropdownOpened:C,defaultDropdownOpened:j,onDropdownOpen:A,onDropdownClose:$,selectFirstOptionOnChange:k,onOptionSubmit:R,comboboxProps:D,filter:z,limit:L,withScrollArea:F,maxDropdownHeight:H,searchValue:M,defaultSearchValue:V,onSearchChange:T,readOnly:I,disabled:P,splitChars:W,onFocus:B,onBlur:q,onPaste:X,radius:Q,rightSection:ie,rightSectionWidth:ae,rightSectionPointerEvents:fe,rightSectionProps:ce,leftSection:he,leftSectionWidth:ve,leftSectionPointerEvents:Ae,leftSectionProps:Ce,inputContainer:Ee,inputWrapperOrder:Re,withAsterisk:ke,required:We,labelProps:et,descriptionProps:Oe,errorProps:Ie,wrapperProps:Pe,description:G,label:re,error:te,withErrorStyles:me,name:se,form:ne,id:le,clearable:xe,clearButtonProps:Ne,hiddenInputProps:Ge,hiddenInputValuesDivider:Ut,mod:St,renderOption:ho,onRemove:qt,onClear:pn,scrollAreaProps:fr,acceptValueOnBlur:_s,...Hi}=n,mo=gs(le),Qc=TL(_),$d=AA(Qc),fl=w.useRef(null),Wo=$n(fl,t),Wi=BA({opened:C,defaultOpened:j,onDropdownOpen:A,onDropdownClose:()=>{$==null||$(),Wi.resetSelectedOption()}}),{styleProps:Zc,rest:{type:Rm,autoComplete:eu,...tu}}=tm(Hi),[gn,Cs]=pi({value:f,defaultValue:m,finalValue:[],onChange:p}),[rr,ln]=pi({value:M,defaultValue:V,finalValue:"",onChange:T}),zn=wt({name:"TagsInput",classes:{},props:n,classNames:r,styles:o,unstyled:a}),{resolvedClassNames:Os,resolvedStyles:hl}=em({props:n,styles:o,classNames:r}),Rd=gt=>{const kn=gn.some(Sr=>Sr.toLowerCase()===gt.toLowerCase());kn&&(S==null||S(gt)),(!kn||kn&&x)&&gn.length<v&&(R==null||R(gt),ln(""),gt.length>0&&Cs([...gn,gt]))},km=gt=>{if(y==null||y(gt),gt.isPropagationStopped())return;const kn=rr.trim(),{length:Sr}=kn;if(W.includes(gt.key)&&Sr>0&&(Cs(JM({splitChars:W,allowDuplicates:x,maxTags:v,value:rr,currentTags:gn})),ln(""),gt.preventDefault()),gt.key==="Enter"&&Sr>0&&!gt.nativeEvent.isComposing){if(gt.preventDefault(),!!document.querySelector(`#${Wi.listId} [data-combobox-option][data-combobox-selected]`))return;Rd(kn)}gt.key==="Backspace"&&Sr===0&&gn.length>0&&!gt.nativeEvent.isComposing&&(qt==null||qt(gn[gn.length-1]),Cs(gn.slice(0,gn.length-1)))},kd=gt=>{if(X==null||X(gt),gt.preventDefault(),gt.clipboardData){const kn=gt.clipboardData.getData("text/plain");Cs(JM({splitChars:W,allowDuplicates:x,maxTags:v,value:`${rr}${kn}`,currentTags:gn})),ln("")}},Go=gn.map((gt,kn)=>h.jsx(Pg,{withRemoveButton:!I,onRemove:()=>{const Sr=gn.slice();Sr.splice(kn,1),Cs(Sr),qt==null||qt(gt)},unstyled:a,disabled:P,...zn("pill"),children:gt},`${gt}-${kn}`));w.useEffect(()=>{k&&Wi.selectFirstOption()},[k,gn,rr]);const nu=h.jsx($t.ClearButton,{...Ne,onClear:()=>{var gt;Cs([]),ln(""),(gt=fl.current)==null||gt.focus(),Wi.openDropdown(),pn==null||pn()}});return h.jsxs(h.Fragment,{children:[h.jsxs($t,{store:Wi,classNames:Os,styles:hl,unstyled:a,size:u,readOnly:I,__staticSelector:"TagsInput",onOptionSubmit:gt=>{R==null||R(gt),ln(""),gn.length<v&&Cs([...gn,$d[gt].label]),Wi.resetSelectedOption()},...D,children:[h.jsx($t.DropdownTarget,{children:h.jsx(Sx,{...Zc,__staticSelector:"TagsInput",classNames:Os,styles:hl,unstyled:a,size:u,className:i,style:s,variant:N,disabled:P,radius:Q,rightSection:ie,__clearSection:nu,__clearable:xe&&gn.length>0&&!P&&!I,rightSectionWidth:ae,rightSectionPointerEvents:fe,rightSectionProps:ce,leftSection:he,leftSectionWidth:ve,leftSectionPointerEvents:Ae,leftSectionProps:Ce,inputContainer:Ee,inputWrapperOrder:Re,withAsterisk:ke,required:We,labelProps:et,descriptionProps:Oe,errorProps:Ie,wrapperProps:Pe,description:G,label:re,error:te,multiline:!0,withErrorStyles:me,__stylesApiProps:{...n,multiline:!0},id:mo,mod:St,children:h.jsxs(Pg.Group,{disabled:P,unstyled:a,...zn("pillsList"),children:[Go,h.jsx($t.EventsTarget,{autoComplete:eu,children:h.jsx(Sx.Field,{...tu,ref:Wo,...zn("inputField"),unstyled:a,onKeyDown:km,onFocus:gt=>{B==null||B(gt),Wi.openDropdown()},onBlur:gt=>{q==null||q(gt),_s&&Rd(rr),Wi.closeDropdown()},onPaste:kd,value:rr,onChange:gt=>ln(gt.currentTarget.value),required:We&&gn.length===0,disabled:P,readOnly:I,id:mo})})]})})}),h.jsx(zL,{data:ooe({data:Qc,value:gn}),hidden:I||P,filter:z,search:rr,limit:L,hiddenWhenEmpty:!0,withScrollArea:F,maxDropdownHeight:H,unstyled:a,labelId:re?`${mo}-label`:void 0,"aria-label":re?void 0:Hi["aria-label"],renderOption:ho,scrollAreaProps:fr})]}),h.jsx($t.HiddenInput,{name:se,form:ne,value:gn,valuesDivider:Ut,disabled:P,...Ge})]})});uT.classes={...vs.classes,...$t.classes};uT.displayName="@mantine/core/TagsInput";const coe={},jn=Je((e,t)=>{const n=De("TextInput",coe,e);return h.jsx(vs,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});jn.classes=vs.classes;jn.displayName="@mantine/core/TextInput";function uoe(e){let t=e,n=!1;const r=new Set;return{getState(){return t},updateState(i){t=typeof i=="function"?i(t):i},setState(i){this.updateState(i),r.forEach(s=>s(t))},initialize(i){n||(t=i,n=!0)},subscribe(i){return r.add(i),()=>r.delete(i)}}}function doe(e){return w.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function foe(e,t,n){const r=[],i=[],s={};for(const o of e){const a=o.position||t;s[a]=s[a]||0,s[a]+=1,s[a]<=n?i.push(o):r.push(o)}return{notifications:i,queue:r}}const hoe=()=>uoe({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),xd=hoe(),moe=(e=xd)=>doe(e);function cm(e,t){const n=e.getState(),r=t([...n.notifications,...n.queue]),i=foe(r,n.defaultPosition,n.limit);e.setState({notifications:i.notifications,queue:i.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function poe(e,t=xd){const n=e.id||Jf();return cm(t,r=>e.id&&r.some(i=>i.id===e.id)?r:[...r,{...e,id:n}]),n}function pF(e,t=xd){return cm(t,n=>n.filter(r=>{var i;return r.id===e?((i=r.onClose)==null||i.call(r,r),!1):!0})),e}function goe(e,t=xd){return cm(t,n=>n.map(r=>r.id===e.id?{...r,...e}:r)),e.id}function yoe(e=xd){cm(e,()=>[])}function boe(e=xd){cm(e,t=>t.slice(0,e.getState().limit))}const cs={show:poe,hide:pF,update:goe,clean:yoe,cleanQueue:boe,updateState:cm};function RC(e,t){return RC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},RC(e,t)}function gF(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,RC(e,t)}const YM={disabled:!1},Ex=je.createContext(null);var voe=function(t){return t.scrollTop},tg="unmounted",Su="exited",Eu="entering",Rf="entered",kC="exiting",rl=function(e){gF(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,c;return s.appearStatus=null,r.in?a?(c=Su,s.appearStatus=Eu):c=Rf:r.unmountOnExit||r.mountOnEnter?c=tg:c=Su,s.state={status:c},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===tg?{status:Su}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Eu&&o!==Rf&&(s=Eu):(o===Eu||o===Rf)&&(s=kC)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Eu){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ff.findDOMNode(this);o&&voe(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Su&&this.setState({status:tg})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,c=this.props.nodeRef?[a]:[Ff.findDOMNode(this),a],u=c[0],f=c[1],m=this.getTimeouts(),p=a?m.appear:m.enter;if(!i&&!o||YM.disabled){this.safeSetState({status:Rf},function(){s.props.onEntered(u)});return}this.props.onEnter(u,f),this.safeSetState({status:Eu},function(){s.props.onEntering(u,f),s.onTransitionEnd(p,function(){s.safeSetState({status:Rf},function(){s.props.onEntered(u,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Ff.findDOMNode(this);if(!s||YM.disabled){this.safeSetState({status:Su},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:kC},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Su},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Ff.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=c[0],f=c[1];this.props.addEndListener(u,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===tg)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=qA(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return je.createElement(Ex.Provider,{value:null},typeof o=="function"?o(i,a):je.cloneElement(je.Children.only(o),a))},t}(je.Component);rl.contextType=Ex;rl.propTypes={};function Nf(){}rl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Nf,onEntering:Nf,onEntered:Nf,onExit:Nf,onExiting:Nf,onExited:Nf};rl.UNMOUNTED=tg;rl.EXITED=Su;rl.ENTERING=Eu;rl.ENTERED=Rf;rl.EXITING=kC;function xoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dT(e,t){var n=function(s){return t&&w.isValidElement(s)?t(s):s},r=Object.create(null);return e&&w.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function woe(e,t){e=e||{},t=t||{};function n(f){return f in t?t[f]:e[f]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var c in t){if(r[c])for(o=0;o<r[c].length;o++){var u=r[c][o];a[r[c][o]]=n(u)}a[c]=n(c)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Mu(e,t,n){return n[t]!=null?n[t]:e.props[t]}function Soe(e,t){return dT(e.children,function(n){return w.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Mu(n,"appear",e),enter:Mu(n,"enter",e),exit:Mu(n,"exit",e)})})}function Eoe(e,t,n){var r=dT(e.children),i=woe(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(w.isValidElement(o)){var a=s in t,c=s in r,u=t[s],f=w.isValidElement(u)&&!u.props.in;c&&(!a||f)?i[s]=w.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Mu(o,"exit",e),enter:Mu(o,"enter",e)}):!c&&a&&!f?i[s]=w.cloneElement(o,{in:!1}):c&&a&&w.isValidElement(u)&&(i[s]=w.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:Mu(o,"exit",e),enter:Mu(o,"enter",e)}))}}),i}var Noe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},_oe={component:"div",childFactory:function(t){return t}},Yl=function(e){gF(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(xoe(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,c=s.firstRender;return{children:c?Soe(i,a):Eoe(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=dT(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var c=jh({},a.children);return delete c[i.key],{children:c}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=qA(i,["component","childFactory"]),c=this.state.contextValue,u=Noe(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?je.createElement(Ex.Provider,{value:c},u):je.createElement(Ex.Provider,{value:c},je.createElement(s,a,u))},t}(je.Component);Yl.propTypes={};Yl.defaultProps=_oe;const yF=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function Coe(e,t){return e.reduce((n,r)=>(n[r.position||t].push(r),n),yF.reduce((n,r)=>(n[r]=[],n),{}))}const XM={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},Ooe={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function joe({state:e,maxHeight:t,position:n,transitionDuration:r}){const[i,s]=n.split("-"),o=s==="center"?`${i}-center`:s,a={opacity:0,maxHeight:t,transform:XM[o],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},c={opacity:1,transform:Ooe[o]},u={opacity:0,maxHeight:0,transform:XM[o]};return{...a,...{entering:c,entered:c,exiting:u,exited:u}[e]}}function Aoe(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const bF=w.forwardRef(({data:e,onHide:t,autoClose:n,...r},i)=>{const{autoClose:s,message:o,...a}=e,c=Aoe(n,e.autoClose),u=w.useRef(-1),f=()=>window.clearTimeout(u.current),m=()=>{t(e.id),f()},p=()=>{typeof c=="number"&&(u.current=window.setTimeout(m,c))};return w.useEffect(()=>{var y;(y=e.onOpen)==null||y.call(e,e)},[]),w.useEffect(()=>(p(),f),[c]),h.jsx(QA,{...r,...a,onClose:m,ref:i,onMouseEnter:f,onMouseLeave:p,children:o})});bF.displayName="@mantine/notifications/NotificationContainer";var vF={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const Toe=rl,$oe={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:oo("overlay"),store:xd,withinPortal:!0},Roe=(e,{zIndex:t,containerWidth:n})=>({root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-container-width":Te(n)}}),zo=Je((e,t)=>{const n=De("Notifications",$oe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:c,position:u,autoClose:f,transitionDuration:m,containerWidth:p,notificationMaxHeight:y,limit:v,zIndex:x,store:S,portalProps:N,withinPortal:_,...C}=n,j=Vi(),A=moe(S),$=vZ(),k=Qj(),R=w.useRef({}),D=w.useRef(0),L=(j.respectReducedMotion?k:!1)?1:m,F=wt({name:"Notifications",classes:vF,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:c,varsResolver:Roe});w.useEffect(()=>{S==null||S.updateState(V=>({...V,limit:v||5,defaultPosition:u}))},[v,u]),za(()=>{A.notifications.length>D.current&&setTimeout(()=>$(),0),D.current=A.notifications.length},[A.notifications]);const H=Coe(A.notifications,u),M=yF.reduce((V,T)=>(V[T]=H[T].map(({style:I,...P})=>h.jsx(Toe,{timeout:L,onEnter:()=>R.current[P.id].offsetHeight,nodeRef:{current:R.current[P.id]},children:W=>h.jsx(bF,{ref:B=>{R.current[P.id]=B},data:P,onHide:B=>pF(B,S),autoClose:f,...F("notification",{style:{...joe({state:W,position:T,transitionDuration:L,maxHeight:y}),...I}})})},P.id)),V),{});return h.jsxs(vd,{withinPortal:_,...N,children:[h.jsx(Ue,{...F("root"),"data-position":"top-center",ref:t,...C,children:h.jsx(Yl,{children:M["top-center"]})}),h.jsx(Ue,{...F("root"),"data-position":"top-left",...C,children:h.jsx(Yl,{children:M["top-left"]})}),h.jsx(Ue,{...F("root",{className:mx.classNames.fullWidth}),"data-position":"top-right",...C,children:h.jsx(Yl,{children:M["top-right"]})}),h.jsx(Ue,{...F("root",{className:mx.classNames.fullWidth}),"data-position":"bottom-right",...C,children:h.jsx(Yl,{children:M["bottom-right"]})}),h.jsx(Ue,{...F("root"),"data-position":"bottom-left",...C,children:h.jsx(Yl,{children:M["bottom-left"]})}),h.jsx(Ue,{...F("root"),"data-position":"bottom-center",...C,children:h.jsx(Yl,{children:M["bottom-center"]})})]})});zo.classes=vF;zo.displayName="@mantine/notifications/Notifications";zo.show=cs.show;zo.hide=cs.hide;zo.update=cs.update;zo.clean=cs.clean;zo.cleanQueue=cs.cleanQueue;zo.updateState=cs.updateState;var Vv={exports:{}},koe=Vv.exports,KM;function Moe(){return KM||(KM=1,function(e,t){(function(n,r){e.exports=r()})(koe,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",c="hour",u="day",f="week",m="month",p="quarter",y="year",v="date",x="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,N=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(M){var V=["th","st","nd","rd"],T=M%100;return"["+M+(V[(T-20)%10]||V[T]||V[0])+"]"}},C=function(M,V,T){var I=String(M);return!I||I.length>=V?M:""+Array(V+1-I.length).join(T)+M},j={s:C,z:function(M){var V=-M.utcOffset(),T=Math.abs(V),I=Math.floor(T/60),P=T%60;return(V<=0?"+":"-")+C(I,2,"0")+":"+C(P,2,"0")},m:function M(V,T){if(V.date()<T.date())return-M(T,V);var I=12*(T.year()-V.year())+(T.month()-V.month()),P=V.clone().add(I,m),W=T-P<0,B=V.clone().add(I+(W?-1:1),m);return+(-(I+(T-P)/(W?P-B:B-P))||0)},a:function(M){return M<0?Math.ceil(M)||0:Math.floor(M)},p:function(M){return{M:m,y,w:f,d:u,D:v,h:c,m:a,s:o,ms:s,Q:p}[M]||String(M||"").toLowerCase().replace(/s$/,"")},u:function(M){return M===void 0}},A="en",$={};$[A]=_;var k="$isDayjsObject",R=function(M){return M instanceof F||!(!M||!M[k])},D=function M(V,T,I){var P;if(!V)return A;if(typeof V=="string"){var W=V.toLowerCase();$[W]&&(P=W),T&&($[W]=T,P=W);var B=V.split("-");if(!P&&B.length>1)return M(B[0])}else{var q=V.name;$[q]=V,P=q}return!I&&P&&(A=P),P||!I&&A},z=function(M,V){if(R(M))return M.clone();var T=typeof V=="object"?V:{};return T.date=M,T.args=arguments,new F(T)},L=j;L.l=D,L.i=R,L.w=function(M,V){return z(M,{locale:V.$L,utc:V.$u,x:V.$x,$offset:V.$offset})};var F=function(){function M(T){this.$L=D(T.locale,null,!0),this.parse(T),this.$x=this.$x||T.x||{},this[k]=!0}var V=M.prototype;return V.parse=function(T){this.$d=function(I){var P=I.date,W=I.utc;if(P===null)return new Date(NaN);if(L.u(P))return new Date;if(P instanceof Date)return new Date(P);if(typeof P=="string"&&!/Z$/i.test(P)){var B=P.match(S);if(B){var q=B[2]-1||0,X=(B[7]||"0").substring(0,3);return W?new Date(Date.UTC(B[1],q,B[3]||1,B[4]||0,B[5]||0,B[6]||0,X)):new Date(B[1],q,B[3]||1,B[4]||0,B[5]||0,B[6]||0,X)}}return new Date(P)}(T),this.init()},V.init=function(){var T=this.$d;this.$y=T.getFullYear(),this.$M=T.getMonth(),this.$D=T.getDate(),this.$W=T.getDay(),this.$H=T.getHours(),this.$m=T.getMinutes(),this.$s=T.getSeconds(),this.$ms=T.getMilliseconds()},V.$utils=function(){return L},V.isValid=function(){return this.$d.toString()!==x},V.isSame=function(T,I){var P=z(T);return this.startOf(I)<=P&&P<=this.endOf(I)},V.isAfter=function(T,I){return z(T)<this.startOf(I)},V.isBefore=function(T,I){return this.endOf(I)<z(T)},V.$g=function(T,I,P){return L.u(T)?this[I]:this.set(P,T)},V.unix=function(){return Math.floor(this.valueOf()/1e3)},V.valueOf=function(){return this.$d.getTime()},V.startOf=function(T,I){var P=this,W=!!L.u(I)||I,B=L.p(T),q=function(ve,Ae){var Ce=L.w(P.$u?Date.UTC(P.$y,Ae,ve):new Date(P.$y,Ae,ve),P);return W?Ce:Ce.endOf(u)},X=function(ve,Ae){return L.w(P.toDate()[ve].apply(P.toDate("s"),(W?[0,0,0,0]:[23,59,59,999]).slice(Ae)),P)},Q=this.$W,ie=this.$M,ae=this.$D,fe="set"+(this.$u?"UTC":"");switch(B){case y:return W?q(1,0):q(31,11);case m:return W?q(1,ie):q(0,ie+1);case f:var ce=this.$locale().weekStart||0,he=(Q<ce?Q+7:Q)-ce;return q(W?ae-he:ae+(6-he),ie);case u:case v:return X(fe+"Hours",0);case c:return X(fe+"Minutes",1);case a:return X(fe+"Seconds",2);case o:return X(fe+"Milliseconds",3);default:return this.clone()}},V.endOf=function(T){return this.startOf(T,!1)},V.$set=function(T,I){var P,W=L.p(T),B="set"+(this.$u?"UTC":""),q=(P={},P[u]=B+"Date",P[v]=B+"Date",P[m]=B+"Month",P[y]=B+"FullYear",P[c]=B+"Hours",P[a]=B+"Minutes",P[o]=B+"Seconds",P[s]=B+"Milliseconds",P)[W],X=W===u?this.$D+(I-this.$W):I;if(W===m||W===y){var Q=this.clone().set(v,1);Q.$d[q](X),Q.init(),this.$d=Q.set(v,Math.min(this.$D,Q.daysInMonth())).$d}else q&&this.$d[q](X);return this.init(),this},V.set=function(T,I){return this.clone().$set(T,I)},V.get=function(T){return this[L.p(T)]()},V.add=function(T,I){var P,W=this;T=Number(T);var B=L.p(I),q=function(ie){var ae=z(W);return L.w(ae.date(ae.date()+Math.round(ie*T)),W)};if(B===m)return this.set(m,this.$M+T);if(B===y)return this.set(y,this.$y+T);if(B===u)return q(1);if(B===f)return q(7);var X=(P={},P[a]=r,P[c]=i,P[o]=n,P)[B]||1,Q=this.$d.getTime()+T*X;return L.w(Q,this)},V.subtract=function(T,I){return this.add(-1*T,I)},V.format=function(T){var I=this,P=this.$locale();if(!this.isValid())return P.invalidDate||x;var W=T||"YYYY-MM-DDTHH:mm:ssZ",B=L.z(this),q=this.$H,X=this.$m,Q=this.$M,ie=P.weekdays,ae=P.months,fe=P.meridiem,ce=function(Ae,Ce,Ee,Re){return Ae&&(Ae[Ce]||Ae(I,W))||Ee[Ce].slice(0,Re)},he=function(Ae){return L.s(q%12||12,Ae,"0")},ve=fe||function(Ae,Ce,Ee){var Re=Ae<12?"AM":"PM";return Ee?Re.toLowerCase():Re};return W.replace(N,function(Ae,Ce){return Ce||function(Ee){switch(Ee){case"YY":return String(I.$y).slice(-2);case"YYYY":return L.s(I.$y,4,"0");case"M":return Q+1;case"MM":return L.s(Q+1,2,"0");case"MMM":return ce(P.monthsShort,Q,ae,3);case"MMMM":return ce(ae,Q);case"D":return I.$D;case"DD":return L.s(I.$D,2,"0");case"d":return String(I.$W);case"dd":return ce(P.weekdaysMin,I.$W,ie,2);case"ddd":return ce(P.weekdaysShort,I.$W,ie,3);case"dddd":return ie[I.$W];case"H":return String(q);case"HH":return L.s(q,2,"0");case"h":return he(1);case"hh":return he(2);case"a":return ve(q,X,!0);case"A":return ve(q,X,!1);case"m":return String(X);case"mm":return L.s(X,2,"0");case"s":return String(I.$s);case"ss":return L.s(I.$s,2,"0");case"SSS":return L.s(I.$ms,3,"0");case"Z":return B}return null}(Ae)||B.replace(":","")})},V.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},V.diff=function(T,I,P){var W,B=this,q=L.p(I),X=z(T),Q=(X.utcOffset()-this.utcOffset())*r,ie=this-X,ae=function(){return L.m(B,X)};switch(q){case y:W=ae()/12;break;case m:W=ae();break;case p:W=ae()/3;break;case f:W=(ie-Q)/6048e5;break;case u:W=(ie-Q)/864e5;break;case c:W=ie/i;break;case a:W=ie/r;break;case o:W=ie/n;break;default:W=ie}return P?W:L.a(W)},V.daysInMonth=function(){return this.endOf(m).$D},V.$locale=function(){return $[this.$L]},V.locale=function(T,I){if(!T)return this.$L;var P=this.clone(),W=D(T,I,!0);return W&&(P.$L=W),P},V.clone=function(){return L.w(this.$d,this)},V.toDate=function(){return new Date(this.valueOf())},V.toJSON=function(){return this.isValid()?this.toISOString():null},V.toISOString=function(){return this.$d.toISOString()},V.toString=function(){return this.$d.toUTCString()},M}(),H=F.prototype;return z.prototype=H,[["$ms",s],["$s",o],["$m",a],["$H",c],["$W",u],["$M",m],["$y",y],["$D",v]].forEach(function(M){H[M[1]]=function(V){return this.$g(V,M[0],M[1])}}),z.extend=function(M,V){return M.$i||(M(V,F,z),M.$i=!0),z},z.locale=D,z.isDayjs=R,z.unix=function(M){return z(1e3*M)},z.en=$[A],z.Ls=$,z.p={},z})}(Vv)),Vv.exports}var Ioe=Moe();const Nx=so(Ioe);var Uv={exports:{}},Poe=Uv.exports,QM;function Doe(){return QM||(QM=1,function(e,t){(function(n,r){e.exports=r()})(Poe,function(){var n="week",r="year";return function(i,s,o){var a=s.prototype;a.week=function(c){if(c===void 0&&(c=null),c!==null)return this.add(7*(c-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var f=o(this).startOf(r).add(1,r).date(u),m=o(this).endOf(n);if(f.isBefore(m))return 1}var p=o(this).startOf(r).date(u).startOf(n).subtract(1,"millisecond"),y=this.diff(p,n,!0);return y<0?o(this).startOf("week").week():Math.ceil(y)},a.weeks=function(c){return c===void 0&&(c=null),this.week(c)}}})}(Uv)),Uv.exports}var Loe=Doe();const Foe=so(Loe);Nx.extend(Foe);function xF(e){return Nx(e).format("YYYY-MM-DD HH:mm:ss")}var Zb={exports:{}},ZM;function Boe(){if(ZM)return Zb.exports;ZM=1;var e=String,t=function(){return{isColorSupported:!1,reset:e,bold:e,dim:e,italic:e,underline:e,inverse:e,hidden:e,strikethrough:e,black:e,red:e,green:e,yellow:e,blue:e,magenta:e,cyan:e,white:e,gray:e,bgBlack:e,bgRed:e,bgGreen:e,bgYellow:e,bgBlue:e,bgMagenta:e,bgCyan:e,bgWhite:e,blackBright:e,redBright:e,greenBright:e,yellowBright:e,blueBright:e,magentaBright:e,cyanBright:e,whiteBright:e,bgBlackBright:e,bgRedBright:e,bgGreenBright:e,bgYellowBright:e,bgBlueBright:e,bgMagentaBright:e,bgCyanBright:e,bgWhiteBright:e}};return Zb.exports=t(),Zb.exports.createColors=t,Zb.exports}var zoe=Boe();const ts=so(zoe);var Voe={};const MC=(e,t)=>typeof e=="string"?[1,"1","true"].includes(e):!!(e||t);function xr(){try{return MC(0)}catch{return!1}}function Uoe(){try{return"0.19.0"}catch{return"0.0.0"}}const qoe={cli_log_level:{key:"BKND_CLI_LOG_LEVEL",validate:e=>{if(typeof e=="string"&&["log","info","warn","error","debug"].includes(e.toLowerCase()))return e.toLowerCase()}},cli_create_ref:{key:"BKND_CLI_CREATE_REF",validate:e=>typeof e=="string"?e:void 0},cli_telemetry:{key:"BKND_CLI_TELEMETRY",validate:e=>{if(!(typeof e>"u"))return MC(e,!0)}},modules_debug:{key:"BKND_MODULES_DEBUG",validate:MC}},wF=(e,t,n)=>{var r,i;try{const s=(n==null?void 0:n.source)??Voe,o=qoe[e],a=s[o.key],c=o.validate(a);if(typeof c<"u")return(r=n==null?void 0:n.onValid)==null||r.call(n,c),c;(i=n==null?void 0:n.onFallback)==null||i.call(n,a)}catch{}return t};function Hoe(){try{const e=process||{},t=e.argv||[],n=e.env||{};return!(n.NO_COLOR||t.includes("--no-color"))&&(!!n.FORCE_COLOR||t.includes("--color")||e.platform==="win32"||(e.stdout||{}).isTTY&&n.TERM!=="dumb"||!!n.CI)}catch{return!1}}const fT={critical:{prefix:"CRT",color:ts.red,args_color:ts.red,original:console.error},error:{prefix:"ERR",color:ts.red,args_color:ts.red,original:console.error},warn:{prefix:"WRN",color:ts.yellow,args_color:ts.yellow,original:console.warn},info:{prefix:"INF",color:ts.cyan,original:console.info},log:{prefix:"LOG",color:ts.dim,args_color:ts.dim,original:console.log},debug:{prefix:"DBG",color:ts.yellow,args_color:ts.dim,original:console.debug}};function Woe(e,t){const n=Hoe(),r=fT[e],i=r.color(`[${r.prefix}]`),s=t.map(o=>"args_color"in r&&n&&typeof o=="string"?r.args_color(o):o);return r.original(i,ts.gray(xF()),...s)}const SF=wF("cli_log_level","log"),vu=globalThis.__consoleConfig??(globalThis.__consoleConfig={level:SF,enabled:!0}),e6=Object.keys(fT),mt=new Proxy(vu,{get:(e,t)=>{switch(t){case"original":return console;case"disable":return()=>{vu.enabled=!1};case"enable":return()=>{vu.enabled=!0};case"setLevel":return i=>{vu.level=i};case"resetLevel":return()=>{vu.level=SF}}if(!vu.enabled)return()=>null;const n=e6.indexOf(vu.level),r=e6.indexOf(t);return t in fT&&r<=n?(...i)=>Woe(t,i):()=>null}});function Goe(){return(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))!==-1?"Opera":navigator.userAgent.indexOf("Edg")!==-1?"Edge":navigator.userAgent.indexOf("Chrome")!==-1?"Chrome":navigator.userAgent.indexOf("Safari")!==-1?"Safari":navigator.userAgent.indexOf("Firefox")!==-1?"Firefox":navigator.userAgent.indexOf("MSIE")!==-1||document.documentMode?"IE":"unknown"}function Li(e){return!e||e.length===0?e:e.charAt(0).toUpperCase()+e.slice(1)}function Joe(e,t=" "){return!e||e.length===0?e:e.split(t).map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(t)}function EF(e,t=!1){const i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"+(t?"!@#$%^&*()_+{}:\"<>?|[];',./`~":"");let s="";for(let o=0;o<e;o++)s+=i[Math.floor(Math.random()*i.length)];return s}function Ah(e){return!e||e.length===0?e:e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}function IC(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function Yoe(e){return/^[a-z]+(_[a-z]+)*$/.test(e)?"snake_case":/^[A-Z][a-zA-Z]*$/.test(e)?"PascalCase":/^[a-z][a-zA-Z]*$/.test(e)?"camelCase":/^[a-z]+(-[a-z]+)*$/.test(e)?"kebab-case":/^[A-Z]+(_[A-Z]+)*$/.test(e)?"SCREAMING_SNAKE_CASE":"unknown"}function Xoe(e){switch(Yoe(e)){case"snake_case":return Ah(e);case"PascalCase":return TN(IC(e));case"camelCase":return Li(TN(IC(e)));case"kebab-case":return TN(e);case"SCREAMING_SNAKE_CASE":return Ah(e.toLowerCase());case"unknown":return Li(e)}}function Wa(e){return Xoe(e)}function TN(e){return e.split("-").map(Li).join(" ")}function Gy(e,t=" "){return Joe(Ah(e),t)}function Koe(e,t){return t instanceof RegExp?t.test(e):typeof t=="string"&&t.startsWith("/")?new RegExp(t).test(e):typeof t=="string"?e.startsWith(t):!1}function Qoe(e,t=50,n="..."){return e.length<=t?e:e.substring(0,t)+n}function Ga(e){return Object.prototype.toString.call(e)==="[object Object]"}function sd(e){return e!==null&&typeof e=="object"}function Fi(e,t){const n=new Set(t),r={};for(const[i,s]of Object.entries(e))n.has(i)||(r[i]=s);return r}function _x(e,t){const n=new Set(t),r={};for(const[i,s]of Object.entries(e))n.has(i)&&(r[i]=s);return r}function PC(e,t=[]){return e===null||typeof e!="object"?e:Array.isArray(e)?e.map(n=>PC(n,t)):Object.keys(e).reduce((n,r)=>{const i=t.includes(r)?r:IC(r);return n[i]=PC(e[r],t),n},{})}function NF(e,t){const n={};for(const r in e)t.some(s=>r.includes(s))||(typeof e[r]=="object"&&e[r]!==null&&!Array.isArray(e[r])?n[r]=NF(e[r],t):n[r]=e[r]);return n}function Xt(e,t){const n={};for(const[r,i]of Object.entries(e)){const s=t(i,r);typeof s<"u"&&(n[r]=s)}return n}const N1=Xt;function _F(e,t=""){let n=[];for(const r in e){const i=t?`${t}.${r}`:r;n.push(i),typeof e[r]=="object"&&e[r]!==null&&(n=n.concat(_F(e[r],i)))}return n}function CF(e){let t=1;for(const n in e)if(typeof e[n]=="object"){const r=CF(e[n])+1;t=Math.max(r,t)}return t}function Zoe(e,t){function n(r,i){if(Ga(r)){if(i>t)return;const s={};for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&(s[o]=n(r[o],i+1));return s}return Array.isArray(r)?r.map(s=>n(s,i)):r}return n(e,1)}function Fg(e){return e&&Object.entries(e).reduce((t,[n,r])=>{if(r&&Array.isArray(r)&&r.some(i=>typeof i=="object")){const i=r.map(Fg);i.length>0&&(t[n]=i)}else if(r&&typeof r=="object"&&!Array.isArray(r)){const i=Fg(r);Object.keys(i).length>0&&(t[n]=i)}else r!==""&&r!==null&&r!==void 0&&(t[n]=r);return t},{})}function OF(e,...t){for(const n of t)for(const[r,i]of Object.entries(n))i!==void 0&&(!Ga(i)&&!Array.isArray(i)||Array.isArray(i)&&!Array.isArray(e[r])?e[r]=i:sd(e[r])?OF(e[r],i):e[r]=i);return e}function jF(e,t,n){for(const[r,i]of Object.entries(t)){const s=n(e[r],i,r,e,t);if(s!==void 0){e[r]=s;continue}i!==void 0&&(!Ga(i)&&!Array.isArray(i)||Array.isArray(i)&&!Array.isArray(e[r])?e[r]=i:sd(e[r])?jF(e[r],i,n):e[r]=i)}return e}function Ma(e,t){const n=i=>{var s;if(i!==Object(i))return"primitive";if(Array.isArray(i))return"array";if(i instanceof Map)return"map";if(i!=null&&[null,Object.prototype].includes(Object.getPrototypeOf(i)))return"plainObject";if(i instanceof Function)return"function";throw new Error(`deeply comparing an instance of type ${(s=e.constructor)==null?void 0:s.name} is not supported.`)},r=n(e);if(r!==n(t))return!1;if(r==="primitive")return e===t||Number.isNaN(e)&&Number.isNaN(t);if(r==="array")return e.length===t.length&&e.every((i,s)=>Ma(i,t[s]));if(r==="map")return e.size===t.size&&[...e].every(([i,s])=>t.has(i)&&Ma(s,t.get(i)));if(r==="plainObject"){const i=new Map(Object.entries(e)),s=new Map(Object.entries(t));return i.size===s.size&&[...i].every(([o,a])=>s.has(o)&&Ma(a,s.get(o)))}else{if(r==="function")return e.toString()===t.toString();throw new Error("Unreachable")}}function Hn(e,t,n=void 0){const r=typeof t=="string"?t.split(/[.\[\]\"]+/).filter(i=>i):t;if(r.length===0)return e;try{const[i,...s]=r;return!i||!(i in e)?n:Hn(e[i],s,n)}catch{if(typeof n<"u")return n;throw new Error(`Invalid path: ${r.join(".")}`)}}function DC(e,t=0,n=0){const r=t?`
`:"",i=c=>t?" ".repeat(t*c):"",s=i(n+1),o=i(n);if(e===null)return"null";if(e===void 0)return"undefined";const a=typeof e;if(a==="string")return JSON.stringify(e);if(a==="number"||a==="boolean")return String(e);if(Array.isArray(e)){const c=e.map(u=>DC(u,t,n+1)).join(", "+(t?r+s:""));return"["+(t&&e.length?r+s:"")+c+(t&&e.length?r+o:"")+"]"}if(a==="object"){const c=Object.entries(e).map(([f,m])=>(/^[A-Za-z_$][\w$]*$/.test(f)?f:JSON.stringify(f))+": "+DC(m,t,n+1)),u=c.join(", "+(t?r+s:""));return"{"+(t&&c.length?r+s:"")+u+(t&&c.length?r+o:"")+"}"}throw new TypeError(`Unsupported data type: ${a}`)}function AF(e,t){return t.reduce((n,r)=>(r in e&&(n[r]=e[r]),n),{})}function kf(e){if(Object.isFrozen(e))return e;const t=Reflect.ownKeys(e);for(const n of t){const r=e[n];(r&&typeof r=="object"||typeof r=="function")&&kf(r)}return Object.freeze(e)}function eae(e){return Object.keys(e).every(t=>Number.isInteger(Number(t)))?Object.values(e):e}function LC(e,t,n,r){if(typeof e=="string"){const i=e.match(t);if(i&&i[0]===e&&i[1]){const s=i[1],o=Hn(n,s,null);return o!==null?o:r!==void 0?r:e}if(t.test(e))return e.replace(t,(s,o)=>{const a=Hn(n,o,null);return a!==null?String(a):r!==void 0?String(r):s})}return Array.isArray(e)?e.map(i=>LC(i,t,n,r)):e&&typeof e=="object"?Object.entries(e).reduce((i,[s,o])=>(i[s]=LC(o,t,n,r),i),{}):e}const hT={video:["mp4","webm"],audio:["ogg"],image:["jpeg","png","gif","webp","bmp","tiff","avif","heic","heif"],text:["html","css","mdx","yaml","vcard","csv","vtt"],application:["zip","toml","json","json5","pdf","xml"],font:["woff","woff2","ttf","otf"]},vt={vnd:"vnd.openxmlformats-officedocument",z:"application/x-7z-compressed",t:(e="plain")=>`text/${e}`,a:(e="octet-stream")=>`application/${e}`,i:e=>`image/${e}`,v:e=>`video/${e}`,au:e=>`audio/${e}`},mT=new Map([["7z",vt.z],["7zip",vt.z],["txt",vt.t()],["ai",vt.a("postscript")],["apk",vt.a("vnd.android.package-archive")],["doc",vt.a("msword")],["docx",`${vt.vnd}.wordprocessingml.document`],["eps",vt.a("postscript")],["epub",vt.a("epub+zip")],["ini",vt.t()],["ico",vt.i("vnd.microsoft.icon")],["jar",vt.a("java-archive")],["jsonld",vt.a("ld+json")],["jpg",vt.i("jpeg")],["js",vt.t("javascript")],["log",vt.t()],["m3u",vt.au("x-mpegurl")],["m3u8",vt.a("vnd.apple.mpegurl")],["manifest",vt.t("cache-manifest")],["md",vt.t("markdown")],["mkv",vt.v("x-matroska")],["mp3",vt.au("mpeg")],["mobi",vt.a("x-mobipocket-ebook")],["ppt",vt.a("powerpoint")],["pptx",`${vt.vnd}.presentationml.presentation`],["qt",vt.v("quicktime")],["svg",vt.i("svg+xml")],["tif",vt.i("tiff")],["tsv",vt.t("tab-separated-values")],["tgz",vt.a("x-tar")],["text",vt.t()],["vcd",vt.a("x-cdlink")],["vcs",vt.t("x-vcalendar")],["wav",vt.au("vnd.wav")],["webmanifest",vt.a("manifest+json")],["xls",vt.a("vnd.ms-excel")],["xlsx",`${vt.vnd}.spreadsheetml.sheet`],["yml",vt.t("yaml")]]);function TF(e){try{const t=e.split(".").pop();if(!t)return vt.a();for(const[n,r]of Object.entries(hT))if(r.includes(t))return`${n}/${t}`;return mT.get(t)}catch{return vt.a()}}function tae(e,t=[]){const n=e.toLowerCase();if(t.includes(n))return!1;if(Object.entries(hT).flatMap(([r,i])=>i.map(s=>`${r}/${s}`)).includes(n))return!0;for(const[r,i]of mT.entries())if(i===n&&!t.includes(r))return!0;return!1}function $F(e){const t=e.toLowerCase();for(const[n,r]of Object.entries(hT))for(const i of r)if(t===`${n}/${i}`)return i;for(const[n,r]of mT.entries())if(r===t)return n;return""}var nae={deno:"Deno",bun:"Bun",workerd:"Cloudflare-Workers",node:"Node.js"},RF=()=>{var n,r;const e=globalThis;if(typeof navigator<"u"&&typeof navigator.userAgent=="string"){for(const[i,s]of Object.entries(nae))if(rae(s))return i}return typeof(e==null?void 0:e.EdgeRuntime)=="string"?"edge-light":(e==null?void 0:e.fastly)!==void 0?"fastly":((r=(n=e==null?void 0:e.process)==null?void 0:n.release)==null?void 0:r.name)==="node"?"node":"other"},rae=e=>navigator.userAgent.startsWith(e);function iae(){var t,n,r,i;const e=globalThis;return((n=(t=e==null?void 0:e.process)==null?void 0:t.env)==null?void 0:n.NEXT_RUNTIME)==="nodejs"?"nextjs":((i=(r=e==null?void 0:e.process)==null?void 0:r.env)==null?void 0:i.NEXT_RUNTIME)==="edge"?"nextjs-edge":typeof window<"u"&&window.__NEXT_DATA__?"nextjs-client":RF()}const t6={redirects_non_fq:!0};function sae(e){return iae().startsWith("nextjs")&&(t6.redirects_non_fq=!1),t6[e]}function hc(e,t){if(!e)throw new Error(t)}function oae(e,t){try{return e(),!1}catch(n){if(t){if(n instanceof t)return!0;throw n}return!0}}function aae(e){let t="";typeof e=="string"?t=e:e instanceof Headers?t=e.get("Content-Disposition")||"":e instanceof Request&&(t=e.headers.get("Content-Disposition")||"");const n=t.match(/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/);return n?n[2]:void 0}function lae(e){return typeof e=="object"&&e!==null&&typeof e.getReader=="function"}function _1(e){return typeof e=="object"&&e!==null&&typeof e.arrayBuffer=="function"&&typeof e.type=="string"}function Uc(e){return _1(e)&&typeof e.name=="string"&&typeof e.lastModified=="number"}function cae(e){return typeof e=="object"&&e!==null&&Object.prototype.toString.call(e)==="[object ArrayBuffer]"}function uae(e){return typeof e=="object"&&e!==null&&ArrayBuffer.isView(e)}const dae={"89504E47":"image/png",FFD8FF:"image/jpeg",47494638:"image/gif","49492A00":"image/tiff","4D4D002A":"image/tiff","52494646????57454250":"image/webp","504B0304":"application/zip",25504446:"application/pdf","00000020667479706D70":"video/mp4","000001BA":"video/mpeg","000001B3":"video/mpeg","1A45DFA3":"video/webm","4F676753":"audio/ogg",494433:"audio/mpeg",FFF1:"audio/aac",FFF9:"audio/aac","52494646????41564920":"audio/wav","52494646????57415645":"audio/wave","52494646????415550":"audio/aiff"};async function fae(e){if(!e)return;let t;if(lae(e)){const r=e.getReader(),{value:i}=await r.read();if(!i)return;t=new Uint8Array(i)}else if(_1(e)||Uc(e))t=new Uint8Array(await e.slice(0,12).arrayBuffer());else if(cae(e))t=new Uint8Array(e);else if(uae(e))t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);else if(typeof e=="string")t=new TextEncoder().encode(e);else return;const n=Array.from(t.slice(0,12)).map(r=>r.toString(16).padStart(2,"0").toUpperCase()).join("");for(const[r,i]of Object.entries(dae))if(new RegExp("^"+r.replace(/\?\?/g,"..")).test(n))return i}async function $N(e){const t=e.req.header("Content-Type")??"application/octet-stream";if(t!=null&&t.startsWith("multipart/form-data")||t!=null&&t.startsWith("application/x-www-form-urlencoded"))try{const n=await e.req.formData();if([...n.values()].length>0){const r=[...n.values()][0];return await n6(r)}}catch(n){mt.warn("Error parsing form data",n)}else try{const n=await e.req.blob();if(Uc(n))return n;if(_1(n))return await n6(n,{name:aae(e.req.raw),type:t})}catch(n){mt.warn("Error parsing blob",n)}throw new Error("No file found in request")}async function hae(e,t){const n=Uc(e),r=n?e.type:t;hc(r&&typeof r=="string"&&r.startsWith("image/"),"type must be image/*");const i=n?await e.arrayBuffer():e;hc(i.byteLength>=128,"Buffer must be at least 128 bytes");const s=new DataView(i);if(r==="image/jpeg"){let o=2;for(;o<s.byteLength;){const a=s.getUint16(o);if(o+=2,a===65472||a===65474)return{width:s.getUint16(o+5),height:s.getUint16(o+3)};o+=s.getUint16(o)}}else{if(r==="image/png")return{width:s.getUint32(16),height:s.getUint32(20)};if(r==="image/gif")return{width:s.getUint16(6),height:s.getUint16(8)};if(r==="image/tiff"){const o=s.getUint16(0)===18761,a=s.getUint32(4,o),c=s.getUint32(a+18,o),u=s.getUint32(a+10,o);return{width:c,height:u}}}throw new Error("Unsupported image format")}async function n6(e,t={}){if(Uc(e))return e;if(!_1(e))throw new Error("Not a Blob");const n=tae(t.type,["application/octet-stream"])?t.type:await fae(e),r=n?$F(n):"",i=t.name||[EF(16),r].filter(Boolean).join(".");return new File([e],i,{type:n||TF(i),lastModified:Date.now()})}function mae(e,t){const n=Array.isArray(t)?t.join(","):t;if(!n||!n.trim())return!0;if(!Uc(e))throw new Error("Given file is not a File instance");const r=e.name.toLowerCase(),i=(e.type||"").trim().toLowerCase();return n.split(",").map(o=>o.trim().toLowerCase()).filter(Boolean).some(o=>{if(o.startsWith("."))return r.endsWith(o);if(o.indexOf("/")!==-1){const[c,u]=o.split("/");if(u==="*"){if(!i)return!1;const[f]=i.split("/");return f===c}else return i.startsWith(o)}return!1})}function pae(e){return e?{...Object.fromEntries(e.entries())}:{}}function gae(e,t){const n=pae(e),r={};for(const i of t)n[i]&&(r[i]=n[i]);return r}function yae(e,t){const n=new Headers;for(const r of t)e.has(r)&&n.set(r,e.get(r));return n}function C1(e,t){let n="";function r(i){return t!=null&&t.encode?encodeURIComponent(i):i}for(const i in e){let s=e[i];if(s!==void 0)if(Array.isArray(s))for(let o=0;o<s.length;o++)n.length>0&&(n+="&"),n+=`${r(i)}=${r(s[o])}`;else typeof s=="object"&&(s=JSON.stringify(s)),n.length>0&&(n+="&"),n+=`${r(i)}=${r(s)}`}return((t==null?void 0:t.prefix)||"")+n}function bae(e){function t(o){if(!o)return"";const a=decodeURIComponent(o);if(a==="false")return!1;if(a==="true")return!0;try{return JSON.parse(a)}catch{return+a*0===0?+a:a}}let n,r;const i={},s=e.split("&");for(;n=s.shift();)n=n.split("="),r=n.shift(),i[r]!==void 0?i[r]=[].concat(i[r],t(n.shift())):i[r]=t(n.shift());return i}var nn=(e=>(e[e.CONTINUE=100]="CONTINUE",e[e.PROCESSING=102]="PROCESSING",e[e.EARLY_HINTS=103]="EARLY_HINTS",e[e.OK=200]="OK",e[e.CREATED=201]="CREATED",e[e.ACCEPTED=202]="ACCEPTED",e[e.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",e[e.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",e[e.MULTI_STATUS=207]="MULTI_STATUS",e[e.ALREADY_REPORTED=208]="ALREADY_REPORTED",e[e.IM_USED=226]="IM_USED",e[e.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",e[e.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",e[e.FOUND=302]="FOUND",e[e.SEE_OTHER=303]="SEE_OTHER",e[e.USE_PROXY=305]="USE_PROXY",e[e.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",e[e.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",e[e.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",e[e.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",e[e.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",e[e.CONFLICT=409]="CONFLICT",e[e.GONE=410]="GONE",e[e.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",e[e.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",e[e.PAYLOAD_TOO_LARGE=413]="PAYLOAD_TOO_LARGE",e[e.URI_TOO_LONG=414]="URI_TOO_LONG",e[e.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",e[e.RANGE_NOT_SATISFIABLE=416]="RANGE_NOT_SATISFIABLE",e[e.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",e[e.IM_A_TEAPOT=418]="IM_A_TEAPOT",e[e.MISDIRECTED_REQUEST=421]="MISDIRECTED_REQUEST",e[e.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",e[e.LOCKED=423]="LOCKED",e[e.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",e[e.TOO_EARLY=425]="TOO_EARLY",e[e.UPGRADE_REQUIRED=426]="UPGRADE_REQUIRED",e[e.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="REQUEST_HEADER_FIELDS_TOO_LARGE",e[e.UNAVAILABLE_FOR_LEGAL_REASONS=451]="UNAVAILABLE_FOR_LEGAL_REASONS",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",e[e.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",e[e.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",e[e.VARIANT_ALSO_NEGOTIATES=506]="VARIANT_ALSO_NEGOTIATES",e[e.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",e[e.LOOP_DETECTED=508]="LOOP_DETECTED",e[e.NOT_EXTENDED=510]="NOT_EXTENDED",e[e.NETWORK_AUTHENTICATION_REQUIRED=511]="NETWORK_AUTHENTICATION_REQUIRED",e))(nn||{});const kF=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",vae=kF+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",xae="["+kF+"]["+vae+"]*",wae=new RegExp("^"+xae+"$");function MF(e,t){const n=[];let r=t.exec(e);for(;r;){const i=[];i.startIndex=t.lastIndex-r[0].length;const s=r.length;for(let o=0;o<s;o++)i.push(r[o]);n.push(i),r=t.exec(e)}return n}const pT=function(e){const t=wae.exec(e);return!(t===null||typeof t>"u")};function Sae(e){return typeof e<"u"}const Eae={allowBooleanAttributes:!1,unpairedTags:[]};function Nae(e,t){t=Object.assign({},Eae,t);const n=[];let r=!1,i=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=i6(e,s),s.err)return s}else if(e[s]==="<"){let o=s;if(s++,e[s]==="!"){s=s6(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let c="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)c+=e[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!Rae(c)){let m;return c.trim().length===0?m="Invalid space after '<'.":m="Tag '"+c+"' is an invalid name.",Dn("InvalidTag",m,Lr(e,s))}const u=Oae(e,s);if(u===!1)return Dn("InvalidAttr","Attributes for '"+c+"' have open quote.",Lr(e,s));let f=u.value;if(s=u.index,f[f.length-1]==="/"){const m=s-f.length;f=f.substring(0,f.length-1);const p=o6(f,t);if(p===!0)r=!0;else return Dn(p.err.code,p.err.msg,Lr(e,m+p.err.line))}else if(a)if(u.tagClosed){if(f.trim().length>0)return Dn("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Lr(e,o));if(n.length===0)return Dn("InvalidTag","Closing tag '"+c+"' has not been opened.",Lr(e,o));{const m=n.pop();if(c!==m.tagName){let p=Lr(e,m.tagStartPos);return Dn("InvalidTag","Expected closing tag '"+m.tagName+"' (opened in line "+p.line+", col "+p.col+") instead of closing tag '"+c+"'.",Lr(e,o))}n.length==0&&(i=!0)}}else return Dn("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Lr(e,s));else{const m=o6(f,t);if(m!==!0)return Dn(m.err.code,m.err.msg,Lr(e,s-f.length+m.err.line));if(i===!0)return Dn("InvalidXml","Multiple possible root nodes found.",Lr(e,s));t.unpairedTags.indexOf(c)!==-1||n.push({tagName:c,tagStartPos:o}),r=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=s6(e,s);continue}else if(e[s+1]==="?"){if(s=i6(e,++s),s.err)return s}else break;else if(e[s]==="&"){const m=Tae(e,s);if(m==-1)return Dn("InvalidChar","char '&' is not expected.",Lr(e,s));s=m}else if(i===!0&&!r6(e[s]))return Dn("InvalidXml","Extra text at the end",Lr(e,s));e[s]==="<"&&s--}}else{if(r6(e[s]))continue;return Dn("InvalidChar","char '"+e[s]+"' is not expected.",Lr(e,s))}if(r){if(n.length==1)return Dn("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",Lr(e,n[0].tagStartPos));if(n.length>0)return Dn("InvalidXml","Invalid '"+JSON.stringify(n.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Dn("InvalidXml","Start tag expected.",1);return!0}function r6(e){return e===" "||e==="	"||e===`
`||e==="\r"}function i6(e,t){const n=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){const r=e.substr(n,t-n);if(t>5&&r==="xml")return Dn("InvalidXml","XML declaration allowed only at the start of the document.",Lr(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function s6(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let n=1;for(t+=8;t<e.length;t++)if(e[t]==="<")n++;else if(e[t]===">"&&(n--,n===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}const _ae='"',Cae="'";function Oae(e,t){let n="",r="",i=!1;for(;t<e.length;t++){if(e[t]===_ae||e[t]===Cae)r===""?r=e[t]:r!==e[t]||(r="");else if(e[t]===">"&&r===""){i=!0;break}n+=e[t]}return r!==""?!1:{value:n,index:t,tagClosed:i}}const jae=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function o6(e,t){const n=MF(e,jae),r={};for(let i=0;i<n.length;i++){if(n[i][1].length===0)return Dn("InvalidAttr","Attribute '"+n[i][2]+"' has no space in starting.",Ip(n[i]));if(n[i][3]!==void 0&&n[i][4]===void 0)return Dn("InvalidAttr","Attribute '"+n[i][2]+"' is without value.",Ip(n[i]));if(n[i][3]===void 0&&!t.allowBooleanAttributes)return Dn("InvalidAttr","boolean attribute '"+n[i][2]+"' is not allowed.",Ip(n[i]));const s=n[i][2];if(!$ae(s))return Dn("InvalidAttr","Attribute '"+s+"' is an invalid name.",Ip(n[i]));if(!r.hasOwnProperty(s))r[s]=1;else return Dn("InvalidAttr","Attribute '"+s+"' is repeated.",Ip(n[i]))}return!0}function Aae(e,t){let n=/\d/;for(e[t]==="x"&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(n))break}return-1}function Tae(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,Aae(e,t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(e[t]===";")break;return-1}return t}function Dn(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function $ae(e){return pT(e)}function Rae(e){return pT(e)}function Lr(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function Ip(e){return e.startIndex+e[1].length}const kae={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,n){return e}},Mae=function(e){return Object.assign({},kae,e)};class Pp{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,n){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:n})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}function Iae(e,t){const n={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let r=1,i=!1,s=!1,o="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(i&&Lae(e,t)){t+=7;let a,c;[a,c,t]=Pae(e,t+1),c.indexOf("&")===-1&&(n[Vae(a)]={regx:RegExp(`&${a};`,"g"),val:c})}else if(i&&Fae(e,t))t+=8;else if(i&&Bae(e,t))t+=8;else if(i&&zae(e,t))t+=9;else if(Dae)s=!0;else throw new Error("Invalid DOCTYPE");r++,o=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,r--):r--,r===0)break}else e[t]==="["?i=!0:o+=e[t];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:t}}function Pae(e,t){let n="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)n+=e[t];if(n=n.trim(),n.indexOf(" ")!==-1)throw new Error("External entites are not supported");const r=e[t++];let i="";for(;t<e.length&&e[t]!==r;t++)i+=e[t];return[n,i,t]}function Dae(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function Lae(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function Fae(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function Bae(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function zae(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function Vae(e){if(pT(e))return e;throw new Error(`Invalid entity name ${e}`)}const Uae=/^[-+]?0x[a-fA-F0-9]+$/,qae=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,Hae={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Wae(e,t={}){if(t=Object.assign({},Hae,t),!e||typeof e!="string")return e;let n=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(n))return e;if(e==="0")return 0;if(t.hex&&Uae.test(n))return Jae(n,16);if(n.search(/[eE]/)!==-1){const r=n.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(r){if(t.leadingZeros)n=(r[1]||"")+r[3];else if(!(r[2]==="0"&&r[3][0]==="."))return e;return t.eNotation?Number(n):e}else return e}else{const r=qae.exec(n);if(r){const i=r[1],s=r[2];let o=Gae(r[3]);if(!t.leadingZeros&&s.length>0&&i&&n[2]!==".")return e;if(!t.leadingZeros&&s.length>0&&!i&&n[1]!==".")return e;if(t.leadingZeros&&s===e)return 0;{const a=Number(n),c=""+a;return c.search(/[eE]/)!==-1?t.eNotation?a:e:n.indexOf(".")!==-1?c==="0"&&o===""||c===o||i&&c==="-"+o?a:e:s?o===c||i+o===c?a:e:n===c||n===i+c?a:e}}else return e}}function Gae(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}function Jae(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}function Yae(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(const n of e)if(typeof n=="string"&&t===n||n instanceof RegExp&&n.test(t))return!0}:()=>!1}class Xae{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,16))}},this.addExternalEntities=Kae,this.parseXml=nle,this.parseTextData=Qae,this.resolveNameSpace=Zae,this.buildAttributesMap=tle,this.isItStopNode=ole,this.replaceEntitiesValue=ile,this.readStopNodeData=lle,this.saveTextToParentTag=sle,this.addChild=rle,this.ignoreAttributesFn=Yae(this.options.ignoreAttributes)}}function Kae(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:e[r]}}}function Qae(e,t,n,r,i,s,o){if(e!==void 0&&(this.options.trimValues&&!r&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));const a=this.options.tagValueProcessor(t,e,n,i,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?BC(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?BC(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function Zae(e){if(this.options.removeNSPrefix){const t=e.split(":"),n=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=n+t[1])}return e}const ele=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function tle(e,t,n){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){const r=MF(e,ele),i=r.length,s={};for(let o=0;o<i;o++){const a=this.resolveNameSpace(r[o][1]);if(this.ignoreAttributesFn(a,t))continue;let c=r[o][4],u=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);const f=this.options.attributeValueProcessor(a,c,t);f==null?s[u]=c:typeof f!=typeof c||f!==c?s[u]=f:s[u]=BC(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[u]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const o={};return o[this.options.attributesGroupName]=s,o}return s}}const nle=function(e){e=e.replace(/\r\n?/g,`
`);const t=new Pp("!xml");let n=t,r="",i="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){const a=Iu(e,">",s,"Closing Tag is not closed.");let c=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){const m=c.indexOf(":");m!==-1&&(c=c.substr(m+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&(r=this.saveTextToParentTag(r,n,i));const u=i.substring(i.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let f=0;u&&this.options.unpairedTags.indexOf(u)!==-1?(f=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):f=i.lastIndexOf("."),i=i.substring(0,f),n=this.tagsNodeStack.pop(),r="",s=a}else if(e[s+1]==="?"){let a=FC(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){const c=new Pp(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,i,a.tagName)),this.addChild(n,c,i)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){const a=Iu(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){const c=e.substring(s+4,a-2);r=this.saveTextToParentTag(r,n,i),n.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(e.substr(s+1,2)==="!D"){const a=Iae(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){const a=Iu(e,"]]>",s,"CDATA is not closed.")-2,c=e.substring(s+9,a);r=this.saveTextToParentTag(r,n,i);let u=this.parseTextData(c,n.tagname,i,!0,!1,!0,!0);u==null&&(u=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):n.add(this.options.textNodeName,u),s=a+2}else{let a=FC(e,s,this.options.removeNSPrefix),c=a.tagName;const u=a.rawTagName;let f=a.tagExp,m=a.attrExpPresent,p=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,i,!1));const y=n;if(y&&this.options.unpairedTags.indexOf(y.tagname)!==-1&&(n=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),c!==t.tagname&&(i+=i?"."+c:c),this.isItStopNode(this.options.stopNodes,i,c)){let v="";if(f.length>0&&f.lastIndexOf("/")===f.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),f=c):f=f.substr(0,f.length-1),s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{const S=this.readStopNodeData(e,u,p+1);if(!S)throw new Error(`Unexpected end of ${u}`);s=S.i,v=S.tagContent}const x=new Pp(c);c!==f&&m&&(x[":@"]=this.buildAttributesMap(f,i,c)),v&&(v=this.parseTextData(v,c,i,!0,m,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),x.add(this.options.textNodeName,v),this.addChild(n,x,i)}else{if(f.length>0&&f.lastIndexOf("/")===f.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),f=c):f=f.substr(0,f.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));const v=new Pp(c);c!==f&&m&&(v[":@"]=this.buildAttributesMap(f,i,c)),this.addChild(n,v,i),i=i.substr(0,i.lastIndexOf("."))}else{const v=new Pp(c);this.tagsNodeStack.push(n),c!==f&&m&&(v[":@"]=this.buildAttributesMap(f,i,c)),this.addChild(n,v,i),n=v}r="",s=p}}else r+=e[s];return t.child};function rle(e,t,n){const r=this.options.updateTag(t.tagname,n,t[":@"]);r===!1||(typeof r=="string"&&(t.tagname=r),e.addChild(t))}const ile=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function sle(e,t,n,r){return e&&(r===void 0&&(r=t.child.length===0),e=this.parseTextData(e,t.tagname,n,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,r),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function ole(e,t,n){const r="*."+n;for(const i in e){const s=e[i];if(r===s||t===s)return!0}return!1}function ale(e,t,n=">"){let r,i="";for(let s=t;s<e.length;s++){let o=e[s];if(r)o===r&&(r="");else if(o==='"'||o==="'")r=o;else if(o===n[0])if(n[1]){if(e[s+1]===n[1])return{data:i,index:s}}else return{data:i,index:s};else o==="	"&&(o=" ");i+=o}}function Iu(e,t,n,r){const i=e.indexOf(t,n);if(i===-1)throw new Error(r);return i+t.length-1}function FC(e,t,n,r=">"){const i=ale(e,t+1,r);if(!i)return;let s=i.data;const o=i.index,a=s.search(/\s/);let c=s,u=!0;a!==-1&&(c=s.substring(0,a),s=s.substring(a+1).trimStart());const f=c;if(n){const m=c.indexOf(":");m!==-1&&(c=c.substr(m+1),u=c!==i.data.substr(m+1))}return{tagName:c,tagExp:s,closeIndex:o,attrExpPresent:u,rawTagName:f}}function lle(e,t,n){const r=n;let i=1;for(;n<e.length;n++)if(e[n]==="<")if(e[n+1]==="/"){const s=Iu(e,">",n,`${t} is not closed`);if(e.substring(n+2,s).trim()===t&&(i--,i===0))return{tagContent:e.substring(r,n),i:s};n=s}else if(e[n+1]==="?")n=Iu(e,"?>",n+1,"StopNode is not closed.");else if(e.substr(n+1,3)==="!--")n=Iu(e,"-->",n+3,"StopNode is not closed.");else if(e.substr(n+1,2)==="![")n=Iu(e,"]]>",n,"StopNode is not closed.")-2;else{const s=FC(e,n,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&i++,n=s.closeIndex)}}function BC(e,t,n){if(t&&typeof e=="string"){const r=e.trim();return r==="true"?!0:r==="false"?!1:Wae(e,n)}else return Sae(e)?e:""}function cle(e,t){return IF(e,t)}function IF(e,t,n){let r;const i={};for(let s=0;s<e.length;s++){const o=e[s],a=ule(o);let c="";if(n===void 0?c=a:c=n+"."+a,a===t.textNodeName)r===void 0?r=o[a]:r+=""+o[a];else{if(a===void 0)continue;if(o[a]){let u=IF(o[a],t,c);const f=fle(u,t);o[":@"]?dle(u,o[":@"],c,t):Object.keys(u).length===1&&u[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?u=u[t.textNodeName]:Object.keys(u).length===0&&(t.alwaysCreateTextNode?u[t.textNodeName]="":u=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(u)):t.isArray(a,c,f)?i[a]=[u]:i[a]=u}}}return typeof r=="string"?r.length>0&&(i[t.textNodeName]=r):r!==void 0&&(i[t.textNodeName]=r),i}function ule(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];if(r!==":@")return r}}function dle(e,t,n,r){if(t){const i=Object.keys(t),s=i.length;for(let o=0;o<s;o++){const a=i[o];r.isArray(a,n+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function fle(e,t){const{textNodeName:n}=t,r=Object.keys(e).length;return!!(r===0||r===1&&(e[n]||typeof e[n]=="boolean"||e[n]===0))}class hle{constructor(t){this.externalEntities={},this.options=Mae(t)}parse(t,n){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});const s=Nae(t,n);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}const r=new Xae(this.options);r.addExternalEntities(this.externalEntities);const i=r.parseXml(t);return this.options.preserveOrder||i===void 0?i:cle(i,this.options)}addEntity(t,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=n}}function mle(e){return new hle().parse(e)}const ple=["SHA-1","SHA-256","SHA-384","SHA-512"];async function a6(e,t,n,r){if(!ple.includes(e))throw new Error(`Invalid hash algorithm: ${e}`);const i=new TextEncoder().encode((n??"")+t+(r??"")),s=await crypto.subtle.digest(e,i);return Array.from(new Uint8Array(s)).map(a=>a.toString(16).padStart(2,"0")).join("")}const PF={sha256:async(e,t,n)=>a6("SHA-256",e,t,n),sha1:async(e,t,n)=>a6("SHA-1",e,t,n)};function gle(e){const t=new Uint8Array(e);return crypto.getRandomValues(t),Array.from(t,n=>String.fromCharCode(33+n%94)).join("")}const gr=[];for(let e=0;e<256;++e)gr.push((e+256).toString(16).slice(1));function DF(e,t=0){return(gr[e[t+0]]+gr[e[t+1]]+gr[e[t+2]]+gr[e[t+3]]+"-"+gr[e[t+4]]+gr[e[t+5]]+"-"+gr[e[t+6]]+gr[e[t+7]]+"-"+gr[e[t+8]]+gr[e[t+9]]+"-"+gr[e[t+10]]+gr[e[t+11]]+gr[e[t+12]]+gr[e[t+13]]+gr[e[t+14]]+gr[e[t+15]]).toLowerCase()}let RN;const yle=new Uint8Array(16);function LF(){if(!RN){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");RN=crypto.getRandomValues.bind(crypto)}return RN(yle)}const ble=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),l6={randomUUID:ble};function vle(e,t,n){var i;if(l6.randomUUID&&!e)return l6.randomUUID();e=e||{};const r=e.random??((i=e.rng)==null?void 0:i.call(e))??LF();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,DF(r)}const kN={};function xle(e,t,n){let r;{const i=Date.now(),s=LF();wle(kN,i,s),r=Sle(s,kN.msecs,kN.seq,t,n)}return t??DF(r)}function wle(e,t,n){return e.msecs??(e.msecs=-1/0),e.seq??(e.seq=0),t>e.msecs?(e.seq=n[6]<<23|n[7]<<16|n[8]<<8|n[9],e.msecs=t):(e.seq=e.seq+1|0,e.seq===0&&e.msecs++),e}function Sle(e,t,n,r,i=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(!r)r=new Uint8Array(16),i=0;else if(i<0||i+16>r.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);return t??(t=Date.now()),n??(n=e[6]*127<<24|e[7]<<16|e[8]<<8|e[9]),r[i++]=t/1099511627776&255,r[i++]=t/4294967296&255,r[i++]=t/16777216&255,r[i++]=t/65536&255,r[i++]=t/256&255,r[i++]=t&255,r[i++]=112|n>>>28&15,r[i++]=n>>>20&255,r[i++]=128|n>>>14&63,r[i++]=n>>>6&255,r[i++]=n<<2&255|e[10]&3,r[i++]=e[11],r[i++]=e[12],r[i++]=e[13],r[i++]=e[14],r[i++]=e[15],r}function Ele(){return vle()}function Nle(){return xle()}function FF(e,t,n){const r=Math.min(t,n),i=Math.max(t,n);return Math.max(r,Math.min(e,i))}function c6(e){return e==null?0:typeof e=="number"?e:Number.parseInt(e,10)}const O1={fileSize:(e,t=2)=>{if(e===0)return"0 B";const n=1024,r=t<0?0:t,i=["B","KB","MB","GB","TB"],s=Math.floor(Math.log(e)/Math.log(n));return Number.parseFloat((e/n**s).toFixed(r))+" "+i[s]}};let Yr=class extends Error{constructor(n,r){super(n);K(this,"code",nn.BAD_REQUEST);K(this,"name","Exception");K(this,"_context");r&&(this.code=r)}context(n){return this._context=n,this}toJSON(){return{error:this.message,type:this.name,context:this._context}}};class Bf extends Error{constructor(t,n,r){super(t),this.details=n,this.type=r}static with(t,n,r){throw new Bf(t,n,r)}toJSON(){return{type:this.type??"unknown",message:this.message,details:this.details}}}var zC=(e=[],t="")=>"/"+[t,...e.map(n=>String(n).replace(/\./g,"/"))].filter(Boolean).join("/"),BF=e=>e.split("/").slice(1);function _le(e,t,n=void 0){let r=typeof t=="string"?BF(t):zC(t);return j1(e,r,n)}function j1(e,t,n=void 0){let r=typeof t=="string"?t.split(/[.\[\]\"]+/).filter(i=>i):t;if(r.length===0)return e;try{let[i,...s]=r;return!i||!(i in e)?n:j1(e[i],s,n)}catch{if(typeof n<"u")return n;throw new Error(`Invalid path: ${r.join(".")}`)}}var rn=(e={},t,n,r)=>({valid:!1,errors:[...e.errors??[],{keywordLocation:zC([...e.keywordPath??[],t]),instanceLocation:zC(e.instancePath),error:typeof n=="string"?n:`Invalid value for ${t}`,data:r}]}),nt=()=>({valid:!0,errors:[]}),um=(e,t,n)=>{let r=Array.isArray(t)?t:[t],i=n?Array.isArray(n)?n:[n]:[];return{...e,keywordPath:[...e.keywordPath??[],...r],instancePath:i?[...e.instancePath??[],...i]:e.instancePath}},qv=(e={})=>({...e,errors:[]}),od=class extends Error{constructor(e){super(`Expected ${e}`)}},Cle=class extends Error{constructor(t,n){super(`${t??"Invalid raw schema"}: ${JSON.stringify(n)}`),this.schema=n}},Ole=class extends Error{constructor(e,t){super(`${e}, got: 'type "${typeof t}": ${JSON.stringify(t)}'`),this.value=t}},Vr=Symbol.for("jsonv-ts:schema");function jle(e){return e===null}function Gn(e){return!Array.isArray(e)&&typeof e=="object"&&e!==null}function Ale(e){return Object.prototype.toString.call(e)==="[object Object]"}function Vo(e){return typeof e=="string"}function il(e){return typeof e=="number"}function Tle(e){return typeof e=="number"&&Number.isInteger(e)}function gT(e){return typeof e=="boolean"}function Io(e){return Array.isArray(e)}function $le(e){return typeof e!="boolean"}function Rle(e){return e!==void 0&&$le(e)&&"type"in e}function Bi(e){return e!==void 0&&Gn(e)&&Vr in e}function zF(e){return Bi(e)&&typeof e.toJSON()=="boolean"}function kle(e,t,n){if(!e)throw new Ole(t,n)}var u6=new WeakMap;function Ja(e){if(e==null||typeof e=="boolean"||typeof e=="number")return e;if(Vo(e))return e.normalize("NFC");if(Io(e)||Gn(e)){let t=u6.get(e);if(t!==void 0)return t;let n;if(Io(e))n=e.map(Ja).sort();else{let r=Object.entries(e).sort(([i],[s])=>i.localeCompare(s)).map(([i,s])=>[i,Ja(s)]);n=Object.fromEntries(r)}return u6.set(e,n),n}return e}function Mle(e,t){return t.reduce((n,r)=>(r in e&&(n[r]=e[r]),n),{})}function VF(e){try{return structuredClone(e)}catch{return e}}var yT=class{constructor(e){K(this,"cache");this.root=e,this.cache=new Map}hasRef(e,t){return t!==void 0&&"$ref"in e&&Vo(e.$ref)}resolve(e){let t=this.cache.get(e);if(!t){if(t=_le(this.root,e),!Bi(t))throw new Error(`ref not found: ${e}`);if("$ref"in t&&t.$ref===e)throw new Error(`ref loop: ${e}`);this.cache.set(e,t)}return t}};function Ile(e,t,n={}){let r=t;try{r=structuredClone(t)}catch{r=JSON.parse(JSON.stringify(t))}let i={resolver:n.resolver||new yT(e),depth:n.depth||0,dropUnknown:n.dropUnknown??!1};return i.resolver.hasRef(e,r)?i.resolver.resolve(e.$ref).coerce(r,{...i,depth:i.depth+1}):r}var Ple=({type:e},t,n={})=>{if(e===void 0||t===void 0)return nt();let r,i={string:Vo,number:il,integer:Tle,object:Gn,array:Io,boolean:gT,null:jle};if(Array.isArray(e)){for(let s of e){if(!(s in i))throw new od(`Unknown type: ${s}`);if(i[s](t))return nt()}r=`Expected one of: ${e.join(", ")}`}else{if(!(e in i))throw new od(`Unknown type: ${e}`);i[e](t)||(r=`Expected ${e}`)}return r?rn(n,"type",r,t):nt()},Dle=({const:e},t,n={})=>{let r=JSON.stringify(Ja(e)),i=JSON.stringify(Ja(t));return r!==i?rn(n,"const",`Expected const: ${r}`,i):nt()},Lle=({enum:e=[]},t,n={})=>{let r=JSON.stringify(e.map(Ja)),i=JSON.stringify(Ja(t));return r.includes(i)?nt():rn(n,"enum",`Expected enum: ${r}`,t)};function A1(e,t,n={}){return e.map(r=>r.validate(t,qv(n)).valid?r:void 0).filter(Boolean)}var Fle=({anyOf:e=[]},t,n={})=>A1(e,t,n).length>0?nt():rn(n,"anyOf","Expected at least one to match",t),Ble=({oneOf:e=[]},t,n={})=>A1(e,t).length===1?nt():rn(n,"oneOf","Expected exactly one to match",t),zle=({allOf:e=[]},t,n={})=>A1(e,t,n).length===e.length?nt():rn(n,"allOf","Expected all to match",t),Vle=({not:e},t,n={})=>t===void 0?nt():Bi(e)&&e.validate(t,n).valid?rn(n,"not","Expected not to match",t):nt(),Ule=({if:e,then:t,else:n},r,i={})=>{if(e&&(t||n)){if(e.validate(r,qv(i)).valid)return t?t.validate(r,qv(i)):nt();if(n)return n.validate(r,qv(i))}return nt()},qle=({pattern:e=""},t,n={})=>{if(!Vo(t))return nt();if(e instanceof RegExp){if(e.test(t))return nt()}else if(new RegExp(e,"u").test(t))return nt();return rn(n,"pattern",`Expected string matching pattern ${e}`,t)},Hle=({minLength:e=0},t,n={})=>Vo(t)?[...Ja(t)].length>=e?nt():rn(n,"minLength",`Expected string with minimum length of ${e}`,t):nt(),Wle=({maxLength:e=0},t,n={})=>Vo(t)?[...Ja(t)].length<=e?nt():rn(n,"maxLength",`Expected string with maximum length of ${e}`,t):nt(),Gle=({multipleOf:e=0},t,n={})=>{if(!il(t))return nt();if(!(Number.isFinite(t)&&Number.isFinite(e))||e<=0)throw new od("number");let r=t/e,i=Number.EPSILON*Math.max(1,Math.abs(r));return Math.abs(r-Math.round(r))<=i?nt():rn(n,"multipleOf",`Expected number being a multiple of ${e}`,t)},Jle=({maximum:e=0},t,n={})=>!il(t)||t<=e?nt():rn(n,"maximum",`Expected number less than or equal to ${e}`,t),Yle=({exclusiveMaximum:e=0},t,n={})=>!il(t)||t<e?nt():rn(n,"exclusiveMaximum",`Expected number less than ${e}`,t),Xle=({minimum:e=0},t,n={})=>!il(t)||t>=e?nt():rn(n,"minimum",`Expected number greater than or equal to ${e}`,t),Kle=({exclusiveMinimum:e=0},t,n={})=>!il(t)||t>e?nt():rn(n,"exclusiveMinimum",`Expected number greater than ${e}`,t),Qle=({properties:e={}},t,n={})=>{if(!Gn(t))return nt();for(let[r,i]of Object.entries(t)){let s=e[r];if(!Bi(s))continue;let o=s.validate(i,um(n,["properties",r],r));if(!o.valid)return o}return nt()},Zle=({properties:e={},additionalProperties:t,patternProperties:n},r,i={})=>{if(!Gn(r))return nt();if(!Bi(t))throw new od("additionalProperties must be a boolean or a managed schema");let s=Object.keys(e),o=Gn(n)?Object.keys(r).filter(c=>Object.keys(n).some(u=>new RegExp(u).test(c))):[],a=Object.keys(r).filter(c=>!s.includes(c)&&!o.includes(c));if(a.length>0){if(zF(t)){if(t.toJSON()===!0)return nt();let c=a.reduce((u,f)=>(u[f]=r[f],u),{});return rn(i,"additionalProperties","Additional properties are not allowed",c)}else if(Bi(t))for(let c of a){let u=t.validate(r[c],um(i,["additionalProperties"],c));if(!u.valid)return u}}return nt()},ece=({dependentRequired:e},t,n={})=>{if(!Gn(t))return nt();let r=Object.keys(t).filter(i=>typeof t[i]!="function");if(Gn(e)){for(let[i,s]of Object.entries(e))if(r.includes(i)){for(let o of s)if(!r.includes(o))return rn(n,"dependentRequired",`Expected dependent required property ${o}`,t)}}return nt()},tce=({required:e=[]},t,n={})=>{if(!Gn(t))return nt();let r=Object.keys(t).filter(i=>typeof t[i]!="function");return e.every(i=>r.includes(i))?nt():rn(n,"required",`Expected object with required properties ${e.join(", ")}`,t)},nce=({dependentSchemas:e},t,n={})=>{if(!Gn(t))return nt();let r=Object.keys(t).filter(i=>typeof t[i]!="function");if(Gn(e)){for(let[i,s]of Object.entries(e))if(r.includes(i)){let o=s.validate(t,n);if(!o.valid)return o}}return nt()},rce=({minProperties:e=0},t,n={})=>Gn(t)?Object.keys(t).length>=e?nt():rn(n,"minProperties",`Expected object with at least ${e} properties`,t):nt(),ice=({maxProperties:e=0},t,n={})=>!Gn(t)||Object.keys(t).length<=e?nt():rn(n,"maxProperties",`Expected object with at most ${e} properties`,t),sce=({patternProperties:e={}},t,n={})=>{if(!Gn(t))return nt();if(!Gn(e))throw new od("patternProperties must be an object");for(let[r,i]of Object.entries(t))for(let[s,o]of Object.entries(e))if(new RegExp(s,"u").test(r)){let a=o.validate(i,um(n,["patternProperties"],r));if(!a.valid)return a}return nt()},oce=({propertyNames:e},t,n={})=>{if(!Gn(t)||e===void 0)return nt();if(!Bi(e))throw new od("propertyNames must be a managed schema");for(let r of Object.keys(t)){let i=e.validate(r,um(n,["propertyNames"],r));if(!i.valid)return i}return nt()},ace=({items:e,prefixItems:t=[]},n,r={})=>{if(!Io(n)||e===void 0)return nt();if(!Bi(e))throw new od("items must be a managed schema");for(let[i,s]of n.slice(t.length).entries()){let o=e.validate(s,um(r,["items"],String(i)));if(!o.valid)return o}return nt()},lce=({minItems:e=0},t,n={})=>!Io(t)||t.length>=e?nt():rn(n,"minItems",`Expected array with at least ${e} items`,t),cce=({maxItems:e=0},t,n={})=>!Io(t)||t.length<=e?nt():rn(n,"maxItems",`Expected array with at most ${e} items`,t),uce=({uniqueItems:e=!1},t,n={})=>{if(!Io(t)||!e)return nt();let r=t.map(Ja);return new Set(r.map(i=>JSON.stringify(i))).size===t.length?nt():rn(n,"uniqueItems","Expected array with unique items",t)},dce=({contains:e,minContains:t,maxContains:n},r,i={})=>{if(!Bi(e))throw new Error("contains must be a managed schema");if(!Io(r))return nt();let s=r.filter(o=>e.validate(o).valid).length;return s<(t??1)?rn(i,t?"minContains":"contains",`Expected array to contain at least ${t??1}, but found ${s}`,r):n!==void 0&&s>n?rn(i,"maxContains",`Expected array to contain at most ${n}, but found ${s}`,r):nt()},fce=({prefixItems:e=[]},t,n={})=>{var r;if(!Io(t))return nt();for(let i=0;i<t.length;i++){let s=(r=e[i])==null?void 0:r.validate(t[i],um(n,String(i),String(i)));if(s&&(s==null?void 0:s.valid)!==!0)return s}return nt()},d6={email:e=>{if(e.length>318)return!1;if(/^[a-z0-9!#$%&'*+/=?^_`{|}~-]{1,20}(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]{1,21}){0,2}@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,60}[a-z0-9])?){0,3}$/i.test(e))return!0;if(!e.includes("@")||/(^\.|^"|\.@|\.\.)/.test(e))return!1;let[t,n,...r]=e.split("@");return!t||!n||r.length!==0||t.length>64||n.length>253||!/^[a-z0-9.-]+$/i.test(n)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(t)?!1:n.split(".").every(i=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(i))},hostname:e=>e.length>(e.endsWith(".")?254:253)?!1:/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*\.?$/i.test(e),date:e=>{if(e.length!==10)return!1;if(e[5]==="0"&&e[6]==="2"){if(/^\d\d\d\d-02-(?:[012][1-8]|[12]0|[01]9)$/.test(e))return!0;let t=e.match(/^(\d\d\d\d)-02-29$/);if(!t)return!1;let n=Number(t[1]);return n%16===0||n%4===0&&n%25!==0}return e.endsWith("31")?/^\d\d\d\d-(?:0[13578]|1[02])-31$/.test(e):/^\d\d\d\d-(?:0[13-9]|1[012])-(?:[012][1-9]|[123]0)$/.test(e)},time:e=>{if(e.length>27||!/^(?:2[0-3]|[0-1]\d):[0-5]\d:(?:[0-5]\d|60)(?:\.\d+)?(?:z|[+-](?:2[0-3]|[0-1]\d)(?::?[0-5]\d)?)?$/i.test(e))return!1;if(!/:60/.test(e))return!0;let t=e.match(/([0-9.]+|[^0-9.])/g);if(!t)return!1;let n=Number(t[0])*60+Number(t[2]);return t[5]==="+"?n+=24*60-Number(t[6]||0)*60-Number(t[8]||0):t[5]==="-"&&(n+=Number(t[6]||0)*60+Number(t[8]||0)),n%(24*60)===23*60+59},"date-time":e=>{if(e.length>38)return!1;let t=/^\d\d\d\d-(?:0[1-9]|1[0-2])-(?:[0-2]\d|3[01])[t\s](?:2[0-3]|[0-1]\d):[0-5]\d:(?:[0-5]\d|60)(?:\.\d+)?(?:z|[+-](?:2[0-3]|[0-1]\d)(?::?[0-5]\d)?)$/i,n=e[5]==="0"&&e[6]==="2";if(n&&e[8]==="3"||!t.test(e))return!1;if(e[17]==="6"){let r=e.slice(11).match(/([0-9.]+|[^0-9.])/g);if(!r)return!1;let i=Number(r[0])*60+Number(r[2]);if(r[5]==="+"?i+=24*60-Number(r[6]||0)*60-Number(r[8]||0):r[5]==="-"&&(i+=Number(r[6]||0)*60+Number(r[8]||0)),i%(24*60)!==23*60+59)return!1}if(n){if(/^\d\d\d\d-02-(?:[012][1-8]|[12]0|[01]9)/.test(e))return!0;let r=e.match(/^(\d\d\d\d)-02-29/);if(!r)return!1;let i=Number(r[1]??0);return i%16===0||i%4===0&&i%25!==0}return e[8]==="3"&&e[9]==="1"?/^\d\d\d\d-(?:0[13578]|1[02])-31/.test(e):/^\d\d\d\d-(?:0[13-9]|1[012])-(?:[012][1-9]|[123]0)/.test(e)},ipv4:e=>e.length<=15&&/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d\d?)$/.test(e),ipv6:e=>{if(e.length>45||e.length<2)return!1;let t=0,n=0,r=0,i=!1,s=!1,o=0,a=!0;for(let u=0;u<e.length;u++){let f=e.charCodeAt(u);if(u===1&&o===58&&f!==58)return!1;if(f>=48&&f<=57){if(++r>4)return!1}else if(f===46){if(t>6||n>=3||r===0||s)return!1;n++,r=0}else if(f===58){if(n>0||t>=7)return!1;if(o===58){if(i)return!1;i=!0}else u===0&&(a=!1);t++,r=0,s=!1}else if(f>=97&&f<=102||f>=65&&f<=70){if(n>0||++r>4)return!1;s=!0}else return!1;o=f}if(t<2||n>0&&(n!==3||r===0))return!1;if(i&&e.length===2)return!0;if(n>0&&!/(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}$/.test(e))return!1;let c=n>0?6:7;return i?(a||r>0)&&t<c:t===c&&a&&r>0},uri:e=>/^[a-z][a-z0-9+\-.]*:(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|v[0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/?(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i.test(e),"uri-reference":e=>/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|v[0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/?(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?)?(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i.test(e),"uri-template":e=>/^(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2}|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i.test(e),"json-pointer":e=>/^(?:|\/(?:[^~]|~0|~1)*)$/.test(e),"relative-json-pointer":e=>/^(?:0|[1-9][0-9]*)(?:|#|\/(?:[^~]|~0|~1)*)$/.test(e),uuid:e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),duration:e=>e.length>1&&e.length<80&&(/^P\d+([.,]\d+)?W$/.test(e)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(e)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(e)),regex:e=>{if(/[^\\]\\Z/.test(e))return!1;try{return new RegExp(e,"u"),!0}catch{return!1}},binary:()=>!0,password:()=>!0},hce=({format:e},t,n={})=>!Vo(t)||!e?nt():d6[e]?d6[e](t)?nt():rn(n,"format",`Expected format: ${e}`,t):nt(),MN={type:Ple,const:Dle,enum:Lle,allOf:zle,anyOf:Fle,oneOf:Ble,not:Vle,minLength:Hle,maxLength:Wle,pattern:qle,format:hce,minimum:Xle,exclusiveMinimum:Kle,maximum:Jle,exclusiveMaximum:Yle,multipleOf:Gle,required:tce,dependentRequired:ece,dependentSchemas:nce,minProperties:rce,maxProperties:ice,propertyNames:oce,properties:Qle,patternProperties:sce,additionalProperties:Zle,minItems:lce,maxItems:cce,uniqueItems:uce,contains:dce,prefixItems:fce,items:ace,if:Ule};function mce(e,t,n={}){var s;let r={keywordPath:n.keywordPath||[],instancePath:n.instancePath||[],coerce:n.coerce||!1,errors:n.errors||[],shortCircuit:n.shortCircuit||!1,ignoreUnsupported:n.ignoreUnsupported||!1,resolver:n.resolver||((s=e.getResolver)==null?void 0:s.call(e))||new yT(e),depth:n.depth?n.depth+1:0,skipClone:n.skipClone||!1},i;if(n!=null&&n.coerce&&e.coerce){let o=e.coerce(t,{resolver:r.resolver,depth:r.depth});i=r.skipClone?o:structuredClone(o)}else i=r.skipClone?t:structuredClone(t);if(n.ignoreUnsupported!==!0){let o=["$defs"];for(let a of o)if(e[a])throw new Error(`${a} not implemented`)}if(r.resolver.hasRef(e,i)){let o=r.resolver.resolve(e.$ref).validate(i,{...r,errors:[]});o.valid||r.errors.push(...o.errors)}else{let o={keywordPath:r.keywordPath,instancePath:r.instancePath,coerce:r.coerce,errors:[],shortCircuit:r.shortCircuit,ignoreUnsupported:r.ignoreUnsupported,resolver:r.resolver,depth:r.depth};for(let a in e)if(a==="type"&&e.type!==void 0){if(i!==void 0){let c=MN[a];if(c){o.errors=[];let u=c(e,i,o);if(!u.valid){if(n.shortCircuit)return u;r.errors.push(...u.errors)}}}}else if(a in MN&&e[a]!==void 0){if(i===void 0)continue;let c=MN[a];if(c){o.errors=[];let u=c(e,i,o);if(!u.valid){if(n.shortCircuit)return u;r.errors.push(...u.errors)}}}}return{valid:r.errors.length===0,errors:r.errors}}var F8,qc=class{constructor(e,t){K(this,"~standard");K(this,F8);K(this,"_resolver");K(this,"type");K(this,"$id");K(this,"$ref");K(this,"$schema");K(this,"title");K(this,"description");K(this,"readOnly");K(this,"writeOnly");K(this,"$comment");K(this,"examples");let{type:n,validate:r,coerce:i,template:s,...o}=e||{};Object.assign(this,{type:n},o),this[Vr]={raw:e,optional:!1,overrides:t},this["~standard"]={version:1,vendor:"jsonv-ts",validate:a=>{let c=this.validate(a);return c.valid?{value:a}:{issues:c.errors.map(u=>({message:u.error,path:BF(u.instanceLocation)}))}}}}template(e,t){var s,o,a;let n=this,r=e;if(n.const!==void 0?r=n.const:r===void 0&&(n.default!==void 0&&(r=n.default),t!=null&&t.withExtendedOptional&&n.enum!==void 0&&(r=n.enum[0])),(t==null?void 0:t.withOptional)!==!0&&r===void 0&&this.isOptional())return r;if((s=this[Vr].raw)!=null&&s.template){let c=this[Vr].raw.template(r,t);c!==void 0&&(r=c)}let i=(a=(o=this[Vr].overrides)==null?void 0:o.template)==null?void 0:a.call(o,r,t);return i!==void 0&&(r=i),r}validate(e,t){var i;let n={keywordPath:(t==null?void 0:t.keywordPath)||[],instancePath:(t==null?void 0:t.instancePath)||[],coerce:(t==null?void 0:t.coerce)||!1,errors:(t==null?void 0:t.errors)||[],shortCircuit:(t==null?void 0:t.shortCircuit)||!1,ignoreUnsupported:(t==null?void 0:t.ignoreUnsupported)||!1,resolver:(t==null?void 0:t.resolver)||this.getResolver(),depth:t!=null&&t.depth?t.depth+1:0,skipClone:(t==null?void 0:t.skipClone)??!0},r=(i=this[Vr].raw)==null?void 0:i.validate;if(r!==void 0){let s=r(e,n);if(!s.valid)return s}return mce(this,e,n)}coerce(e,t){var s,o,a;let n={...t,resolver:(t==null?void 0:t.resolver)||this.getResolver(),depth:t!=null&&t.depth?t.depth+1:0,dropUnknown:(t==null?void 0:t.dropUnknown)??!1},r=(s=this[Vr].raw)==null?void 0:s.coerce;if(r!==void 0)return r(e,n);let i=((a=(o=this[Vr].overrides)==null?void 0:o.coerce)==null?void 0:a.call(o,e,n))??e;return Ile(this,i,n)}optional(){return this[Vr].optional=!0,this}isOptional(){return this[Vr].optional}getResolver(){return this._resolver||(this._resolver=new yT(this)),this._resolver}children(e){return[]}*walk({instancePath:e=[],keywordPath:t=[],data:n,maxDepth:r=Number.POSITIVE_INFINITY,...i}={}){let s=e.length===0&&n?VF(n):n;if(i.includeSelf!==!1&&(yield new Jy(this,{instancePath:e,keywordPath:t,data:s,...i})),!(e.length>=r))for(let o of this.children(i)){let a=[...e,...o.instancePath];yield*o.schema.walk({...i,data:s,maxDepth:r,instancePath:a,keywordPath:[...t,...o.keywordPath]})}}*[(F8=Vr,Symbol.iterator)](e){for(let t of this.walk(e))yield t}toJSON(){let{toJSON:e,"~standard":t,_resolver:n,...r}=this;return JSON.parse(JSON.stringify(r))}},Jy=class{constructor(t,n={}){K(this,"instancePath");K(this,"keywordPath");K(this,"data");K(this,"depth");this.schema=t,this.instancePath=n.instancePath||[],this.keywordPath=n.keywordPath||[],this.depth=this.instancePath.length;try{if(n.data!==void 0){let r=j1(n.data,this.instancePath);t.validate(r).valid&&(this.data=r)}}catch{}}appendInstancePath(t){return this.instancePath=[...this.instancePath,...t],this}appendKeywordPath(t){return this.keywordPath=[...this.keywordPath,...t],this}setData(t){return this.data=t,this}};function T1(e,t,n){return new class extends qc{constructor(){super(...arguments);K(this,"type",e)}}(t,n)}var pce=class extends qc{constructor(e){super(),this.bool=e}toJSON(){return this.bool}validate(e,t){return this.bool?nt():rn(t,"","Always fails",e)}};function VC(e){return new pce(e)}var no=e=>T1(e==null?void 0:e.type,e),us=(e,t)=>T1(void 0,{...t,const:e}),bT=class extends qc{constructor(n,r){let i=[];for(let[o,a]of Object.entries(n||{}))kle(Bi(a),"properties must be managed schemas",a),a[Vr].optional||i.push(o);let s=(r==null?void 0:r.additionalProperties)===!1?VC(!1):r==null?void 0:r.additionalProperties;i=i.length>0?i:void 0;super({...r,additionalProperties:s,properties:n,required:i},{template:(o,a)=>{let c=structuredClone(Gn(o)?o:{}),u={...c};if(this.properties)for(let[f,m]of Object.entries(this.properties)){let p=j1(c,f);if(m.isOptional()&&(a==null?void 0:a.withOptional)!==!0&&p===void 0&&o===void 0)continue;let y=m.template(p,a);y!==void 0&&(u[f]=y)}if(!(Object.keys(u).length===0&&!(a!=null&&a.withExtendedOptional)))return u},coerce:(o,a)=>{let c=Object.keys(this.properties),u=VF(o),f=c.length>0&&Object.values(this.properties).every(p=>!p[Vr].optional);if(Ale(u)&&((a==null?void 0:a.dropUnknown)===!0||f)&&(u=Mle(u,c)),typeof u=="string"&&u.match(/^\{/)&&(u=JSON.parse(u)),typeof u!="object"||u===null)return;if(this.properties)for(let[p,y]of Object.entries(this.properties)){let v=u[p];v!==void 0&&(u[p]=y.coerce(v,a))}let m=this.additionalProperties;if((a==null?void 0:a.dropUnknown)!==!0&&(!m||m.validate(null).valid)){let p=Gn(o)?o:{},y=Object.keys(p).filter(v=>!c.includes(v));for(let v of y)u[v]=m?m.coerce(p[v],a):p[v]}return u}});K(this,"type","object");K(this,"properties");K(this,"required");this.properties=n,this.required=i}strict(){return this.additionalProperties=VC(!1),this[Vr].raw.additionalProperties=!1,this}partial(){for(let[,n]of Object.entries(this.properties))n[Vr].optional=!0;return this.required=void 0,this}children(n){let r=[];for(let[i,s]of Object.entries(this.properties)){let o=new Jy(s,n);o.appendInstancePath([i]),o.appendKeywordPath(["properties",i]),r.push(o)}return r}},Me=(e,t)=>new bT(e,t),He=(e,t)=>Me(e,t).strict(),UF=(e,t)=>Me(e,t).partial(),qF=class extends qc{constructor(t,n){super({...n,additionalProperties:t},{template:(r,i)=>i!=null&&i.withExtendedOptional&&(r===void 0||!Gn(r))?{}:r});K(this,"type","object");K(this,"additionalProperties");this.additionalProperties=t}children(t){let n=[],r=new Jy(this.additionalProperties,t);return r.appendKeywordPath(["additionalProperties"]),n.push(r),n}},ad=(e,t)=>new qF(e,t),HF=class extends qc{constructor(t){super(t,{template:(n,r)=>r!=null&&r.withExtendedOptional&&(n===void 0||!Vo(n))?"":n,coerce:n=>il(n)?String(n):n});K(this,"type","string")}toJSON(){let{pattern:t,"~standard":n,_resolver:r,...i}=this;return JSON.parse(JSON.stringify({...i,pattern:t instanceof RegExp?t.source:t}))}},de=e=>new HF(e),WF=(e,t,n)=>T1(e,n,{template:(r,i)=>i!=null&&i.withExtendedOptional&&(r===void 0||!il(r))?(n==null?void 0:n.minimum)??0:r,coerce:r=>{if(Vo(r)){let i=t.parseFn(r);if(!Number.isNaN(i))return i}return r}}),Ct=e=>WF("number",{parseFn:Number},e),gce=e=>WF("integer",{parseFn:Number.parseInt},e),GF=class extends qc{constructor(n,r={}){super({...r,items:n},{template:i=>i===void 0||!Array.isArray(i)?[]:i,coerce:(i,s)=>{try{let o=typeof i=="string"?JSON.parse(i):i;if(!Array.isArray(o))return;if(Bi(this.items))for(let[a,c]of o.entries())o[a]=this.items.coerce(c,s);return o}catch{}return i}});K(this,"type","array");this.items=n,this.items=n}children(n){let r=[];if(this.items){let i=new Jy(this.items,n);i.appendKeywordPath(["items"]),r.push(i)}return r}},mn=(e,t)=>new GF(e,t),pt=e=>T1("boolean",e,{template:(t,n)=>n!=null&&n.withExtendedOptional&&(t===void 0||!gT(t))?!1:t,coerce:t=>{if(Vo(t)&&["true","false","1","0"].includes(t))return t==="true"||t==="1";if(il(t)){if(t===1)return!0;if(t===0)return!1}return t}}),ev=Symbol.for("unionType"),B8,z8,JF=class extends(z8=qc,B8=ev,z8){constructor(n,r,i){super({...i,[r]:n},{coerce:(s,o)=>{let a=i==null?void 0:i.coerce;if(a!==void 0)return a.bind(this)(s,o);let c=A1(n,s,{ignoreUnsupported:!0,resolver:o==null?void 0:o.resolver,coerce:!0});return c.length>0?c[0].coerce(s,o):s}});K(this,B8);this[ev]=r}get schemas(){return this[this[ev]]}children(n){let r=[];for(let[i,s]of this.schemas.entries()){let o=new Jy(s,n);o.appendKeywordPath([this[ev],i]),r.push(o)}return r}},Pt=(e,t)=>new JF(e,"anyOf",t),yce=(e,t)=>new JF(e,"oneOf",t);function f6(e,t){return Array.isArray(e)?e.map(t):e!==void 0?[t(e)]:[]}function h6(e,t,n=r=>r){return Object.fromEntries(Object.entries(e).map(([r,i])=>[r,n(t(i,r),r)]))}function Vs(e){if(gT(e))return VC(e);let t=structuredClone(e);if(!Gn(t))throw new Cle("non-object schemas cannot be converted to a schema",t);"properties"in t&&t.properties&&(t.properties=h6(t.properties,(s,o)=>{try{return Vs(s)}catch(a){throw new Error(`Couldn't schemaize property "${o}": ${String(a)}`)}},(s,o)=>"required"in t&&Array.isArray(t.required)&&t.required.includes(o)?s:s.optional()));let n=["patternProperties","dependentSchemas","$defs"];for(let s of n)s in t&&t[s]&&(t[s]=h6(t[s],Vs));let r=["additionalProperties","items","prefixItems","propertyNames","contains","not","if","then","else"];for(let s of r)s in t&&typeof t[s]<"u"&&(Io(t[s])?t[s]=f6(t[s],Vs):t[s]=Vs(t[s]));let i=["anyOf","oneOf","allOf"];for(let s of i)if(s in t){let{[s]:o}=t;t[s]=f6(o,Vs)}if(Rle(t))switch(t.type){case"string":return de(t);case"number":return Ct(t);case"integer":return gce(t);case"boolean":return pt(t);case"object":{let{properties:s,...o}=t;return Me(s,o)}case"array":{let{items:s,...o}=t;return mn(s,o)}}return no(t)}var UC=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),IN=e=>typeof globalThis.structuredClone=="function"?globalThis.structuredClone(e):JSON.parse(JSON.stringify(e)),bce=["maximum","exclusiveMaximum","maxLength","maxItems","maxProperties"],vce=["minimum","exclusiveMinimum","minLength","minItems","minProperties"];function xce(){return{type(e){let t=e.map(n=>Array.isArray(n)?new Set(n):new Set([n])).reduce((n,r)=>n?new Set([...n].filter(i=>r.has(i))):new Set(r));if(!t.size)throw new Error('Incompatible "type" in allOf');return t.size===1?[...t][0]:[...t]},enum(e){let t=e.map(n=>new Set(n)).reduce((n,r)=>new Set([...n].filter(i=>r.has(i))));if(!t.size)throw new Error('Incompatible "enum" in allOf');return[...t]},required(e){return[...new Set(e.flat())]},properties(e,t,n){return e.reduce((r,i)=>n(r,i),{})},patternProperties(e,t,n){return e.reduce((r,i)=>n(r,i),{})},$defs(e,t,n){return e.reduce((r,i)=>n(r,i),{})},definitions(e,t,n){return e.reduce((r,i)=>n(r,i),{})},...Object.fromEntries(bce.map(e=>[e,t=>Math.min(...t)])),...Object.fromEntries(vce.map(e=>[e,t=>Math.max(...t)]))}}function wce(e){let t={...xce(),...e.resolvers};function n(r,i){if(Array.isArray(r)&&Array.isArray(i))return[...new Set([...r,...i])];if(UC(r)&&UC(i)){let s={...r};for(let[o,a]of Object.entries(i))if(o in s){let c=t[o];s[o]=c?c([s[o],a],o,n):IN(a)}else s[o]=IN(a);return s}return IN(i)}return n}var Sce=e=>e===!0||e===!1?e:null;function Ece(e,t={}){let n=t.deep!==!1,r=wce(t);function i(s){if(Array.isArray(s))return s.map(i);if(!UC(s))return s;if(Array.isArray(s.allOf)){let a=s.allOf.map(i);if(a.some(y=>y===!1))return!1;let c=a.filter(y=>y!==!0);if(!c.length)return!0;let u=c.reduce((y,v)=>r(y,v),{}),f=Sce(u);if(f!==null)return f;let m={...s};delete m.allOf;let p=r(u,n?i(m):m);return n?i(p):p}let o={};for(let[a,c]of Object.entries(s))o[a]=i(c);return o}return i(e)}var Nce=(e,t)=>{let n=JSON.parse(JSON.stringify({...t,allOf:e}));return Vs(Ece(n))},_ce=e=>e(new qc({$ref:"#",coerce:(t,n)=>{var i;let r=(i=n==null?void 0:n.resolver)==null?void 0:i.resolve("#");if(!Bi(r))throw new Error("Ref not found: #");return r.coerce(t,n)}}));function m6(e){return typeof e=="string"?`"${e}"`:e===null?"null":String(e)}function p6(e,t,n={}){let{type:r,...i}=n;return`${n.type==="interface"?`interface ${t} `:`type ${t} = `}${ng(e,i)}`}function ng(e,t={}){let n={indent:t.indent??"  ",currentIndent:t.currentIndent??0,fallback:t.fallback??"unknown"};if(!Bi(e))return n.fallback;let r=(s,o=0)=>n.indent.repeat(o)+s,i=n.currentIndent;if(e instanceof bT){let s=e.properties;return r(`{
`)+Object.entries(s).map(([o,a])=>{let c=a.isOptional()?"?":"";return r(`${o}${c}: ${ng(a,{...n,currentIndent:i+1})}`,i+1)}).join(`,
`)+`
`+r("}",i)}else{if(e instanceof GF)return ng(e.items)+"[]";if("anyOf"in e&&Array.isArray(e.anyOf))return e.anyOf.map(s=>ng(s)).join(" | ");if("oneOf"in e&&Array.isArray(e.oneOf))return e.oneOf.map(s=>ng(s)).join(" | ");if(zF(e))return e.toJSON()?"true":"false"}return"const"in e&&typeof e.const<"u"?m6(e.const):"enum"in e&&typeof e.enum<"u"?e.enum.map(s=>m6(s)).join(" | ")??n.fallback:e.type??n.fallback}var Cce=(e,t)=>{try{return t(e)}catch{return e.replace(/(?:%[0-9A-Fa-f]{2})+/g,n=>{try{return t(n)}catch{return n}})}},Oce=decodeURIComponent,jce=/^[\w!#$%&'*.^`|~+-]+$/,Ace=/^[ !#-:<-[\]-~]*$/,Tce=(e,t)=>{const n=e.trim().split(";"),r={};for(let i of n){i=i.trim();const s=i.indexOf("=");if(s===-1)continue;const o=i.substring(0,s).trim();if(!jce.test(o))continue;let a=i.substring(s+1).trim();a.startsWith('"')&&a.endsWith('"')&&(a=a.slice(1,-1)),Ace.test(a)&&(r[o]=a.indexOf("%")!==-1?Cce(a,Oce):a)}return r},$ce=(e,t,n)=>{const r=e.req.raw.headers.get("Cookie");return r?Tce(r):{}},g6=class extends Error{constructor(t=500,n){super(n==null?void 0:n.message,{cause:n==null?void 0:n.cause});K(this,"res");K(this,"status");this.res=n==null?void 0:n.res,this.status=t}getResponse(){return this.res?new Response(this.res.body,{status:this.status,headers:this.res.headers}):new Response(this.message,{status:this.status})}},Rce=(e,t)=>new Response(e,{headers:{"Content-Type":t}}).formData(),kce=/^application\/([a-z-\.]+\+)?json(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/,Mce=/^multipart\/form-data(;\s?boundary=[a-zA-Z0-9'"()+_,\-./:=?]+)?$/,Ice=/^application\/x-www-form-urlencoded(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/,Pce=(e,t)=>async(n,r)=>{let i={};const s=n.req.header("Content-Type");switch(e){case"json":if(!s||!kce.test(s))break;try{i=await n.req.json()}catch{const a="Malformed JSON in request body";throw new g6(400,{message:a})}break;case"form":{if(!s||!(Mce.test(s)||Ice.test(s)))break;let a;if(n.req.bodyCache.formData)a=await n.req.bodyCache.formData;else try{const u=await n.req.arrayBuffer();a=await Rce(u,s),n.req.bodyCache.formData=a}catch(u){let f="Malformed FormData request.";throw f+=u instanceof Error?` ${u.message}`:` ${String(u)}`,new g6(400,{message:f})}const c={};a.forEach((u,f)=>{f.endsWith("[]")?(c[f]??(c[f]=[])).push(u):Array.isArray(c[f])?c[f].push(u):f in c?c[f]=[c[f],u]:c[f]=u}),i=c;break}case"query":i=Object.fromEntries(Object.entries(n.req.queries()).map(([a,c])=>c.length===1?[a,c[0]]:[a,c]));break;case"param":i=n.req.param();break;case"header":i=n.req.header();break;case"cookie":i=$ce(n);break}const o=await t(i,n);if(o instanceof Response)return o;n.req.addValidatedData(e,o),await r()},Dce=Symbol.for("jsonv"),YF=(e,t)=>Object.assign(e,{[Dce]:t}),Ht=(e,t,n,r)=>{let i=Pce(e,async(s,o)=>{let a=(n==null?void 0:n.coerce)!==!1?t.coerce(s,{dropUnknown:n==null?void 0:n.dropUnknown}):s,c=t.validate(a);return c.valid?a:o.json({...c,schema:t},400)});return YF(i,{type:"parameters",skip:n==null?void 0:n.skipOpenAPI,value:{target:e,schema:t}})},Lce={query:"query",param:"path",header:"header",cookie:"cookie"};function Fce(e,t){let n=Lce[t];return{parameters:Object.entries(e.properties).map(([r,i])=>{var s;return{name:r,in:n,required:((s=e.required)==null?void 0:s.includes(r))||void 0,description:(i==null?void 0:i.description)||void 0,schema:structuredClone(i.toJSON())}})}}var Wt=e=>YF(async(t,n)=>{await n()},{type:"route-doc",value:e??{}}),Dp={ConnectionClosed:{code:-32e3,message:"Connection closed"},RequestTimeout:{code:-32001,message:"Request timeout"},ParseError:{code:-32700,message:"Parse error"},InvalidRequest:{code:-32600,message:"Invalid request"},MethodNotFound:{code:-32601,message:"Method not found"},InvalidParams:{code:-32602,message:"Invalid params"},InternalError:{code:-32603,message:"Internal error",statusCode:500}},Bce=class extends Error{constructor(t,n,r){super(r??Dp[t].message);K(this,"jsonrpc","2.0");K(this,"id");this.code=t,this.data=n}static get codes(){return Object.fromEntries(Object.entries(Dp).map(([t,n])=>[t,t]))}setId(t){return this.id=t,this}get statusCode(){var t;return((t=Dp[this.code])==null?void 0:t.statusCode)??400}toJSON(){return{jsonrpc:this.jsonrpc,id:this.id,error:{code:Dp[this.code].code,message:this.message,data:this.data}}}toString(){return`MCP Error (${Dp[this.code].code} ${this.code}): ${this.message}`}},zce=Me({}),XF=Me({jsonrpc:de({const:"2.0"}),id:yce([de(),Ct()]).optional()});Me({...XF.properties,method:de(),params:no().optional()});Me({...XF.properties,result:zce.optional(),error:Me({}).optional()});Me({title:de(),readOnlyHint:pt(),destructiveHint:pt({default:!0}),idempotentHint:pt(),openWorldHint:pt({default:!0})}).partial().strict();var mc=class{constructor(e,t,n){this.name=e,this.config=t,this.handler=n}async call(e,t,n){var r;if((r=this.config)!=null&&r.inputSchema){let i=this.config.inputSchema.validate(e);if(!i.valid)throw new Bce("InvalidParams",{method:this.name,errors:i.errors,given:e,schema:this.config.inputSchema.toJSON()},"Invalid tool parameters")}return await this.handler(e,{context:t,raw:n,text:i=>({type:"text",text:i}),json:i=>({type:"text",text:JSON.stringify(i)})})}toJSON(){var e,t,n,r,i,s,o,a,c;return{name:this.name,title:(e=this.config)==null?void 0:e.title,description:(t=this.config)==null?void 0:t.description,inputSchema:((r=(n=this.config)==null?void 0:n.inputSchema)==null?void 0:r.toJSON())??{type:"object"},outputSchema:(s=(i=this.config)==null?void 0:i.outputSchema)==null?void 0:s.toJSON(),annotations:Object.keys(((o=this.config)==null?void 0:o.annotations)??{}).length>0?(a=this.config)==null?void 0:a.annotations:void 0,_meta:(c=this.config)==null?void 0:c._meta}}};He({name:de(),version:de()});var Vce={emergency:"error",alert:"error",critical:"error",error:"error",warning:"warn",notice:"log",info:"info",debug:"debug"},Uce=Object.keys(Vce),qce="2025-06-18",Hce=class{constructor(e){K(this,"id",1);K(this,"sessionId");this.config=e}async request(e,t){let n={jsonrpc:"2.0",id:this.id++,method:e,params:t},r=new Headers({"Content-Type":"application/json",Accept:"application/json"});this.config.headers&&Object.entries(this.config.headers).forEach(([s,o])=>{r.set(s,o)}),this.sessionId&&r.set("Mcp-Session-Id",this.sessionId);let i=await(this.config.fetch??fetch)(this.config.url,{method:"POST",headers:r,body:JSON.stringify(n)});if(!i.ok)throw new Error(`HTTP ${i.status} ${i.statusText}`);this.sessionId||(this.sessionId=i.headers.get("Mcp-Session-Id")??void 0);try{let s=await i.json();if(s.jsonrpc!=="2.0")throw new Error("Invalid JSON-RPC version");return s.result}catch(s){throw console.error(s),s}}async connect(){return this.request("initialize",{protocolVersion:qce,capabilities:{},clientInfo:{name:this.config.name,version:this.config.version}})}async ping(){return this.request("ping",{})}async setLoggingLevel(e){return this.request("logging/setLevel",{level:e})}async listResources(){return this.request("resources/list",{})}async listResourceTemplates(){return this.request("resources/templates/list",{})}async readResource(e){return this.request("resources/read",e)}async callTool(e){return this.request("tools/call",e)}async listTools(){return this.request("tools/list",{})}},Wce=Symbol("mcp-feature"),oi=(e,t={})=>Object.assign(async(n,r)=>{await r()},{[Wce]:{type:"tool",tool:{name:e,config:t}}});class Gce extends HF{}const Bg=e=>new Gce(e),qC=Symbol("bknd-validation-mark");function Jce(e){const t=structuredClone(e);return KF(t,!1),t}function KF(e,t=!0){try{if(typeof e=="object"&&e!==null&&!Array.isArray(e)){t?e[qC]=!0:delete e[qC];for(const n in e)typeof e[n]=="object"&&e[n]!==null&&KF(e[n],t)}}catch{}}function Yce(e){return typeof e!="object"||e===null?!1:e[qC]===!0}const ld=de({pattern:"^[a-zA-Z_][a-zA-Z0-9_]*$",minLength:2,maxLength:150});class dm extends Yr{constructor(n,r,i=[]){super(`Invalid schema given for ${JSON.stringify(r,null,2)}

Error: ${JSON.stringify(i[0],null,2)}

Schema: ${JSON.stringify(n.toJSON(),null,2)}`);K(this,"name","InvalidSchemaError");K(this,"code",nn.UNPROCESSABLE_ENTITY);this.schema=n,this.value=r,this.errors=i}first(){return this.errors[0]}firstToString(){const n=this.first();return`${n.error} at ${n.instanceLocation}`}}const QF=e=>{const t=e.toJSON();return Vs(t)};function An(e,t,n){if(!(n!=null&&n.forceParse)&&!(n!=null&&n.coerce)&&Yce(t))return t;const r=n!=null&&n.clone?QF(e):e;let i=(n==null?void 0:n.coerce)!==!1?r.coerce(t,{dropUnknown:(n==null?void 0:n.coerceDropUnknown)??!1}):t;(n==null?void 0:n.withDefaults)!==!1&&(i=r.template(i,{withOptional:!0,withExtendedOptional:(n==null?void 0:n.withExtendedDefaults)??!1}));const s=e.validate(i,{shortCircuit:!0,ignoreUnsupported:!0});if(!s.valid)if(n!=null&&n.onError)n.onError(s.errors);else throw new dm(r,t,s.errors);return i}function Ls(e){return["string","number","boolean"].includes(typeof e)}function Xce(e){return[!0,!1,0,1].includes(e)}class Kce{constructor(t,n,r){K(this,"expect");this.key=t,this.valid=n,this.validate=r}}function bn(e,t,n){return hc(typeof e=="string","key must be a string"),hc(e[0]==="$","key must start with '$'"),hc(typeof t=="function","valid must be a function"),hc(typeof n=="function","validate must be a function"),new Kce(e,t,n)}function ZF(e,t){const n=e.find(r=>r.key===t);if(!n)throw new Error(`Expression does not exist: "${t}"`);return n}const y6="$or";function vT(e,t,n=[]){hc(typeof e=="object","$query must be an object");const r=t.map(c=>c.key),i=Object.keys(e??{}),s=[y6],o={};if(i.some(c=>c.startsWith("$")&&!s.includes(c)))throw new Error(`Invalid key '${i}'. Keys must not start with '$'.`);if(n.length>0&&i.some(c=>s.includes(c)))throw new Error(`Operand ${y6} can only appear at the top level.`);function a(c,u,f=[]){if(ZF(t,c).valid(u)===!1)throw new Error(`Given value at "${[...f,c].join(".")}" is invalid, got "${JSON.stringify(u)}"`)}for(const[c,u]of Object.entries(e))if(u!==void 0)if(c==="$or")hc(Ga(u),"$or must be an object"),o.$or=vT(u,t,[...n,c]);else if(Ls(u))a("$eq",u,n),o[c]={$eq:u};else if(Ga(u)){const f=Object.keys(u).filter(m=>!r.includes(m));if(f.length===0){o[c]={};for(const[m,p]of Object.entries(u))a(m,p,[...n,c]),o[c][m]=p}else throw new Error(`Invalid key(s) at "${c}": ${f.join(", ")}. Expected expression key: ${r.join(", ")}.`)}else throw new Error(`Invalid value at "${[...n,c].join(".")}", got "${JSON.stringify(u)}"`);return o}function b6(e,t,n){const r=n.convert?vT(e,t):e,i={$and:[],$or:[],keys:new Set},{$or:s,...o}=r;function a(c,u,f,m=[]){const p=ZF(t,c);if(!p)throw new Error(`Expression does not exist: "${c}"`);if(!p.valid(u))throw new Error(`Invalid value at "${[...m,c].join(".")}", got "${JSON.stringify(u)}"`);return p.validate(u,f,n.exp_ctx)}for(const[c,u]of Object.entries(o))if(u!==void 0)for(const[f,m]of Object.entries(u)){const p=n.value_is_kv?c:Hn(n.object,c);i.$and.push(a(f,m,p,[c])),i.keys.add(c)}for(const[c,u]of Object.entries(s??{})){const f=n.value_is_kv?c:Hn(n.object,c);for(const[m,p]of Object.entries(u))i.$or.push(a(m,p,f,[c])),i.keys.add(c)}return i}function Qce(e){const t={$and:void 0,$or:void 0};return t.$and=e.$and.every(n=>!!n),t.$or=e.$or.some(n=>!!n),!!t.$and||!!t.$or}function eB(e){if(!e.some(t=>t.key==="$eq"))throw new Error("'$eq' expression is required");return{convert:t=>vT(t,e),build:(t,n)=>b6(t,e,n),validate:(t,n)=>{const r=b6(t,e,n);return Qce(r)},expressions:e,expressionKeys:e.map(t=>t.key)}}const Zce=[bn("$eq",e=>Ls(e),(e,t)=>e===t),bn("$ne",e=>Ls(e),(e,t)=>e!==t),bn("$like",e=>Ls(e),(e,t)=>{switch(typeof t){case"string":return t.includes(e);case"number":return t===Number(e);case"boolean":return t===!!e;default:return!1}}),bn("$regex",e=>e instanceof RegExp?!0:typeof e=="string",(e,t)=>e instanceof RegExp?e.test(t):typeof e=="string"?new RegExp(e).test(t):!1),bn("$isnull",e=>!0,(e,t)=>e?t===null:t!==null),bn("$notnull",e=>!0,(e,t)=>e?t!==null:t===null),bn("$in",e=>Array.isArray(e),(e,t)=>e.includes(t)),bn("$notin",e=>Array.isArray(e),(e,t)=>!e.includes(t)),bn("$gt",e=>typeof e=="number",(e,t)=>t>e),bn("$gte",e=>typeof e=="number",(e,t)=>t>=e),bn("$lt",e=>typeof e=="number",(e,t)=>t<e),bn("$lte",e=>typeof e=="number",(e,t)=>t<=e),bn("$between",e=>Array.isArray(e)&&e.length===2&&e.every(t=>typeof t=="number"),(e,t)=>e[0]<=t&&t<=e[1])],eue=eB(Zce),v6=(e,t)=>eue.validate(e,{object:t,convert:!0});class tue extends Yr{constructor(n,r,i){super(`Permission "${n.name}" not granted`);K(this,"name","PermissionsException");K(this,"code",nn.FORBIDDEN);this.permission=n,this.policy=r,this.description=i}toJSON(){var n;return{...super.toJSON(),description:this.description,permission:this.permission.name,policy:(n=this.policy)==null?void 0:n.toJSON()}}}var pC;let Kr=(pC=class{constructor(t){K(this,"_returning");K(this,"params");K(this,"returned",!1);this.params=t}validate(t){throw new nue(this,t)}clone(t){const n=new this.constructor(t);return n.returned=!0,n}},K(pC,"slug","untitled-event"),pC);class $1 extends Error{constructor(t,n){super(`Expected "${t}", got "${n}"`)}}class nue extends Error{constructor(t,n){super(`Event "${t.constructor.slug}" returned without validation`),this.data=n}}class rue{constructor(t,n,r="async",i){K(this,"mode","async");K(this,"event");K(this,"handler");K(this,"once",!1);K(this,"id");this.event=t,this.handler=n,this.mode=r,this.id=i}}class Yy{constructor(t,n){K(this,"events",[]);K(this,"listeners",[]);K(this,"enabled",!0);K(this,"asyncs",[]);var r;this.options=n,t&&this.registerEvents(t),(r=n==null?void 0:n.listeners)==null||r.forEach(i=>this.addListener(i))}enable(){return this.enabled=!0,this}disable(){return this.enabled=!1,this}clearEvents(){return this.events=[],this}clearAll(){return this.clearEvents(),this.listeners=[],this}getListeners(){return[...this.listeners]}get Events(){return new Proxy(this,{get:(t,n)=>this.events.find(r=>r.slug===n)})}eventExists(t){var r;let n;return typeof t=="string"?n=t:n=((r=t.constructor)==null?void 0:r.slug)??t.slug,!!this.events.find(i=>n===i.slug)}throwIfEventNotRegistered(t){var n;if(!this.eventExists(t)){const r=((n=t.constructor)==null?void 0:n.slug)??t.slug??t;throw new Error(`Event "${r}" not registered`)}}registerEvent(t,n=!1){if(this.eventExists(t)){if(n)return this;throw new Error(`Event "${t.name}" already registered.`)}return this.events.push(t),this}registerEvents(t){return(typeof t=="object"?Object.values(t):t).forEach(r=>this.registerEvent(r,!0)),this}addListener(t){return this.throwIfEventNotRegistered(t.event),t.id&&this.listeners.find(r=>r.id===t.id)?(mt.debug(`Listener with id "${t.id}" already exists.`),this):(this.listeners.push(t),this)}createEventListener(t,n,r="async"){const i=typeof t=="string"?this.events.find(a=>a.slug===t):t,s=typeof r=="string"?{mode:r}:r,o=new rue(i,n,s.mode);s.once&&(o.once=!0),s.id&&(o.id=`${i.slug}-${s.id}`),this.addListener(o)}onEvent(t,n,r){this.createEventListener(t,n,r)}on(t,n,r){this.createEventListener(t,n,r)}onAny(t,n){this.events.forEach(r=>this.onEvent(r,t,n))}collectAsyncs(t){this.asyncs.push(...t)}async executeAsyncs(t=n=>Promise.all(n)){if(this.asyncs.length===0)return;const n=[...this.asyncs];this.asyncs=[],await t(n.map(r=>r()))}async emit(t){var o,a,c;const n=t.constructor.slug;if(!this.enabled)return mt.debug("EventManager disabled, not emitting",n),t;if(!this.eventExists(t))throw new Error(`Event "${n}" not registered`);const r=[],i=[];this.listeners=this.listeners.filter(u=>u.event.slug!==n?!0:(u.mode==="sync"?r.push(u):i.push(async()=>{var f;try{await u.handler(t,u.event.slug)}catch(m){(f=this.options)!=null&&f.onError?this.options.onError(t,m):mt.error("Error executing async listener",u,m)}}),!u.once)),this.collectAsyncs(i);let s=t;for(const u of r)try{const f=await u.handler(s,u.event.slug);if(typeof f<"u"){const m=s.validate(f);if(m&&m.constructor.slug===n){if(!m.returned)throw new Error(`Returned event ${m.constructor.slug} must be marked as returned.`);s=m}}}catch(f){if(f instanceof $1)(a=(o=this.options)==null?void 0:o.onInvalidReturn)==null||a.call(o,s,f),mt.warn(`Invalid return of event listener for "${n}": ${f.message}`);else if((c=this.options)!=null&&c.onError)this.options.onError(s,f);else throw f}return s}}function Cx(e){return typeof e>"u"||e===void 0}function Po(e){return typeof e=="string"}function xT(e){return typeof e=="number"}function tB(e){return typeof e=="boolean"}function nB(e){return e===null}function rB(e){return typeof e=="bigint"}function wd(e){return typeof e=="function"}function R1(e){return typeof e=="object"&&e!==null}function Z(e){return Object.freeze(e)}function tv(e){return Cc(e)?e:[e]}function Cc(e){return Array.isArray(e)}const Mi=Z({is(e){return e.kind==="IdentifierNode"},create(e){return Z({kind:"IdentifierNode",name:e})}}),HC=Z({is(e){return e.kind==="SchemableIdentifierNode"},create(e){return Z({kind:"SchemableIdentifierNode",identifier:Mi.create(e)})},createWithSchema(e,t){return Z({kind:"SchemableIdentifierNode",schema:Mi.create(e),identifier:Mi.create(t)})}}),Hc=Z({is(e){return e.kind==="AliasNode"},create(e,t){return Z({kind:"AliasNode",node:e,alias:t})}}),pc=Z({is(e){return e.kind==="TableNode"},create(e){return Z({kind:"TableNode",table:HC.create(e)})},createWithSchema(e,t){return Z({kind:"TableNode",table:HC.createWithSchema(e,t)})}});function ws(e){return R1(e)&&wd(e.toOperationNode)}function iue(e){return R1(e)&&"expressionType"in e&&ws(e)}function sue(e){return R1(e)&&"expression"in e&&Po(e.alias)&&ws(e)}const ua=Z({is(e){return e.kind==="SelectModifierNode"},create(e,t){return Z({kind:"SelectModifierNode",modifier:e,of:t})},createWithExpression(e){return Z({kind:"SelectModifierNode",rawModifier:e})}}),Oc=Z({is(e){return e.kind==="AndNode"},create(e,t){return Z({kind:"AndNode",left:e,right:t})}}),fm=Z({is(e){return e.kind==="OrNode"},create(e,t){return Z({kind:"OrNode",left:e,right:t})}}),PN=Z({is(e){return e.kind==="OnNode"},create(e){return Z({kind:"OnNode",on:e})},cloneWithOperation(e,t,n){return Z({...e,on:t==="And"?Oc.create(e.on,n):fm.create(e.on,n)})}}),fg=Z({is(e){return e.kind==="JoinNode"},create(e,t){return Z({kind:"JoinNode",joinType:e,table:t,on:void 0})},createWithOn(e,t,n){return Z({kind:"JoinNode",joinType:e,table:t,on:PN.create(n)})},cloneWithOn(e,t){return Z({...e,on:e.on?PN.cloneWithOperation(e.on,"And",t):PN.create(t)})}}),Th=Z({is(e){return e.kind==="BinaryOperationNode"},create(e,t,n){return Z({kind:"BinaryOperationNode",leftOperand:e,operator:t,rightOperand:n})}}),oue=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","^@","&&","?","?&","?|","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],aue=["+","-","*","/","%","^","&","|","#","<<",">>"],iB=["->","->>"],lue=[...oue,...aue,"&&","||"],cue=["exists","not exists"],uue=["not","-",...cue],due=[...lue,...iB,...uue,"between","between symmetric"],cd=Z({is(e){return e.kind==="OperatorNode"},create(e){return Z({kind:"OperatorNode",operator:e})}});function x6(e){return Po(e)&&iB.includes(e)}const wT=Z({is(e){return e.kind==="ColumnNode"},create(e){return Z({kind:"ColumnNode",column:Mi.create(e)})}}),sB=Z({is(e){return e.kind==="SelectAllNode"},create(){return Z({kind:"SelectAllNode"})}}),k1=Z({is(e){return e.kind==="ReferenceNode"},create(e,t){return Z({kind:"ReferenceNode",table:t,column:e})},createSelectAll(e){return Z({kind:"ReferenceNode",table:e,column:sB.create()})}});function oB(e){return R1(e)&&ws(e)&&Po(e.dynamicReference)}const WC=Z({is(e){return e.kind==="OrderByItemNode"},create(e,t){return Z({kind:"OrderByItemNode",orderBy:e,direction:t})}}),ji=Z({is(e){return e.kind==="RawNode"},create(e,t){return Z({kind:"RawNode",sqlFragments:Z(e),parameters:Z(t)})},createWithSql(e){return ji.create([e],[])},createWithChild(e){return ji.create(["",""],[e])},createWithChildren(e){return ji.create(new Array(e.length+1).fill(""),e)}});function fue(e){return e==="asc"||e==="desc"}function ST(e){if(e.length===2)return[DN(e[0],e[1])];if(e.length===1){const[t]=e;return Array.isArray(t)?t.map(n=>DN(n)):[DN(t)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${e.length}`)}function DN(e,t){const n=hue(e);if(WC.is(n)){if(t)throw new Error("Cannot specify direction twice!");return n}return WC.create(n,aB(t))}function hue(e){if(D1(e))return P1(e);if(oB(e))return e.toOperationNode();const[t,n]=e.split(" ");if(n){if(!fue(n))throw new Error(`Invalid order by direction: ${n}`);return WC.create(jc(t),aB(n))}return jc(e)}function aB(e){if(e)return e==="asc"||e==="desc"?ji.createWithSql(e):e.toOperationNode()}const Ox=Z({is(e){return e.kind==="JSONReferenceNode"},create(e,t){return Z({kind:"JSONReferenceNode",reference:e,traversal:t})},cloneWithTraversal(e,t){return Z({...e,traversal:t})}}),lB=Z({is(e){return e.kind==="JSONOperatorChainNode"},create(e){return Z({kind:"JSONOperatorChainNode",operator:e,values:Z([])})},cloneWithValue(e,t){return Z({...e,values:Z([...e.values,t])})}}),hg=Z({is(e){return e.kind==="JSONPathNode"},create(e){return Z({kind:"JSONPathNode",inOperator:e,pathLegs:Z([])})},cloneWithLeg(e,t){return Z({...e,pathLegs:Z([...e.pathLegs,t])})}});function mue(e){return Po(e)?jc(e):e.toOperationNode()}function zg(e){return Cc(e)?e.map(t=>is(t)):[is(e)]}function is(e){return D1(e)?P1(e):mue(e)}function pue(e,t){const n=jc(e);if(x6(t))return Ox.create(n,lB.create(cd.create(t)));const r=t.slice(0,-1);if(x6(r))return Ox.create(n,hg.create(cd.create(r)));throw new Error(`Invalid JSON operator: ${t}`)}function jc(e){const t=".";if(!e.includes(t))return k1.create(wT.create(e));const n=e.split(t).map(cB);if(n.length===3)return yue(n);if(n.length===2)return bue(n);throw new Error(`invalid column reference ${e}`)}function gue(e){const t=" as ";if(e.includes(t)){const[n,r]=e.split(t).map(cB);return Hc.create(jc(n),Mi.create(r))}else return jc(e)}function yue(e){const[t,n,r]=e;return k1.create(wT.create(r),pc.createWithSchema(t,n))}function bue(e){const[t,n]=e;return k1.create(wT.create(n),pc.create(t))}function cB(e){return e.trim()}const vue=Z({is(e){return e.kind==="PrimitiveValueListNode"},create(e){return Z({kind:"PrimitiveValueListNode",values:Z([...e])})}}),xue=Z({is(e){return e.kind==="ValueListNode"},create(e){return Z({kind:"ValueListNode",values:Z(e)})}}),Ac=Z({is(e){return e.kind==="ValueNode"},create(e){return Z({kind:"ValueNode",value:e})},createImmediate(e){return Z({kind:"ValueNode",value:e,immediate:!0})}});function wue(e){return Cc(e)?Sue(e):Wr(e)}function Wr(e){return D1(e)?P1(e):Ac.create(e)}function ET(e){return xT(e)||tB(e)||nB(e)}function NT(e){if(!ET(e))throw new Error(`unsafe immediate value ${JSON.stringify(e)}`);return Ac.createImmediate(e)}function Sue(e){return e.some(D1)?xue.create(e.map(t=>Wr(t))):vue.create(e)}const Vg=Z({is(e){return e.kind==="ParensNode"},create(e){return Z({kind:"ParensNode",node:e})}});function ro(e){if(e.length===3)return _T(e[0],e[1],e[2]);if(e.length===1)return Wr(e[0]);throw new Error(`invalid arguments: ${JSON.stringify(e)}`)}function _T(e,t,n){return Eue(t)&&uB(n)?Th.create(is(e),JC(t),Ac.createImmediate(n)):Th.create(is(e),JC(t),wue(n))}function Ug(e,t,n){return Th.create(is(e),JC(t),is(n))}function w6(e,t){return GC(Object.entries(e).filter(([,n])=>!Cx(n)).map(([n,r])=>_T(n,uB(r)?"is":"=",r)),t)}function GC(e,t,n=!0){const r=t==="and"?Oc.create:fm.create;if(e.length===0)return Th.create(Ac.createImmediate(1),cd.create("="),Ac.createImmediate(t==="and"?1:0));let i=S6(e[0]);for(let s=1;s<e.length;++s)i=r(i,S6(e[s]));return e.length>1&&n?Vg.create(i):i}function Eue(e){return e==="is"||e==="is not"}function uB(e){return nB(e)||tB(e)}function JC(e){if(Po(e)&&due.includes(e))return cd.create(e);if(ws(e))return e.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(e)}`)}function S6(e){return ws(e)?e.toOperationNode():e}const Tc=Z({is(e){return e.kind==="OrderByNode"},create(e){return Z({kind:"OrderByNode",items:Z([...e])})},cloneWithItems(e,t){return Z({...e,items:Z([...e.items,...t])})}}),E6=Z({is(e){return e.kind==="PartitionByNode"},create(e){return Z({kind:"PartitionByNode",items:Z(e)})},cloneWithItems(e,t){return Z({...e,items:Z([...e.items,...t])})}}),YC=Z({is(e){return e.kind==="OverNode"},create(){return Z({kind:"OverNode"})},cloneWithOrderByItems(e,t){return Z({...e,orderBy:e.orderBy?Tc.cloneWithItems(e.orderBy,t):Tc.create(t)})},cloneWithPartitionByItems(e,t){return Z({...e,partitionBy:e.partitionBy?E6.cloneWithItems(e.partitionBy,t):E6.create(t)})}}),jx=Z({is(e){return e.kind==="FromNode"},create(e){return Z({kind:"FromNode",froms:Z(e)})},cloneWithFroms(e,t){return Z({...e,froms:Z([...e.froms,...t])})}}),N6=Z({is(e){return e.kind==="GroupByNode"},create(e){return Z({kind:"GroupByNode",items:Z(e)})},cloneWithItems(e,t){return Z({...e,items:Z([...e.items,...t])})}}),_6=Z({is(e){return e.kind==="HavingNode"},create(e){return Z({kind:"HavingNode",having:e})},cloneWithOperation(e,t,n){return Z({...e,having:t==="And"?Oc.create(e.having,n):fm.create(e.having,n)})}}),cn=Z({is(e){return e.kind==="SelectQueryNode"},create(e){return Z({kind:"SelectQueryNode",...e&&{with:e}})},createFrom(e,t){return Z({kind:"SelectQueryNode",from:jx.create(e),...t&&{with:t}})},cloneWithSelections(e,t){return Z({...e,selections:e.selections?Z([...e.selections,...t]):Z(t)})},cloneWithDistinctOn(e,t){return Z({...e,distinctOn:e.distinctOn?Z([...e.distinctOn,...t]):Z(t)})},cloneWithFrontModifier(e,t){return Z({...e,frontModifiers:e.frontModifiers?Z([...e.frontModifiers,t]):Z([t])})},cloneWithOrderByItems(e,t){return Z({...e,orderBy:e.orderBy?Tc.cloneWithItems(e.orderBy,t):Tc.create(t)})},cloneWithGroupByItems(e,t){return Z({...e,groupBy:e.groupBy?N6.cloneWithItems(e.groupBy,t):N6.create(t)})},cloneWithLimit(e,t){return Z({...e,limit:t})},cloneWithOffset(e,t){return Z({...e,offset:t})},cloneWithFetch(e,t){return Z({...e,fetch:t})},cloneWithHaving(e,t){return Z({...e,having:e.having?_6.cloneWithOperation(e.having,"And",t):_6.create(t)})},cloneWithSetOperations(e,t){return Z({...e,setOperations:e.setOperations?Z([...e.setOperations,...t]):Z([...t])})},cloneWithoutSelections(e){return Z({...e,selections:[]})},cloneWithoutLimit(e){return Z({...e,limit:void 0})},cloneWithoutOffset(e){return Z({...e,offset:void 0})},cloneWithoutOrderBy(e){return Z({...e,orderBy:void 0})},cloneWithoutGroupBy(e){return Z({...e,groupBy:void 0})}});function Sd(e,t){Object.defineProperties(e.prototype,{then:{enumerable:!1,value:()=>{throw new Error(t)}}})}var Ms,Nc;let dB=(Nc=class{constructor(t){Be(this,Ms);ze(this,Ms,Z(t))}on(...t){return new Nc({...J(this,Ms),joinNode:fg.cloneWithOn(J(this,Ms).joinNode,ro(t))})}onRef(t,n,r){return new Nc({...J(this,Ms),joinNode:fg.cloneWithOn(J(this,Ms).joinNode,Ug(t,n,r))})}onTrue(){return new Nc({...J(this,Ms),joinNode:fg.cloneWithOn(J(this,Ms).joinNode,ji.createWithSql("true"))})}$call(t){return t(this)}toOperationNode(){return J(this,Ms).joinNode}},Ms=new WeakMap,Nc);Sd(dB,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const Nue=Z({is(e){return e.kind==="PartitionByItemNode"},create(e){return Z({kind:"PartitionByItemNode",partitionBy:e})}});function _ue(e){return zg(e).map(Nue.create)}var Bu;const Pw=class Pw{constructor(t){Be(this,Bu);ze(this,Bu,Z(t))}orderBy(t,n){return new Pw({overNode:YC.cloneWithOrderByItems(J(this,Bu).overNode,ST([t,n]))})}partitionBy(t){return new Pw({overNode:YC.cloneWithPartitionByItems(J(this,Bu).overNode,_ue(t))})}$call(t){return t(this)}toOperationNode(){return J(this,Bu).overNode}};Bu=new WeakMap;let Ax=Pw;Sd(Ax,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const mg=Z({is(e){return e.kind==="SelectionNode"},create(e){return Z({kind:"SelectionNode",selection:e})},createSelectAll(){return Z({kind:"SelectionNode",selection:sB.create()})},createSelectAllFromTable(e){return Z({kind:"SelectionNode",selection:k1.createSelectAll(e)})}});function fB(e){return wd(e)?fB(e(I1())):Cc(e)?e.map(t=>C6(t)):[C6(e)]}function C6(e){return Po(e)?mg.create(gue(e)):oB(e)?mg.create(e.toOperationNode()):mg.create(wB(e))}function hB(e){return e?Array.isArray(e)?e.map(O6):[O6(e)]:[mg.createSelectAll()]}function O6(e){if(Po(e))return mg.createSelectAllFromTable(Gs(e));throw new Error(`invalid value selectAll expression: ${JSON.stringify(e)}`)}const Cue=Z({is(e){return e.kind==="InsertQueryNode"},create(e,t,n){return Z({kind:"InsertQueryNode",into:e,...t&&{with:t},replace:n})},createWithoutInto(){return Z({kind:"InsertQueryNode"})},cloneWith(e,t){return Z({...e,...t})}}),Oue=Z({is(e){return e.kind==="UpdateQueryNode"},create(e,t){return Z({kind:"UpdateQueryNode",table:e,...t&&{with:t}})},createWithoutTable(){return Z({kind:"UpdateQueryNode"})},cloneWithFromItems(e,t){return Z({...e,from:e.from?jx.cloneWithFroms(e.from,t):jx.create(t)})},cloneWithUpdates(e,t){return Z({...e,updates:e.updates?Z([...e.updates,...t]):t})},cloneWithLimit(e,t){return Z({...e,limit:t})}}),j6=Z({is(e){return e.kind==="UsingNode"},create(e){return Z({kind:"UsingNode",tables:Z(e)})},cloneWithTables(e,t){return Z({...e,tables:Z([...e.tables,...t])})}}),jue=Z({is(e){return e.kind==="DeleteQueryNode"},create(e,t){return Z({kind:"DeleteQueryNode",from:jx.create(e),...t&&{with:t}})},cloneWithOrderByItems(e,t){return Z({...e,orderBy:e.orderBy?Tc.cloneWithItems(e.orderBy,t):Tc.create(t)})},cloneWithoutOrderBy(e){return Z({...e,orderBy:void 0})},cloneWithLimit(e,t){return Z({...e,limit:t})},cloneWithoutLimit(e){return Z({...e,limit:void 0})},cloneWithUsing(e,t){return Z({...e,using:e.using!==void 0?j6.cloneWithTables(e.using,t):j6.create(t)})}}),zf=Z({is(e){return e.kind==="WhereNode"},create(e){return Z({kind:"WhereNode",where:e})},cloneWithOperation(e,t,n){return Z({...e,where:t==="And"?Oc.create(e.where,n):fm.create(e.where,n)})}}),A6=Z({is(e){return e.kind==="ReturningNode"},create(e){return Z({kind:"ReturningNode",selections:Z(e)})},cloneWithSelections(e,t){return Z({...e,selections:e.selections?Z([...e.selections,...t]):Z(t)})}}),Aue=Z({is(e){return e.kind==="ExplainNode"},create(e,t){return Z({kind:"ExplainNode",format:e,options:t})}}),M1=Z({is(e){return e.kind==="WhenNode"},create(e){return Z({kind:"WhenNode",condition:e})},cloneWithResult(e,t){return Z({...e,result:t})}}),Tue=Z({is(e){return e.kind==="MergeQueryNode"},create(e,t){return Z({kind:"MergeQueryNode",into:e,...t&&{with:t}})},cloneWithUsing(e,t){return Z({...e,using:t})},cloneWithWhen(e,t){return Z({...e,whens:e.whens?Z([...e.whens,t]):Z([t])})},cloneWithThen(e,t){return Z({...e,whens:e.whens?Z([...e.whens.slice(0,-1),M1.cloneWithResult(e.whens[e.whens.length-1],t)]):void 0})}}),T6=Z({is(e){return e.kind==="OutputNode"},create(e){return Z({kind:"OutputNode",selections:Z(e)})},cloneWithSelections(e,t){return Z({...e,selections:e.selections?Z([...e.selections,...t]):Z(t)})}}),ar=Z({is(e){return cn.is(e)||Cue.is(e)||Oue.is(e)||jue.is(e)||Tue.is(e)},cloneWithEndModifier(e,t){return Z({...e,endModifiers:e.endModifiers?Z([...e.endModifiers,t]):Z([t])})},cloneWithWhere(e,t){return Z({...e,where:e.where?zf.cloneWithOperation(e.where,"And",t):zf.create(t)})},cloneWithJoin(e,t){return Z({...e,joins:e.joins?Z([...e.joins,t]):Z([t])})},cloneWithReturning(e,t){return Z({...e,returning:e.returning?A6.cloneWithSelections(e.returning,t):A6.create(t)})},cloneWithoutReturning(e){return Z({...e,returning:void 0})},cloneWithoutWhere(e){return Z({...e,where:void 0})},cloneWithExplain(e,t,n){return Z({...e,explain:Aue.create(t,n==null?void 0:n.toOperationNode())})},cloneWithTop(e,t){return Z({...e,top:t})},cloneWithOutput(e,t){return Z({...e,output:e.output?T6.cloneWithSelections(e.output,t):T6.create(t)})}});class $ue extends Error{constructor(n){super("no result");K(this,"node");this.node=n}}function Rue(e){return Object.prototype.hasOwnProperty.call(e,"prototype")}const kue=Z({is(e){return e.kind==="TopNode"},create(e,t){return Z({kind:"TopNode",expression:e,modifiers:t})}});function Mue(e,t){if(!xT(e)&&!rB(e))throw new Error(`Invalid top expression: ${e}`);if(!Cx(t)&&!Iue(t))throw new Error(`Invalid top modifiers: ${t}`);return kue.create(e,t)}function Iue(e){return e==="percent"||e==="with ties"||e==="percent with ties"}const Pue=Z({is(e){return e.kind==="LimitNode"},create(e){return Z({kind:"LimitNode",limit:e})}}),$6=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function Due(e){let t="";for(let n=0;n<e;++n)t+=Lue();return t}function Lue(){return $6[~~(Math.random()*$6.length)]}function ma(){return new Fue}var sh;class Fue{constructor(){Be(this,sh)}get queryId(){return J(this,sh)===void 0&&ze(this,sh,Due(8)),J(this,sh)}}sh=new WeakMap;var Dw;class Bue{constructor(){K(this,"nodeStack",[]);Be(this,Dw,Z({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this),OutputNode:this.transformOutput.bind(this)}))}transformNode(t){if(!t)return t;this.nodeStack.push(t);const n=this.transformNodeImpl(t);return this.nodeStack.pop(),Z(n)}transformNodeImpl(t){return J(this,Dw)[t.kind](t)}transformNodeList(t){return t&&Z(t.map(n=>this.transformNode(n)))}transformSelectQuery(t){return{kind:"SelectQueryNode",from:this.transformNode(t.from),selections:this.transformNodeList(t.selections),distinctOn:this.transformNodeList(t.distinctOn),joins:this.transformNodeList(t.joins),groupBy:this.transformNode(t.groupBy),orderBy:this.transformNode(t.orderBy),where:this.transformNode(t.where),frontModifiers:this.transformNodeList(t.frontModifiers),endModifiers:this.transformNodeList(t.endModifiers),limit:this.transformNode(t.limit),offset:this.transformNode(t.offset),with:this.transformNode(t.with),having:this.transformNode(t.having),explain:this.transformNode(t.explain),setOperations:this.transformNodeList(t.setOperations),fetch:this.transformNode(t.fetch),top:this.transformNode(t.top)}}transformSelection(t){return{kind:"SelectionNode",selection:this.transformNode(t.selection)}}transformColumn(t){return{kind:"ColumnNode",column:this.transformNode(t.column)}}transformAlias(t){return{kind:"AliasNode",node:this.transformNode(t.node),alias:this.transformNode(t.alias)}}transformTable(t){return{kind:"TableNode",table:this.transformNode(t.table)}}transformFrom(t){return{kind:"FromNode",froms:this.transformNodeList(t.froms)}}transformReference(t){return{kind:"ReferenceNode",column:this.transformNode(t.column),table:this.transformNode(t.table)}}transformAnd(t){return{kind:"AndNode",left:this.transformNode(t.left),right:this.transformNode(t.right)}}transformOr(t){return{kind:"OrNode",left:this.transformNode(t.left),right:this.transformNode(t.right)}}transformValueList(t){return{kind:"ValueListNode",values:this.transformNodeList(t.values)}}transformParens(t){return{kind:"ParensNode",node:this.transformNode(t.node)}}transformJoin(t){return{kind:"JoinNode",joinType:t.joinType,table:this.transformNode(t.table),on:this.transformNode(t.on)}}transformRaw(t){return{kind:"RawNode",sqlFragments:Z([...t.sqlFragments]),parameters:this.transformNodeList(t.parameters)}}transformWhere(t){return{kind:"WhereNode",where:this.transformNode(t.where)}}transformInsertQuery(t){return{kind:"InsertQueryNode",into:this.transformNode(t.into),columns:this.transformNodeList(t.columns),values:this.transformNode(t.values),returning:this.transformNode(t.returning),onConflict:this.transformNode(t.onConflict),onDuplicateKey:this.transformNode(t.onDuplicateKey),endModifiers:this.transformNodeList(t.endModifiers),with:this.transformNode(t.with),ignore:t.ignore,replace:t.replace,explain:this.transformNode(t.explain),defaultValues:t.defaultValues,top:this.transformNode(t.top),output:this.transformNode(t.output)}}transformValues(t){return{kind:"ValuesNode",values:this.transformNodeList(t.values)}}transformDeleteQuery(t){return{kind:"DeleteQueryNode",from:this.transformNode(t.from),using:this.transformNode(t.using),joins:this.transformNodeList(t.joins),where:this.transformNode(t.where),returning:this.transformNode(t.returning),endModifiers:this.transformNodeList(t.endModifiers),with:this.transformNode(t.with),orderBy:this.transformNode(t.orderBy),limit:this.transformNode(t.limit),explain:this.transformNode(t.explain),top:this.transformNode(t.top),output:this.transformNode(t.output)}}transformReturning(t){return{kind:"ReturningNode",selections:this.transformNodeList(t.selections)}}transformCreateTable(t){return{kind:"CreateTableNode",table:this.transformNode(t.table),columns:this.transformNodeList(t.columns),constraints:this.transformNodeList(t.constraints),temporary:t.temporary,ifNotExists:t.ifNotExists,onCommit:t.onCommit,frontModifiers:this.transformNodeList(t.frontModifiers),endModifiers:this.transformNodeList(t.endModifiers),selectQuery:this.transformNode(t.selectQuery)}}transformColumnDefinition(t){return{kind:"ColumnDefinitionNode",column:this.transformNode(t.column),dataType:this.transformNode(t.dataType),references:this.transformNode(t.references),primaryKey:t.primaryKey,autoIncrement:t.autoIncrement,unique:t.unique,notNull:t.notNull,unsigned:t.unsigned,defaultTo:this.transformNode(t.defaultTo),check:this.transformNode(t.check),generated:this.transformNode(t.generated),frontModifiers:this.transformNodeList(t.frontModifiers),endModifiers:this.transformNodeList(t.endModifiers),nullsNotDistinct:t.nullsNotDistinct,identity:t.identity,ifNotExists:t.ifNotExists}}transformAddColumn(t){return{kind:"AddColumnNode",column:this.transformNode(t.column)}}transformDropTable(t){return{kind:"DropTableNode",table:this.transformNode(t.table),ifExists:t.ifExists,cascade:t.cascade}}transformOrderBy(t){return{kind:"OrderByNode",items:this.transformNodeList(t.items)}}transformOrderByItem(t){return{kind:"OrderByItemNode",orderBy:this.transformNode(t.orderBy),direction:this.transformNode(t.direction)}}transformGroupBy(t){return{kind:"GroupByNode",items:this.transformNodeList(t.items)}}transformGroupByItem(t){return{kind:"GroupByItemNode",groupBy:this.transformNode(t.groupBy)}}transformUpdateQuery(t){return{kind:"UpdateQueryNode",table:this.transformNode(t.table),from:this.transformNode(t.from),joins:this.transformNodeList(t.joins),where:this.transformNode(t.where),updates:this.transformNodeList(t.updates),returning:this.transformNode(t.returning),endModifiers:this.transformNodeList(t.endModifiers),with:this.transformNode(t.with),explain:this.transformNode(t.explain),limit:this.transformNode(t.limit),top:this.transformNode(t.top),output:this.transformNode(t.output)}}transformColumnUpdate(t){return{kind:"ColumnUpdateNode",column:this.transformNode(t.column),value:this.transformNode(t.value)}}transformLimit(t){return{kind:"LimitNode",limit:this.transformNode(t.limit)}}transformOffset(t){return{kind:"OffsetNode",offset:this.transformNode(t.offset)}}transformOnConflict(t){return{kind:"OnConflictNode",columns:this.transformNodeList(t.columns),constraint:this.transformNode(t.constraint),indexExpression:this.transformNode(t.indexExpression),indexWhere:this.transformNode(t.indexWhere),updates:this.transformNodeList(t.updates),updateWhere:this.transformNode(t.updateWhere),doNothing:t.doNothing}}transformOnDuplicateKey(t){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(t.updates)}}transformCreateIndex(t){return{kind:"CreateIndexNode",name:this.transformNode(t.name),table:this.transformNode(t.table),columns:this.transformNodeList(t.columns),unique:t.unique,using:this.transformNode(t.using),ifNotExists:t.ifNotExists,where:this.transformNode(t.where),nullsNotDistinct:t.nullsNotDistinct}}transformList(t){return{kind:"ListNode",items:this.transformNodeList(t.items)}}transformDropIndex(t){return{kind:"DropIndexNode",name:this.transformNode(t.name),table:this.transformNode(t.table),ifExists:t.ifExists,cascade:t.cascade}}transformPrimaryKeyConstraint(t){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(t.columns),name:this.transformNode(t.name)}}transformUniqueConstraint(t){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(t.columns),name:this.transformNode(t.name),nullsNotDistinct:t.nullsNotDistinct}}transformForeignKeyConstraint(t){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(t.columns),references:this.transformNode(t.references),name:this.transformNode(t.name),onDelete:t.onDelete,onUpdate:t.onUpdate}}transformSetOperation(t){return{kind:"SetOperationNode",operator:t.operator,expression:this.transformNode(t.expression),all:t.all}}transformReferences(t){return{kind:"ReferencesNode",table:this.transformNode(t.table),columns:this.transformNodeList(t.columns),onDelete:t.onDelete,onUpdate:t.onUpdate}}transformCheckConstraint(t){return{kind:"CheckConstraintNode",expression:this.transformNode(t.expression),name:this.transformNode(t.name)}}transformWith(t){return{kind:"WithNode",expressions:this.transformNodeList(t.expressions),recursive:t.recursive}}transformCommonTableExpression(t){return{kind:"CommonTableExpressionNode",name:this.transformNode(t.name),materialized:t.materialized,expression:this.transformNode(t.expression)}}transformCommonTableExpressionName(t){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(t.table),columns:this.transformNodeList(t.columns)}}transformHaving(t){return{kind:"HavingNode",having:this.transformNode(t.having)}}transformCreateSchema(t){return{kind:"CreateSchemaNode",schema:this.transformNode(t.schema),ifNotExists:t.ifNotExists}}transformDropSchema(t){return{kind:"DropSchemaNode",schema:this.transformNode(t.schema),ifExists:t.ifExists,cascade:t.cascade}}transformAlterTable(t){return{kind:"AlterTableNode",table:this.transformNode(t.table),renameTo:this.transformNode(t.renameTo),setSchema:this.transformNode(t.setSchema),columnAlterations:this.transformNodeList(t.columnAlterations),addConstraint:this.transformNode(t.addConstraint),dropConstraint:this.transformNode(t.dropConstraint),addIndex:this.transformNode(t.addIndex),dropIndex:this.transformNode(t.dropIndex)}}transformDropColumn(t){return{kind:"DropColumnNode",column:this.transformNode(t.column)}}transformRenameColumn(t){return{kind:"RenameColumnNode",column:this.transformNode(t.column),renameTo:this.transformNode(t.renameTo)}}transformAlterColumn(t){return{kind:"AlterColumnNode",column:this.transformNode(t.column),dataType:this.transformNode(t.dataType),dataTypeExpression:this.transformNode(t.dataTypeExpression),setDefault:this.transformNode(t.setDefault),dropDefault:t.dropDefault,setNotNull:t.setNotNull,dropNotNull:t.dropNotNull}}transformModifyColumn(t){return{kind:"ModifyColumnNode",column:this.transformNode(t.column)}}transformAddConstraint(t){return{kind:"AddConstraintNode",constraint:this.transformNode(t.constraint)}}transformDropConstraint(t){return{kind:"DropConstraintNode",constraintName:this.transformNode(t.constraintName),ifExists:t.ifExists,modifier:t.modifier}}transformCreateView(t){return{kind:"CreateViewNode",name:this.transformNode(t.name),temporary:t.temporary,orReplace:t.orReplace,ifNotExists:t.ifNotExists,materialized:t.materialized,columns:this.transformNodeList(t.columns),as:this.transformNode(t.as)}}transformDropView(t){return{kind:"DropViewNode",name:this.transformNode(t.name),ifExists:t.ifExists,materialized:t.materialized,cascade:t.cascade}}transformGenerated(t){return{kind:"GeneratedNode",byDefault:t.byDefault,always:t.always,identity:t.identity,stored:t.stored,expression:this.transformNode(t.expression)}}transformDefaultValue(t){return{kind:"DefaultValueNode",defaultValue:this.transformNode(t.defaultValue)}}transformOn(t){return{kind:"OnNode",on:this.transformNode(t.on)}}transformSelectModifier(t){return{kind:"SelectModifierNode",modifier:t.modifier,rawModifier:this.transformNode(t.rawModifier),of:this.transformNodeList(t.of)}}transformCreateType(t){return{kind:"CreateTypeNode",name:this.transformNode(t.name),enum:this.transformNode(t.enum)}}transformDropType(t){return{kind:"DropTypeNode",name:this.transformNode(t.name),ifExists:t.ifExists}}transformExplain(t){return{kind:"ExplainNode",format:t.format,options:this.transformNode(t.options)}}transformSchemableIdentifier(t){return{kind:"SchemableIdentifierNode",schema:this.transformNode(t.schema),identifier:this.transformNode(t.identifier)}}transformAggregateFunction(t){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(t.aggregated),distinct:t.distinct,orderBy:this.transformNode(t.orderBy),filter:this.transformNode(t.filter),func:t.func,over:this.transformNode(t.over)}}transformOver(t){return{kind:"OverNode",orderBy:this.transformNode(t.orderBy),partitionBy:this.transformNode(t.partitionBy)}}transformPartitionBy(t){return{kind:"PartitionByNode",items:this.transformNodeList(t.items)}}transformPartitionByItem(t){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(t.partitionBy)}}transformBinaryOperation(t){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(t.leftOperand),operator:this.transformNode(t.operator),rightOperand:this.transformNode(t.rightOperand)}}transformUnaryOperation(t){return{kind:"UnaryOperationNode",operator:this.transformNode(t.operator),operand:this.transformNode(t.operand)}}transformUsing(t){return{kind:"UsingNode",tables:this.transformNodeList(t.tables)}}transformFunction(t){return{kind:"FunctionNode",func:t.func,arguments:this.transformNodeList(t.arguments)}}transformCase(t){return{kind:"CaseNode",value:this.transformNode(t.value),when:this.transformNodeList(t.when),else:this.transformNode(t.else),isStatement:t.isStatement}}transformWhen(t){return{kind:"WhenNode",condition:this.transformNode(t.condition),result:this.transformNode(t.result)}}transformJSONReference(t){return{kind:"JSONReferenceNode",reference:this.transformNode(t.reference),traversal:this.transformNode(t.traversal)}}transformJSONPath(t){return{kind:"JSONPathNode",inOperator:this.transformNode(t.inOperator),pathLegs:this.transformNodeList(t.pathLegs)}}transformJSONPathLeg(t){return{kind:"JSONPathLegNode",type:t.type,value:t.value}}transformJSONOperatorChain(t){return{kind:"JSONOperatorChainNode",operator:this.transformNode(t.operator),values:this.transformNodeList(t.values)}}transformTuple(t){return{kind:"TupleNode",values:this.transformNodeList(t.values)}}transformMergeQuery(t){return{kind:"MergeQueryNode",into:this.transformNode(t.into),using:this.transformNode(t.using),whens:this.transformNodeList(t.whens),with:this.transformNode(t.with),top:this.transformNode(t.top),endModifiers:this.transformNodeList(t.endModifiers),output:this.transformNode(t.output)}}transformMatched(t){return{kind:"MatchedNode",not:t.not,bySource:t.bySource}}transformAddIndex(t){return{kind:"AddIndexNode",name:this.transformNode(t.name),columns:this.transformNodeList(t.columns),unique:t.unique,using:this.transformNode(t.using),ifNotExists:t.ifNotExists}}transformCast(t){return{kind:"CastNode",expression:this.transformNode(t.expression),dataType:this.transformNode(t.dataType)}}transformFetch(t){return{kind:"FetchNode",rowCount:this.transformNode(t.rowCount),modifier:t.modifier}}transformTop(t){return{kind:"TopNode",expression:t.expression,modifiers:t.modifiers}}transformOutput(t){return{kind:"OutputNode",selections:this.transformNodeList(t.selections)}}transformDataType(t){return t}transformSelectAll(t){return t}transformIdentifier(t){return t}transformValue(t){return t}transformPrimitiveValueList(t){return t}transformOperator(t){return t}transformDefaultInsertValue(t){return t}}Dw=new WeakMap;const zue=Z({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0}),Vue={json_agg:!0,to_json:!0};var oh,zu,Vu,On,XC,mB,pB,gB,Mf,KC,yB;class Uue extends Bue{constructor(n){super();Be(this,On);Be(this,oh);Be(this,zu,new Set);Be(this,Vu,new Set);ze(this,oh,n)}transformNodeImpl(n){if(!ot(this,On,mB).call(this,n))return super.transformNodeImpl(n);const r=ot(this,On,gB).call(this,n);for(const o of r)J(this,Vu).add(o);const i=ot(this,On,pB).call(this,n);for(const o of i)J(this,zu).add(o);const s=super.transformNodeImpl(n);for(const o of i)J(this,zu).delete(o);for(const o of r)J(this,Vu).delete(o);return s}transformSchemableIdentifier(n){const r=super.transformSchemableIdentifier(n);return r.schema||!J(this,zu).has(n.identifier.name)?r:{...r,schema:Mi.create(J(this,oh))}}transformReferences(n){const r=super.transformReferences(n);return r.table.table.schema?r:{...r,table:pc.createWithSchema(J(this,oh),r.table.table.identifier.name)}}transformAggregateFunction(n){return{...super.transformAggregateFunction({...n,aggregated:[]}),aggregated:ot(this,On,XC).call(this,n,"aggregated")}}transformFunction(n){return{...super.transformFunction({...n,arguments:[]}),arguments:ot(this,On,XC).call(this,n,"arguments")}}}oh=new WeakMap,zu=new WeakMap,Vu=new WeakMap,On=new WeakSet,XC=function(n,r){return Vue[n.func]?n[r].map(i=>!pc.is(i)||i.table.schema?this.transformNode(i):{...i,table:this.transformIdentifier(i.table.identifier)}):this.transformNodeList(n[r])},mB=function(n){return n.kind in zue},pB=function(n){const r=new Set;if("name"in n&&n.name&&HC.is(n.name)&&ot(this,On,KC).call(this,n.name,r),"from"in n&&n.from)for(const i of n.from.froms)ot(this,On,Mf).call(this,i,r);if("into"in n&&n.into&&ot(this,On,Mf).call(this,n.into,r),"table"in n&&n.table&&ot(this,On,Mf).call(this,n.table,r),"joins"in n&&n.joins)for(const i of n.joins)ot(this,On,Mf).call(this,i.table,r);return"using"in n&&n.using&&ot(this,On,Mf).call(this,n.using,r),r},gB=function(n){const r=new Set;return"with"in n&&n.with&&ot(this,On,yB).call(this,n.with,r),r},Mf=function(n,r){const i=pc.is(n)?n:Hc.is(n)&&pc.is(n.node)?n.node:null;i&&ot(this,On,KC).call(this,i.table,r)},KC=function(n,r){const i=n.identifier.name;!J(this,zu).has(i)&&!J(this,Vu).has(i)&&r.add(i)},yB=function(n,r){for(const i of n.expressions){const s=i.name.table.table.identifier.name;J(this,Vu).has(s)||r.add(s)}};var Ay;class que{constructor(t){Be(this,Ay);ze(this,Ay,new Uue(t))}transformQuery(t){return J(this,Ay).transformNode(t.node)}async transformResult(t){return t.result}}Ay=new WeakMap;var Ty,ah,lh;class R6{constructor(){Be(this,Ty);Be(this,ah);Be(this,lh);K(this,"resolve",t=>{J(this,ah)&&J(this,ah).call(this,t)});K(this,"reject",t=>{J(this,lh)&&J(this,lh).call(this,t)});ze(this,Ty,new Promise((t,n)=>{ze(this,lh,n),ze(this,ah,t)}))}get promise(){return J(this,Ty)}}Ty=new WeakMap,ah=new WeakMap,lh=new WeakMap;const k6=new Set;function Hue(e){k6.has(e)||(k6.add(e),console.log(e))}const Wue=Z([]);var Uu,$y,QC;class Gue{constructor(t=Wue){Be(this,$y);Be(this,Uu);ze(this,Uu,t)}get plugins(){return J(this,Uu)}transformQuery(t,n){for(const r of J(this,Uu)){const i=r.transformQuery({node:t,queryId:n});if(i.kind===t.kind)t=i;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${t.kind}`,`but it returned a ${i.kind}`].join(" "))}return t}async executeQuery(t,n){return await this.provideConnection(async r=>{const i=await r.executeQuery(t),s=await ot(this,$y,QC).call(this,i,n);return Jue(i,s),s})}async*stream(t,n,r){const i=new R6,s=new R6;this.provideConnection(async a=>(i.resolve(a),await s.promise)).catch(a=>i.reject(a));const o=await i.promise;try{for await(const a of o.streamQuery(t,n))yield await ot(this,$y,QC).call(this,a,r)}finally{s.resolve()}}}Uu=new WeakMap,$y=new WeakSet,QC=async function(t,n){for(const r of J(this,Uu))t=await r.transformResult({result:t,queryId:n});return t};function Jue(e,t){const{numAffectedRows:n}=e;n===void 0&&e.numUpdatedOrDeletedRows===void 0||n!==void 0&&t.numAffectedRows!==void 0||Hue("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class Vf extends Gue{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(t){return new Vf([...this.plugins,t])}withPlugins(t){return new Vf([...this.plugins,...t])}withPluginAtFront(t){return new Vf([t,...this.plugins])}withoutPlugins(){return new Vf([])}}const bB=new Vf;function Yue(e,t){return new dB({joinNode:fg.create(e,Rx(t))})}function Xue(){return new Ax({overNode:YC.create()})}function _f(e,t){if(t.length===3)return Que(e,t[0],t[1],t[2]);if(t.length===2)return Kue(e,t[0],t[1]);throw new Error("not implemented")}function Kue(e,t,n){return n(Yue(e,t)).toOperationNode()}function Que(e,t,n,r){return fg.createWithOn(e,Rx(t),Ug(n,"=",r))}const Zue=Z({is(e){return e.kind==="OffsetNode"},create(e){return Z({kind:"OffsetNode",offset:e})}}),ede=Z({is(e){return e.kind==="GroupByItemNode"},create(e){return Z({kind:"GroupByItemNode",groupBy:e})}});function tde(e){return e=wd(e)?e(I1()):e,zg(e).map(ede.create)}const nde=Z({is(e){return e.kind==="SetOperationNode"},create(e,t,n){return Z({kind:"SetOperationNode",operator:e,expression:t,all:n})}});function Cf(e,t,n){return wd(t)&&(t=t(OT())),Cc(t)||(t=[t]),t.map(r=>nde.create(e,P1(r),n))}var xa;const Lw=class Lw{constructor(t){Be(this,xa);ze(this,xa,t)}get expressionType(){}as(t){return new CT(this,t)}or(...t){return new ZC(fm.create(J(this,xa),ro(t)))}and(...t){return new eO(Oc.create(J(this,xa),ro(t)))}$castTo(){return new Lw(J(this,xa))}$notNull(){return new Lw(J(this,xa))}toOperationNode(){return J(this,xa)}};xa=new WeakMap;let an=Lw;var ch,rc;class CT{constructor(t,n){Be(this,ch);Be(this,rc);ze(this,ch,t),ze(this,rc,n)}get expression(){return J(this,ch)}get alias(){return J(this,rc)}toOperationNode(){return Hc.create(J(this,ch).toOperationNode(),ws(J(this,rc))?J(this,rc).toOperationNode():Mi.create(J(this,rc)))}}ch=new WeakMap,rc=new WeakMap;var qu;const Fw=class Fw{constructor(t){Be(this,qu);ze(this,qu,t)}get expressionType(){}as(t){return new CT(this,t)}or(...t){return new Fw(fm.create(J(this,qu),ro(t)))}$castTo(){return new Fw(J(this,qu))}toOperationNode(){return Vg.create(J(this,qu))}};qu=new WeakMap;let ZC=Fw;var Hu;const Bw=class Bw{constructor(t){Be(this,Hu);ze(this,Hu,t)}get expressionType(){}as(t){return new CT(this,t)}and(...t){return new Bw(Oc.create(J(this,Hu),ro(t)))}$castTo(){return new Bw(J(this,Hu))}toOperationNode(){return Vg.create(J(this,Hu))}};Hu=new WeakMap;let eO=Bw;const rde={is(e){return e.kind==="FetchNode"},create(e,t){return{kind:"FetchNode",rowCount:Ac.create(e),modifier:t}}};function ide(e,t){if(!xT(e)&&!rB(e))throw new Error(`Invalid fetch row count: ${e}`);if(!sde(t))throw new Error(`Invalid fetch modifier: ${t}`);return rde.create(e,t)}function sde(e){return e==="only"||e==="with ties"}var $e;const ft=class ft{constructor(t){Be(this,$e);ze(this,$e,Z(t))}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...t){return new ft({...J(this,$e),queryNode:ar.cloneWithWhere(J(this,$e).queryNode,ro(t))})}whereRef(t,n,r){return new ft({...J(this,$e),queryNode:ar.cloneWithWhere(J(this,$e).queryNode,Ug(t,n,r))})}having(...t){return new ft({...J(this,$e),queryNode:cn.cloneWithHaving(J(this,$e).queryNode,ro(t))})}havingRef(t,n,r){return new ft({...J(this,$e),queryNode:cn.cloneWithHaving(J(this,$e).queryNode,Ug(t,n,r))})}select(t){return new ft({...J(this,$e),queryNode:cn.cloneWithSelections(J(this,$e).queryNode,fB(t))})}distinctOn(t){return new ft({...J(this,$e),queryNode:cn.cloneWithDistinctOn(J(this,$e).queryNode,zg(t))})}modifyFront(t){return new ft({...J(this,$e),queryNode:cn.cloneWithFrontModifier(J(this,$e).queryNode,ua.createWithExpression(t.toOperationNode()))})}modifyEnd(t){return new ft({...J(this,$e),queryNode:ar.cloneWithEndModifier(J(this,$e).queryNode,ua.createWithExpression(t.toOperationNode()))})}distinct(){return new ft({...J(this,$e),queryNode:cn.cloneWithFrontModifier(J(this,$e).queryNode,ua.create("Distinct"))})}forUpdate(t){return new ft({...J(this,$e),queryNode:ar.cloneWithEndModifier(J(this,$e).queryNode,ua.create("ForUpdate",t?tv(t).map(Gs):void 0))})}forShare(t){return new ft({...J(this,$e),queryNode:ar.cloneWithEndModifier(J(this,$e).queryNode,ua.create("ForShare",t?tv(t).map(Gs):void 0))})}forKeyShare(t){return new ft({...J(this,$e),queryNode:ar.cloneWithEndModifier(J(this,$e).queryNode,ua.create("ForKeyShare",t?tv(t).map(Gs):void 0))})}forNoKeyUpdate(t){return new ft({...J(this,$e),queryNode:ar.cloneWithEndModifier(J(this,$e).queryNode,ua.create("ForNoKeyUpdate",t?tv(t).map(Gs):void 0))})}skipLocked(){return new ft({...J(this,$e),queryNode:ar.cloneWithEndModifier(J(this,$e).queryNode,ua.create("SkipLocked"))})}noWait(){return new ft({...J(this,$e),queryNode:ar.cloneWithEndModifier(J(this,$e).queryNode,ua.create("NoWait"))})}selectAll(t){return new ft({...J(this,$e),queryNode:cn.cloneWithSelections(J(this,$e).queryNode,hB(t))})}innerJoin(...t){return new ft({...J(this,$e),queryNode:ar.cloneWithJoin(J(this,$e).queryNode,_f("InnerJoin",t))})}leftJoin(...t){return new ft({...J(this,$e),queryNode:ar.cloneWithJoin(J(this,$e).queryNode,_f("LeftJoin",t))})}rightJoin(...t){return new ft({...J(this,$e),queryNode:ar.cloneWithJoin(J(this,$e).queryNode,_f("RightJoin",t))})}fullJoin(...t){return new ft({...J(this,$e),queryNode:ar.cloneWithJoin(J(this,$e).queryNode,_f("FullJoin",t))})}innerJoinLateral(...t){return new ft({...J(this,$e),queryNode:ar.cloneWithJoin(J(this,$e).queryNode,_f("LateralInnerJoin",t))})}leftJoinLateral(...t){return new ft({...J(this,$e),queryNode:ar.cloneWithJoin(J(this,$e).queryNode,_f("LateralLeftJoin",t))})}orderBy(...t){return new ft({...J(this,$e),queryNode:cn.cloneWithOrderByItems(J(this,$e).queryNode,ST(t))})}groupBy(t){return new ft({...J(this,$e),queryNode:cn.cloneWithGroupByItems(J(this,$e).queryNode,tde(t))})}limit(t){return new ft({...J(this,$e),queryNode:cn.cloneWithLimit(J(this,$e).queryNode,Pue.create(Wr(t)))})}offset(t){return new ft({...J(this,$e),queryNode:cn.cloneWithOffset(J(this,$e).queryNode,Zue.create(Wr(t)))})}fetch(t,n="only"){return new ft({...J(this,$e),queryNode:cn.cloneWithFetch(J(this,$e).queryNode,ide(t,n))})}top(t,n){return new ft({...J(this,$e),queryNode:ar.cloneWithTop(J(this,$e).queryNode,Mue(t,n))})}union(t){return new ft({...J(this,$e),queryNode:cn.cloneWithSetOperations(J(this,$e).queryNode,Cf("union",t,!1))})}unionAll(t){return new ft({...J(this,$e),queryNode:cn.cloneWithSetOperations(J(this,$e).queryNode,Cf("union",t,!0))})}intersect(t){return new ft({...J(this,$e),queryNode:cn.cloneWithSetOperations(J(this,$e).queryNode,Cf("intersect",t,!1))})}intersectAll(t){return new ft({...J(this,$e),queryNode:cn.cloneWithSetOperations(J(this,$e).queryNode,Cf("intersect",t,!0))})}except(t){return new ft({...J(this,$e),queryNode:cn.cloneWithSetOperations(J(this,$e).queryNode,Cf("except",t,!1))})}exceptAll(t){return new ft({...J(this,$e),queryNode:cn.cloneWithSetOperations(J(this,$e).queryNode,Cf("except",t,!0))})}as(t){return new vB(this,t)}clearSelect(){return new ft({...J(this,$e),queryNode:cn.cloneWithoutSelections(J(this,$e).queryNode)})}clearWhere(){return new ft({...J(this,$e),queryNode:ar.cloneWithoutWhere(J(this,$e).queryNode)})}clearLimit(){return new ft({...J(this,$e),queryNode:cn.cloneWithoutLimit(J(this,$e).queryNode)})}clearOffset(){return new ft({...J(this,$e),queryNode:cn.cloneWithoutOffset(J(this,$e).queryNode)})}clearOrderBy(){return new ft({...J(this,$e),queryNode:cn.cloneWithoutOrderBy(J(this,$e).queryNode)})}clearGroupBy(){return new ft({...J(this,$e),queryNode:cn.cloneWithoutGroupBy(J(this,$e).queryNode)})}$call(t){return t(this)}$if(t,n){return t?n(this):new ft({...J(this,$e)})}$castTo(){return new ft(J(this,$e))}$narrowType(){return new ft(J(this,$e))}$assertType(){return new ft(J(this,$e))}$asTuple(){return new an(this.toOperationNode())}withPlugin(t){return new ft({...J(this,$e),executor:J(this,$e).executor.withPlugin(t)})}toOperationNode(){return J(this,$e).executor.transformQuery(J(this,$e).queryNode,J(this,$e).queryId)}compile(){return J(this,$e).executor.compileQuery(this.toOperationNode(),J(this,$e).queryId)}async execute(){const t=this.compile();return(await J(this,$e).executor.executeQuery(t,J(this,$e).queryId)).rows}async executeTakeFirst(){const[t]=await this.execute();return t}async executeTakeFirstOrThrow(t=$ue){const n=await this.executeTakeFirst();if(n===void 0)throw Rue(t)?new t(this.toOperationNode()):t(this.toOperationNode());return n}async*stream(t=100){const n=this.compile(),r=J(this,$e).executor.stream(n,t,J(this,$e).queryId);for await(const i of r)yield*i.rows}async explain(t,n){return await new ft({...J(this,$e),queryNode:ar.cloneWithExplain(J(this,$e).queryNode,t,n)}).execute()}};$e=new WeakMap;let Tx=ft;Sd(Tx,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function ode(e){return new Tx(e)}var uh,dh;class vB{constructor(t,n){Be(this,uh);Be(this,dh);ze(this,uh,t),ze(this,dh,n)}get expression(){return J(this,uh)}get alias(){return J(this,dh)}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return Hc.create(J(this,uh).toOperationNode(),Mi.create(J(this,dh)))}}uh=new WeakMap,dh=new WeakMap;Sd(vB,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const tc=Z({is(e){return e.kind==="AggregateFunctionNode"},create(e,t=[]){return Z({kind:"AggregateFunctionNode",func:e,aggregated:t})},cloneWithDistinct(e){return Z({...e,distinct:!0})},cloneWithOrderBy(e,t){return Z({...e,orderBy:e.orderBy?Tc.cloneWithItems(e.orderBy,t):Tc.create(t)})},cloneWithFilter(e,t){return Z({...e,filter:e.filter?zf.cloneWithOperation(e.filter,"And",t):zf.create(t)})},cloneWithOrFilter(e,t){return Z({...e,filter:e.filter?zf.cloneWithOperation(e.filter,"Or",t):zf.create(t)})},cloneWithOver(e,t){return Z({...e,over:t})}}),M6=Z({is(e){return e.kind==="FunctionNode"},create(e,t){return Z({kind:"FunctionNode",func:e,arguments:t})}});var yr;const ya=class ya{constructor(t){Be(this,yr);ze(this,yr,Z(t))}get expressionType(){}as(t){return new ade(this,t)}distinct(){return new ya({...J(this,yr),aggregateFunctionNode:tc.cloneWithDistinct(J(this,yr).aggregateFunctionNode)})}orderBy(t,n){return new ya({...J(this,yr),aggregateFunctionNode:tc.cloneWithOrderBy(J(this,yr).aggregateFunctionNode,ST([t,n]))})}filterWhere(...t){return new ya({...J(this,yr),aggregateFunctionNode:tc.cloneWithFilter(J(this,yr).aggregateFunctionNode,ro(t))})}filterWhereRef(t,n,r){return new ya({...J(this,yr),aggregateFunctionNode:tc.cloneWithFilter(J(this,yr).aggregateFunctionNode,Ug(t,n,r))})}over(t){const n=Xue();return new ya({...J(this,yr),aggregateFunctionNode:tc.cloneWithOver(J(this,yr).aggregateFunctionNode,(t?t(n):n).toOperationNode())})}$call(t){return t(this)}$castTo(){return new ya(J(this,yr))}$notNull(){return new ya(J(this,yr))}toOperationNode(){return J(this,yr).aggregateFunctionNode}};yr=new WeakMap;let Kf=ya;Sd(Kf,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");var fh,hh;class ade{constructor(t,n){Be(this,fh);Be(this,hh);ze(this,fh,t),ze(this,hh,n)}get expression(){return J(this,fh)}get alias(){return J(this,hh)}toOperationNode(){return Hc.create(J(this,fh).toOperationNode(),Mi.create(J(this,hh)))}}fh=new WeakMap,hh=new WeakMap;function lde(){const e=(n,r)=>new an(M6.create(n,zg(r??[]))),t=(n,r)=>new Kf({aggregateFunctionNode:tc.create(n,r?zg(r):void 0)});return Object.assign(e,{agg:t,avg(n){return t("avg",[n])},coalesce(...n){return e("coalesce",n)},count(n){return t("count",[n])},countAll(n){return new Kf({aggregateFunctionNode:tc.create("count",hB(n))})},max(n){return t("max",[n])},min(n){return t("min",[n])},sum(n){return t("sum",[n])},any(n){return e("any",[n])},jsonAgg(n){return new Kf({aggregateFunctionNode:tc.create("json_agg",[Po(n)?Gs(n):n.toOperationNode()])})},toJson(n){return new an(M6.create("to_json",[Po(n)?Gs(n):n.toOperationNode()]))}})}const cde=Z({is(e){return e.kind==="UnaryOperationNode"},create(e,t){return Z({kind:"UnaryOperationNode",operator:e,operand:t})}});function ude(e,t){return cde.create(cd.create(e),is(t))}const $a=Z({is(e){return e.kind==="CaseNode"},create(e){return Z({kind:"CaseNode",value:e})},cloneWithWhen(e,t){return Z({...e,when:Z(e.when?[...e.when,t]:[t])})},cloneWithThen(e,t){return Z({...e,when:e.when?Z([...e.when.slice(0,-1),M1.cloneWithResult(e.when[e.when.length-1],t)]):void 0})},cloneWith(e,t){return Z({...e,...t})}});var mh;class dde{constructor(t){Be(this,mh);ze(this,mh,Z(t))}when(...t){return new xB({...J(this,mh),node:$a.cloneWithWhen(J(this,mh).node,M1.create(ro(t)))})}}mh=new WeakMap;var ph;class xB{constructor(t){Be(this,ph);ze(this,ph,Z(t))}then(t){return new fde({...J(this,ph),node:$a.cloneWithThen(J(this,ph).node,ET(t)?NT(t):Wr(t))})}}ph=new WeakMap;var So;class fde{constructor(t){Be(this,So);ze(this,So,Z(t))}when(...t){return new xB({...J(this,So),node:$a.cloneWithWhen(J(this,So).node,M1.create(ro(t)))})}else(t){return new hde({...J(this,So),node:$a.cloneWith(J(this,So).node,{else:ET(t)?NT(t):Wr(t)})})}end(){return new an($a.cloneWith(J(this,So).node,{isStatement:!1}))}endCase(){return new an($a.cloneWith(J(this,So).node,{isStatement:!0}))}}So=new WeakMap;var gh;class hde{constructor(t){Be(this,gh);ze(this,gh,Z(t))}end(){return new an($a.cloneWith(J(this,gh).node,{isStatement:!1}))}endCase(){return new an($a.cloneWith(J(this,gh).node,{isStatement:!0}))}}gh=new WeakMap;const I6=Z({is(e){return e.kind==="JSONPathLegNode"},create(e,t){return Z({kind:"JSONPathLegNode",type:e,value:t})}});var Eo,Ry,nO;class tO{constructor(t){Be(this,Ry);Be(this,Eo);ze(this,Eo,t)}at(t){return ot(this,Ry,nO).call(this,"ArrayLocation",t)}key(t){return ot(this,Ry,nO).call(this,"Member",t)}}Eo=new WeakMap,Ry=new WeakSet,nO=function(t,n){return Ox.is(J(this,Eo))?new $x(Ox.cloneWithTraversal(J(this,Eo),hg.is(J(this,Eo).traversal)?hg.cloneWithLeg(J(this,Eo).traversal,I6.create(t,n)):lB.cloneWithValue(J(this,Eo).traversal,Ac.createImmediate(n)))):new $x(hg.cloneWithLeg(J(this,Eo),I6.create(t,n)))};var Wu;const zw=class zw extends tO{constructor(n){super(n);Be(this,Wu);ze(this,Wu,n)}get expressionType(){}as(n){return new mde(this,n)}$castTo(){return new zw(J(this,Wu))}$notNull(){return new zw(J(this,Wu))}toOperationNode(){return J(this,Wu)}};Wu=new WeakMap;let $x=zw;var yh,ic;class mde{constructor(t,n){Be(this,yh);Be(this,ic);ze(this,yh,t),ze(this,ic,n)}get expression(){return J(this,yh)}get alias(){return J(this,ic)}toOperationNode(){return Hc.create(J(this,yh).toOperationNode(),ws(J(this,ic))?J(this,ic).toOperationNode():Mi.create(J(this,ic)))}}yh=new WeakMap,ic=new WeakMap;const P6=Z({is(e){return e.kind==="TupleNode"},create(e){return Z({kind:"TupleNode",values:Z(e)})}}),pde=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob","varbinary","int4range","int4multirange","int8range","int8multirange","numrange","nummultirange","tsrange","tsmultirange","tstzrange","tstzmultirange","daterange","datemultirange"],gde=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timetz\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/,/^varbinary\(\d+\)$/],yde=Z({is(e){return e.kind==="DataTypeNode"},create(e){return Z({kind:"DataTypeNode",dataType:e})}});function bde(e){return!!(pde.includes(e)||gde.some(t=>t.test(e)))}function vde(e){if(ws(e))return e.toOperationNode();if(bde(e))return yde.create(e);throw new Error(`invalid column data type ${JSON.stringify(e)}`)}const xde=Z({is(e){return e.kind==="CastNode"},create(e,t){return Z({kind:"CastNode",expression:e,dataType:t})}});function OT(e=bB){function t(i,s,o){return new an(_T(i,s,o))}function n(i,s){return new an(ude(i,s))}const r=Object.assign(t,{fn:void 0,eb:void 0,selectFrom(i){return ode({queryId:ma(),executor:e,queryNode:cn.createFrom(wde(i))})},case(i){return new dde({node:$a.create(Cx(i)?void 0:is(i))})},ref(i,s){return Cx(s)?new an(jc(i)):new tO(pue(i,s))},jsonPath(){return new tO(hg.create())},table(i){return new an(Gs(i))},val(i){return new an(Wr(i))},refTuple(...i){return new an(P6.create(i.map(is)))},tuple(...i){return new an(P6.create(i.map(Wr)))},lit(i){return new an(NT(i))},unary:n,not(i){return n("not",i)},exists(i){return n("exists",i)},neg(i){return n("-",i)},between(i,s,o){return new an(Th.create(is(i),cd.create("between"),Oc.create(Wr(s),Wr(o))))},betweenSymmetric(i,s,o){return new an(Th.create(is(i),cd.create("between symmetric"),Oc.create(Wr(s),Wr(o))))},and(i){return Cc(i)?new an(GC(i,"and")):new an(w6(i,"and"))},or(i){return Cc(i)?new an(GC(i,"or")):new an(w6(i,"or"))},parens(...i){const s=ro(i);return Vg.is(s)?new an(s):new an(Vg.create(s))},cast(i,s){return new an(xde.create(is(i),vde(s)))},withSchema(i){return OT(e.withPluginAtFront(new que(i)))}});return r.fn=lde(),r.eb=r,r}function I1(e){return OT()}function P1(e){if(ws(e))return e.toOperationNode();if(wd(e))return e(I1()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(e)}`)}function wB(e){if(ws(e))return e.toOperationNode();if(wd(e))return e(I1()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(e)}`)}function D1(e){return iue(e)||sue(e)||wd(e)}function wde(e){return Cc(e)?e.map(t=>Rx(t)):[Rx(e)]}function Rx(e){return Po(e)?Sde(e):wB(e)}function Sde(e){const t=" as ";if(e.includes(t)){const[n,r]=e.split(t).map(SB);return Hc.create(Gs(n),Mi.create(r))}else return Gs(e)}function Gs(e){const t=".";if(e.includes(t)){const[n,r]=e.split(t).map(SB);return pc.createWithSchema(n,r)}else return pc.create(e)}function SB(e){return e.trim()}var Br,fs,Hv,rO,iO;const Tg=class Tg{constructor(t){Be(this,fs);Be(this,Br);ze(this,Br,Z(t))}get expressionType(){}get isRawBuilder(){return!0}as(t){return new EB(this,t)}$castTo(){return new Tg({...J(this,Br)})}$notNull(){return new Tg(J(this,Br))}withPlugin(t){return new Tg({...J(this,Br),plugins:J(this,Br).plugins!==void 0?Z([...J(this,Br).plugins,t]):Z([t])})}toOperationNode(){return ot(this,fs,rO).call(this,ot(this,fs,Hv).call(this))}compile(t){return ot(this,fs,iO).call(this,ot(this,fs,Hv).call(this,t))}async execute(t){const n=ot(this,fs,Hv).call(this,t);return n.executeQuery(ot(this,fs,iO).call(this,n),J(this,Br).queryId)}};Br=new WeakMap,fs=new WeakSet,Hv=function(t){const n=t!==void 0?t.getExecutor():bB;return J(this,Br).plugins!==void 0?n.withPlugins(J(this,Br).plugins):n},rO=function(t){return t.transformQuery(J(this,Br).rawNode,J(this,Br).queryId)},iO=function(t){return t.compileQuery(ot(this,fs,rO).call(this,t),J(this,Br).queryId)};let kx=Tg;function Fl(e){return new kx(e)}Sd(kx,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");var Gu,sc;class EB{constructor(t,n){Be(this,Gu);Be(this,sc);ze(this,Gu,t),ze(this,sc,n)}get expression(){return J(this,Gu)}get alias(){return J(this,sc)}get rawBuilder(){return J(this,Gu)}toOperationNode(){return Hc.create(J(this,Gu).toOperationNode(),ws(J(this,sc))?J(this,sc).toOperationNode():Mi.create(J(this,sc)))}}Gu=new WeakMap,sc=new WeakMap;Sd(EB,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const qg=Object.assign((e,...t)=>Fl({queryId:ma(),rawNode:ji.create(e,(t==null?void 0:t.map(D6))??[])}),{ref(e){return Fl({queryId:ma(),rawNode:ji.createWithChild(jc(e))})},val(e){return Fl({queryId:ma(),rawNode:ji.createWithChild(Wr(e))})},value(e){return this.val(e)},table(e){return Fl({queryId:ma(),rawNode:ji.createWithChild(Gs(e))})},id(...e){const t=new Array(e.length+1).fill(".");return t[0]="",t[t.length-1]="",Fl({queryId:ma(),rawNode:ji.create(t,e.map(Mi.create))})},lit(e){return Fl({queryId:ma(),rawNode:ji.createWithChild(Ac.createImmediate(e))})},literal(e){return this.lit(e)},raw(e){return Fl({queryId:ma(),rawNode:ji.createWithSql(e)})},join(e,t=qg`, `){const n=new Array(2*e.length-1),r=t.toOperationNode();for(let i=0;i<e.length;++i)n[2*i]=D6(e[i]),i!==e.length-1&&(n[2*i+1]=r);return Fl({queryId:ma(),rawNode:ji.createWithChildren(n)})}});function D6(e){return ws(e)?e.toOperationNode():Wr(e)}class Ede{constructor(t=[]){K(this,"plugins");this.plugins=new Set(t)}async transformResultRows(t){let n=t;for(const r of this.plugins)n=(await r.transformResult({queryId:"1",result:{rows:n}})).rows;return n}}const L6=["text","integer","real","blob","date","datetime","timestamp","boolean","json"],F6=Symbol.for("bknd:connection");class NB{constructor(t,n={},r=[]){K(this,"initialized",!1);K(this,"pluginRunner");K(this,"supported",{batching:!1,softscans:!0});K(this,"kysely");K(this,"client");this.fn=n,this.plugins=r,this.kysely=t,this[F6]=!0,this.pluginRunner=new Ede(r)}async init(){this.initialized=!0}static isConnection(t){return t?t[F6]===!0:!1}getIntrospector(){return this.kysely.introspection}supports(t){return this.supported[t]??!1}async ping(){return(await qg`SELECT 1`.execute(this.kysely)).rows.length>0}async transformResultRows(t){return await this.pluginRunner.transformResultRows(t)}async executeQueries(...t){return Promise.all(t.map(async n=>await this.kysely.executeQuery(n)))}async executeQuery(t){return(await this.executeQueries(t))[0]}getCompiled(...t){return t.map(n=>"compile"in n?n.compile():n)}async withTransformedRows(t,n){return await Promise.all(t.map(async r=>{const i=n??"rows",{[i]:s,...o}=r;return{...o,rows:await this.transformResultRows(s)}}))}validateFieldSpecType(t){if(!L6.includes(t))throw new Error(`Invalid field type "${t}". Allowed types are: ${L6.join(", ")}`);return!0}toDriver(t,n){return t}fromDriver(t,n){return t}async close(){}}class Nde extends Yr{constructor(){super(...arguments);K(this,"name","UnableToConnectException");K(this,"code",nn.INTERNAL_SERVER_ERROR)}}class va extends Yr{constructor(){super(...arguments);K(this,"name","InvalidSearchParamsException");K(this,"code",nn.UNPROCESSABLE_ENTITY)}}class _de extends Yr{constructor(){super(...arguments);K(this,"name","TransformRetrieveFailedException");K(this,"code",nn.UNPROCESSABLE_ENTITY)}}class mi extends Yr{constructor(){super(...arguments);K(this,"name","TransformPersistFailedException");K(this,"code",nn.UNPROCESSABLE_ENTITY)}static invalidType(n,r,i){const s=typeof i=="object"?JSON.stringify(i):i,o=`Property "${n}" must be of type "${r}", "${s}" of type "${typeof i}" given.`;return new mi(o)}static required(n){return new mi(`Property "${n}" is required`)}}class Cde extends Yr{constructor(n,r,i){console.error("InvalidFieldConfigException",{given:r,error:i.first()});super(`Invalid Field config given for field "${n.name}": ${i.firstToString()}`);K(this,"name","InvalidFieldConfigException");K(this,"code",nn.BAD_REQUEST);this.given=r}}class Ode extends Yr{constructor(n){var t=(...H7e)=>(super(...H7e),K(this,"name","EntityNotDefinedException"),K(this,"code",nn.BAD_REQUEST),this);t(n?`Entity "${typeof n!="string"?n.name:n}" not defined`:"Cannot find an entity that is undefined")}}class _B extends Kr{validate(t){const{entity:n}=this.params;if(!n.isValidData(t,"create"))throw mt.warn("MutatorInsertBefore.validate: invalid",{entity:n.name,data:t}),new $1("EntityData","invalid");return this.clone({entity:n,data:t})}}K(_B,"slug","mutator-insert-before");class CB extends Kr{}K(CB,"slug","mutator-insert-after");class OB extends Kr{validate(t){const{entity:n,entityId:r}=this.params;if(!n.isValidData(t,"update"))throw mt.warn("MutatorUpdateBefore.validate: invalid",{entity:n.name,entityId:r,data:t}),new $1("EntityData","invalid");return this.clone({entityId:r,entity:n,data:t})}}K(OB,"slug","mutator-update-before");class jB extends Kr{}K(jB,"slug","mutator-update-after");class AB extends Kr{}K(AB,"slug","mutator-delete-before");class jT extends Kr{}K(jT,"slug","mutator-delete-after");const Mx={MutatorInsertBefore:_B,MutatorInsertAfter:CB,MutatorUpdateBefore:OB,MutatorUpdateAfter:jB,MutatorDeleteBefore:AB,MutatorDeleteAfter:jT};class TB extends Kr{}K(TB,"slug","repository-find-one-before");class $B extends Kr{}K($B,"slug","repository-find-one-after");class sO extends Kr{}K(sO,"slug","repository-find-many-before"),K(sO,"another","one");class RB extends Kr{}K(RB,"slug","repository-find-many-after");const kB={RepositoryFindOneBefore:TB,RepositoryFindOneAfter:$B,RepositoryFindManyBefore:sO,RepositoryFindManyAfter:RB};class MB{constructor(t){K(this,"_relations",[]);this._relations=t}get all(){return this._relations}exists(t){return this._relations.some(n=>n.source.entity.name===t.source.entity.name&&n.target.entity.name===t.target.entity.name&&n.type===t.type)}relationsOf(t){return this._relations.filter(n=>n.visibleFrom("source")&&n.source.entity.name===t.name||n.visibleFrom("target")&&n.target.entity.name===t.name)}sourceRelationsOf(t){return this._relations.filter(n=>n.source.entity.name===t.name)}targetRelationsOf(t){return this._relations.filter(n=>n.visibleFrom("target")&&n.target.entity.name===t.name)}listableRelationsOf(t){return this.relationsOf(t).filter(n=>n.isListableFor(t))}relationOf(t,n){return this.relationsOf(t).find(r=>r.target.entity.name===t.name&&r.source.reference===n||r.source.entity.name===t.name&&r.target.reference===n)}hasRelations(t){return this.relationsOf(t).length>0}relatedEntitiesOf(t){return this.relationsOf(t).map(n=>n.other(t).entity)}relationReferencesOf(t){return this.relationsOf(t).map(n=>n.other(t).reference)}}const jde=["create","read","update","delete"],Ade=["create","read","update","delete","form","table","submit"],B6=!0,z6=!1,lo=He({label:de(),description:de(),required:pt({default:!1}),fillable:Pt([pt({title:"Boolean"}),mn(de({enum:jde}),{title:"Context",uniqueItems:!0})]),hidden:Pt([pt({title:"Boolean"}),mn(de({enum:Ade}),{title:"Context",uniqueItems:!0})]),virtual:pt(),default_value:no()}).partial();let co=class{constructor(t,n){K(this,"_required");K(this,"_type");K(this,"name");K(this,"type","field");K(this,"config");this.name=t,this._type,this._required;try{this.config=An(this.getSchema(),n||{})}catch(r){throw r instanceof dm?new Cde(this,n,r):r}}getType(){return this.type}schema(){return Object.freeze({name:this.name,type:"text",nullable:!0,dflt:void 0})}hasDefault(){return this.config.default_value!==void 0}getDefault(){var t;return(t=this.config)==null?void 0:t.default_value}isFillable(t){return Array.isArray(this.config.fillable)?t?this.config.fillable.includes(t):B6:this.config.fillable??B6}isHidden(t){return Array.isArray(this.config.hidden)?t?this.config.hidden.includes(t):z6:this.config.hidden??z6}isRequired(){var t;return((t=this.config)==null?void 0:t.required)??!1}isVirtual(){return this.config.virtual??!1}getLabel(t){return this.config.label?this.config.label:(t==null?void 0:t.fallback)!==!1?Ah(this.name):void 0}getDescription(){return this.config.description}getValue(t,n){return t}getHtmlConfig(){return{element:"input",props:{type:"text"}}}isValid(t,n){return typeof t<"u"?this.isFillable(n):n==="create"?!this.isRequired():!0}transformRetrieve(t){return t}async transformPersist(t,n,r){if(this.nullish(t)){if(this.isRequired()&&!this.hasDefault())throw mi.required(this.name);return this.getDefault()}return t}toSchemaWrapIfRequired(t){return this.isRequired()?t:t.optional()}nullish(t){return t==null}toJsonSchema(){return this.toSchemaWrapIfRequired(no())}toType(){return{required:this.isRequired(),comment:this.getDescription(),type:"any"}}toJSON(){return{type:this.type,config:this.config}}};const IB=He({default_value:pt(),...Fi(lo.properties,["default_value"])}).partial();class PB extends co{constructor(){super(...arguments);K(this,"type","boolean")}getSchema(){return IB}getValue(n,r){switch(r){case"table":return n?"Yes":"No";default:return n}}schema(){return Object.freeze({...super.schema(),type:"boolean"})}getHtmlConfig(){return{...super.getHtmlConfig(),element:"boolean"}}transformRetrieve(n){return typeof n>"u"||n===null?this.isRequired()?!1:this.hasDefault()?this.getDefault():null:typeof n=="string"?n==="1":!!n}async transformPersist(n,r,i){const s=await super.transformPersist(n,r,i);if(this.nullish(s))return this.isRequired()?!!this.config.default_value:void 0;if(typeof s=="number")return s!==0;if(typeof s!="boolean")throw mi.invalidType(this.name,"boolean",s);return s}toJsonSchema(){return this.toSchemaWrapIfRequired(pt({default:this.getDefault()}))}toType(){return{...super.toType(),type:"boolean"}}}const DB=He({type:de({enum:["date","datetime","week"],default:"date"}),timezone:de(),min_date:de(),max_date:de(),...lo.properties}).partial();class oO extends co{constructor(){super(...arguments);K(this,"type","date")}getSchema(){return DB}schema(){return Object.freeze({...super.schema(),type:this.config.type==="datetime"?"datetime":"date"})}getHtmlConfig(){const n=this.config.type==="datetime"?"datetime-local":this.config.type;return{...super.getHtmlConfig(),element:"date",props:{type:n}}}parseDateFromString(n){if(this.config.type==="week"&&n.includes("-W")){const[r,i]=n.split("-W").map(s=>Number.parseInt(s,10));return Nx().year(r).week(i).toDate()}return new Date(n)}getValue(n,r){if(n===null||!n)return;const i=this.parseDateFromString(n);if(r==="submit")try{return i.toISOString()}catch{return}if(this.config.type==="week")try{return`${i.getFullYear()}-W${Nx(i).week()}`}catch(s){mt.warn("DateField.getValue:week error",n,String(s));return}try{const o=new Date().getTimezoneOffset(),a=new Date(i.getTime()-o*6e4);return this.formatDate(a)}catch(s){mt.warn("DateField.getValue error",this.config.type,n,String(s));return}}formatDate(n){switch(this.config.type){case"datetime":return n.toISOString().split(".")[0].replace("T"," ");default:return n.toISOString().split("T")[0]}}transformRetrieve(n){const r=super.transformRetrieve(n);if(r===null)return null;try{return new Date(r)}catch{return null}}async transformPersist(n,r,i){const s=await super.transformPersist(n,r,i);if(this.nullish(s))return s;switch(this.config.type){case"date":case"week":return new Date(s).toISOString().split("T")[0];default:return new Date(s).toISOString()}}toJsonSchema(){return this.toSchemaWrapIfRequired(de({default:this.getDefault()}))}toType(){return{...super.toType(),type:"Date | string"}}}const LB=He({default_value:de(),options:Pt([Me({type:us("strings"),values:mn(de())}),Me({type:us("objects"),values:mn(Me({label:de(),value:de()}))})]),...Fi(lo.properties,["default_value"])}).partial();class FB extends co{constructor(n,r){super(n,r);K(this,"type","enum");if(this.config.default_value&&!this.isValidValue(this.config.default_value))throw new Error(`Default value "${this.config.default_value}" is not a valid option`)}getSchema(){return LB}getOptions(){var r,i;const n=((r=this.config)==null?void 0:r.options)??{type:"strings",values:[]};return n.type==="strings"?(i=n.values)==null?void 0:i.map(s=>({label:s,value:s})):n==null?void 0:n.values}isValidValue(n){return this.getOptions().map(i=>i.value).includes(n)}getValue(n,r){var i;if(!this.isValidValue(n))return this.hasDefault()?this.getDefault():null;switch(r){case"table":return((i=this.getOptions().find(s=>s.value===n))==null?void 0:i.label)??n}return n}transformRetrieve(n){const r=super.transformRetrieve(n);return r===null&&this.hasDefault()?this.getDefault():this.isValidValue(r)?r:this.hasDefault()?this.getDefault():null}async transformPersist(n,r,i){const s=await super.transformPersist(n,r,i);if(this.nullish(s))return s;if(!this.isValidValue(s))throw new mi(`Field "${this.name}" must be one of the following values: ${this.getOptions().map(o=>o.value).join(", ")}`);return s}toJsonSchema(){var i,s;const r=((s=(((i=this.config)==null?void 0:i.options)??{values:[]}).values)==null?void 0:s.map(o=>typeof o=="string"?o:o.value))??[];return this.toSchemaWrapIfRequired(de({enum:r,default:this.getDefault()}))}toType(){const n=this.getOptions().map(({value:r})=>typeof r=="string"?`"${r}"`:r);return{...super.toType(),type:n.length>0?n.join(" | "):"string"}}}const BB=He({default_value:no(),...Fi(lo.properties,["default_value"])}).partial();class zB extends co{constructor(){super(...arguments);K(this,"type","json")}getSchema(){return BB}transformRetrieve(n){const r=super.transformRetrieve(n);return r===null&&this.hasDefault()?this.getDefault():this.isSerialized(r)?JSON.parse(r):r}isSerializable(n){try{const r=JSON.stringify(n);if(r===JSON.stringify(JSON.parse(r)))return!0}catch{}return!1}isSerialized(n){try{if(typeof n=="string")return n===JSON.stringify(JSON.parse(n))}catch{}return!1}isValid(n){return this.isSerializable(n)}getValue(n,r){switch(r){case"table":return n===null?null:JSON.stringify(n);case"submit":if(!n||typeof n=="string"&&n.length===0)return null;if(typeof n=="object")return n;try{return JSON.parse(n)}catch{return n}}return n}async transformPersist(n,r,i){const s=await super.transformPersist(n,r,i);if(this.nullish(s))return s;if(!this.isSerializable(s))throw new mi(`Field "${this.name}" must be serializable to JSON.`);return this.isSerialized(s)?s:JSON.stringify(s)}toType(){return{...super.toType(),type:"any"}}}function pg(e,t){const n=typeof e;if(n!==typeof t)return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(!pg(e[i],t[i]))return!1;return!0}if(n==="object"){if(!e||!t)return e===t;const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(const o of r)if(!pg(e[o],t[o]))return!1;return!0}return e===t}function ks(e){return encodeURI(Tde(e))}function Tde(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}const $de={prefixItems:!0,items:!0,allOf:!0,anyOf:!0,oneOf:!0},Rde={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependentSchemas:!0},kde={id:!0,$id:!0,$ref:!0,$schema:!0,$anchor:!0,$vocabulary:!0,$comment:!0,default:!0,enum:!0,const:!0,required:!0,type:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};let Mde=typeof self<"u"&&self.location&&self.location.origin!=="null"?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker");function Pu(e,t=Object.create(null),n=Mde,r=""){if(e&&typeof e=="object"&&!Array.isArray(e)){const s=e.$id||e.id;if(s){const o=new URL(s,n.href);o.hash.length>1?t[o.href]=e:(o.hash="",r===""?n=o:Pu(e,t,n))}}else if(e!==!0&&e!==!1)return t;const i=n.href+(r?"#"+r:"");if(t[i]!==void 0)throw new Error(`Duplicate schema URI "${i}".`);if(t[i]=e,e===!0||e===!1)return t;if(e.__absolute_uri__===void 0&&Object.defineProperty(e,"__absolute_uri__",{enumerable:!1,value:i}),e.$ref&&e.__absolute_ref__===void 0){const s=new URL(e.$ref,n.href);s.hash=s.hash,Object.defineProperty(e,"__absolute_ref__",{enumerable:!1,value:s.href})}if(e.$recursiveRef&&e.__absolute_recursive_ref__===void 0){const s=new URL(e.$recursiveRef,n.href);s.hash=s.hash,Object.defineProperty(e,"__absolute_recursive_ref__",{enumerable:!1,value:s.href})}if(e.$anchor){const s=new URL("#"+e.$anchor,n.href);t[s.href]=e}for(let s in e){if(kde[s])continue;const o=`${r}/${ks(s)}`,a=e[s];if(Array.isArray(a)){if($de[s]){const c=a.length;for(let u=0;u<c;u++)Pu(a[u],t,n,`${o}/${u}`)}}else if(Rde[s])for(let c in a)Pu(a[c],t,n,`${o}/${ks(c)}`);else Pu(a,t,n,o)}return t}const Ide=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Pde=[0,31,28,31,30,31,30,31,31,30,31,30,31],Dde=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Lde=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,Fde=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Bde=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,zde=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,Vde=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Ude=/^(?:\/(?:[^~/]|~0|~1)*)*$/,qde=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Hde=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,Wde=e=>{if(e[0]==='"')return!1;const[t,n,...r]=e.split("@");return!t||!n||r.length!==0||t.length>64||n.length>253||t[0]==="."||t.endsWith(".")||t.includes("..")||!/^[a-z0-9.-]+$/i.test(n)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(t)?!1:n.split(".").every(i=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(i))},Gde=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,Jde=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,Yde=e=>e.length>1&&e.length<80&&(/^P\d+([.,]\d+)?W$/.test(e)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(e)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(e));function xo(e){return e.test.bind(e)}const V6={date:VB,time:UB.bind(void 0,!1),"date-time":Qde,duration:Yde,uri:tfe,"uri-reference":xo(Fde),"uri-template":xo(Bde),url:xo(zde),email:Wde,hostname:xo(Lde),ipv4:xo(Gde),ipv6:xo(Jde),regex:rfe,uuid:xo(Vde),"json-pointer":xo(Ude),"json-pointer-uri-fragment":xo(qde),"relative-json-pointer":xo(Hde)};function Xde(e){return e%4===0&&(e%100!==0||e%400===0)}function VB(e){const t=e.match(Ide);if(!t)return!1;const n=+t[1],r=+t[2],i=+t[3];return r>=1&&r<=12&&i>=1&&i<=(r==2&&Xde(n)?29:Pde[r])}function UB(e,t){const n=t.match(Dde);if(!n)return!1;const r=+n[1],i=+n[2],s=+n[3],o=!!n[5];return(r<=23&&i<=59&&s<=59||r==23&&i==59&&s==60)&&(!e||o)}const Kde=/t|\s/i;function Qde(e){const t=e.split(Kde);return t.length==2&&VB(t[0])&&UB(!0,t[1])}const Zde=/\/|:/,efe=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function tfe(e){return Zde.test(e)&&efe.test(e)}const nfe=/[^\\]\\Z/;function rfe(e){if(nfe.test(e))return!1;try{return new RegExp(e,"u"),!0}catch{return!1}}function ife(e){let t=0,n=e.length,r=0,i;for(;r<n;)t++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<n&&(i=e.charCodeAt(r),(i&64512)==56320&&r++);return t}function Sn(e,t,n="2019-09",r=Pu(t),i=!0,s=null,o="#",a="#",c=Object.create(null)){if(t===!0)return{valid:!0,errors:[]};if(t===!1)return{valid:!1,errors:[{instanceLocation:o,keyword:"false",keywordLocation:o,error:"False boolean schema."}]};const u=typeof e;let f;switch(u){case"boolean":case"number":case"string":f=u;break;case"object":e===null?f="null":Array.isArray(e)?f="array":f="object";break;default:throw new Error(`Instances of "${u}" type are not supported.`)}const{$ref:m,$recursiveRef:p,$recursiveAnchor:y,type:v,const:x,enum:S,required:N,not:_,anyOf:C,allOf:j,oneOf:A,if:$,then:k,else:R,format:D,properties:z,patternProperties:L,additionalProperties:F,unevaluatedProperties:H,minProperties:M,maxProperties:V,propertyNames:T,dependentRequired:I,dependentSchemas:P,dependencies:W,prefixItems:B,items:q,additionalItems:X,unevaluatedItems:Q,contains:ie,minContains:ae,maxContains:fe,minItems:ce,maxItems:he,uniqueItems:ve,minimum:Ae,maximum:Ce,exclusiveMinimum:Ee,exclusiveMaximum:Re,multipleOf:ke,minLength:We,maxLength:et,pattern:Oe,__absolute_ref__:Ie,__absolute_recursive_ref__:Pe}=t,G=[];if(y===!0&&s===null&&(s=t),p==="#"){const te=s===null?r[Pe]:s,me=`${a}/$recursiveRef`,se=Sn(e,s===null?t:s,n,r,i,te,o,me,c);se.valid||G.push({instanceLocation:o,keyword:"$recursiveRef",keywordLocation:me,error:"A subschema had errors."},...se.errors)}if(m!==void 0){const me=r[Ie||m];if(me===void 0){let le=`Unresolved $ref "${m}".`;throw Ie&&Ie!==m&&(le+=`  Absolute URI "${Ie}".`),le+=`
Known schemas:
- ${Object.keys(r).join(`
- `)}`,new Error(le)}const se=`${a}/$ref`,ne=Sn(e,me,n,r,i,s,o,se,c);if(ne.valid||G.push({instanceLocation:o,keyword:"$ref",keywordLocation:se,error:"A subschema had errors."},...ne.errors),n==="4"||n==="7")return{valid:G.length===0,errors:G}}if(Array.isArray(v)){let te=v.length,me=!1;for(let se=0;se<te;se++)if(f===v[se]||v[se]==="integer"&&f==="number"&&e%1===0&&e===e){me=!0;break}me||G.push({instanceLocation:o,keyword:"type",keywordLocation:`${a}/type`,error:`Instance type "${f}" is invalid. Expected "${v.join('", "')}".`})}else v==="integer"?(f!=="number"||e%1||e!==e)&&G.push({instanceLocation:o,keyword:"type",keywordLocation:`${a}/type`,error:`Instance type "${f}" is invalid. Expected "${v}".`}):v!==void 0&&f!==v&&G.push({instanceLocation:o,keyword:"type",keywordLocation:`${a}/type`,error:`Instance type "${f}" is invalid. Expected "${v}".`});if(x!==void 0&&(f==="object"||f==="array"?pg(e,x)||G.push({instanceLocation:o,keyword:"const",keywordLocation:`${a}/const`,error:`Instance does not match ${JSON.stringify(x)}.`}):e!==x&&G.push({instanceLocation:o,keyword:"const",keywordLocation:`${a}/const`,error:`Instance does not match ${JSON.stringify(x)}.`})),S!==void 0&&(f==="object"||f==="array"?S.some(te=>pg(e,te))||G.push({instanceLocation:o,keyword:"enum",keywordLocation:`${a}/enum`,error:`Instance does not match any of ${JSON.stringify(S)}.`}):S.some(te=>e===te)||G.push({instanceLocation:o,keyword:"enum",keywordLocation:`${a}/enum`,error:`Instance does not match any of ${JSON.stringify(S)}.`})),_!==void 0){const te=`${a}/not`;Sn(e,_,n,r,i,s,o,te).valid&&G.push({instanceLocation:o,keyword:"not",keywordLocation:te,error:'Instance matched "not" schema.'})}let re=[];if(C!==void 0){const te=`${a}/anyOf`,me=G.length;let se=!1;for(let ne=0;ne<C.length;ne++){const le=C[ne],xe=Object.create(c),Ne=Sn(e,le,n,r,i,y===!0?s:null,o,`${te}/${ne}`,xe);G.push(...Ne.errors),se=se||Ne.valid,Ne.valid&&re.push(xe)}se?G.length=me:G.splice(me,0,{instanceLocation:o,keyword:"anyOf",keywordLocation:te,error:"Instance does not match any subschemas."})}if(j!==void 0){const te=`${a}/allOf`,me=G.length;let se=!0;for(let ne=0;ne<j.length;ne++){const le=j[ne],xe=Object.create(c),Ne=Sn(e,le,n,r,i,y===!0?s:null,o,`${te}/${ne}`,xe);G.push(...Ne.errors),se=se&&Ne.valid,Ne.valid&&re.push(xe)}se?G.length=me:G.splice(me,0,{instanceLocation:o,keyword:"allOf",keywordLocation:te,error:"Instance does not match every subschema."})}if(A!==void 0){const te=`${a}/oneOf`,me=G.length,se=A.filter((ne,le)=>{const xe=Object.create(c),Ne=Sn(e,ne,n,r,i,y===!0?s:null,o,`${te}/${le}`,xe);return G.push(...Ne.errors),Ne.valid&&re.push(xe),Ne.valid}).length;se===1?G.length=me:G.splice(me,0,{instanceLocation:o,keyword:"oneOf",keywordLocation:te,error:`Instance does not match exactly one subschema (${se} matches).`})}if((f==="object"||f==="array")&&Object.assign(c,...re),$!==void 0){const te=`${a}/if`;if(Sn(e,$,n,r,i,s,o,te,c).valid){if(k!==void 0){const se=Sn(e,k,n,r,i,s,o,`${a}/then`,c);se.valid||G.push({instanceLocation:o,keyword:"if",keywordLocation:te,error:'Instance does not match "then" schema.'},...se.errors)}}else if(R!==void 0){const se=Sn(e,R,n,r,i,s,o,`${a}/else`,c);se.valid||G.push({instanceLocation:o,keyword:"if",keywordLocation:te,error:'Instance does not match "else" schema.'},...se.errors)}}if(f==="object"){if(N!==void 0)for(const ne of N)ne in e||G.push({instanceLocation:o,keyword:"required",keywordLocation:`${a}/required`,error:`Instance does not have required property "${ne}".`});const te=Object.keys(e);if(M!==void 0&&te.length<M&&G.push({instanceLocation:o,keyword:"minProperties",keywordLocation:`${a}/minProperties`,error:`Instance does not have at least ${M} properties.`}),V!==void 0&&te.length>V&&G.push({instanceLocation:o,keyword:"maxProperties",keywordLocation:`${a}/maxProperties`,error:`Instance does not have at least ${V} properties.`}),T!==void 0){const ne=`${a}/propertyNames`;for(const le in e){const xe=`${o}/${ks(le)}`,Ne=Sn(le,T,n,r,i,s,xe,ne);Ne.valid||G.push({instanceLocation:o,keyword:"propertyNames",keywordLocation:ne,error:`Property name "${le}" does not match schema.`},...Ne.errors)}}if(I!==void 0){const ne=`${a}/dependantRequired`;for(const le in I)if(le in e){const xe=I[le];for(const Ne of xe)Ne in e||G.push({instanceLocation:o,keyword:"dependentRequired",keywordLocation:ne,error:`Instance has "${le}" but does not have "${Ne}".`})}}if(P!==void 0)for(const ne in P){const le=`${a}/dependentSchemas`;if(ne in e){const xe=Sn(e,P[ne],n,r,i,s,o,`${le}/${ks(ne)}`,c);xe.valid||G.push({instanceLocation:o,keyword:"dependentSchemas",keywordLocation:le,error:`Instance has "${ne}" but does not match dependant schema.`},...xe.errors)}}if(W!==void 0){const ne=`${a}/dependencies`;for(const le in W)if(le in e){const xe=W[le];if(Array.isArray(xe))for(const Ne of xe)Ne in e||G.push({instanceLocation:o,keyword:"dependencies",keywordLocation:ne,error:`Instance has "${le}" but does not have "${Ne}".`});else{const Ne=Sn(e,xe,n,r,i,s,o,`${ne}/${ks(le)}`);Ne.valid||G.push({instanceLocation:o,keyword:"dependencies",keywordLocation:ne,error:`Instance has "${le}" but does not match dependant schema.`},...Ne.errors)}}}const me=Object.create(null);let se=!1;if(z!==void 0){const ne=`${a}/properties`;for(const le in z){if(!(le in e))continue;const xe=`${o}/${ks(le)}`,Ne=Sn(e[le],z[le],n,r,i,s,xe,`${ne}/${ks(le)}`);if(Ne.valid)c[le]=me[le]=!0;else if(se=i,G.push({instanceLocation:o,keyword:"properties",keywordLocation:ne,error:`Property "${le}" does not match schema.`},...Ne.errors),se)break}}if(!se&&L!==void 0){const ne=`${a}/patternProperties`;for(const le in L){const xe=new RegExp(le,"u"),Ne=L[le];for(const Ge in e){if(!xe.test(Ge))continue;const Ut=`${o}/${ks(Ge)}`,St=Sn(e[Ge],Ne,n,r,i,s,Ut,`${ne}/${ks(le)}`);St.valid?c[Ge]=me[Ge]=!0:(se=i,G.push({instanceLocation:o,keyword:"patternProperties",keywordLocation:ne,error:`Property "${Ge}" matches pattern "${le}" but does not match associated schema.`},...St.errors))}}}if(!se&&F!==void 0){const ne=`${a}/additionalProperties`;for(const le in e){if(me[le])continue;const xe=`${o}/${ks(le)}`,Ne=Sn(e[le],F,n,r,i,s,xe,ne);Ne.valid?c[le]=!0:(se=i,G.push({instanceLocation:o,keyword:"additionalProperties",keywordLocation:ne,error:`Property "${le}" does not match additional properties schema.`},...Ne.errors))}}else if(!se&&H!==void 0){const ne=`${a}/unevaluatedProperties`;for(const le in e)if(!c[le]){const xe=`${o}/${ks(le)}`,Ne=Sn(e[le],H,n,r,i,s,xe,ne);Ne.valid?c[le]=!0:G.push({instanceLocation:o,keyword:"unevaluatedProperties",keywordLocation:ne,error:`Property "${le}" does not match unevaluated properties schema.`},...Ne.errors)}}}else if(f==="array"){he!==void 0&&e.length>he&&G.push({instanceLocation:o,keyword:"maxItems",keywordLocation:`${a}/maxItems`,error:`Array has too many items (${e.length} > ${he}).`}),ce!==void 0&&e.length<ce&&G.push({instanceLocation:o,keyword:"minItems",keywordLocation:`${a}/minItems`,error:`Array has too few items (${e.length} < ${ce}).`});const te=e.length;let me=0,se=!1;if(B!==void 0){const ne=`${a}/prefixItems`,le=Math.min(B.length,te);for(;me<le;me++){const xe=Sn(e[me],B[me],n,r,i,s,`${o}/${me}`,`${ne}/${me}`);if(c[me]=!0,!xe.valid&&(se=i,G.push({instanceLocation:o,keyword:"prefixItems",keywordLocation:ne,error:"Items did not match schema."},...xe.errors),se))break}}if(q!==void 0){const ne=`${a}/items`;if(Array.isArray(q)){const le=Math.min(q.length,te);for(;me<le;me++){const xe=Sn(e[me],q[me],n,r,i,s,`${o}/${me}`,`${ne}/${me}`);if(c[me]=!0,!xe.valid&&(se=i,G.push({instanceLocation:o,keyword:"items",keywordLocation:ne,error:"Items did not match schema."},...xe.errors),se))break}}else for(;me<te;me++){const le=Sn(e[me],q,n,r,i,s,`${o}/${me}`,ne);if(c[me]=!0,!le.valid&&(se=i,G.push({instanceLocation:o,keyword:"items",keywordLocation:ne,error:"Items did not match schema."},...le.errors),se))break}if(!se&&X!==void 0){const le=`${a}/additionalItems`;for(;me<te;me++){const xe=Sn(e[me],X,n,r,i,s,`${o}/${me}`,le);c[me]=!0,xe.valid||(se=i,G.push({instanceLocation:o,keyword:"additionalItems",keywordLocation:le,error:"Items did not match additional items schema."},...xe.errors))}}}if(ie!==void 0)if(te===0&&ae===void 0)G.push({instanceLocation:o,keyword:"contains",keywordLocation:`${a}/contains`,error:"Array is empty. It must contain at least one item matching the schema."});else if(ae!==void 0&&te<ae)G.push({instanceLocation:o,keyword:"minContains",keywordLocation:`${a}/minContains`,error:`Array has less items (${te}) than minContains (${ae}).`});else{const ne=`${a}/contains`,le=G.length;let xe=0;for(let Ne=0;Ne<te;Ne++){const Ge=Sn(e[Ne],ie,n,r,i,s,`${o}/${Ne}`,ne);Ge.valid?(c[Ne]=!0,xe++):G.push(...Ge.errors)}xe>=(ae||0)&&(G.length=le),ae===void 0&&fe===void 0&&xe===0?G.splice(le,0,{instanceLocation:o,keyword:"contains",keywordLocation:ne,error:"Array does not contain item matching schema."}):ae!==void 0&&xe<ae?G.push({instanceLocation:o,keyword:"minContains",keywordLocation:`${a}/minContains`,error:`Array must contain at least ${ae} items matching schema. Only ${xe} items were found.`}):fe!==void 0&&xe>fe&&G.push({instanceLocation:o,keyword:"maxContains",keywordLocation:`${a}/maxContains`,error:`Array may contain at most ${fe} items matching schema. ${xe} items were found.`})}if(!se&&Q!==void 0){const ne=`${a}/unevaluatedItems`;for(me;me<te;me++){if(c[me])continue;const le=Sn(e[me],Q,n,r,i,s,`${o}/${me}`,ne);c[me]=!0,le.valid||G.push({instanceLocation:o,keyword:"unevaluatedItems",keywordLocation:ne,error:"Items did not match unevaluated items schema."},...le.errors)}}if(ve)for(let ne=0;ne<te;ne++){const le=e[ne],xe=typeof le=="object"&&le!==null;for(let Ne=0;Ne<te;Ne++){if(ne===Ne)continue;const Ge=e[Ne];(le===Ge||xe&&(typeof Ge=="object"&&Ge!==null)&&pg(le,Ge))&&(G.push({instanceLocation:o,keyword:"uniqueItems",keywordLocation:`${a}/uniqueItems`,error:`Duplicate items at indexes ${ne} and ${Ne}.`}),ne=Number.MAX_SAFE_INTEGER,Ne=Number.MAX_SAFE_INTEGER)}}}else if(f==="number"){if(n==="4"?(Ae!==void 0&&(Ee===!0&&e<=Ae||e<Ae)&&G.push({instanceLocation:o,keyword:"minimum",keywordLocation:`${a}/minimum`,error:`${e} is less than ${Ee?"or equal to ":""} ${Ae}.`}),Ce!==void 0&&(Re===!0&&e>=Ce||e>Ce)&&G.push({instanceLocation:o,keyword:"maximum",keywordLocation:`${a}/maximum`,error:`${e} is greater than ${Re?"or equal to ":""} ${Ce}.`})):(Ae!==void 0&&e<Ae&&G.push({instanceLocation:o,keyword:"minimum",keywordLocation:`${a}/minimum`,error:`${e} is less than ${Ae}.`}),Ce!==void 0&&e>Ce&&G.push({instanceLocation:o,keyword:"maximum",keywordLocation:`${a}/maximum`,error:`${e} is greater than ${Ce}.`}),Ee!==void 0&&e<=Ee&&G.push({instanceLocation:o,keyword:"exclusiveMinimum",keywordLocation:`${a}/exclusiveMinimum`,error:`${e} is less than ${Ee}.`}),Re!==void 0&&e>=Re&&G.push({instanceLocation:o,keyword:"exclusiveMaximum",keywordLocation:`${a}/exclusiveMaximum`,error:`${e} is greater than or equal to ${Re}.`})),ke!==void 0){const te=e%ke;Math.abs(0-te)>=11920929e-14&&Math.abs(ke-te)>=11920929e-14&&G.push({instanceLocation:o,keyword:"multipleOf",keywordLocation:`${a}/multipleOf`,error:`${e} is not a multiple of ${ke}.`})}}else if(f==="string"){const te=We===void 0&&et===void 0?0:ife(e);We!==void 0&&te<We&&G.push({instanceLocation:o,keyword:"minLength",keywordLocation:`${a}/minLength`,error:`String is too short (${te} < ${We}).`}),et!==void 0&&te>et&&G.push({instanceLocation:o,keyword:"maxLength",keywordLocation:`${a}/maxLength`,error:`String is too long (${te} > ${et}).`}),Oe!==void 0&&!new RegExp(Oe,"u").test(e)&&G.push({instanceLocation:o,keyword:"pattern",keywordLocation:`${a}/pattern`,error:"String does not match pattern."}),D!==void 0&&V6[D]&&!V6[D](e)&&G.push({instanceLocation:o,keyword:"format",keywordLocation:`${a}/format`,error:`String does not match format "${D}".`})}return{valid:G.length===0,errors:G}}class sfe{constructor(t,n="2019-09",r=!0){K(this,"schema");K(this,"draft");K(this,"shortCircuit");K(this,"lookup");this.schema=t,this.draft=n,this.shortCircuit=r,this.lookup=Pu(t)}validate(t){return Sn(t,this.schema,this.draft,this.lookup,this.shortCircuit)}addSchema(t,n){n&&(t={...t,$id:n}),Pu(t,this.lookup)}}const qB=He({schema:no({type:"object"}),ui_schema:no({type:"object"}),default_from_schema:pt(),...lo.properties}).partial();class HB extends co{constructor(n,r){super(n,r);K(this,"type","jsonschema");K(this,"validator");this.validator=new sfe({...this.getJsonSchema()})}getSchema(){return qB}getJsonSchema(){var n;return(n=this.config)==null?void 0:n.schema}getJsonUiSchema(){return this.config.ui_schema??{}}isValid(n,r="update"){return super.isValid(n,r)?!this.isRequired()&&(!n||typeof n!="object")?!0:this.validator.validate(n).valid:!1}getValue(n,r){switch(r){case"form":return n===null?"":n;case"table":return n===null?null:JSON.stringify(n)}return n}transformRetrieve(n){const r=super.transformRetrieve(n);if(r===null){if(this.config.default_from_schema)try{return Vs(this.getJsonSchema()).template()}catch{return null}else if(this.hasDefault())return this.getDefault()}return r}async transformPersist(n,r,i){const s=await super.transformPersist(n,r,i);if(this.nullish(s))return s;if(!this.isValid(s))throw new mi(this.name,s);return!s||typeof s!="object"?this.getDefault():JSON.stringify(s)}toJsonSchema(){const n=this.getJsonSchema()??{type:"object"};return this.toSchemaWrapIfRequired(Vs({default:this.getDefault(),...n}))}toType(){return{...super.toType(),import:[{package:"json-schema-to-ts",name:"FromSchema"}],type:`FromSchema<${DC(this.getJsonSchema(),2,1)}>`}}}const WB=He({default_value:Ct(),minimum:Ct(),maximum:Ct(),exclusiveMinimum:Ct(),exclusiveMaximum:Ct(),multipleOf:Ct(),...Fi(lo.properties,["default_value"])}).partial();class GB extends co{constructor(){super(...arguments);K(this,"type","number")}getSchema(){return WB}getHtmlConfig(){return{element:"input",props:{type:"number",pattern:"d*",inputMode:"numeric"}}}schema(){return Object.freeze({...super.schema(),type:"integer"})}getValue(n,r){if(typeof n>"u"||n===null)return null;switch(r){case"submit":return Number.parseInt(n)}return n}async transformPersist(n,r,i){const s=await super.transformPersist(n,r,i);if(!this.nullish(s)&&typeof s!="number")throw mi.invalidType(this.name,"number",s);if(this.config.maximum&&s>this.config.maximum)throw new mi(`Field "${this.name}" cannot be greater than ${this.config.maximum}`);if(this.config.minimum&&s<this.config.minimum)throw new mi(`Field "${this.name}" cannot be less than ${this.config.minimum}`);return s}toJsonSchema(){var n,r,i,s,o;return this.toSchemaWrapIfRequired(Ct({default:this.getDefault(),minimum:(n=this.config)==null?void 0:n.minimum,maximum:(r=this.config)==null?void 0:r.maximum,exclusiveMinimum:(i=this.config)==null?void 0:i.exclusiveMinimum,exclusiveMaximum:(s=this.config)==null?void 0:s.exclusiveMaximum,multipleOf:(o=this.config)==null?void 0:o.multipleOf}))}toType(){return{...super.toType(),type:"number"}}}const JB={data:{default_primary_field:"id"}},AT=["integer","uuid"],YB=He({format:de({enum:AT,default:"integer"}),required:pt({default:!1}),...Fi(lo.properties,["required"])}).partial();class Hg extends co{constructor(n=JB.data.default_primary_field,r){super(n,{...r,fillable:!1,required:!1});K(this,"type","primary")}isRequired(){return!1}getSchema(){return YB}get format(){return this.config.format??"integer"}get fieldType(){return this.format==="integer"?"integer":"text"}schema(){return Object.freeze({type:this.fieldType,name:this.name,primary:!0,nullable:!1})}getNewValue(){if(this.format==="uuid")return Nle()}async transformPersist(n){throw new Error("PrimaryField: This function should not be called")}toJsonSchema(){return this.toSchemaWrapIfRequired(this.format==="integer"?Ct({writeOnly:void 0}):de({writeOnly:void 0}))}toType(){const n=this.format==="integer"?"number":"string";return{...super.toType(),required:!0,import:[{package:"kysely",name:"Generated"}],type:`Generated<${n}>`}}}const XB=He({default_value:de(),minLength:Ct(),maxLength:Ct(),pattern:de(),html_config:UF({element:de(),props:ad(Pt([de({title:"String"}),Ct({title:"Number"})]))}),...Fi(lo.properties,["default_value"])}).partial();class Ix extends co{constructor(){super(...arguments);K(this,"type","text")}getSchema(){return XB}getHtmlConfig(){return this.config.html_config?this.config.html_config:super.getHtmlConfig()}transformRetrieve(n){const r=super.transformRetrieve(n);return this.config.maxLength?r.substring(0,this.config.maxLength):this.isRequired()?r?r.toString():"":r}async transformPersist(n,r,i){let s=await super.transformPersist(n,r,i);if(this.nullish(s))return s;if(s!==null&&typeof s!="string"&&(s=String(s)),this.config.maxLength&&(s==null?void 0:s.length)>this.config.maxLength)throw new mi(`Field "${this.name}" must be at most ${this.config.maxLength} character(s)`);if(this.config.minLength&&(s==null?void 0:s.length)<this.config.minLength)throw new mi(`Field "${this.name}" must be at least ${this.config.minLength} character(s)`);if(this.config.pattern&&s&&!new RegExp(this.config.pattern).test(s))throw new mi(`Field "${this.name}" must match the pattern ${this.config.pattern}`);return s}toJsonSchema(){var n,r,i;return this.toSchemaWrapIfRequired(de({default:this.getDefault(),minLength:(n=this.config)==null?void 0:n.minLength,maxLength:(r=this.config)==null?void 0:r.maxLength,pattern:(i=this.config)==null?void 0:i.pattern}))}toType(){return{...super.toType(),type:"string"}}}class KB{constructor(t,n,r=!1,i){if(this.entity=t,this.fields=n,this.unique=r,this.name=i,n.length===0)throw new Error("Indices must contain at least one field");if(n.some(s=>!(s instanceof co)))throw new Error("All fields must be instances of Field");i||(this.name=[r?"idx_unique":"idx",t.name,...n.map(s=>s.name)].join("_"))}toJSON(){return{entity:this.entity.name,fields:this.fields.map(t=>t.name),unique:this.unique}}}var QB=typeof global=="object"&&global&&global.Object===Object&&global,ofe=typeof self=="object"&&self&&self.Object===Object&&self,uo=QB||ofe||Function("return this")(),ms=uo.Symbol,ZB=Object.prototype,afe=ZB.hasOwnProperty,lfe=ZB.toString,Lp=ms?ms.toStringTag:void 0;function cfe(e){var t=afe.call(e,Lp),n=e[Lp];try{e[Lp]=void 0;var r=!0}catch{}var i=lfe.call(e);return r&&(t?e[Lp]=n:delete e[Lp]),i}var ufe=Object.prototype,dfe=ufe.toString;function ffe(e){return dfe.call(e)}var hfe="[object Null]",mfe="[object Undefined]",U6=ms?ms.toStringTag:void 0;function Ed(e){return e==null?e===void 0?mfe:hfe:U6&&U6 in Object(e)?cfe(e):ffe(e)}function Do(e){return e!=null&&typeof e=="object"}var pfe="[object Symbol]";function L1(e){return typeof e=="symbol"||Do(e)&&Ed(e)==pfe}function ez(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var yi=Array.isArray,q6=ms?ms.prototype:void 0,H6=q6?q6.toString:void 0;function tz(e){if(typeof e=="string")return e;if(yi(e))return ez(e,tz)+"";if(L1(e))return H6?H6.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var gfe=/\s/;function yfe(e){for(var t=e.length;t--&&gfe.test(e.charAt(t)););return t}var bfe=/^\s+/;function vfe(e){return e&&e.slice(0,yfe(e)+1).replace(bfe,"")}function Tr(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var W6=NaN,xfe=/^[-+]0x[0-9a-f]+$/i,wfe=/^0b[01]+$/i,Sfe=/^0o[0-7]+$/i,Efe=parseInt;function G6(e){if(typeof e=="number")return e;if(L1(e))return W6;if(Tr(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Tr(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=vfe(e);var n=wfe.test(e);return n||Sfe.test(e)?Efe(e.slice(2),n?2:8):xfe.test(e)?W6:+e}function TT(e){return e}var Nfe="[object AsyncFunction]",_fe="[object Function]",Cfe="[object GeneratorFunction]",Ofe="[object Proxy]";function F1(e){if(!Tr(e))return!1;var t=Ed(e);return t==_fe||t==Cfe||t==Nfe||t==Ofe}var LN=uo["__core-js_shared__"],J6=function(){var e=/[^.]+$/.exec(LN&&LN.keys&&LN.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function jfe(e){return!!J6&&J6 in e}var Afe=Function.prototype,Tfe=Afe.toString;function Nd(e){if(e!=null){try{return Tfe.call(e)}catch{}try{return e+""}catch{}}return""}var $fe=/[\\^$.*+?()[\]{}|]/g,Rfe=/^\[object .+?Constructor\]$/,kfe=Function.prototype,Mfe=Object.prototype,Ife=kfe.toString,Pfe=Mfe.hasOwnProperty,Dfe=RegExp("^"+Ife.call(Pfe).replace($fe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Lfe(e){if(!Tr(e)||jfe(e))return!1;var t=F1(e)?Dfe:Rfe;return t.test(Nd(e))}function Ffe(e,t){return e==null?void 0:e[t]}function _d(e,t){var n=Ffe(e,t);return Lfe(n)?n:void 0}var aO=_d(uo,"WeakMap"),Y6=Object.create,nz=function(){function e(){}return function(t){if(!Tr(t))return{};if(Y6)return Y6(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Bfe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function rz(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var zfe=800,Vfe=16,Ufe=Date.now;function qfe(e){var t=0,n=0;return function(){var r=Ufe(),i=Vfe-(r-n);if(n=r,i>0){if(++t>=zfe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Hfe(e){return function(){return e}}var Px=function(){try{var e=_d(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Wfe=Px?function(e,t){return Px(e,"toString",{configurable:!0,enumerable:!1,value:Hfe(t),writable:!0})}:TT,iz=qfe(Wfe);function sz(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Gfe=9007199254740991,Jfe=/^(?:0|[1-9]\d*)$/;function B1(e,t){var n=typeof e;return t=t??Gfe,!!t&&(n=="number"||n!="symbol"&&Jfe.test(e))&&e>-1&&e%1==0&&e<t}function $T(e,t,n){t=="__proto__"&&Px?Px(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Xy(e,t){return e===t||e!==e&&t!==t}var Yfe=Object.prototype,Xfe=Yfe.hasOwnProperty;function RT(e,t,n){var r=e[t];(!(Xfe.call(e,t)&&Xy(r,n))||n===void 0&&!(t in e))&&$T(e,t,n)}function hm(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],c=void 0;c===void 0&&(c=e[a]),i?$T(n,a,c):RT(n,a,c)}return n}var X6=Math.max;function oz(e,t,n){return t=X6(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=X6(r.length-t,0),o=Array(s);++i<s;)o[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(o),Bfe(e,this,a)}}function Kfe(e,t){return iz(oz(e,t,TT),e+"")}var Qfe=9007199254740991;function kT(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Qfe}function z1(e){return e!=null&&kT(e.length)&&!F1(e)}function Zfe(e,t,n){if(!Tr(n))return!1;var r=typeof t;return(r=="number"?z1(n)&&B1(t,n.length):r=="string"&&t in n)?Xy(n[t],e):!1}function ehe(e){return Kfe(function(t,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=e.length>3&&typeof s=="function"?(i--,s):void 0,o&&Zfe(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),t=Object(t);++r<i;){var a=n[r];a&&e(t,a,r,s)}return t})}var the=Object.prototype;function MT(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||the;return e===n}function nhe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var rhe="[object Arguments]";function K6(e){return Do(e)&&Ed(e)==rhe}var az=Object.prototype,ihe=az.hasOwnProperty,she=az.propertyIsEnumerable,Wg=K6(function(){return arguments}())?K6:function(e){return Do(e)&&ihe.call(e,"callee")&&!she.call(e,"callee")};function ohe(){return!1}var lz=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Q6=lz&&typeof module=="object"&&module&&!module.nodeType&&module,ahe=Q6&&Q6.exports===lz,Z6=ahe?uo.Buffer:void 0,lhe=Z6?Z6.isBuffer:void 0,$h=lhe||ohe,che="[object Arguments]",uhe="[object Array]",dhe="[object Boolean]",fhe="[object Date]",hhe="[object Error]",mhe="[object Function]",phe="[object Map]",ghe="[object Number]",yhe="[object Object]",bhe="[object RegExp]",vhe="[object Set]",xhe="[object String]",whe="[object WeakMap]",She="[object ArrayBuffer]",Ehe="[object DataView]",Nhe="[object Float32Array]",_he="[object Float64Array]",Che="[object Int8Array]",Ohe="[object Int16Array]",jhe="[object Int32Array]",Ahe="[object Uint8Array]",The="[object Uint8ClampedArray]",$he="[object Uint16Array]",Rhe="[object Uint32Array]",dn={};dn[Nhe]=dn[_he]=dn[Che]=dn[Ohe]=dn[jhe]=dn[Ahe]=dn[The]=dn[$he]=dn[Rhe]=!0;dn[che]=dn[uhe]=dn[She]=dn[dhe]=dn[Ehe]=dn[fhe]=dn[hhe]=dn[mhe]=dn[phe]=dn[ghe]=dn[yhe]=dn[bhe]=dn[vhe]=dn[xhe]=dn[whe]=!1;function khe(e){return Do(e)&&kT(e.length)&&!!dn[Ed(e)]}function IT(e){return function(t){return e(t)}}var cz=typeof exports=="object"&&exports&&!exports.nodeType&&exports,gg=cz&&typeof module=="object"&&module&&!module.nodeType&&module,Mhe=gg&&gg.exports===cz,FN=Mhe&&QB.process,Rh=function(){try{var e=gg&&gg.require&&gg.require("util").types;return e||FN&&FN.binding&&FN.binding("util")}catch{}}(),eI=Rh&&Rh.isTypedArray,V1=eI?IT(eI):khe,Ihe=Object.prototype,Phe=Ihe.hasOwnProperty;function uz(e,t){var n=yi(e),r=!n&&Wg(e),i=!n&&!r&&$h(e),s=!n&&!r&&!i&&V1(e),o=n||r||i||s,a=o?nhe(e.length,String):[],c=a.length;for(var u in e)(t||Phe.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||B1(u,c)))&&a.push(u);return a}function dz(e,t){return function(n){return e(t(n))}}var Dhe=dz(Object.keys,Object),Lhe=Object.prototype,Fhe=Lhe.hasOwnProperty;function Bhe(e){if(!MT(e))return Dhe(e);var t=[];for(var n in Object(e))Fhe.call(e,n)&&n!="constructor"&&t.push(n);return t}function Ky(e){return z1(e)?uz(e):Bhe(e)}function zhe(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Vhe=Object.prototype,Uhe=Vhe.hasOwnProperty;function qhe(e){if(!Tr(e))return zhe(e);var t=MT(e),n=[];for(var r in e)r=="constructor"&&(t||!Uhe.call(e,r))||n.push(r);return n}function Qy(e){return z1(e)?uz(e,!0):qhe(e)}var Hhe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Whe=/^\w*$/;function PT(e,t){if(yi(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||L1(e)?!0:Whe.test(e)||!Hhe.test(e)||t!=null&&e in Object(t)}var Gg=_d(Object,"create");function Ghe(){this.__data__=Gg?Gg(null):{},this.size=0}function Jhe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Yhe="__lodash_hash_undefined__",Xhe=Object.prototype,Khe=Xhe.hasOwnProperty;function Qhe(e){var t=this.__data__;if(Gg){var n=t[e];return n===Yhe?void 0:n}return Khe.call(t,e)?t[e]:void 0}var Zhe=Object.prototype,eme=Zhe.hasOwnProperty;function tme(e){var t=this.__data__;return Gg?t[e]!==void 0:eme.call(t,e)}var nme="__lodash_hash_undefined__";function rme(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Gg&&t===void 0?nme:t,this}function ud(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ud.prototype.clear=Ghe;ud.prototype.delete=Jhe;ud.prototype.get=Qhe;ud.prototype.has=tme;ud.prototype.set=rme;function ime(){this.__data__=[],this.size=0}function U1(e,t){for(var n=e.length;n--;)if(Xy(e[n][0],t))return n;return-1}var sme=Array.prototype,ome=sme.splice;function ame(e){var t=this.__data__,n=U1(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ome.call(t,n,1),--this.size,!0}function lme(e){var t=this.__data__,n=U1(t,e);return n<0?void 0:t[n][1]}function cme(e){return U1(this.__data__,e)>-1}function ume(e,t){var n=this.__data__,r=U1(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function sl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}sl.prototype.clear=ime;sl.prototype.delete=ame;sl.prototype.get=lme;sl.prototype.has=cme;sl.prototype.set=ume;var Jg=_d(uo,"Map");function dme(){this.size=0,this.__data__={hash:new ud,map:new(Jg||sl),string:new ud}}function fme(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function q1(e,t){var n=e.__data__;return fme(t)?n[typeof t=="string"?"string":"hash"]:n.map}function hme(e){var t=q1(this,e).delete(e);return this.size-=t?1:0,t}function mme(e){return q1(this,e).get(e)}function pme(e){return q1(this,e).has(e)}function gme(e,t){var n=q1(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function ol(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ol.prototype.clear=dme;ol.prototype.delete=hme;ol.prototype.get=mme;ol.prototype.has=pme;ol.prototype.set=gme;var yme="Expected a function";function DT(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(yme);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(DT.Cache||ol),n}DT.Cache=ol;var bme=500;function vme(e){var t=DT(e,function(r){return n.size===bme&&n.clear(),r}),n=t.cache;return t}var xme=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wme=/\\(\\)?/g,Sme=vme(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(xme,function(n,r,i,s){t.push(i?s.replace(wme,"$1"):r||n)}),t});function Eme(e){return e==null?"":tz(e)}function mm(e,t){return yi(e)?e:PT(e,t)?[e]:Sme(Eme(e))}function pm(e){if(typeof e=="string"||L1(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function H1(e,t){t=mm(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[pm(t[n++])];return n&&n==r?e:void 0}function Yg(e,t,n){var r=e==null?void 0:H1(e,t);return r===void 0?n:r}function LT(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var tI=ms?ms.isConcatSpreadable:void 0;function Nme(e){return yi(e)||Wg(e)||!!(tI&&e&&e[tI])}function fz(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=Nme),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?fz(a,t-1,n,r,i):LT(i,a):r||(i[i.length]=a)}return i}function _me(e){var t=e==null?0:e.length;return t?fz(e,1):[]}function hz(e){return iz(oz(e,void 0,_me),e+"")}var W1=dz(Object.getPrototypeOf,Object),Cme="[object Object]",Ome=Function.prototype,jme=Object.prototype,mz=Ome.toString,Ame=jme.hasOwnProperty,Tme=mz.call(Object);function pz(e){if(!Do(e)||Ed(e)!=Cme)return!1;var t=W1(e);if(t===null)return!0;var n=Ame.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&mz.call(n)==Tme}function $me(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}function Rme(){this.__data__=new sl,this.size=0}function kme(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Mme(e){return this.__data__.get(e)}function Ime(e){return this.__data__.has(e)}var Pme=200;function Dme(e,t){var n=this.__data__;if(n instanceof sl){var r=n.__data__;if(!Jg||r.length<Pme-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ol(r)}return n.set(e,t),this.size=n.size,this}function Qs(e){var t=this.__data__=new sl(e);this.size=t.size}Qs.prototype.clear=Rme;Qs.prototype.delete=kme;Qs.prototype.get=Mme;Qs.prototype.has=Ime;Qs.prototype.set=Dme;function Lme(e,t){return e&&hm(t,Ky(t),e)}function Fme(e,t){return e&&hm(t,Qy(t),e)}var gz=typeof exports=="object"&&exports&&!exports.nodeType&&exports,nI=gz&&typeof module=="object"&&module&&!module.nodeType&&module,Bme=nI&&nI.exports===gz,rI=Bme?uo.Buffer:void 0,iI=rI?rI.allocUnsafe:void 0;function yz(e,t){if(t)return e.slice();var n=e.length,r=iI?iI(n):new e.constructor(n);return e.copy(r),r}function zme(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function bz(){return[]}var Vme=Object.prototype,Ume=Vme.propertyIsEnumerable,sI=Object.getOwnPropertySymbols,FT=sI?function(e){return e==null?[]:(e=Object(e),zme(sI(e),function(t){return Ume.call(e,t)}))}:bz;function qme(e,t){return hm(e,FT(e),t)}var Hme=Object.getOwnPropertySymbols,vz=Hme?function(e){for(var t=[];e;)LT(t,FT(e)),e=W1(e);return t}:bz;function Wme(e,t){return hm(e,vz(e),t)}function xz(e,t,n){var r=t(e);return yi(e)?r:LT(r,n(e))}function lO(e){return xz(e,Ky,FT)}function wz(e){return xz(e,Qy,vz)}var cO=_d(uo,"DataView"),uO=_d(uo,"Promise"),dO=_d(uo,"Set"),oI="[object Map]",Gme="[object Object]",aI="[object Promise]",lI="[object Set]",cI="[object WeakMap]",uI="[object DataView]",Jme=Nd(cO),Yme=Nd(Jg),Xme=Nd(uO),Kme=Nd(dO),Qme=Nd(aO),zs=Ed;(cO&&zs(new cO(new ArrayBuffer(1)))!=uI||Jg&&zs(new Jg)!=oI||uO&&zs(uO.resolve())!=aI||dO&&zs(new dO)!=lI||aO&&zs(new aO)!=cI)&&(zs=function(e){var t=Ed(e),n=t==Gme?e.constructor:void 0,r=n?Nd(n):"";if(r)switch(r){case Jme:return uI;case Yme:return oI;case Xme:return aI;case Kme:return lI;case Qme:return cI}return t});var Zme=Object.prototype,epe=Zme.hasOwnProperty;function tpe(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&epe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Dx=uo.Uint8Array;function BT(e){var t=new e.constructor(e.byteLength);return new Dx(t).set(new Dx(e)),t}function npe(e,t){var n=t?BT(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var rpe=/\w*$/;function ipe(e){var t=new e.constructor(e.source,rpe.exec(e));return t.lastIndex=e.lastIndex,t}var dI=ms?ms.prototype:void 0,fI=dI?dI.valueOf:void 0;function spe(e){return fI?Object(fI.call(e)):{}}function Sz(e,t){var n=t?BT(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var ope="[object Boolean]",ape="[object Date]",lpe="[object Map]",cpe="[object Number]",upe="[object RegExp]",dpe="[object Set]",fpe="[object String]",hpe="[object Symbol]",mpe="[object ArrayBuffer]",ppe="[object DataView]",gpe="[object Float32Array]",ype="[object Float64Array]",bpe="[object Int8Array]",vpe="[object Int16Array]",xpe="[object Int32Array]",wpe="[object Uint8Array]",Spe="[object Uint8ClampedArray]",Epe="[object Uint16Array]",Npe="[object Uint32Array]";function _pe(e,t,n){var r=e.constructor;switch(t){case mpe:return BT(e);case ope:case ape:return new r(+e);case ppe:return npe(e,n);case gpe:case ype:case bpe:case vpe:case xpe:case wpe:case Spe:case Epe:case Npe:return Sz(e,n);case lpe:return new r;case cpe:case fpe:return new r(e);case upe:return ipe(e);case dpe:return new r;case hpe:return spe(e)}}function Ez(e){return typeof e.constructor=="function"&&!MT(e)?nz(W1(e)):{}}var Cpe="[object Map]";function Ope(e){return Do(e)&&zs(e)==Cpe}var hI=Rh&&Rh.isMap,jpe=hI?IT(hI):Ope,Ape="[object Set]";function Tpe(e){return Do(e)&&zs(e)==Ape}var mI=Rh&&Rh.isSet,$pe=mI?IT(mI):Tpe,Rpe=1,kpe=2,Mpe=4,Nz="[object Arguments]",Ipe="[object Array]",Ppe="[object Boolean]",Dpe="[object Date]",Lpe="[object Error]",_z="[object Function]",Fpe="[object GeneratorFunction]",Bpe="[object Map]",zpe="[object Number]",Cz="[object Object]",Vpe="[object RegExp]",Upe="[object Set]",qpe="[object String]",Hpe="[object Symbol]",Wpe="[object WeakMap]",Gpe="[object ArrayBuffer]",Jpe="[object DataView]",Ype="[object Float32Array]",Xpe="[object Float64Array]",Kpe="[object Int8Array]",Qpe="[object Int16Array]",Zpe="[object Int32Array]",ege="[object Uint8Array]",tge="[object Uint8ClampedArray]",nge="[object Uint16Array]",rge="[object Uint32Array]",on={};on[Nz]=on[Ipe]=on[Gpe]=on[Jpe]=on[Ppe]=on[Dpe]=on[Ype]=on[Xpe]=on[Kpe]=on[Qpe]=on[Zpe]=on[Bpe]=on[zpe]=on[Cz]=on[Vpe]=on[Upe]=on[qpe]=on[Hpe]=on[ege]=on[tge]=on[nge]=on[rge]=!0;on[Lpe]=on[_z]=on[Wpe]=!1;function yg(e,t,n,r,i,s){var o,a=t&Rpe,c=t&kpe,u=t&Mpe;if(n&&(o=i?n(e,r,i,s):n(e)),o!==void 0)return o;if(!Tr(e))return e;var f=yi(e);if(f){if(o=tpe(e),!a)return rz(e,o)}else{var m=zs(e),p=m==_z||m==Fpe;if($h(e))return yz(e,a);if(m==Cz||m==Nz||p&&!i){if(o=c||p?{}:Ez(e),!a)return c?Wme(e,Fme(o,e)):qme(e,Lme(o,e))}else{if(!on[m])return i?e:{};o=_pe(e,m,a)}}s||(s=new Qs);var y=s.get(e);if(y)return y;s.set(e,o),$pe(e)?e.forEach(function(S){o.add(yg(S,t,n,S,e,s))}):jpe(e)&&e.forEach(function(S,N){o.set(N,yg(S,t,n,N,e,s))});var v=u?c?wz:lO:c?Qy:Ky,x=f?void 0:v(e);return sz(x||e,function(S,N){x&&(N=S,S=e[N]),RT(o,N,yg(S,t,n,N,e,s))}),o}var ige=1,sge=4;function G1(e){return yg(e,ige|sge)}var oge="__lodash_hash_undefined__";function age(e){return this.__data__.set(e,oge),this}function lge(e){return this.__data__.has(e)}function Lx(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new ol;++t<n;)this.add(e[t])}Lx.prototype.add=Lx.prototype.push=age;Lx.prototype.has=lge;function cge(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function uge(e,t){return e.has(t)}var dge=1,fge=2;function Oz(e,t,n,r,i,s){var o=n&dge,a=e.length,c=t.length;if(a!=c&&!(o&&c>a))return!1;var u=s.get(e),f=s.get(t);if(u&&f)return u==t&&f==e;var m=-1,p=!0,y=n&fge?new Lx:void 0;for(s.set(e,t),s.set(t,e);++m<a;){var v=e[m],x=t[m];if(r)var S=o?r(x,v,m,t,e,s):r(v,x,m,e,t,s);if(S!==void 0){if(S)continue;p=!1;break}if(y){if(!cge(t,function(N,_){if(!uge(y,_)&&(v===N||i(v,N,n,r,s)))return y.push(_)})){p=!1;break}}else if(!(v===x||i(v,x,n,r,s))){p=!1;break}}return s.delete(e),s.delete(t),p}function hge(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function mge(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var pge=1,gge=2,yge="[object Boolean]",bge="[object Date]",vge="[object Error]",xge="[object Map]",wge="[object Number]",Sge="[object RegExp]",Ege="[object Set]",Nge="[object String]",_ge="[object Symbol]",Cge="[object ArrayBuffer]",Oge="[object DataView]",pI=ms?ms.prototype:void 0,BN=pI?pI.valueOf:void 0;function jge(e,t,n,r,i,s,o){switch(n){case Oge:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Cge:return!(e.byteLength!=t.byteLength||!s(new Dx(e),new Dx(t)));case yge:case bge:case wge:return Xy(+e,+t);case vge:return e.name==t.name&&e.message==t.message;case Sge:case Nge:return e==t+"";case xge:var a=hge;case Ege:var c=r&pge;if(a||(a=mge),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=gge,o.set(e,t);var f=Oz(a(e),a(t),r,i,s,o);return o.delete(e),f;case _ge:if(BN)return BN.call(e)==BN.call(t)}return!1}var Age=1,Tge=Object.prototype,$ge=Tge.hasOwnProperty;function Rge(e,t,n,r,i,s){var o=n&Age,a=lO(e),c=a.length,u=lO(t),f=u.length;if(c!=f&&!o)return!1;for(var m=c;m--;){var p=a[m];if(!(o?p in t:$ge.call(t,p)))return!1}var y=s.get(e),v=s.get(t);if(y&&v)return y==t&&v==e;var x=!0;s.set(e,t),s.set(t,e);for(var S=o;++m<c;){p=a[m];var N=e[p],_=t[p];if(r)var C=o?r(_,N,p,t,e,s):r(N,_,p,e,t,s);if(!(C===void 0?N===_||i(N,_,n,r,s):C)){x=!1;break}S||(S=p=="constructor")}if(x&&!S){var j=e.constructor,A=t.constructor;j!=A&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof A=="function"&&A instanceof A)&&(x=!1)}return s.delete(e),s.delete(t),x}var kge=1,gI="[object Arguments]",yI="[object Array]",nv="[object Object]",Mge=Object.prototype,bI=Mge.hasOwnProperty;function Ige(e,t,n,r,i,s){var o=yi(e),a=yi(t),c=o?yI:zs(e),u=a?yI:zs(t);c=c==gI?nv:c,u=u==gI?nv:u;var f=c==nv,m=u==nv,p=c==u;if(p&&$h(e)){if(!$h(t))return!1;o=!0,f=!1}if(p&&!f)return s||(s=new Qs),o||V1(e)?Oz(e,t,n,r,i,s):jge(e,t,c,n,r,i,s);if(!(n&kge)){var y=f&&bI.call(e,"__wrapped__"),v=m&&bI.call(t,"__wrapped__");if(y||v){var x=y?e.value():e,S=v?t.value():t;return s||(s=new Qs),i(x,S,n,r,s)}}return p?(s||(s=new Qs),Rge(e,t,n,r,i,s)):!1}function J1(e,t,n,r,i){return e===t?!0:e==null||t==null||!Do(e)&&!Do(t)?e!==e&&t!==t:Ige(e,t,n,r,J1,i)}var Pge=1,Dge=2;function Lge(e,t,n,r){var i=n.length,s=i;if(e==null)return!s;for(e=Object(e);i--;){var o=n[i];if(o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<s;){o=n[i];var a=o[0],c=e[a],u=o[1];if(o[2]){if(c===void 0&&!(a in e))return!1}else{var f=new Qs,m;if(!(m===void 0?J1(u,c,Pge|Dge,r,f):m))return!1}}return!0}function jz(e){return e===e&&!Tr(e)}function Fge(e){for(var t=Ky(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,jz(i)]}return t}function Az(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Bge(e){var t=Fge(e);return t.length==1&&t[0][2]?Az(t[0][0],t[0][1]):function(n){return n===e||Lge(n,e,t)}}function zge(e,t){return e!=null&&t in Object(e)}function Tz(e,t,n){t=mm(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var o=pm(t[r]);if(!(s=e!=null&&n(e,o)))break;e=e[o]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&kT(i)&&B1(o,i)&&(yi(e)||Wg(e)))}function $z(e,t){return e!=null&&Tz(e,t,zge)}var Vge=1,Uge=2;function qge(e,t){return PT(e)&&jz(t)?Az(pm(e),t):function(n){var r=Yg(n,e);return r===void 0&&r===t?$z(n,e):J1(t,r,Vge|Uge)}}function Hge(e){return function(t){return t==null?void 0:t[e]}}function Wge(e){return function(t){return H1(t,e)}}function Gge(e){return PT(e)?Hge(pm(e)):Wge(e)}function Jge(e){return typeof e=="function"?e:e==null?TT:typeof e=="object"?yi(e)?qge(e[0],e[1]):Bge(e):Gge(e)}function Yge(e){return function(t,n,r){for(var i=-1,s=Object(t),o=r(t),a=o.length;a--;){var c=o[++i];if(n(s[c],c,s)===!1)break}return t}}var Rz=Yge();function Xge(e,t){return e&&Rz(e,t,Ky)}var zN=function(){return uo.Date.now()},Kge="Expected a function",Qge=Math.max,Zge=Math.min;function eye(e,t,n){var r,i,s,o,a,c,u=0,f=!1,m=!1,p=!0;if(typeof e!="function")throw new TypeError(Kge);t=G6(t)||0,Tr(n)&&(f=!!n.leading,m="maxWait"in n,s=m?Qge(G6(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p);function y($){var k=r,R=i;return r=i=void 0,u=$,o=e.apply(R,k),o}function v($){return u=$,a=setTimeout(N,t),f?y($):o}function x($){var k=$-c,R=$-u,D=t-k;return m?Zge(D,s-R):D}function S($){var k=$-c,R=$-u;return c===void 0||k>=t||k<0||m&&R>=s}function N(){var $=zN();if(S($))return _($);a=setTimeout(N,x($))}function _($){return a=void 0,p&&r?y($):(r=i=void 0,o)}function C(){a!==void 0&&clearTimeout(a),u=0,r=c=i=a=void 0}function j(){return a===void 0?o:_(zN())}function A(){var $=zN(),k=S($);if(r=arguments,i=this,c=$,k){if(a===void 0)return v(c);if(m)return clearTimeout(a),a=setTimeout(N,t),y(c)}return a===void 0&&(a=setTimeout(N,t)),o}return A.cancel=C,A.flush=j,A}function fO(e,t,n){(n!==void 0&&!Xy(e[t],n)||n===void 0&&!(t in e))&&$T(e,t,n)}function tye(e){return Do(e)&&z1(e)}function hO(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function nye(e){return hm(e,Qy(e))}function rye(e,t,n,r,i,s,o){var a=hO(e,n),c=hO(t,n),u=o.get(c);if(u){fO(e,n,u);return}var f=s?s(a,c,n+"",e,t,o):void 0,m=f===void 0;if(m){var p=yi(c),y=!p&&$h(c),v=!p&&!y&&V1(c);f=c,p||y||v?yi(a)?f=a:tye(a)?f=rz(a):y?(m=!1,f=yz(c,!0)):v?(m=!1,f=Sz(c,!0)):f=[]:pz(c)||Wg(c)?(f=a,Wg(a)?f=nye(a):(!Tr(a)||F1(a))&&(f=Ez(c))):m=!1}m&&(o.set(c,f),i(f,c,r,s,o),o.delete(c)),fO(e,n,f)}function kz(e,t,n,r,i){e!==t&&Rz(t,function(s,o){if(i||(i=new Qs),Tr(s))rye(e,t,o,n,kz,r,i);else{var a=r?r(hO(e,o),s,o+"",e,t,i):void 0;a===void 0&&(a=s),fO(e,o,a)}},Qy)}var iye=ehe(function(e,t,n,r){kz(e,t,n,r)});function sye(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var oye=Object.prototype,aye=oye.hasOwnProperty;function lye(e,t){return e!=null&&aye.call(e,t)}function VN(e,t){return e!=null&&Tz(e,t,lye)}function cye(e,t){return t.length<2?e:H1(e,$me(t,0,-1))}function Mz(e,t){return J1(e,t)}function uye(e,t){return t=mm(t,e),e=cye(e,t),e==null||delete e[pm(sye(t))]}function dye(e){return pz(e)?void 0:e}var fye=1,hye=2,mye=4,kh=hz(function(e,t){var n={};if(e==null)return n;var r=!1;t=ez(t,function(s){return s=mm(s,e),r||(r=s.length>1),s}),hm(e,wz(e),n),r&&(n=yg(n,fye|hye|mye,dye));for(var i=t.length;i--;)uye(n,t[i]);return n});function Iz(e,t,n,r){if(!Tr(e))return e;t=mm(t,e);for(var i=-1,s=t.length,o=s-1,a=e;a!=null&&++i<s;){var c=pm(t[i]),u=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(i!=o){var f=a[c];u=r?r(f,c,a):void 0,u===void 0&&(u=Tr(f)?f:B1(t[i+1])?[]:{})}RT(a,c,u),a=a[c]}return e}function pye(e,t,n){for(var r=-1,i=t.length,s={};++r<i;){var o=t[r],a=H1(e,o);n(a,o)&&Iz(s,mm(o,e),a)}return s}function gye(e,t){return pye(e,t,function(n,r){return $z(e,r)})}var Pz=hz(function(e,t){return e==null?{}:gye(e,t)});function rv(e,t,n){return e==null?e:Iz(e,t,n)}var yye="Expected a function";function zT(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(yye);return Tr(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),eye(e,t,{leading:r,maxWait:t,trailing:i})}function os(e,t,n){var r=yi(e),i=r||$h(e)||V1(e);if(t=Jge(t),n==null){var s=e&&e.constructor;i?n=r?new s:[]:Tr(e)?n=F1(s)?nz(W1(e)):{}:n={}}return(i?sz:Xge)(e,function(o,a,c){return t(n,o,a,c)}),n}const bye={primary:{schema:YB,field:Hg},text:{schema:XB,field:Ix},number:{schema:WB,field:GB},boolean:{schema:IB,field:PB},date:{schema:DB,field:oO},enum:{schema:LB,field:FB},json:{schema:BB,field:zB},jsonschema:{schema:qB,field:HB}},Vw=class Vw{constructor(t){this.em=t}getIntrospector(){return this.em.connection.getIntrospector()}async introspect(){const t=await this.getIntrospector().getTables({withInternalKyselyTables:!1}),n=await this.getIntrospector().getIndices(),r=[];for(const i of t)Vw.EXCLUDE_TABLES.includes(i.name)||i.name&&r.push({...i,indices:n.filter(s=>s.table===i.name)});return r}getIntrospectionFromEntity(t){const n=t.getFields(!1),r=this.em.getIndicesOf(t);return{name:t.name,isView:!1,columns:n.map(i=>({name:i.name,dataType:"TEXT",isNullable:!0,isAutoIncrementing:i instanceof Hg,hasDefaultValue:!1,comment:void 0})),indices:r.map(i=>({name:i.name,table:t.name,isUnique:i.unique,columns:i.fields.map(s=>({name:s.name,order:0}))}))}}async getDiff(){const t=await this.introspect(),n=this.em.entities.map(s=>this.getIntrospectionFromEntity(s)),r=[],i=s=>s.name;t.filter(s=>/bknd/.test(s.name)||s.isView?!1:!n.map(o=>o.name).includes(s.name)).forEach(s=>{r.push({name:s.name,isDrop:!0,isNew:!1,columns:{add:[],drop:[],change:[]},indices:{add:[],drop:[]}})});for(const s of n){const o=t.find(a=>a.name===s.name);if(!o)r.push({name:s.name,isNew:!0,columns:{add:s.columns.map(i),drop:[],change:[]},indices:{add:s.indices.map(i),drop:[]}});else{const a=s.columns.filter(y=>!o.columns.map(i).includes(y.name)),c=o.columns.filter(y=>!s.columns.map(i).includes(y.name)),u=[];for(const y of s.columns){const v=o.columns.find(S=>S.name===y.name),x=[];for(const[S,N]of Object.entries(y))v&&v[S]!==N&&x.push({attribute:S,prev:v[S],next:N});Object.keys(x).length>0&&u.push({name:y.name,changes:x})}const f=s.indices.filter(y=>!o.indices.map(v=>v.name).includes(y.name)),m=o.indices.filter(y=>!s.indices.map(v=>v.name).includes(y.name));[a,c,f,m].some(y=>y.length>0)&&r.push({name:s.name,isNew:!1,columns:{add:a.map(i),drop:c.map(i),change:[]},indices:{add:f.map(i),drop:m.map(i)}})}}return r}collectFieldSchemas(t,n){const r=[];if(n.length===0)return r;for(const i of n){const o=this.em.entity(t).getField(i).schema();o&&r.push(this.em.connection.getFieldSchema(o))}return r}async sync(t={force:!1,drop:!1}){const n=await this.getDiff(),r=[],i=this.em.connection.kysely.schema,s=[];for(const o of n){const a=this.collectFieldSchemas(o.name,o.columns.add),c=o.columns.drop,u=o.indices.drop;if(o.isDrop)t.drop&&s.push(i.dropTable(o.name));else if(o.isNew){let f=i.createTable(o.name);for(const m of a)f=f.addColumn(...m);s.push(f)}else{if(a.length>0)for(const f of a)s.push(i.alterTable(o.name).addColumn(...f));if(t.drop&&c.length>0)for(const f of c)s.push(i.alterTable(o.name).dropColumn(f))}for(const f of o.indices.add){const p=this.em.getIndicesOf(o.name).find(v=>v.name===f);let y=i.createIndex(f).on(o.name).columns(p.fields.map(v=>v.name));p.unique&&(y=y.unique()),s.push(y)}if(t.drop)for(const f of u)s.push(i.dropIndex(f))}if(s.length>0){r.push(...s.map(o=>{const{sql:a,parameters:c}=o.compile();return{sql:a,parameters:c}})),mt.debug("[SchemaManager]",`${s.length} statements
${r.map(o=>o.sql).join(`;
`)}`);try{await this.em.connection.executeQueries(...s)}catch(o){throw new Error(`Failed to execute batch: ${String(o)}`)}}return r}};K(Vw,"EXCLUDE_TABLES",["libsql_wasm_func_table","sqlite_sequence","_cf_KV"]);let mO=Vw;const VT=He({name:de(),name_singular:de(),description:de(),sort_field:de({default:JB.data.default_primary_field}),sort_dir:de({enum:["asc","desc"],default:"asc"}),primary_format:de({enum:AT})},{default:{}}).partial(),Dz=["regular","system","generated"],vI=Symbol.for("bknd:entity");var Wj,Gj;const r3=class r3{constructor(t,n,r,i){Be(this,Wj);Be(this,Gj);K(this,"name");K(this,"fields");K(this,"config");K(this,"data");K(this,"type","regular");if(typeof t!="string"||t.length===0)throw new Error("Entity name must be a non-empty string");this.name=t,this.config=An(VT,r||{});const s=(n==null?void 0:n.filter(o=>o instanceof Hg).length)??0;if(s>1)throw new Error(`Entity "${t}" has more than one primary field`);this.fields=s===1?[]:[new Hg(void 0,{format:this.config.primary_format})],n&&n.forEach(o=>this.addField(o)),i&&(this.type=i),this[vI]=!0}static isEntity(t){return t?t[vI]===!0:!1}static create(t){return new r3(t.name,t.fields,t.config,t.type)}getType(){return this.type}getSelect(t,n){return this.getFields().filter(r=>!r.isHidden(n??"read")).map(r=>t?`${t}.${r.name} as ${r.name}`:r.name)}getDefaultSort(){return{by:this.config.sort_field??"id",dir:this.config.sort_dir??"asc"}}getAliasedSelectFrom(t,n,r){const i=n??this.name;return this.getFields().filter(s=>!s.isVirtual()&&!s.isHidden(r??"read")&&t.includes(s.name)).map(s=>i?`${i}.${s.name} as ${s.name}`:s.name)}getFillableFields(t,n){return this.getFields(n).filter(r=>r.isFillable(t))}getRequiredFields(){return this.getFields().filter(t=>t.isRequired())}getDefaultObject(){return this.getFields().reduce((t,n)=>(n.hasDefault()&&(t[n.name]=n.getDefault()),t),{})}getField(t){return this.fields.find(n=>n.name===t)}__replaceField(t,n){const r=this.fields.findIndex(i=>i.name===t);if(r===-1)throw new Error(`Field "${t}" not found on entity "${this.name}"`);this.fields[r]=n}getPrimaryField(){return this.fields[0]}id(){return this.getPrimaryField()}get label(){return this.config.name??Ah(this.name)}field(t){return this.getField(t)}hasField(t){const n=typeof t=="string"?t:t.name;return this.fields.findIndex(r=>r.name===n)!==-1}getFields(t=!1){return t?this.fields:this.fields.filter(n=>!n.isVirtual())}addField(t){const n=this.getField(t.name);if(n){if(JSON.stringify(n)===JSON.stringify(t)){mt.warn(`Field "${t.name}" already exists on entity "${this.name}", but it's the same, so skipping.`);return}throw new Error(`Field "${t.name}" already exists on entity "${this.name}"`)}this.fields.push(t)}__setData(t){this.data=t}isValidData(t,n,r){if(typeof t!="object"&&r!=null&&r.explain)throw new Error(`Entity "${this.name}" data must be an object`);const i=this.getFillableFields(n,!1);if((r==null?void 0:r.ignoreUnknown)!==!0){const s=i.map(c=>c.name),a=Object.keys(t).filter(c=>!s.includes(c));if(a.length>0&&r!=null&&r.explain)throw new Error(`Entity "${this.name}" data must only contain known keys, unknown: "${a}"`)}for(const s of i)if(!s.isValid(t==null?void 0:t[s.name],n)){if(mt.warn("invalid data given for",this.name,n,s.name,t[s.name]),r!=null&&r.explain)throw new Error(`Field "${s.name}" has invalid data: "${t[s.name]}"`);return!1}return!0}toSchema(t){let n;switch(t==null?void 0:t.context){case"create":case"update":n=this.getFillableFields(t.context);break;default:n=this.getFields(!0)}const r=Object.fromEntries(n.map(s=>[s.name,s])),i={type:"object",additionalProperties:!1,properties:Xt(r,s=>{const o=s.isFillable(t==null?void 0:t.context);return{title:s.config.label,$comment:s.config.description,$field:s.type,readOnly:o?void 0:!0,...s.toJsonSchema()}})};return t!=null&&t.clean?JSON.parse(JSON.stringify(i)):i}toTypes(){return{name:this.name,type:this.type,comment:this.config.description,fields:Object.fromEntries(this.getFields().map(t=>[t.name,t.toType()]))}}toJSON(){return{type:this.type,fields:Object.fromEntries(this.fields.map(t=>[t.name,t.toJSON()])),config:this.config}}};Wj=new WeakMap,Gj=new WeakMap;let bc=r3;function Rs(e){if(typeof e!="string")throw new Error(`Invalid key: ${e}`);return e}const vye=[bn("$eq",e=>Ls(e),(e,t,n)=>n(Rs(t),"=",e)),bn("$ne",e=>Ls(e),(e,t,n)=>n(Rs(t),"!=",e)),bn("$gt",e=>Ls(e),(e,t,n)=>n(Rs(t),">",e)),bn("$gte",e=>Ls(e),(e,t,n)=>n(Rs(t),">=",e)),bn("$lt",e=>Ls(e),(e,t,n)=>n(Rs(t),"<",e)),bn("$lte",e=>Ls(e),(e,t,n)=>n(Rs(t),"<=",e)),bn("$isnull",e=>Xce(e),(e,t,n)=>n(Rs(t),e?"is":"is not",null)),bn("$in",e=>Array.isArray(e),(e,t,n)=>n(Rs(t),"in",e)),bn("$notin",e=>Array.isArray(e),(e,t,n)=>n(Rs(t),"not in",e)),bn("$between",e=>Array.isArray(e)&&e.length===2,(e,t,n)=>n.between(Rs(t),e[0],e[1])),bn("$like",e=>Ls(e),(e,t,n)=>n(Rs(t),"like",String(e).replace(/\*/g,"%")))],UN=eB(vye);class gc{static addClause(t,n){return Object.keys(n).length===0?t:t.where(r=>{const i=UN.build(n,{value_is_kv:!0,exp_ctx:r,convert:!0});return i.$or.length>0&&i.$and.length>0?r.and(i.$and).or(r.and(i.$or)):i.$or.length>0?r.or(i.$or):r.and(i.$and)})}static convert(t){return UN.convert(t)}static getPropertyNames(t){const{keys:n}=UN.build(t,{value_is_kv:!0,exp_ctx:()=>null,convert:!0});return Array.from(n)}}class dd{constructor(t,n,r={}){K(this,"config");K(this,"source");K(this,"target");K(this,"directions",["source","target"]);this.source=t,this.target=n;const i=this.constructor.schema;this.config=An(i,r)}getReferenceQuery(t,n,r){return{}}helper(t){return new wye(this,t)}other(t){const n=typeof t=="string"?t:t.name;if(this.source.entity.name===this.target.entity.name)return this.source.cardinality===1?this.target:this.source;if(this.source.entity.name===n)return this.target;if(this.target.entity.name===n)return this.source;throw new Error(`Entity "${n}" is not part of the relation "${this.source.entity.name} <-> ${this.target.entity.name}"`)}self(t){return this.other(t).entity.name===this.source.entity.name?this.target:this.source}ref(t){return this.source.reference===t?this.source:this.target}otherRef(t){return this.source.reference===t?this.target:this.source}visibleFrom(t){return this.directions.includes(t)}hydrate(t,n,r){const i=typeof t=="string"?t:t.name,s=this.ref(i),o=r.hydrate(s.entity.name,n);if(s.cardinality===1){if(Array.isArray(o)&&o.length>1)throw new Error(`Failed to hydrate "${s.entity.name}" with value: ${JSON.stringify(n)} (cardinality: 1)`);return o[0]}if(!o)throw new Error(`Failed to hydrate "${s.entity.name}" with value: ${JSON.stringify(n)} (cardinality: -)`);return o}isListableFor(t){return this.target.entity.name===t.name}get required(){return!!this.config.required}async $set(t,n,r){throw new Error("$set is not allowed")}async $create(t,n,r){throw new Error("$create is not allowed")}async $attach(t,n,r){throw new Error("$attach is not allowed")}async $detach(t,n,r){throw new Error("$detach is not allowed")}getName(){return[this.type().replace(":",""),this.source.entity.name,this.target.entity.name,this.config.mappedBy,this.config.inversedBy].filter(Boolean).join("_")}toJSON(){return{type:this.type(),source:this.source.entity.name,target:this.target.entity.name,config:this.config}}}K(dd,"schema",He({mappedBy:de().optional(),inversedBy:de().optional(),required:pt().optional()}));class Mh{constructor(t,n,r){K(this,"entity");K(this,"cardinality");K(this,"reference");this.entity=t,this.cardinality=r,this.reference=n}toJSON(){return{entity:this.entity.name,cardinality:this.cardinality,name:this.reference}}}const xye=["cascade","set null","set default","restrict","no action"],Lz=He({reference:de(),target:de(),target_field:de({default:"id"}).optional(),target_field_type:de({enum:["text","integer"],default:"integer"}).optional(),on_delete:de({enum:xye,default:"set null"}).optional(),...lo.properties});class Ti extends co{constructor(){super(...arguments);K(this,"type","relation")}getSchema(){return Lz}static create(n,r,i){const s=[r.reference??r.entity.name,r.entity.getPrimaryField().name].join("_");return new Ti(s,{...i,required:n.required,reference:r.reference,target:r.entity.name,target_field:r.entity.getPrimaryField().name,target_field_type:r.entity.getPrimaryField().fieldType})}reference(){return this.config.reference}target(){return this.config.target}targetField(){return this.config.target_field}schema(){return Object.freeze({...super.schema(),type:this.config.target_field_type??"integer",references:`${this.config.target}.${this.config.target_field}`,onDelete:this.config.on_delete??"set null"})}transformRetrieve(n){return n}async transformPersist(n,r){throw new Error("RelationField: This function should not be called")}toJsonSchema(){var n,r;return this.toSchemaWrapIfRequired(Ct({$ref:`${(n=this.config)==null?void 0:n.target}#/properties/${(r=this.config)==null?void 0:r.target_field}`}))}toType(){const n=this.config.target_field_type==="integer"?"number":"string";return{...super.toType(),type:n}}}const Gr={OneToOne:"1:1",ManyToOne:"n:1",ManyToMany:"m:n",Polymorphic:"poly"},Uw=class Uw extends dd{constructor(n,r,i,s){const o=(i==null?void 0:i.connectionTable)||Uw.defaultConnectionTable(n,r),a=new Mh(n,n.name),c=new Mh(r,r.name);super(a,c,i);K(this,"connectionEntity");K(this,"additionalFields",[]);K(this,"connectionTableMappedName");K(this,"em");this.connectionEntity=new bc(o,s,void 0,"generated"),this.connectionTableMappedName=(i==null?void 0:i.connectionTableMappedName)||o,this.additionalFields=s||[]}static defaultConnectionTable(n,r){return`${n.name}_${r.name}`}type(){return Gr.ManyToMany}isListableFor(){return!0}getField(n){const r=this.connectionEntity,i=r.fields.find(s=>s instanceof Ti&&s.target()===n.name);if(!i||!(i instanceof Ti))throw new Error(`Connection entity "${r.name}" does not have a relation to "${n.name}"`);return i}getQueryInfo(n){const r=this.other(n),i=this.connectionEntity,s=this.getField(n),o=this.getField(r.entity),a=`${n.name}.${n.getPrimaryField().name}`,c=`${i.name}.${s.name}`,u=`${i.name}.${o.name}`,f=[i.name,`${r.entity.name}.${r.entity.getPrimaryField().name}`,u],m=`${n.name}.${n.getPrimaryField().name}`;return{other:r,join:f,entityRef:a,selfRef:c,otherRef:u,groupBy:m}}getReferenceQuery(n,r){const{other:i,otherRef:s}=this.getQueryInfo(n);return{where:{[s]:r},join:[i.reference]}}buildJoin(n,r){const{other:i,join:s,entityRef:o,selfRef:a,groupBy:c}=this.getQueryInfo(n);return r.innerJoin(i.entity.name,o,a).innerJoin(...s).groupBy(c)}buildWith(n){if(!this.em)throw new Error("EntityManager not set, can't build");const r=this.em.connection.fn.jsonBuildObject;if(!r)throw new Error("Connection does not support jsonBuildObject");const i=5,{other:s,join:o,entityRef:a,selfRef:c}=this.getQueryInfo(n),u=this.connectionEntity.fields.filter(f=>!(f instanceof Ti||f instanceof Hg));return f=>f.selectFrom(s.entity.name).select(m=>{const p=[];if(u.length>0){const y=this.connectionEntity.name;p.push(r(Object.fromEntries(u.map(v=>[v.name,m.ref(`${y}.${v.name}`)]))).as(this.connectionTableMappedName))}return p}).whereRef(a,"=",c).innerJoin(...o).limit(i)}initialize(n){this.em=n;const r=Ti.create(this,this.source),i=Ti.create(this,this.target);n.hasEntity(this.connectionEntity)?(this.connectionEntity.hasField(r)||this.connectionEntity.addField(r),this.connectionEntity.hasField(i)||this.connectionEntity.addField(i)):(this.connectionEntity.addField(r),this.connectionEntity.addField(i),n.addEntity(this.connectionEntity))}getName(){return[...Array.from(new Set([this.type().replace(":",""),this.connectionEntity.name,this.connectionTableMappedName].filter(Boolean)))].join("_")}};K(Uw,"schema",He({connectionTable:de().optional(),connectionTableMappedName:de().optional(),...dd.schema.properties}));let Ya=Uw;const $g=class $g extends dd{constructor(n,r,i={}){const s=i.mappedBy||r.name,o=i.inversedBy||n.name,a=typeof i.sourceCardinality=="number"&&i.sourceCardinality>0?i.sourceCardinality:void 0,c=new Mh(n,o,a),u=new Mh(r,s,1);super(c,u,i);K(this,"fieldConfig");this.fieldConfig=i.fieldConfig??{}}type(){return Gr.ManyToOne}initialize(n){const r=Ah(this.target.reference),i=Ti.create(this,this.target,{label:r,...this.fieldConfig});this.source.entity.field(i.name)||this.source.entity.addField(Ti.create(this,this.target,{label:r,...this.fieldConfig}))}getField(){const n=this.target.entity.getPrimaryField().name,r=this.source.entity.getField(`${this.target.reference}_${n}`);if(!(r instanceof Ti))throw new Error(`Field "${this.target.reference}_${n}" not found on entity "${this.source.entity.name}"`);return r}queryInfo(n,r){const i=this.source.reference===r?"source":"target",s=this[i],o=this[i==="source"?"target":"source"];let a,c,u;i==="source"?(a=this.source.reference,c=`${a}.${this.getField().name}`,u=`${n.name}.${s.entity.getPrimaryField().name}`):(a=this.target.reference,c=`${a}.${n.getPrimaryField().name}`,u=`${n.name}.${this.getField().name}`);const f=`${n.name}.${n.getPrimaryField().name}`;return{other:o,self:s,relationRef:a,entityRef:c,otherRef:u,groupBy:f}}getReferenceQuery(n,r,i){const s=this.source.reference===i?"source":"target",o=this[s],a=this[s==="source"?"target":"source"];return{where:{[`${a.reference}_${a.entity.getPrimaryField().name}`]:r},join:a.entity.name===o.entity.name?[]:[a.entity.name]}}buildJoin(n,r,i){const{self:s,entityRef:o,otherRef:a,groupBy:c}=this.queryInfo(n,i);return r.innerJoin(s.entity.name,o,a).groupBy(c)}buildWith(n,r){const{self:i,entityRef:s,otherRef:o,relationRef:a}=this.queryInfo(n,r);return c=>c.selectFrom(`${i.entity.name} as ${a}`).whereRef(s,"=",o).$if(i.cardinality===1,u=>u.limit(1))}async $set(n,r,i){if(typeof i!="object")throw new Error(`Invalid value for relation field "${r}" given, expected object.`);const s=this.source.entity,a=this.helper(s.name).getMutationInfo();if(!a.$set)throw new Error(`Cannot perform $set for relation "${r}"`);const c=a.local_field,u=this.getField(),f=i[Object.keys(i)[0]];if(!c||!(u instanceof Ti))throw new Error(`Cannot perform $set for relation "${r}"`);if(f===null&&!u.isRequired())return[c,null];if(!(await n.repository(u.target()).exists({[u.targetField()]:f})).data.exists){const p=u.targetField();throw new Error(`Cannot connect "${s.name}.${r}" to "${u.target()}.${p}" = "${f}": not found.`)}return[c,f]}};K($g,"DEFAULTS",{with_limit:5}),K($g,"schema",He({sourceCardinality:Ct().optional(),with_limit:Ct({default:$g.DEFAULTS.with_limit}).optional(),fieldConfig:Me({label:de()}).optional(),...dd.schema.properties}));let $c=$g;class pO extends $c{constructor(t,n,r){const{mappedBy:i,inversedBy:s,required:o}=r||{};super(t,n,{mappedBy:i,inversedBy:s,sourceCardinality:1,required:o,with_limit:1})}type(){return Gr.OneToOne}isListableFor(){return!1}async $set(t,n,r){throw new Error("$set is not allowed")}async $create(t,n,r){if(r===null||typeof r!="object")throw new Error(`Invalid value for relation field "${n}" given, expected object.`);const i=this.other(this.source.entity).entity,o=this.helper(this.source.entity.name).getMutationInfo(),a=o.primary,c=o.local_field;if(!o.$create||!a||!c)throw new Error(`Cannot perform $create for relation "${n}"`);try{const{data:u}=await t.mutator(i).insertOne(r),f=u[a];return[c,f]}catch{throw new Error(`Error performing $create on "${i.name}".`)}}}class Xg extends dd{constructor(t,n,r={}){const i=r.mappedBy||n.name,s=r.inversedBy||t.name,o=typeof r.targetCardinality=="number"&&r.targetCardinality>0?r.targetCardinality:void 0,a=new Mh(t,s,1),c=new Mh(n,i,o);super(a,c,r),this.directions=["source"]}type(){return Gr.Polymorphic}queryInfo(t){const n=this.other(t),r=`${n.entity.name}.${this.getReferenceField().name}`,i=`${t.name}.${this.config.mappedBy}`,s=`${n.entity.name}.${this.config.mappedBy}`,o=`${t.name}.${t.getPrimaryField().name}`,a=`${n.entity.name}.${this.getEntityIdField().name}`,c=`${t.name}.${t.getPrimaryField().name}`;return{other:n,whereLhs:r,reference:i,reference_other:s,entityRef:o,otherRef:a,groupBy:c}}buildJoin(t,n){const{other:r,whereLhs:i,reference:s,entityRef:o,otherRef:a,groupBy:c}=this.queryInfo(t);return n.innerJoin(r.entity.name,u=>u.onRef(o,"=",a).on(i,"=",s)).groupBy(c)}getReferenceQuery(t,n){const r=this.queryInfo(t);return{where:{[this.getReferenceField().name]:r.reference_other,[this.getEntityIdField().name]:n}}}buildWith(t){const{other:n,whereLhs:r,reference:i,entityRef:s,otherRef:o}=this.queryInfo(t);return a=>a.selectFrom(n.entity.name).where(r,"=",i).whereRef(s,"=",o).$if(n.cardinality===1,c=>c.limit(1))}isListableFor(t){return this.source.entity.name===t.name&&this.target.cardinality!==1}getReferenceField(){return new Ix("reference",{hidden:!0,fillable:["create"]})}getEntityIdField(){return new Ix("entity_id",{hidden:!0,fillable:["create"]})}initialize(t){const n=this.getReferenceField(),r=this.getEntityIdField();this.target.entity.field(n.name)||this.target.entity.addField(n),this.target.entity.field(r.name)||this.target.entity.addField(r)}}K(Xg,"schema",He({targetCardinality:Ct().optional(),...dd.schema.properties}));const xI=["$set","$create","$attach","$detach"];class wye{constructor(t,n){K(this,"relation");K(this,"access");K(this,"self");K(this,"other");if(this.relation=t,t.source.entity.name===n)this.access="source",this.self=t.source,this.other=t.target;else if(t.target.entity.name===n)this.access="target",this.self=t.target,this.other=t.source;else throw new Error(`Entity "${n}" is not part of the relation "${t.source.entity.name} <-> ${t.target.entity.name}"`)}getMutationInfo(){var i,s;const t={$set:!1,$create:!1,$attach:!1,$detach:!1};let n,r;switch(this.relation.type()){case Gr.ManyToOne:typeof this.self.cardinality>"u"&&this.other.cardinality===1&&(t.$set=!0,n=(i=this.relation.getField())==null?void 0:i.name,r=this.other.entity.getPrimaryField().name);break;case Gr.OneToOne:this.access==="source"&&(t.$create=!0,t.$set=!0,n=(s=this.relation.getField())==null?void 0:s.name,r=this.other.entity.getPrimaryField().name);break;case Gr.ManyToMany:this.access==="source"&&(t.$attach=!0,t.$detach=!0,r=this.other.entity.getPrimaryField().name);break}return{reference:this.other.reference,local_field:n,...t,primary:r,cardinality:this.other.cardinality,relation_type:this.relation.type()}}}class Sye{constructor(t,n){this.entity=t,this.em=n}getRelationalKeys(){const t=[];return this.entity.type==="generated"&&this.em.relations.all.find(r=>r instanceof Ya&&r.connectionEntity.name===this.entity.name)instanceof Ya&&t.push(...this.entity.fields.filter(r=>r.type==="relation").map(r=>r.name)),this.em.relationsOf(this.entity.name).map(n=>{const r=n.helper(this.entity.name).getMutationInfo();t.push(r.reference),r.local_field&&t.push(r.local_field)}),t}async persistRelationField(t,n,r){if(r===null&&!t.isRequired())return[n,r];if(typeof r=="object")throw new Error(`Invalid value for relation field "${n}" given, expected primitive.`);if(!(await this.em.repository(t.target()).exists({[t.targetField()]:r})).data.exists){const s=t.targetField();throw new Error(`Cannot connect "${this.entity.name}.${n}" to "${t.target()}.${s}" = "${r}": not found.`)}return[n,r]}async persistReference(t,n,r){if(typeof r!="object"||r===null||typeof r>"u")throw new Error(`Invalid value for relation "${n}" given, expected object to persist reference. Like '{$set: {id: 1}}'.`);const i=Object.keys(r)[0];if(!xI.includes(i))throw new Error(`Invalid operation "${i}" for relation "${n}". Allowed: ${xI.join(", ")}`);const s=r[i];return await t[i](this.em,n,s)}async persistRelation(t,n){const r=this.entity.getField(t);if(r instanceof Ti)return this.persistRelationField(r,t,n);const i=this.em.relationOf(this.entity.name,t);if(i)return this.persistReference(i,t,n);throw new Error(`Relation "${t}" failed to resolve on entity "${this.entity.name}": Unable to resolve relation origin.`)}}const UT={[Gr.OneToOne]:{schema:pO.schema,cls:pO},[Gr.ManyToOne]:{schema:$c.schema,cls:$c},[Gr.ManyToMany]:{schema:Ya.schema,cls:Ya},[Gr.Polymorphic]:{schema:Xg.schema,cls:Xg}},Eye={relation:{schema:Lz,field:Ti}};class Fz{constructor(t,n={}){K(this,"results",[]);K(this,"time",0);this.conn=t,this.options=n}get(){if(!this.results)throw new Error("Result not executed");return Array.isArray(this.results)?this.results??[]:this.results[0]}first(){const t=this.get();return(Array.isArray(t)?t[0]:t)??{}}get sql(){return this.first().sql}get parameters(){return this.first().parameters}get data(){var t;return this.options.single?(t=this.first().data)==null?void 0:t[0]:this.first().data??[]}async execute(t){var r,i,s,o;const n=Array.isArray(t)?t:[t];for(const a of n){const c=a.compile();await((i=(r=this.options).beforeExecute)==null?void 0:i.call(r,c));try{const u=performance.now(),f=await this.conn.executeQuery(c);this.time=Number.parseFloat((performance.now()-u).toFixed(2)),this.results.push({...f,data:(o=(s=this.options).hydrator)==null?void 0:o.call(s,f.rows),items:f.rows.length,time:this.time,sql:c.sql,parameters:[...c.parameters]})}catch(u){if(this.options.onError)await this.options.onError(u);else throw u}}return this}additionalMetaKeys(){return[]}toJSON(){const{rows:t,data:n,...r}=this.first(),i=xr()?["items","time","sql","parameters"]:["items","time"],s=AF(r,[...i,...this.additionalMetaKeys()]);return{data:this.data,meta:s}}}class Nye extends Fz{constructor(t,n,r){const i=(r==null?void 0:r.logParams)===void 0?xr():r.logParams;super(t.connection,{hydrator:s=>t.hydrate(n.name,s),beforeExecute:s=>{r!=null&&r.silent||mt.debug(`[Mutation]
${s.sql}
`,i?s.parameters:void 0)},onError:s=>{if(!(r!=null&&r.silent))throw mt.error("[ERROR] Mutator:",s.message),s},...r}),this.em=t,this.entity=n}}const ba=class ba{constructor(t,n,r){K(this,"emgr");K(this,"__unstable_disable_system_entity_creation",!0);this.em=t,this.entity=n,this.options=r,this.emgr=(r==null?void 0:r.emgr)??new Yy(Mx)}__unstable_toggleSystemEntityCreation(t){this.__unstable_disable_system_entity_creation=t}get conn(){return this.em.connection.kysely}async getValidatedData(t,n){const r=this.entity;if(!n)throw new Error("Context must be provided for validation");const i=Object.keys(t),s={},o=new Sye(r,this.em),a=o.getRelationalKeys();for(const c of i){if(a.includes(c)){const f=await o.persistRelation(c,t[c]);if(Array.isArray(f)){const[m,p]=f;s[m]=p}continue}const u=r.getField(c);if(!u)throw new Error(`Field "${c}" not found on entity "${r.name}". Fields: ${r.getFillableFields().map(f=>f.name).join(", ")}`);if(!u.isFillable(n))throw new Error(`Field "${c}" is not fillable on entity "${r.name}"`);s[c]=await u.transformPersist(t[c],this.em,n),s[c]=this.em.connection.toDriver(s[c],u)}if(Object.keys(s).length===0)throw new Error(`No data left to update "${r.name}"`);return s}async performQuery(t,n){return await new Nye(this.em,this.entity,{silent:!1,...n}).execute(t)}async insertOne(t){const n=this.entity;if(n.type==="system"&&this.__unstable_disable_system_entity_creation)throw new Error(`Creation of system entity "${n.name}" is disabled`);const r=await this.emgr.emit(new ba.Events.MutatorInsertBefore({entity:n,data:t})),i=r.returned?r.params.data:t;let s=await this.getValidatedData({...n.getDefaultObject(),...i},"create");const o=n.getRequiredFields();for(const m of o)if(typeof s[m.name]>"u"||s[m.name]===null)throw new Error(`Field "${m.name}" is required`);const a=n.getPrimaryField(),c=a.getNewValue();c&&(s={[a.name]:c,...s});const u=this.conn.insertInto(n.name).values(s).returning(n.getSelect()),f=await this.performQuery(u,{single:!0});return await this.emgr.emit(new ba.Events.MutatorInsertAfter({entity:n,data:f.data,changed:s})),f}async updateOne(t,n){const r=this.entity;if(!t)throw new Error("ID must be provided for update");const i=await this.emgr.emit(new ba.Events.MutatorUpdateBefore({entity:r,entityId:t,data:n})),s=i.returned?i.params.data:n,o=await this.getValidatedData(s,"update"),a=this.conn.updateTable(r.name).set(o).where(r.id().name,"=",t).returning(r.getSelect()),c=await this.performQuery(a,{single:!0});return await this.emgr.emit(new ba.Events.MutatorUpdateAfter({entity:r,entityId:t,data:c.data,changed:o})),c}async deleteOne(t){const n=this.entity;if(!t)throw new Error("ID must be provided for deletion");await this.emgr.emit(new ba.Events.MutatorDeleteBefore({entity:n,entityId:t}));const r=this.conn.deleteFrom(n.name).where(n.id().name,"=",t).returning(n.getSelect()),i=await this.performQuery(r,{single:!0});return await this.emgr.emit(new ba.Events.MutatorDeleteAfter({entity:n,entityId:t,data:i.data})),i}getValidOptions(t){const n=this.entity,r={};if(t!=null&&t.where){const i=gc.getPropertyNames(t.where).filter(s=>typeof n.getField(s)>"u");if(i.length>0)throw new va(`Invalid where field(s): ${i.join(", ")}`);r.where=t.where}return r}appendWhere(t,n){const r=this.entity;if(r.name,n){const i=gc.getPropertyNames(n).filter(s=>typeof r.getField(s)>"u");if(i.length>0)throw new va(`Invalid where field(s): ${i.join(", ")}`);return gc.addClause(t,n)}return t}async deleteWhere(t){const n=this.entity;if(!t||typeof t!="object"||Object.keys(t).length===0)throw new Error("Where clause must be provided for mass deletion");const r=this.appendWhere(this.conn.deleteFrom(n.name),t).returning(n.getSelect());return await this.performQuery(r)}async updateWhere(t,n){const r=this.entity,i=await this.getValidatedData(t,"update");if(!n||typeof n!="object"||Object.keys(n).length===0)throw new Error("Where clause must be provided for mass update");const s=this.appendWhere(this.conn.updateTable(r.name),n).set(i).returning(r.getSelect());return await this.performQuery(s)}async insertMany(t){const n=this.entity;if(n.type==="system"&&this.__unstable_disable_system_entity_creation)throw new Error(`Creation of system entity "${n.name}" is disabled`);const r=[];for(const s of t){const o={...n.getDefaultObject(),...await this.getValidatedData(s,"create")},a=n.getRequiredFields();for(const c of a)if(typeof o[c.name]>"u"||o[c.name]===null)throw new Error(`Field "${c.name}" is required`);r.push(o)}const i=this.conn.insertInto(n.name).values(r).returning(n.getSelect());return await this.performQuery(i)}};K(ba,"Events",Mx);let gO=ba;const Fx=de({}),wI=Pt([Fx,mn(Fx,{uniqueItems:!0})],{default:[],coerce:e=>Array.isArray(e)?e:typeof e=="string"?e.includes(",")?e.split(","):[e].filter(Boolean):[]}),iv={by:"id",dir:"asc"},_ye=Me({by:de(),dir:de({enum:["asc","desc"]}).optional()}).strict(),Cye=Pt([de(),_ye],{default:iv,coerce:e=>{if(typeof e=="string"){if(/^-?[a-zA-Z_][a-zA-Z0-9_.]*$/.test(e)){const t=e[0]==="-"?"desc":"asc";return{by:t==="desc"?e.slice(1):e,dir:t}}else if(/^{.*}$/.test(e))return{...iv,...JSON.parse(e)};return mt.warn(`Invalid sort given: '${JSON.stringify(e)}'`),iv}else if(sd(e))return{...iv,...e};return e}}),Oye=Pt([de(),Me({})],{default:{},examples:[{attribute:{$eq:1}}],coerce:e=>{if(e==null||e==="")return{};const t=typeof e=="string"?JSON.parse(e):e;return gc.convert(t)}}),jye=e=>Pt([Fx,mn(Fx),e],{coerce:function(t,n={}){let r=t;if(typeof r=="string"&&(r.match(/^\{/)||r.match(/^\[/)?r=JSON.parse(r):r.includes(",")?r=r.split(","):r=[r]),Array.isArray(r)&&(r=r.reduce((i,s)=>(i[s]={},i),{})),sd(r))for(const i in r)r[i]=e.coerce(r[i],n);return r}}),ns=_ce(e=>Me({limit:Ct({default:10}),offset:Ct({default:0}),sort:Cye,where:Oye,select:wI,join:wI,with:jye(e)}).partial()),Aye=()=>ns.template({},{withOptional:!0});class Bx{static buildClause(t,n,r,i){const s=t.relationOf(r.name,i);if(!s)throw new Error(`Relation "${i}" not found`);return s.buildJoin(r,n,i)}static getJoinedEntityNames(t,n,r){return r.flatMap(i=>{const s=t.relationOf(n.name,i);if(!s)throw new Error(`Relation "${i}" not found`);const o=s.other(n);return s instanceof $c?[o.entity.name]:s instanceof Ya?[o.entity.name,s.connectionEntity.name]:[]})}static addClause(t,n,r,i){if(i.length===0)return n;let s=n;for(const o of i)s=Bx.buildClause(t,s,r,o);return s}}class Tye extends Fz{constructor(t,n,r){super(t.connection,{hydrator:i=>t.hydrate(n.name,i),beforeExecute:i=>{r!=null&&r.silent||mt.debug(`Query:
${i.sql}
`,i.parameters)},onError:i=>{if((r==null?void 0:r.silent)!==!0)throw mt.error("Repository:",String(i)),i},...r}),this.em=t,this.entity=n}shouldIncludeCounts(t){return t===void 0?this.conn.supports("softscans"):t}async execute(t,n){var i,s,o,a,c,u;if(this.shouldIncludeCounts(n==null?void 0:n.includeCounts)){const f=(v="count")=>this.conn.kysely.fn.countAll().as(v),m=t.clearSelect().select(f()).clearLimit().clearOffset().clearGroupBy().clearOrderBy(),p=this.conn.kysely.selectFrom(this.entity.name).select(f()),y=t.compile();(s=(i=this.options).beforeExecute)==null||s.call(i,y);try{const v=performance.now(),[x,S,N]=await this.em.connection.executeQueries(y,m,p);this.time=Number.parseFloat((performance.now()-v).toFixed(2)),this.results.push({...x,data:(a=(o=this.options).hydrator)==null?void 0:a.call(o,x.rows),items:x.rows.length,count:c6(((c=S.rows[0])==null?void 0:c.count)??0),total:c6(((u=N.rows[0])==null?void 0:u.count)??0),time:this.time,sql:y.sql,parameters:[...y.parameters]})}catch(v){if(this.options.onError)await this.options.onError(v);else throw v}return this}return await super.execute(t)}get count(){return this.first().count}get total(){return this.first().total}additionalMetaKeys(){return["count","total"]}}const Ql=class Ql{constructor(t,n,r={}){K(this,"emgr");this.em=t,this.entity=n,this.options=r,this.emgr=(r==null?void 0:r.emgr)??new Yy(Mx)}cloneFor(t,n={}){return new Ql(this.em,this.em.entity(t),{...this.options,...n,emgr:this.emgr})}get conn(){return this.em.connection.kysely}checkIndex(t,n,r){var s;!this.em.getIndexedFields(t).map(o=>o.name).includes(n)&&((s=this.options)==null?void 0:s.silent)!==!0&&mt.warn(`Field "${t}.${n}" used in "${r}" is not indexed`)}getValidOptions(t){var i;const n=this.entity,r={...structuredClone(Aye()),sort:n.getDefaultSort(),select:n.getSelect()};if(!t)return r;if(t.sort){if(!r.select.includes(t.sort.by))throw new va(`Invalid sort field "${t.sort.by}"`);if(!["asc","desc"].includes(t.sort.dir))throw new va(`Invalid sort direction "${t.sort.dir}"`);this.checkIndex(n.name,t.sort.by,"sort"),r.sort={dir:t.sort.dir??"asc",by:t.sort.by}}if(t.select&&t.select.length>0){const s=t.select.filter(o=>!r.select.includes(o));if(s.length>0)throw new va(`Invalid select field(s): ${s.join(", ")}`).context({entity:n.name,valid:r.select});r.select=t.select}if(t.with&&(Kg.validateWiths(this.em,n.name,t.with),r.with=t.with),t.join&&t.join.length>0)for(const s of t.join){if(!this.em.relationOf(n.name,s))throw new va(`JOIN: "${s}" is not a relation of "${n.name}"`);r.join.push(s)}if(t.where){const s=[n.name];((i=r.join)==null?void 0:i.length)>0&&s.push(...Bx.getJoinedEntityNames(this.em,n,r.join));const o=gc.getPropertyNames(t.where).filter(a=>{if(a.includes(".")){const[c,u]=a.split(".");return s.includes(c)?(this.checkIndex(c,u,"where"),!this.em.entity(c).getField(u)):!0}return this.checkIndex(n.name,a,"where"),typeof n.getField(a)>"u"});if(o.length>0)throw new va(`Invalid where field(s): ${o.join(", ")}`).context({aliases:s,entity:n.name});r.where=t.where}return t.limit&&(r.limit=t.limit),t.offset&&(r.offset=t.offset),r}async performQuery(t,n,r){return await new Tye(this.em,this.entity,{silent:this.options.silent,...n}).execute(t,{includeCounts:(r==null?void 0:r.includeCounts)??this.options.includeCounts})}async triggerFindBefore(t,n){const r=n.limit===1?Ql.Events.RepositoryFindOneBefore:Ql.Events.RepositoryFindManyBefore;await this.emgr.emit(new r({entity:t,options:n}))}async triggerFindAfter(t,n,r){n.limit===1?await this.emgr.emit(new Ql.Events.RepositoryFindOneAfter({entity:t,options:n,data:r})):await this.emgr.emit(new Ql.Events.RepositoryFindManyAfter({entity:t,options:n,data:r}))}async single(t,n){await this.triggerFindBefore(this.entity,n);const r=await this.performQuery(t,{single:!0});return await this.triggerFindAfter(this.entity,n,r.data),r}addOptionsToQueryBuilder(t,n,r){var m,p;const i=this.entity;let s=t??this.conn.selectFrom(i.name);const o=(r==null?void 0:r.validate)!==!1?this.getValidOptions(n):n;if(!o)return s;const a=(r==null?void 0:r.alias)??i.name,c=y=>`${a}.${y}`,u=(r==null?void 0:r.ignore)??[],f={limit:10,offset:0,...r==null?void 0:r.defaults};return!u.includes("select")&&o.select&&(s=s.select(i.getAliasedSelectFrom(o.select,a))),!u.includes("with")&&o.with&&(s=Kg.addClause(this.em,s,i,o.with)),!u.includes("join")&&o.join&&(s=Bx.addClause(this.em,s,i,o.join)),!u.includes("where")&&o.where&&(s=gc.addClause(s,o.where)),u.includes("limit")||(s=s.limit(o.limit??f.limit),u.includes("offset")||(s=s.offset(o.offset??f.offset))),u.includes("sort")||(s=s.orderBy(c(((m=o.sort)==null?void 0:m.by)??"id"),((p=o.sort)==null?void 0:p.dir)??"asc")),s}buildQuery(t,n=[]){const r=this.entity,i=this.getValidOptions(t);return{qb:this.addOptionsToQueryBuilder(void 0,i,{ignore:n,alias:r.name,validate:!1}),options:i}}async findId(t,n){if(typeof t>"u"||t===null)throw new va("id is required");return this.findOne({[this.entity.getPrimaryField().name]:t},n)}async findOne(t,n){const{qb:r,options:i}=this.buildQuery({...n,where:t,limit:1});return await this.single(r,i)}async findMany(t){const{qb:n,options:r}=this.buildQuery(t);await this.triggerFindBefore(this.entity,r);const i=await this.performQuery(n);return await this.triggerFindAfter(this.entity,r,i.data),i}getEntityByReference(t){const r=this.em.relations.listableRelationsOf(this.entity).find(i=>i.ref(t).reference===t);if(!r)throw new Error(`Relation "${t}" not found or not listable on entity "${this.entity.name}"`);return{entity:r.other(this.entity).entity,relation:r}}async findManyByReference(t,n,r){const{entity:i,relation:s}=this.getEntityByReference(n),o=s.getReferenceQuery(i,t,n);if(!("where"in o)||Object.keys(o.where).length===0)throw new Error(`Invalid reference query for "${n}" on entity "${i.name}"`);const a={...r,...o,where:{...o.where,...(r==null?void 0:r.where)??{}}};return this.cloneFor(i).findMany(a)}async count(t){const n=this.entity,r=this.getValidOptions({where:t}),i=this.conn.fn.count(qg`*`).as("count");let s=this.conn.selectFrom(n.name).select(i);return r.where&&(s=gc.addClause(s,r.where)),await this.performQuery(s,{hydrator:o=>{var a;return{count:((a=o[0])==null?void 0:a.count)??0}}},{includeCounts:!1})}async exists(t){const n=this.entity,r=this.getValidOptions({where:t}),i=this.conn.fn.count(qg`*`).as("count");let s=this.conn.selectFrom(n.name).select(i);return s=gc.addClause(s,r.where).limit(1),await this.performQuery(s,{hydrator:o=>{var a;return{exists:((a=o[0])==null?void 0:a.count)>0}}})}};K(Ql,"Events",kB);let yO=Ql;class Kg{static addClause(t,n,r,i){if(!i||!sd(i))return console.warn(`'withs' undefined or invalid, given: ${JSON.stringify(i)}`),n;const s=t.connection.fn;let o=n;for(const[a,c]of Object.entries(i)){const u=t.relationOf(r.name,a);if(!u)throw new Error(`Relation "${r.name}<>${a}" not found`);const f=u.ref(a).cardinality,m=f===1?s.jsonObjectFrom:s.jsonArrayFrom;if(!m)throw new Error("Connection does not support jsonObjectFrom/jsonArrayFrom");const p=u.other(r);o=o.select(y=>{let v=u.buildWith(r,a)(y);return c&&(v=t.repo(p.entity).addOptionsToQueryBuilder(v,c,{ignore:["with","join",f===1?"limit":void 0].filter(Boolean)})),c.with&&(v=Kg.addClause(t,v,p.entity,c.with)),m(v).as(p.reference)})}return o}static validateWiths(t,n,r){let i=0;if(!r||!sd(r))return r&&console.warn(`'withs' invalid, given: ${JSON.stringify(r)}`),i;const s=[];for(const[o,a]of Object.entries(r)){if(!t.relationOf(n,o))throw new va(`WITH: "${o}" is not a relation of "${n}"`);i++,"with"in a&&s.push(Kg.validateWiths(t,o,a.with))}return s.length>0&&(i+=Math.max(...s)),i}}const Rg=class Rg{constructor(t,n,r=[],i=[],s){K(this,"connection");K(this,"_entities",[]);K(this,"_relations",[]);K(this,"_indices",[]);K(this,"emgr");if(t.forEach(o=>this.addEntity(o)),r.forEach(o=>this.addRelation(o)),i.forEach(o=>this.addIndex(o)),!NB.isConnection(n))throw new Nde("");this.connection=n,this.emgr=s??new Yy,this.emgr.registerEvents(Rg.Events)}fork(){return new Rg(this._entities,this.connection,this._relations,this._indices)}clear(){return this._entities=[],this._relations=[],this._indices=[],this}get entities(){return this._entities}get relations(){return new MB(this._relations)}get indices(){return this._indices}async ping(){return(await qg`SELECT 1`.execute(this.connection.kysely)).rows.length>0}addEntity(t){const n=this.entities.find(r=>r.name===t.name);if(n){if(JSON.stringify(n)===JSON.stringify(t)){mt.warn(`Entity "${t.name}" already exists, but it's the same, skipping adding it.`);return}throw new Error(`Entity "${t.name}" already exists`)}this.entities.push(t)}__replaceEntity(t,n=t.name){const r=this._entities.findIndex(i=>i.name===n);if(r===-1)throw new Error(`Entity "${n}" not found and cannot be replaced`);this._entities[r]=t}entity(t,n){const r=this.entities.find(i=>bc.isEntity(t)?i.name===t.name:i.name===t);if(!r){if(n===!0)return;throw new Ode(bc.isEntity(t)?t.name:t)}return r}hasEntity(t){const n=typeof t=="string"?t:t.name;return this.entities.some(r=>r.name===n)}hasIndex(t){const n=typeof t=="string"?t:t.name;return this.indices.some(r=>r.name===n)}getIndexedFields(t){const n=this.entity(t),r=this.getIndicesOf(n),i=n.fields.filter(o=>o.type==="relation"),s=r.map(o=>o.fields[0]);return[n.getPrimaryField(),...i,...s].filter(Boolean)}addRelation(t){if(!this.entity(t.source.entity.name)||!this.entity(t.target.entity.name))throw new Error("Relation source or target entity not found");if(this._relations.find(r=>{const i=r.source.entity.name===t.source.entity.name&&r.target.entity.name===t.target.entity.name,s=r.source.reference===t.source.reference&&r.target.reference===t.target.reference;return i&&s}))throw new Error(`Relation "${t.type}" between "${t.source.entity.name}" and "${t.target.entity.name}" already exists`);this._relations.push(t),t.initialize(this)}relationsOf(t){return this.relations.relationsOf(this.entity(t))}relationOf(t,n){return this.relations.relationOf(this.entity(t),n)}hasRelations(t){return this.relations.hasRelations(this.entity(t))}relatedEntitiesOf(t){return this.relations.relatedEntitiesOf(this.entity(t))}relationReferencesOf(t){return this.relations.relationReferencesOf(this.entity(t))}repository(t,n={}){return this.repo(t,n)}repo(t,n={}){return new yO(this,this.entity(t),{...n,emgr:this.emgr})}mutator(t){return new gO(this,this.entity(t),{emgr:this.emgr})}addIndex(t,n=!1){if(this.indices.find(r=>r.name===t.name)){if(n)throw new Error(`Index "${t.name}" already exists`);return}this._indices.push(t)}getIndicesOf(t){const n=bc.isEntity(t)?t:this.entity(t);return this.indices.filter(r=>r.entity.name===n.name)}schema(){return new mO(this)}hydrate(t,n){if(!Array.isArray(n)||n.length===0)return[];const r=this.entity(t),i=[];for(const s of n){for(let[o,a]of Object.entries(s)){const c=r.getField(o);if(!c||c.isVirtual()){const u=this.relationOf(t,o);if(u){if(!a)continue;a=u.hydrate(o,Array.isArray(a)?a:[a],this),s[o]=a;continue}else if(c!=null&&c.isVirtual())continue;throw new Error(`Field "${o}" not found on entity "${r.name}"`)}try{a===null&&c.hasDefault()&&(s[o]=c.getDefault()),a=this.connection.fromDriver(a,c),s[o]=c.transformRetrieve(a)}catch(u){throw new _de(`"${c.type}" field "${o}" on entity "${r.name}": ${u.message}`)}}i.push(s)}return i}toJSON(){return{entities:Object.fromEntries(this.entities.map(t=>[t.name,t.toJSON()])),relations:Object.fromEntries(this.relations.all.map(t=>[t.getName(),t.toJSON()])),indices:Object.fromEntries(this.indices.map(t=>[t.name,t.toJSON()]))}}};K(Rg,"Events",{...Mx,...kB});let zx=Rg;var SI=(e,t,n)=>(r,i)=>{let s=-1;return o(0);async function o(a){if(a<=s)throw new Error("next() called multiple times");s=a;let c,u=!1,f;if(e[a]?(f=e[a][0][0],r.req.routeIndex=a):f=a===e.length&&i||void 0,f)try{c=await f(r,()=>o(a+1))}catch(m){if(m instanceof Error&&t)r.error=m,c=await t(m,r),u=!0;else throw m}else r.finalized===!1&&n&&(c=await n(r));return c&&(r.finalized===!1||u)&&(r.res=c),r}},$ye=Symbol(),Rye=async(e,t=Object.create(null))=>{const{all:n=!1,dot:r=!1}=t,s=(e instanceof qz?e.raw.headers:e.headers).get("Content-Type");return s!=null&&s.startsWith("multipart/form-data")||s!=null&&s.startsWith("application/x-www-form-urlencoded")?kye(e,{all:n,dot:r}):{}};async function kye(e,t){const n=await e.formData();return n?Mye(n,t):{}}function Mye(e,t){const n=Object.create(null);return e.forEach((r,i)=>{t.all||i.endsWith("[]")?Iye(n,i,r):n[i]=r}),t.dot&&Object.entries(n).forEach(([r,i])=>{r.includes(".")&&(Pye(n,r,i),delete n[r])}),n}var Iye=(e,t,n)=>{e[t]!==void 0?Array.isArray(e[t])?e[t].push(n):e[t]=[e[t],n]:t.endsWith("[]")?e[t]=[n]:e[t]=n},Pye=(e,t,n)=>{let r=e;const i=t.split(".");i.forEach((s,o)=>{o===i.length-1?r[s]=n:((!r[s]||typeof r[s]!="object"||Array.isArray(r[s])||r[s]instanceof File)&&(r[s]=Object.create(null)),r=r[s])})},Bz=e=>{const t=e.split("/");return t[0]===""&&t.shift(),t},Dye=e=>{const{groups:t,path:n}=Lye(e),r=Bz(n);return Fye(r,t)},Lye=e=>{const t=[];return e=e.replace(/\{[^}]+\}/g,(n,r)=>{const i=`@${r}`;return t.push([i,n]),i}),{groups:t,path:e}},Fye=(e,t)=>{for(let n=t.length-1;n>=0;n--){const[r]=t[n];for(let i=e.length-1;i>=0;i--)if(e[i].includes(r)){e[i]=e[i].replace(r,t[n][1]);break}}return e},sv={},Bye=(e,t)=>{if(e==="*")return"*";const n=e.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(n){const r=`${e}#${t}`;return sv[r]||(n[2]?sv[r]=t&&t[0]!==":"&&t[0]!=="*"?[r,n[1],new RegExp(`^${n[2]}(?=/${t})`)]:[e,n[1],new RegExp(`^${n[2]}$`)]:sv[r]=[e,n[1],!0]),sv[r]}return null},Y1=(e,t)=>{try{return t(e)}catch{return e.replace(/(?:%[0-9A-Fa-f]{2})+/g,n=>{try{return t(n)}catch{return n}})}},zye=e=>Y1(e,decodeURI),zz=e=>{const t=e.url,n=t.indexOf("/",t.charCodeAt(9)===58?13:8);let r=n;for(;r<t.length;r++){const i=t.charCodeAt(r);if(i===37){const s=t.indexOf("?",r),o=t.slice(n,s===-1?void 0:s);return zye(o.includes("%25")?o.replace(/%25/g,"%2525"):o)}else if(i===63)break}return t.slice(n,r)},Vye=e=>{const t=zz(e);return t.length>1&&t.at(-1)==="/"?t.slice(0,-1):t},If=(e,t,...n)=>(n.length&&(t=If(t,...n)),`${(e==null?void 0:e[0])==="/"?"":"/"}${e}${t==="/"?"":`${(e==null?void 0:e.at(-1))==="/"?"":"/"}${(t==null?void 0:t[0])==="/"?t.slice(1):t}`}`),Vz=e=>{if(e.charCodeAt(e.length-1)!==63||!e.includes(":"))return null;const t=e.split("/"),n=[];let r="";return t.forEach(i=>{if(i!==""&&!/\:/.test(i))r+="/"+i;else if(/\:/.test(i))if(/\?/.test(i)){n.length===0&&r===""?n.push("/"):n.push(r);const s=i.replace("?","");r+="/"+s,n.push(r)}else r+="/"+i}),n.filter((i,s,o)=>o.indexOf(i)===s)},qN=e=>/[%+]/.test(e)?(e.indexOf("+")!==-1&&(e=e.replace(/\+/g," ")),e.indexOf("%")!==-1?Y1(e,qT):e):e,Uz=(e,t,n)=>{let r;if(!n&&t&&!/[%+]/.test(t)){let o=e.indexOf(`?${t}`,8);for(o===-1&&(o=e.indexOf(`&${t}`,8));o!==-1;){const a=e.charCodeAt(o+t.length+1);if(a===61){const c=o+t.length+2,u=e.indexOf("&",c);return qN(e.slice(c,u===-1?void 0:u))}else if(a==38||isNaN(a))return"";o=e.indexOf(`&${t}`,o+1)}if(r=/[%+]/.test(e),!r)return}const i={};r??(r=/[%+]/.test(e));let s=e.indexOf("?",8);for(;s!==-1;){const o=e.indexOf("&",s+1);let a=e.indexOf("=",s);a>o&&o!==-1&&(a=-1);let c=e.slice(s+1,a===-1?o===-1?void 0:o:a);if(r&&(c=qN(c)),s=o,c==="")continue;let u;a===-1?u="":(u=e.slice(a+1,o===-1?void 0:o),r&&(u=qN(u))),n?(i[c]&&Array.isArray(i[c])||(i[c]=[]),i[c].push(u)):i[c]??(i[c]=u)}return t?i[t]:i},Uye=Uz,qye=(e,t)=>Uz(e,t,!0),qT=decodeURIComponent,EI=e=>Y1(e,qT),bh,rs,Za,Hz,Wz,bO,oc,V8,qz=(V8=class{constructor(e,t="/",n=[[]]){Be(this,Za);K(this,"raw");Be(this,bh);Be(this,rs);K(this,"routeIndex",0);K(this,"path");K(this,"bodyCache",{});Be(this,oc,e=>{const{bodyCache:t,raw:n}=this,r=t[e];if(r)return r;const i=Object.keys(t)[0];return i?t[i].then(s=>(i==="json"&&(s=JSON.stringify(s)),new Response(s)[e]())):t[e]=n[e]()});this.raw=e,this.path=t,ze(this,rs,n),ze(this,bh,{})}param(e){return e?ot(this,Za,Hz).call(this,e):ot(this,Za,Wz).call(this)}query(e){return Uye(this.url,e)}queries(e){return qye(this.url,e)}header(e){if(e)return this.raw.headers.get(e)??void 0;const t={};return this.raw.headers.forEach((n,r)=>{t[r]=n}),t}async parseBody(e){var t;return(t=this.bodyCache).parsedBody??(t.parsedBody=await Rye(this,e))}json(){return J(this,oc).call(this,"json")}text(){return J(this,oc).call(this,"text")}arrayBuffer(){return J(this,oc).call(this,"arrayBuffer")}blob(){return J(this,oc).call(this,"blob")}formData(){return J(this,oc).call(this,"formData")}addValidatedData(e,t){J(this,bh)[e]=t}valid(e){return J(this,bh)[e]}get url(){return this.raw.url}get method(){return this.raw.method}get[$ye](){return J(this,rs)}get matchedRoutes(){return J(this,rs)[0].map(([[,e]])=>e)}get routePath(){return J(this,rs)[0].map(([[,e]])=>e)[this.routeIndex].path}},bh=new WeakMap,rs=new WeakMap,Za=new WeakSet,Hz=function(e){const t=J(this,rs)[0][this.routeIndex][1][e],n=ot(this,Za,bO).call(this,t);return n?/\%/.test(n)?EI(n):n:void 0},Wz=function(){const e={},t=Object.keys(J(this,rs)[0][this.routeIndex][1]);for(const n of t){const r=ot(this,Za,bO).call(this,J(this,rs)[0][this.routeIndex][1][n]);r&&typeof r=="string"&&(e[n]=/\%/.test(r)?EI(r):r)}return e},bO=function(e){return J(this,rs)[1]?J(this,rs)[1][e]:e},oc=new WeakMap,V8),Hye={Stringify:1},Gz=async(e,t,n,r,i)=>{typeof e=="object"&&!(e instanceof String)&&(e instanceof Promise||(e=e.toString()),e instanceof Promise&&(e=await e));const s=e.callbacks;return s!=null&&s.length?(i?i[0]+=e:i=[e],Promise.all(s.map(a=>a({phase:t,buffer:i,context:r}))).then(a=>Promise.all(a.filter(Boolean).map(c=>Gz(c,t,!1,r,i))).then(()=>i[0]))):Promise.resolve(e)},Wye="text/plain; charset=UTF-8",HN=(e,t)=>({"Content-Type":e,...t}),ky,My,wa,vh,Sa,zr,Iy,xh,wh,Ju,Py,Dy,ac,Pf,U8,Gye=(U8=class{constructor(e,t){Be(this,ac);Be(this,ky);Be(this,My);K(this,"env",{});Be(this,wa);K(this,"finalized",!1);K(this,"error");Be(this,vh);Be(this,Sa);Be(this,zr);Be(this,Iy);Be(this,xh);Be(this,wh);Be(this,Ju);Be(this,Py);Be(this,Dy);K(this,"render",(...e)=>(J(this,xh)??ze(this,xh,t=>this.html(t)),J(this,xh).call(this,...e)));K(this,"setLayout",e=>ze(this,Iy,e));K(this,"getLayout",()=>J(this,Iy));K(this,"setRenderer",e=>{ze(this,xh,e)});K(this,"header",(e,t,n)=>{this.finalized&&ze(this,zr,new Response(J(this,zr).body,J(this,zr)));const r=J(this,zr)?J(this,zr).headers:J(this,Ju)??ze(this,Ju,new Headers);t===void 0?r.delete(e):n!=null&&n.append?r.append(e,t):r.set(e,t)});K(this,"status",e=>{ze(this,vh,e)});K(this,"set",(e,t)=>{J(this,wa)??ze(this,wa,new Map),J(this,wa).set(e,t)});K(this,"get",e=>J(this,wa)?J(this,wa).get(e):void 0);K(this,"newResponse",(...e)=>ot(this,ac,Pf).call(this,...e));K(this,"body",(e,t,n)=>ot(this,ac,Pf).call(this,e,t,n));K(this,"text",(e,t,n)=>!J(this,Ju)&&!J(this,vh)&&!t&&!n&&!this.finalized?new Response(e):ot(this,ac,Pf).call(this,e,t,HN(Wye,n)));K(this,"json",(e,t,n)=>ot(this,ac,Pf).call(this,JSON.stringify(e),t,HN("application/json",n)));K(this,"html",(e,t,n)=>{const r=i=>ot(this,ac,Pf).call(this,i,t,HN("text/html; charset=UTF-8",n));return typeof e=="object"?Gz(e,Hye.Stringify,!1,{}).then(r):r(e)});K(this,"redirect",(e,t)=>(this.header("Location",String(e)),this.newResponse(null,t??302)));K(this,"notFound",()=>(J(this,wh)??ze(this,wh,()=>new Response),J(this,wh).call(this,this)));ze(this,ky,e),t&&(ze(this,Sa,t.executionCtx),this.env=t.env,ze(this,wh,t.notFoundHandler),ze(this,Dy,t.path),ze(this,Py,t.matchResult))}get req(){return J(this,My)??ze(this,My,new qz(J(this,ky),J(this,Dy),J(this,Py))),J(this,My)}get event(){if(J(this,Sa)&&"respondWith"in J(this,Sa))return J(this,Sa);throw Error("This context has no FetchEvent")}get executionCtx(){if(J(this,Sa))return J(this,Sa);throw Error("This context has no ExecutionContext")}get res(){return J(this,zr)||ze(this,zr,new Response(null,{headers:J(this,Ju)??ze(this,Ju,new Headers)}))}set res(e){if(J(this,zr)&&e){e=new Response(e.body,e);for(const[t,n]of J(this,zr).headers.entries())if(t!=="content-type")if(t==="set-cookie"){const r=J(this,zr).headers.getSetCookie();e.headers.delete("set-cookie");for(const i of r)e.headers.append("set-cookie",i)}else e.headers.set(t,n)}ze(this,zr,e),this.finalized=!0}get var(){return J(this,wa)?Object.fromEntries(J(this,wa)):{}}},ky=new WeakMap,My=new WeakMap,wa=new WeakMap,vh=new WeakMap,Sa=new WeakMap,zr=new WeakMap,Iy=new WeakMap,xh=new WeakMap,wh=new WeakMap,Ju=new WeakMap,Py=new WeakMap,Dy=new WeakMap,ac=new WeakSet,Pf=function(e,t,n){const r=J(this,zr)?new Headers(J(this,zr).headers):J(this,Ju)??new Headers;if(typeof t=="object"&&"headers"in t){const s=t.headers instanceof Headers?t.headers:new Headers(t.headers);for(const[o,a]of s)o.toLowerCase()==="set-cookie"?r.append(o,a):r.set(o,a)}if(n)for(const[s,o]of Object.entries(n))if(typeof o=="string")r.set(s,o);else{r.delete(s);for(const a of o)r.append(s,a)}const i=typeof t=="number"?t:(t==null?void 0:t.status)??J(this,vh);return new Response(e,{status:i,headers:r})},U8),Zn="ALL",Jye="all",Yye=["get","post","put","delete","options","patch"],Jz="Can not add a route since the matcher is already built.",Yz=class extends Error{},Xye="__COMPOSED_HANDLER",Kye=e=>e.text("404 Not Found",404),NI=(e,t)=>{if("getResponse"in e){const n=e.getResponse();return t.newResponse(n.body,n)}return console.error(e),t.text("Internal Server Error",500)},Is,er,Kz,Ps,Nu,Wv,Gv,q8,Xz=(q8=class{constructor(t={}){Be(this,er);K(this,"get");K(this,"post");K(this,"put");K(this,"delete");K(this,"options");K(this,"patch");K(this,"all");K(this,"on");K(this,"use");K(this,"router");K(this,"getPath");K(this,"_basePath","/");Be(this,Is,"/");K(this,"routes",[]);Be(this,Ps,Kye);K(this,"errorHandler",NI);K(this,"onError",t=>(this.errorHandler=t,this));K(this,"notFound",t=>(ze(this,Ps,t),this));K(this,"fetch",(t,...n)=>ot(this,er,Gv).call(this,t,n[1],n[0],t.method));K(this,"request",(t,n,r,i)=>t instanceof Request?this.fetch(n?new Request(t,n):t,r,i):(t=t.toString(),this.fetch(new Request(/^https?:\/\//.test(t)?t:`http://localhost${If("/",t)}`,n),r,i)));K(this,"fire",()=>{addEventListener("fetch",t=>{t.respondWith(ot(this,er,Gv).call(this,t.request,t,void 0,t.request.method))})});[...Yye,Jye].forEach(s=>{this[s]=(o,...a)=>(typeof o=="string"?ze(this,Is,o):ot(this,er,Nu).call(this,s,J(this,Is),o),a.forEach(c=>{ot(this,er,Nu).call(this,s,J(this,Is),c)}),this)}),this.on=(s,o,...a)=>{for(const c of[o].flat()){ze(this,Is,c);for(const u of[s].flat())a.map(f=>{ot(this,er,Nu).call(this,u.toUpperCase(),J(this,Is),f)})}return this},this.use=(s,...o)=>(typeof s=="string"?ze(this,Is,s):(ze(this,Is,"*"),o.unshift(s)),o.forEach(a=>{ot(this,er,Nu).call(this,Zn,J(this,Is),a)}),this);const{strict:r,...i}=t;Object.assign(this,i),this.getPath=r??!0?t.getPath??zz:Vye}route(t,n){const r=this.basePath(t);return n.routes.map(i=>{var o;let s;n.errorHandler===NI?s=i.handler:(s=async(a,c)=>(await SI([],n.errorHandler)(a,()=>i.handler(a,c))).res,s[Xye]=i.handler),ot(o=r,er,Nu).call(o,i.method,i.path,s)}),this}basePath(t){const n=ot(this,er,Kz).call(this);return n._basePath=If(this._basePath,t),n}mount(t,n,r){let i,s;r&&(typeof r=="function"?s=r:(s=r.optionHandler,r.replaceRequest===!1?i=c=>c:i=r.replaceRequest));const o=s?c=>{const u=s(c);return Array.isArray(u)?u:[u]}:c=>{let u;try{u=c.executionCtx}catch{}return[c.env,u]};i||(i=(()=>{const c=If(this._basePath,t),u=c==="/"?0:c.length;return f=>{const m=new URL(f.url);return m.pathname=m.pathname.slice(u)||"/",new Request(m,f)}})());const a=async(c,u)=>{const f=await n(i(c.req.raw),...o(c));if(f)return f;await u()};return ot(this,er,Nu).call(this,Zn,If(t,"*"),a),this}},Is=new WeakMap,er=new WeakSet,Kz=function(){const t=new Xz({router:this.router,getPath:this.getPath});return t.errorHandler=this.errorHandler,ze(t,Ps,J(this,Ps)),t.routes=this.routes,t},Ps=new WeakMap,Nu=function(t,n,r){t=t.toUpperCase(),n=If(this._basePath,n);const i={basePath:this._basePath,path:n,method:t,handler:r};this.router.add(t,n,[r,i]),this.routes.push(i)},Wv=function(t,n){if(t instanceof Error)return this.errorHandler(t,n);throw t},Gv=function(t,n,r,i){if(i==="HEAD")return(async()=>new Response(null,await ot(this,er,Gv).call(this,t,n,r,"GET")))();const s=this.getPath(t,{env:r}),o=this.router.match(i,s),a=new Gye(t,{path:s,matchResult:o,env:r,executionCtx:n,notFoundHandler:J(this,Ps)});if(o[0].length===1){let u;try{u=o[0][0][0][0](a,async()=>{a.res=await J(this,Ps).call(this,a)})}catch(f){return ot(this,er,Wv).call(this,f,a)}return u instanceof Promise?u.then(f=>f||(a.finalized?a.res:J(this,Ps).call(this,a))).catch(f=>ot(this,er,Wv).call(this,f,a)):u??J(this,Ps).call(this,a)}const c=SI(o[0],this.errorHandler,J(this,Ps));return(async()=>{try{const u=await c(a);if(!u.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return u.res}catch(u){return ot(this,er,Wv).call(this,u,a)}})()},q8),Vx="[^/]+",bg=".*",vg="(?:|/.*)",rg=Symbol(),Qye=new Set(".\\+*[^]$()");function Zye(e,t){return e.length===1?t.length===1?e<t?-1:1:-1:t.length===1||e===bg||e===vg?1:t===bg||t===vg?-1:e===Vx?1:t===Vx?-1:e.length===t.length?e<t?-1:1:t.length-e.length}var Yu,Xu,Ds,H8,vO=(H8=class{constructor(){Be(this,Yu);Be(this,Xu);Be(this,Ds,Object.create(null))}insert(t,n,r,i,s){if(t.length===0){if(J(this,Yu)!==void 0)throw rg;if(s)return;ze(this,Yu,n);return}const[o,...a]=t,c=o==="*"?a.length===0?["","",bg]:["","",Vx]:o==="/*"?["","",vg]:o.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);let u;if(c){const f=c[1];let m=c[2]||Vx;if(f&&c[2]&&(m=m.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(m)))throw rg;if(u=J(this,Ds)[m],!u){if(Object.keys(J(this,Ds)).some(p=>p!==bg&&p!==vg))throw rg;if(s)return;u=J(this,Ds)[m]=new vO,f!==""&&ze(u,Xu,i.varIndex++)}!s&&f!==""&&r.push([f,J(u,Xu)])}else if(u=J(this,Ds)[o],!u){if(Object.keys(J(this,Ds)).some(f=>f.length>1&&f!==bg&&f!==vg))throw rg;if(s)return;u=J(this,Ds)[o]=new vO}u.insert(a,n,r,i,s)}buildRegExpStr(){const n=Object.keys(J(this,Ds)).sort(Zye).map(r=>{const i=J(this,Ds)[r];return(typeof J(i,Xu)=="number"?`(${r})@${J(i,Xu)}`:Qye.has(r)?`\\${r}`:r)+i.buildRegExpStr()});return typeof J(this,Yu)=="number"&&n.unshift(`#${J(this,Yu)}`),n.length===0?"":n.length===1?n[0]:"(?:"+n.join("|")+")"}},Yu=new WeakMap,Xu=new WeakMap,Ds=new WeakMap,H8),qw,Ly,W8,e0e=(W8=class{constructor(){Be(this,qw,{varIndex:0});Be(this,Ly,new vO)}insert(e,t,n){const r=[],i=[];for(let o=0;;){let a=!1;if(e=e.replace(/\{[^}]+\}/g,c=>{const u=`@\\${o}`;return i[o]=[u,c],o++,a=!0,u}),!a)break}const s=e.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let o=i.length-1;o>=0;o--){const[a]=i[o];for(let c=s.length-1;c>=0;c--)if(s[c].indexOf(a)!==-1){s[c]=s[c].replace(a,i[o][1]);break}}return J(this,Ly).insert(s,t,r,J(this,qw),n),r}buildRegExp(){let e=J(this,Ly).buildRegExpStr();if(e==="")return[/^$/,[],[]];let t=0;const n=[],r=[];return e=e.replace(/#(\d+)|@(\d+)|\.\*\$/g,(i,s,o)=>s!==void 0?(n[++t]=Number(s),"$()"):(o!==void 0&&(r[Number(o)]=++t),"")),[new RegExp(`^${e}`),n,r]}},qw=new WeakMap,Ly=new WeakMap,W8),Qz=[],t0e=[/^$/,[],Object.create(null)],Jv=Object.create(null);function Zz(e){return Jv[e]??(Jv[e]=new RegExp(e==="*"?"":`^${e.replace(/\/\*$|([.\\+*[^\]$()])/g,(t,n)=>n?`\\${n}`:"(?:|/.*)")}$`))}function n0e(){Jv=Object.create(null)}function r0e(e){var u;const t=new e0e,n=[];if(e.length===0)return t0e;const r=e.map(f=>[!/\*|\/:/.test(f[0]),...f]).sort(([f,m],[p,y])=>f?1:p?-1:m.length-y.length),i=Object.create(null);for(let f=0,m=-1,p=r.length;f<p;f++){const[y,v,x]=r[f];y?i[v]=[x.map(([N])=>[N,Object.create(null)]),Qz]:m++;let S;try{S=t.insert(v,m,y)}catch(N){throw N===rg?new Yz(v):N}y||(n[m]=x.map(([N,_])=>{const C=Object.create(null);for(_-=1;_>=0;_--){const[j,A]=S[_];C[j]=A}return[N,C]}))}const[s,o,a]=t.buildRegExp();for(let f=0,m=n.length;f<m;f++)for(let p=0,y=n[f].length;p<y;p++){const v=(u=n[f][p])==null?void 0:u[1];if(!v)continue;const x=Object.keys(v);for(let S=0,N=x.length;S<N;S++)v[x[S]]=a[v[x[S]]]}const c=[];for(const f in o)c[f]=n[o[f]];return[s,c,i]}function Of(e,t){if(e){for(const n of Object.keys(e).sort((r,i)=>i.length-r.length))if(Zz(n).test(t))return[...e[n]]}}var lc,cc,Kh,eV,tV,G8,i0e=(G8=class{constructor(){Be(this,Kh);K(this,"name","RegExpRouter");Be(this,lc);Be(this,cc);ze(this,lc,{[Zn]:Object.create(null)}),ze(this,cc,{[Zn]:Object.create(null)})}add(e,t,n){var a;const r=J(this,lc),i=J(this,cc);if(!r||!i)throw new Error(Jz);r[e]||[r,i].forEach(c=>{c[e]=Object.create(null),Object.keys(c[Zn]).forEach(u=>{c[e][u]=[...c[Zn][u]]})}),t==="/*"&&(t="*");const s=(t.match(/\/:/g)||[]).length;if(/\*$/.test(t)){const c=Zz(t);e===Zn?Object.keys(r).forEach(u=>{var f;(f=r[u])[t]||(f[t]=Of(r[u],t)||Of(r[Zn],t)||[])}):(a=r[e])[t]||(a[t]=Of(r[e],t)||Of(r[Zn],t)||[]),Object.keys(r).forEach(u=>{(e===Zn||e===u)&&Object.keys(r[u]).forEach(f=>{c.test(f)&&r[u][f].push([n,s])})}),Object.keys(i).forEach(u=>{(e===Zn||e===u)&&Object.keys(i[u]).forEach(f=>c.test(f)&&i[u][f].push([n,s]))});return}const o=Vz(t)||[t];for(let c=0,u=o.length;c<u;c++){const f=o[c];Object.keys(i).forEach(m=>{var p;(e===Zn||e===m)&&((p=i[m])[f]||(p[f]=[...Of(r[m],f)||Of(r[Zn],f)||[]]),i[m][f].push([n,s-u+c+1]))})}}match(e,t){n0e();const n=ot(this,Kh,eV).call(this);return this.match=(r,i)=>{const s=n[r]||n[Zn],o=s[2][i];if(o)return o;const a=i.match(s[0]);if(!a)return[[],Qz];const c=a.indexOf("",1);return[s[1][c],a]},this.match(e,t)}},lc=new WeakMap,cc=new WeakMap,Kh=new WeakSet,eV=function(){const e=Object.create(null);return Object.keys(J(this,cc)).concat(Object.keys(J(this,lc))).forEach(t=>{e[t]||(e[t]=ot(this,Kh,tV).call(this,t))}),ze(this,lc,ze(this,cc,void 0)),e},tV=function(e){const t=[];let n=e===Zn;return[J(this,lc),J(this,cc)].forEach(r=>{const i=r[e]?Object.keys(r[e]).map(s=>[s,r[e][s]]):[];i.length!==0?(n||(n=!0),t.push(...i)):e!==Zn&&t.push(...Object.keys(r[Zn]).map(s=>[s,r[Zn][s]]))}),n?r0e(t):null},G8),uc,Ea,J8,s0e=(J8=class{constructor(e){K(this,"name","SmartRouter");Be(this,uc,[]);Be(this,Ea,[]);ze(this,uc,e.routers)}add(e,t,n){if(!J(this,Ea))throw new Error(Jz);J(this,Ea).push([e,t,n])}match(e,t){if(!J(this,Ea))throw new Error("Fatal error");const n=J(this,uc),r=J(this,Ea),i=n.length;let s=0,o;for(;s<i;s++){const a=n[s];try{for(let c=0,u=r.length;c<u;c++)a.add(...r[c]);o=a.match(e,t)}catch(c){if(c instanceof Yz)continue;throw c}this.match=a.match.bind(a),ze(this,uc,[a]),ze(this,Ea,void 0);break}if(s===i)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,o}get activeRouter(){if(J(this,Ea)||J(this,uc).length!==1)throw new Error("No active router has been determined yet.");return J(this,uc)[0]}},uc=new WeakMap,Ea=new WeakMap,J8),Fp=Object.create(null),dc,_r,Ku,Sh,br,Na,_u,Y8,nV=(Y8=class{constructor(t,n,r){Be(this,Na);Be(this,dc);Be(this,_r);Be(this,Ku);Be(this,Sh,0);Be(this,br,Fp);if(ze(this,_r,r||Object.create(null)),ze(this,dc,[]),t&&n){const i=Object.create(null);i[t]={handler:n,possibleKeys:[],score:0},ze(this,dc,[i])}ze(this,Ku,[])}insert(t,n,r){ze(this,Sh,++Ik(this,Sh)._);let i=this;const s=Dye(n),o=[];for(let a=0,c=s.length;a<c;a++){const u=s[a],f=s[a+1],m=Bye(u,f),p=Array.isArray(m)?m[0]:u;if(p in J(i,_r)){i=J(i,_r)[p],m&&o.push(m[1]);continue}J(i,_r)[p]=new nV,m&&(J(i,Ku).push(m),o.push(m[1])),i=J(i,_r)[p]}return J(i,dc).push({[t]:{handler:r,possibleKeys:o.filter((a,c,u)=>u.indexOf(a)===c),score:J(this,Sh)}}),i}search(t,n){var c;const r=[];ze(this,br,Fp);let s=[this];const o=Bz(n),a=[];for(let u=0,f=o.length;u<f;u++){const m=o[u],p=u===f-1,y=[];for(let v=0,x=s.length;v<x;v++){const S=s[v],N=J(S,_r)[m];N&&(ze(N,br,J(S,br)),p?(J(N,_r)["*"]&&r.push(...ot(this,Na,_u).call(this,J(N,_r)["*"],t,J(S,br))),r.push(...ot(this,Na,_u).call(this,N,t,J(S,br)))):y.push(N));for(let _=0,C=J(S,Ku).length;_<C;_++){const j=J(S,Ku)[_],A=J(S,br)===Fp?{}:{...J(S,br)};if(j==="*"){const L=J(S,_r)["*"];L&&(r.push(...ot(this,Na,_u).call(this,L,t,J(S,br))),ze(L,br,A),y.push(L));continue}if(!m)continue;const[$,k,R]=j,D=J(S,_r)[$],z=o.slice(u).join("/");if(R instanceof RegExp){const L=R.exec(z);if(L){if(A[k]=L[0],r.push(...ot(this,Na,_u).call(this,D,t,J(S,br),A)),Object.keys(J(D,_r)).length){ze(D,br,A);const F=((c=L[0].match(/\//))==null?void 0:c.length)??0;(a[F]||(a[F]=[])).push(D)}continue}}(R===!0||R.test(m))&&(A[k]=m,p?(r.push(...ot(this,Na,_u).call(this,D,t,A,J(S,br))),J(D,_r)["*"]&&r.push(...ot(this,Na,_u).call(this,J(D,_r)["*"],t,A,J(S,br)))):(ze(D,br,A),y.push(D)))}}s=y.concat(a.shift()??[])}return r.length>1&&r.sort((u,f)=>u.score-f.score),[r.map(({handler:u,params:f})=>[u,f])]}},dc=new WeakMap,_r=new WeakMap,Ku=new WeakMap,Sh=new WeakMap,br=new WeakMap,Na=new WeakSet,_u=function(t,n,r,i){const s=[];for(let o=0,a=J(t,dc).length;o<a;o++){const c=J(t,dc)[o],u=c[n]||c[Zn],f={};if(u!==void 0&&(u.params=Object.create(null),s.push(u),r!==Fp||i&&i!==Fp))for(let m=0,p=u.possibleKeys.length;m<p;m++){const y=u.possibleKeys[m],v=f[u.score];u.params[y]=i!=null&&i[y]&&!v?i[y]:r[y]??(i==null?void 0:i[y]),f[u.score]=!0}}return s},Y8),Qu,X8,o0e=(X8=class{constructor(){K(this,"name","TrieRouter");Be(this,Qu);ze(this,Qu,new nV)}add(e,t,n){const r=Vz(t);if(r){for(let i=0,s=r.length;i<s;i++)J(this,Qu).insert(e,r[i],n);return}J(this,Qu).insert(e,t,n)}match(e,t){return J(this,Qu).search(e,t)}},Qu=new WeakMap,X8),X1=class extends Xz{constructor(e={}){super(e),this.router=e.router??new s0e({routers:[new i0e,new o0e]})}};class _I{constructor(t,n,r){K(this,"_default");K(this,"_value");K(this,"_config");K(this,"_restriction_bypass",!1);this._schema=t,this.options=r,this._default=kf(t.template({},{withOptional:!0})),this._value=kf(An(t,n??{},{withDefaults:!0,forceParse:this.isForceParse(),skipMark:this.isForceParse()})),this._config=kf(this._value)}isForceParse(){var t;return((t=this.options)==null?void 0:t.forceParse)??!0}default(){return this._default}async onBeforeUpdate(t,n){var r;return(r=this.options)!=null&&r.onBeforeUpdate?this.options.onBeforeUpdate(t,n):n}get(t){return t!=null&&t.stripMark?Jce(this._config):this._config}clone(){return structuredClone(this._config)}async set(t,n){var s,o;const r=An(this._schema,structuredClone(t),{coerce:!1,forceParse:!0,skipMark:this.isForceParse()}),i=await this.onBeforeUpdate(this._config,r);return this._value=kf(i),this._config=kf(i),n!==!0&&await((o=(s=this.options)==null?void 0:s.onUpdate)==null?void 0:o.call(s,this._config)),this._config}bypass(){return this._restriction_bypass=!0,this}throwIfRestricted(t){var r;if(this._restriction_bypass){this._restriction_bypass=!1;return}const n=((r=this.options)==null?void 0:r.restrictPaths)??[];if(Array.isArray(n)&&n.length>0){for(const i of n)if(typeof t=="string"?t.startsWith(i):VN(t,i))throw new Error(`Path "${i}" is restricted`)}}async patch(t,n){var a;const r=this.clone(),i=t.length>0?rv({},t,n):n;this.throwIfRestricted(i);const s=jF(r,i,(c,u)=>{if(Array.isArray(c)&&Array.isArray(u))return u});if((a=this.options)!=null&&a.overwritePaths){const u=_F(n).map(f=>t.length>0?t+"."+f:f).filter(f=>{var m,p;return(p=(m=this.options)==null?void 0:m.overwritePaths)==null?void 0:p.some(y=>typeof y=="string"?f===y:y.test(f))});if(u.length>0){const f=u.length>1?u.filter(m=>u.some(p=>p!==m&&p.startsWith(m))):u;for(const m of f)rv(s,m,Yg(i,m))}}const o=await this.set(s);return[i,o]}async overwrite(t,n){const r=this.clone(),i=t.length>0?rv({},t,n):n;this.throwIfRestricted(i);const s=rv(r,t,n),o=await this.set(s);return[i,o]}has(t){const n=t.split(".");if(n.length>1){const r=n.slice(0,-1).join(".");if(!VN(this._config,r))throw new Error(`Parent path "${r}" does not exist`)}return VN(this._config,t)}async remove(t){if(this.throwIfRestricted(t),!this.has(t))throw new Error(`Path "${t}" does not exist`);const n=this.clone(),r=Yg(n,t),i=kh(n,t),s=await this.set(i);return[r,s]}}var gC;let Zy=(gC=class{constructor(t,n){K(this,"_built",!1);K(this,"_schema");K(this,"_listener",()=>null);this._ctx=n,this._schema=new _I(this.getSchema(),t,{forceParse:this.useForceParse(),onUpdate:async r=>{await this._listener(r)},restrictPaths:this.getRestrictedPaths(),overwritePaths:this.getOverwritePaths(),onBeforeUpdate:this.onBeforeUpdate.bind(this)})}onBeforeUpdate(t,n){return n}setListener(t){return this._listener=t,this}useForceParse(){return!1}getRestrictedPaths(){}getOverwritePaths(){}get configDefault(){return this._schema.default()}get config(){return this._schema.get()}setContext(t){return this._ctx=t,this}schema(){return this._schema}onServerInit(t){}get ctx(){if(!this._ctx)throw new Error("Context not set");return this._ctx}async build(){throw new Error("Not implemented")}setBuilt(){this._built=!0,this._schema=new _I(this.getSchema(),this.toJSON(!0),{onUpdate:async t=>{await this._listener(t)},forceParse:this.useForceParse(),restrictPaths:this.getRestrictedPaths(),overwritePaths:this.getOverwritePaths(),onBeforeUpdate:this.onBeforeUpdate.bind(this)})}isBuilt(){return this._built}throwIfNotBuilt(){if(!this._built)throw new Error("Config not built: "+this.constructor.name)}toJSON(t){return this.config}},K(gC,"ctx_flags",{sync_required:!1,ctx_reload_required:!1}),gC);class a0e extends NB{constructor(){super(void 0);K(this,"name","dummy");K(this,"supported",{batching:!0})}getFieldSchema(n,r){throw new Error("Method not implemented.")}}const rV=He({entity:de(),min_items:Ct(),max_items:Ct(),mime_types:mn(de()),...lo.properties}).partial();class Qg extends co{constructor(n,r){super(n,{...r,fillable:["update"],virtual:!0});K(this,"type","media")}getSchema(){return rV}getMaxItems(){return this.config.max_items}getAllowedMimeTypes(){return this.config.mime_types}getMinItems(){return this.config.min_items}schema(){}toJsonSchema(){var s,o;const n="../schema.json#/properties/media",r=(s=this.config)==null?void 0:s.min_items,i=(o=this.config)==null?void 0:o.max_items;return i===1?{$ref:n}:{type:"array",items:{$ref:n},minItems:r,maxItems:i}}}const ov={text:e=>new Ix(e.field_name,{...e.config,required:e.is_required}),number:e=>new GB(e.field_name,{...e.config,required:e.is_required}),date:e=>new oO(e.field_name,{...e.config,required:e.is_required}),datetime:e=>new oO(e.field_name,{...e.config,required:e.is_required}),boolean:e=>new PB(e.field_name,{...e.config,required:e.is_required}),enumm:e=>new FB(e.field_name,{...e.config,required:e.is_required}),json:e=>new zB(e.field_name,{...e.config,required:e.is_required}),jsonSchema:e=>new HB(e.field_name,{...e.config,required:e.is_required}),media:e=>new Qg(e.field_name,{...e.config,entity:e.entity.name,required:e.is_required}),medium:e=>new Qg(e.field_name,{...e.config,entity:e.entity.name,required:e.is_required})};class gm{constructor(t,n,r){this.type=t,this.config=n,this.is_required=r}required(){return this.is_required=!0,this}getField(t){if(!ov[this.type])throw new Error(`Unknown field type: ${this.type}`);try{return ov[this.type](t)}catch(n){throw new Error(`Faild to construct field "${this.type}": ${n}`)}}make(t){if(!ov[this.type])throw new Error(`Unknown field type: ${this.type}`);try{return ov[this.type]({entity:{name:"unknown",fields:{}},field_name:t,config:this.config,is_required:this.is_required})}catch(n){throw new Error(`Faild to construct field "${this.type}": ${n}`)}}}function _o(e){return new gm("text",e,!1)}function l0e(e){return new gm("number",e,!1)}function c0e(e){return new gm("date",{...e,type:"datetime"},!1)}function u0e(e){return new gm("boolean",e,!1)}function CI(e){var r;const n={options:{type:typeof((r=e==null?void 0:e.enum)==null?void 0:r[0])!="string"?"objects":"strings",values:(e==null?void 0:e.enum)??[]}};return new gm("enumm",n,!1)}function d0e(e){return new gm("json",e,!1)}function iV(e,t,n,r){const i=[];for(const[s,o]of Object.entries(t)){const a=o,c={entity:{name:e,fields:t},field_name:s,config:a.config,is_required:a.is_required};i.push(a.getField(c))}return new bc(e,i,n,r)}function f0e(e){return{manyToOne:(t,n)=>new $c(e,t,n),oneToOne:(t,n)=>new pO(e,t,n),manyToMany:(t,n,r)=>{const i=[];if(r){const s=r,o=[],a=(n==null?void 0:n.connectionTable)??Ya.defaultConnectionTable(e,t);for(const[c,u]of Object.entries(r)){const f=u,m={entity:{name:a,fields:s},field_name:c,config:f.config,is_required:f.is_required};o.push(f.getField(m))}i.push(o)}return new Ya(e,t,n,i)},polyToOne:(t,n)=>new Xg(e,t,{...n,targetCardinality:1}),polyToMany:(t,n)=>new Xg(e,t,n)}}function h0e(e){return{on:(t,n)=>{const r=t.map(i=>{const s=e.field(i);if(!s)throw new Error(`Field "${String(i)}" not found on entity "${e.name}"`);return s});return new KB(e,r,n)}}}class m0e extends zx{constructor(t,n=[],r=[]){super(Object.values(t),new a0e,n,r),this.__entities=t}withConnection(t){return new zx(this.entities,t,this.relations.all,this.indices)}}function sV(e,t){const n=[],r=[],i=a=>new Proxy(f0e(a),{get(c,u){return(...f)=>(n.push(c[u](...f)),i(a))}}),s=a=>new Proxy(h0e(a),{get(c,u){return(...f)=>(r.push(c[u](...f)),s(a))}});t&&t({relation:i,index:s},e);const o=new m0e(e,n,r);return{DB:o.__entities,entities:o.__entities,relations:n,indices:r,proto:o,toJSON:()=>o.toJSON()}}function p0e(e,t){const n=e.toJSON(),r=i=>{if(Ga(i)&&("required"in i&&(t!=null&&t.removeRequired)&&(i.required=void 0),"default"in i&&(t!=null&&t.removeDefault)&&(i.default=void 0),"properties"in i&&Ga(i.properties)))for(const s in i.properties)i.properties[s]=r(i.properties[s]);return i};return r(n),Vs(n)}function g0e(e,t){const n={...e.properties};return Xt(n,(r,i)=>{if(!t(r))return r})}const Ih=Symbol.for("bknd-mcp-schema");class HT{constructor(t,n,r){K(this,"cleanSchema");this.schema=t,this.name=n,this.options=r,this.cleanSchema=this.getCleanSchema(this.schema)}getCleanSchema(t){if(t.type!=="object")return t;const n=g0e(t,i=>Ga(i)&&Ih in i),r=He(n);return p0e(r,{removeRequired:!0,removeDefault:!1})}getToolOptions(t){const{tools:n,resources:r,...i}=this.options,s=o=>o&&[t&&Wa(t),o].filter(Boolean).join(" ");return{title:s(this.options.title??this.schema.title),description:s(this.options.description??this.schema.description),annotations:{destructiveHint:!0,idempotentHint:!0,...i.annotations}}}getManager(t){const n=t.context.app.modules;if("mutateConfigSafe"in n)return n;throw new Error("Manager not found")}}class y0e extends bT{constructor(t,n,r){const{mcp:i,...s}=r||{};super(n,s),this[Ih]=new HT(this,t,i||{})}get mcp(){return this[Ih]}toolGet(t){return new mc([this.mcp.name,"get"].join("_"),{...this.mcp.getToolOptions("get"),inputSchema:He({path:de({pattern:/^[a-zA-Z0-9_.]{0,}$/,title:"Path",description:"Path to the property to get, e.g. `key.subkey`"}).optional(),depth:Ct({description:"Limit the depth of the response"}).optional(),secrets:pt({default:!1,description:"Include secrets in the response config"}).optional()}),annotations:{readOnlyHint:!0,destructiveHint:!1}},async(n,r)=>{const i=r.context.app.toJSON(n.secrets),s=Hn(i,t.instancePath);let o=Hn(s,n.path??[]);return n.depth&&(o=Zoe(o,n.depth)),r.json({path:n.path??"",secrets:n.secrets??!1,partial:!!n.depth,value:o??null})})}toolUpdate(t){const n=this.mcp.cleanSchema;return new mc([this.mcp.name,"update"].join("_"),{...this.mcp.getToolOptions("update"),inputSchema:He({full:pt({default:!1}).optional(),return_config:pt({default:!1,description:"If the new configuration should be returned"}).optional(),value:He(n.properties).partial()})},async(r,i)=>{const{full:s,value:o,return_config:a}=r,[c]=t.instancePath,u=this.mcp.getManager(i);s?await u.mutateConfigSafe(c).set(o):await u.mutateConfigSafe(c).patch("",o);let f;if(a){const m=i.context.app.toJSON();f=Hn(m,t.instancePath)}return i.json({success:!0,module:c,config:f})})}getTools(t){const{tools:n=[]}=this.mcp.options;return[this.toolGet(t),this.toolUpdate(t),...n]}}const K1=(e,t,n)=>new y0e(e,t,n),OI=Symbol.for("bknd-mcp-record-opts");class b0e extends qF{constructor(t,n,r,i){const{mcp:s,...o}=r||{};super(n,o),this[Ih]=new HT(this,t,s||{}),this[OI]={new_schema:i}}get mcp(){return this[Ih]}getNewSchema(t=this.additionalProperties){return this[OI].new_schema??this.additionalProperties??t}toolGet(t){return new mc([this.mcp.name,"get"].join("_"),{...this.mcp.getToolOptions("get"),inputSchema:He({key:de({description:"key to get"}).optional(),secrets:pt({default:!1,description:"(optional) include secrets in the response config"}).optional(),schema:pt({default:!1,description:"(optional) include the schema in the response"}).optional()}),annotations:{readOnlyHint:!0,destructiveHint:!1}},async(n,r)=>{const i=r.context.app.toJSON(n.secrets),s=Hn(i,t.instancePath),[o]=t.instancePath,a=n.schema?this.getNewSchema().toJSON():void 0;if(n.key){if(!(n.key in s))throw new Error(`Key "${n.key}" not found in config`);const c=Hn(s,n.key);return r.json({secrets:n.secrets??!1,module:o,key:n.key,value:c??null,schema:a})}return r.json({secrets:n.secrets??!1,module:o,key:null,value:s??null,schema:a})})}toolAdd(t){return new mc([this.mcp.name,"add"].join("_"),{...this.mcp.getToolOptions("add"),inputSchema:He({key:de({description:"key to add"}),value:this.getNewSchema(),return_config:pt({default:!1,description:"If the new configuration should be returned"}).optional()})},async(n,r)=>{const i=r.context.app.toJSON(!0),s=Hn(i,t.instancePath),[o,...a]=t.instancePath,c=this.mcp.getManager(r);if(n.key in s)throw new Error(`Key "${n.key}" already exists in config`);await c.mutateConfigSafe(o).patch([...a,n.key],n.value);const u=Hn(r.context.app.toJSON(),t.instancePath);return r.json({success:!0,module:o,action:{type:"add",key:n.key},config:n.return_config?u:void 0})})}toolUpdate(t){return new mc([this.mcp.name,"update"].join("_"),{...this.mcp.getToolOptions("update"),inputSchema:He({key:de({description:"key to update"}),value:this.mcp.getCleanSchema(this.getNewSchema(Me({}))),return_config:pt({default:!1,description:"If the new configuration should be returned"}).optional()})},async(n,r)=>{const i=r.context.app.toJSON(!0),s=Hn(i,t.instancePath),[o,...a]=t.instancePath,c=this.mcp.getManager(r);if(!(n.key in s))throw new Error(`Key "${n.key}" not found in config`);await c.mutateConfigSafe(o).patch([...a,n.key],n.value);const u=Hn(r.context.app.toJSON(),t.instancePath);return r.json({success:!0,module:o,action:{type:"update",key:n.key},config:n.return_config?u:void 0})})}toolRemove(t){return new mc([this.mcp.name,"remove"].join("_"),{...this.mcp.getToolOptions("get"),inputSchema:He({key:de({description:"key to remove"}),return_config:pt({default:!1,description:"If the new configuration should be returned"}).optional()})},async(n,r)=>{const i=r.context.app.toJSON(!0),s=Hn(i,t.instancePath),[o,...a]=t.instancePath,c=this.mcp.getManager(r);if(!(n.key in s))throw new Error(`Key "${n.key}" not found in config`);await c.mutateConfigSafe(o).remove([...a,n.key].join("."));const u=Hn(r.context.app.toJSON(),t.instancePath);return r.json({success:!0,module:o,action:{type:"remove",key:n.key},config:n.return_config?u:void 0})})}getTools(t){const{tools:n=[],get:r=!0,add:i=!0,update:s=!0,remove:o=!0}=this.mcp.options;return[r&&this.toolGet(t),i&&this.toolAdd(t),s&&this.toolUpdate(t),o&&this.toolRemove(t),...n].filter(Boolean)}}const xg=(e,t,n,r)=>new b0e(e,t,n,r),v0e=(e,t,n)=>{const r=new HT(t,e,{}),i=a=>new mc([r.name,"get"].join("_"),{...r.getToolOptions("get"),inputSchema:He({secrets:pt({default:!1,description:"Include secrets in the response config"}).optional()})},async(c,u)=>{const f=u.context.app.toJSON(c.secrets),m=Hn(f,a.instancePath);return u.json({secrets:c.secrets??!1,value:m??null})}),s=a=>new mc([r.name,"update"].join("_"),{...r.getToolOptions("update"),inputSchema:He({value:t,return_config:pt({default:!1}).optional(),secrets:pt({default:!1}).optional()})},async(c,u)=>{const{value:f,return_config:m,secrets:p}=c,[y,...v]=a.instancePath;await r.getManager(u).mutateConfigSafe(y).overwrite(v,f);let S;if(m){const N=u.context.app.toJSON(p);S=Hn(N,a.instancePath)}return u.json({success:!0,module:y,config:S})}),o=a=>{const{tools:c=[]}=r.options;return[i(a),s(a),...c]};return Object.assign(t,{[Ih]:r,getTools:o})};var x0e=e=>{const n={...{origin:"*",allowMethods:["GET","HEAD","PUT","POST","DELETE","PATCH"],allowHeaders:[],exposeHeaders:[]},...e},r=(s=>typeof s=="string"?s==="*"?()=>s:o=>s===o?o:null:typeof s=="function"?s:o=>s.includes(o)?o:null)(n.origin),i=(s=>typeof s=="function"?s:Array.isArray(s)?()=>s:()=>[])(n.allowMethods);return async function(o,a){var f;function c(m,p){o.res.headers.set(m,p)}const u=r(o.req.header("origin")||"",o);if(u&&c("Access-Control-Allow-Origin",u),n.origin!=="*"){const m=o.req.header("Vary");m?c("Vary",m):c("Vary","Origin")}if(n.credentials&&c("Access-Control-Allow-Credentials","true"),(f=n.exposeHeaders)!=null&&f.length&&c("Access-Control-Expose-Headers",n.exposeHeaders.join(",")),o.req.method==="OPTIONS"){n.maxAge!=null&&c("Access-Control-Max-Age",n.maxAge.toString());const m=i(o.req.header("origin")||"",o);m.length&&c("Access-Control-Allow-Methods",m.join(","));let p=n.allowHeaders;if(!(p!=null&&p.length)){const y=o.req.header("Access-Control-Request-Headers");y&&(p=y.split(/\s*,\s*/))}return p!=null&&p.length&&(c("Access-Control-Allow-Headers",p.join(",")),o.res.headers.append("Vary","Access-Control-Request-Headers")),o.res.headers.delete("Content-Length"),o.res.headers.delete("Content-Type"),new Response(null,{headers:o.res.headers,status:204,statusText:"No Content"})}await a()}};class e0 extends Yr{getSafeErrorAndCode(){return{error:"Invalid credentials",code:nn.UNAUTHORIZED}}toJSON(){return xr()?super.toJSON():{error:this.getSafeErrorAndCode().error,type:"AuthException"}}}class w0e extends e0{constructor(){super("User not found");K(this,"name","UserNotFoundException");K(this,"code",nn.NOT_FOUND)}}class WN extends e0{constructor(){super("Invalid credentials");K(this,"name","InvalidCredentialsException");K(this,"code",nn.UNAUTHORIZED)}}class S0e extends e0{constructor(){super("Unable to create user");K(this,"name","UnableToCreateUserException");K(this,"code",nn.INTERNAL_SERVER_ERROR)}}class Gl extends e0{constructor(n){super(n??"Invalid conditions");K(this,"code",nn.UNPROCESSABLE_ENTITY)}}const jI=["GET","POST","PATCH","PUT","DELETE"],E0e=K1("config_server",{cors:He({origin:de({default:"*"}),allow_methods:mn(de({enum:jI}),{default:jI,uniqueItems:!0}),allow_headers:mn(de(),{default:["Content-Type","Content-Length","Authorization","Accept"]}),allow_credentials:pt({default:!0})}),mcp:He({enabled:pt({default:!1}),path:de({default:"/api/system/mcp"}),logLevel:de({enum:Uce,default:"warning"})})},{description:"Server configuration"}).strict();class N0e extends Zy{getRestrictedPaths(){return[]}get client(){return this.ctx.server}getSchema(){return E0e}async build(){const t=this.config.cors.origin??"*",n=t.includes(",")?t.split(",").map(i=>i.trim()):[t],r=n.includes("*");this.client.use("*",x0e({origin:i=>r||n.includes(i)?i:void 0,allowMethods:this.config.cors.allow_methods,allowHeaders:this.config.cors.allow_headers,credentials:this.config.cors.allow_credentials})),this.client.use("/",async(i,s)=>{await s(),(!i.finalized||i.res.status===404)&&new URL(i.req.url).pathname==="/"&&(i.res=void 0,i.res=Response.json({bknd:"hello world!"}))}),this.client.onError((i,s)=>(mt.error("[AppServer:onError]",i),i instanceof Response?i:i instanceof e0?xr()?s.json(i.toJSON(),i.code):s.json(i.toJSON(),i.getSafeErrorAndCode().code):i instanceof Yr?s.json(i.toJSON(),i.code):i instanceof Error&&xr()?s.json({error:i.message,stack:i.stack},500):s.json({error:i.message},500))),this.setBuilt()}toJSON(t){return this.config}}He({description:de(),filterable:pt()}).partial();class WT extends dm{constructor(){super(...arguments);K(this,"name","InvalidPermissionContextError");K(this,"code",nn.INTERNAL_SERVER_ERROR)}static from(n){return new WT(n.schema,n.value,n.errors)}}let Tn=class{constructor(t,n={},r=void 0){this.name=t,this.options=n,this.context=r}isFilterable(){return this.options.filterable===!0}parseContext(t,n){if(!this.context)return t;try{return this.context?An(this.context,t,n):void 0}catch(r){throw r instanceof dm?WT.from(r):r}}toJSON(){return{name:this.name,...this.options,context:this.context}}};const xO=new Tn("auth.user.create"),oV=new Tn("auth.user.password.test"),aV=new Tn("auth.user.password.change"),lV=new Tn("auth.user.token.create"),_0e=Object.freeze(Object.defineProperty({__proto__:null,changePassword:aV,createToken:lV,createUser:xO,testPassword:oV},Symbol.toStringTag,{value:"Module"})),si=new Tn("data.entity.read",{filterable:!0},Me({entity:de(),id:Pt([Ct(),de()]).optional()})),Zg=new Tn("data.entity.create",{filterable:!0},Me({entity:de()})),ig=new Tn("data.entity.update",{filterable:!0},Me({entity:de(),id:Pt([Ct(),de()]).optional()})),sg=new Tn("data.entity.delete",{filterable:!0},Me({entity:de(),id:Pt([Ct(),de()]).optional()})),cV=new Tn("data.database.sync"),C0e=new Tn("data.raw.query"),O0e=new Tn("data.raw.mutate"),j0e=Object.freeze(Object.defineProperty({__proto__:null,databaseSync:cV,entityCreate:Zg,entityDelete:sg,entityRead:si,entityUpdate:ig,rawMutate:O0e,rawQuery:C0e},Symbol.toStringTag,{value:"Module"}));var uV=e=>e;function dV(e){const t=e instanceof Request?e:e.req.raw;return new URL(t.url).pathname}function A0e(e,t){const n=e.get("auth");if(!n)throw new Error("auth ctx not found");if(n.skip)return!0;const r=e.req.raw;if(!t)return!1;const i=dV(r),s=t.some(o=>Koe(i,o));return n.skip=s,s}const T0e=e=>uV(async(t,n)=>{t.get("auth")||t.set("auth",{registered:!1,resolved:!1,skip:!1,user:void 0});const r=t.get("app"),i=t.get("auth"),s=r==null?void 0:r.module.auth.authenticator;let o=A0e(t,e==null?void 0:e.skip)||!(r!=null&&r.module.auth.enabled);i.registered?(o=!0,mt.debug(`auth middleware already registered for ${dV(t)}`)):(i.registered=!0,!o&&!i.resolved&&(r!=null&&r.module.auth.enabled)&&(i.user=await(s==null?void 0:s.resolveAuthFromRequest(t)),i.resolved=!0)),await n(),i.skip=!1,i.resolved=!1,i.user=void 0});function $0e(e){const t=e instanceof Request?e:e.req.raw;return new URL(t.url).pathname}const R0e=Symbol.for("permission");function k0e(e,t){const n=uV(async(r,i)=>{var a,c,u;const s=r.get("app"),o=r.get("auth");if(!o)throw new Error("auth ctx not found");if(!o.registered||!s){const f=`auth middleware not registered, cannot check permissions for ${$0e(r)}`;if(s!=null&&s.module.auth.enabled)throw new Error(f);mt.warn(f)}else if(!o.skip){const f=s.modules.ctx().guard,m=await((a=t==null?void 0:t.context)==null?void 0:a.call(t,r))??{};if(t!=null&&t.onGranted||t!=null&&t.onDenied){let p;if(oae(()=>f.granted(e,r,m),tue)?p=await((c=t==null?void 0:t.onDenied)==null?void 0:c.call(t,r)):p=await((u=t==null?void 0:t.onGranted)==null?void 0:u.call(t,r)),p instanceof Response)return p}else f.granted(e,r,m)}await i()});return Object.assign(n,{[R0e]:{permission:e,options:t}})}const M0e=Object.freeze(Object.defineProperty({__proto__:null,auth:T0e,permission:k0e},Symbol.toStringTag,{value:"Module"}));class t0{constructor(){K(this,"middlewares",M0e)}create(){return t0.createServer()}static createServer(){return new X1}getController(){return this.create()}isJsonRequest(t){return t.req.header("Content-Type")==="application/json"||t.req.header("Accept")==="application/json"}notFound(t){return this.isJsonRequest(t)?t.json({error:"Not found"},404):t.notFound()}getEntitiesEnum(t){const n=t.entities.map(r=>r.name);return n.length>0?Pt([de({enum:n}),de()]):de()}registerMcp(){}}class I0e extends t0{constructor(t){super(),this.auth=t}get guard(){return this.auth.ctx.guard}get em(){return this.auth.ctx.em}get userRepo(){const t=this.auth.config.entity_name;return this.em.repo(t)}registerStrategyActions(t,n){var m;if(!this.auth.isStrategyEnabled(t))return;const r=(m=t.getActions)==null?void 0:m.call(t);if(!r)return;const{auth:i,permission:s}=this.middlewares,o=this.create().use(i()),a=t.getName(),{create:c,change:u}=r,f=this.auth.em;c&&(o.post("/create",s(xO,{}),s(Zg,{context:p=>({entity:this.auth.config.entity_name})}),Wt({summary:"Create a new user",tags:["auth"]}),async p=>{var y;try{const v=await this.auth.authenticator.getBody(p),x=An(c.schema,v,{}),S=await((y=c.preprocess)==null?void 0:y.call(c,x))??x,N=f.mutator(this.auth.config.entity_name);N.__unstable_toggleSystemEntityCreation(!1);const{data:_}=await N.insertOne({...S,strategy:a});return N.__unstable_toggleSystemEntityCreation(!0),p.json({success:!0,action:"create",strategy:a,data:_})}catch(v){if(v instanceof dm)return p.json({success:!1,errors:v.errors},400);throw v}}),o.get("create/schema.json",Wt({summary:"Get the schema for creating a user",tags:["auth"]}),async p=>p.json(c.schema))),n.route(`/${a}/actions`,o)}getController(){const{auth:t}=this.middlewares,n=this.create();n.get("/me",Wt({summary:"Get the current user",tags:["auth"]}),oi("auth_me",{noErrorCodes:[403]}),t(),async i=>{var o,a;const s=(o=i.get("auth"))==null?void 0:o.user;if(s){const{data:c}=await this.userRepo.findId(s.id);return await((a=this.auth.authenticator)==null?void 0:a.requestCookieRefresh(i)),i.json({user:c})}return i.json({user:null},403)}),n.get("/logout",Wt({summary:"Logout the current user",tags:["auth"]}),t(),async i=>{if(await this.auth.authenticator.logout(i),this.auth.authenticator.isJsonRequest(i))return i.json({ok:!0});const s=i.req.header("referer");return s?i.redirect(s):i.redirect("/")}),n.get("/strategies",Wt({summary:"Get the available authentication strategies",tags:["auth"]}),oi("auth_strategies"),Ht("query",Me({include_disabled:pt().optional()})),async i=>{const{include_disabled:s}=i.req.valid("query"),{strategies:o,basepath:a}=this.auth.toJSON(!1);return s?i.json({strategies:o,basepath:a}):i.json({strategies:Xt(o??{},(c,u)=>this.auth.isStrategyEnabled(u)?c:void 0),basepath:a})});const r=this.auth.authenticator.getStrategies();for(const[i,s]of Object.entries(r))this.auth.isStrategyEnabled(s)&&(n.route(`/${i}`,s.getController(this.auth.authenticator)),this.registerStrategyActions(s,n));return n}registerMcp(){const{mcp:t}=this.auth.ctx,n=Pt([Ct({title:"Integer"}),de({title:"UUID"})]),r=async s=>{let o;if(s.id){const{data:a}=await this.userRepo.findId(s.id);o=a}else if(s.email){const{data:a}=await this.userRepo.findOne({email:s.email});o=a}if(!o)throw new Error("User not found");return o},i=Object.keys(this.auth.config.roles??{});t.tool("auth_user_create",{description:"Create a new user",inputSchema:Me({email:de({format:"email"}),password:de({minLength:8}),role:de({enum:i.length>0?i:void 0}).optional()})},async(s,o)=>(await o.context.ctx().helper.granted(o,xO),o.json(await this.auth.createUser(s)))),t.tool("auth_user_token",{description:"Get a user token",inputSchema:Me({id:n.optional(),email:de({format:"email"}).optional()})},async(s,o)=>{await o.context.ctx().helper.granted(o,lV);const a=await r(s);return o.json({user:a,token:await this.auth.authenticator.jwt(a)})}),t.tool("auth_user_password_change",{description:"Change a user's password",inputSchema:Me({id:n.optional(),email:de({format:"email"}).optional(),password:de({minLength:8})})},async(s,o)=>{await o.context.ctx().helper.granted(o,aV);const a=await r(s);if(!await this.auth.changePassword(a.id,s.password))throw new Error("Failed to change password");return o.json({changed:!0})}),t.tool("auth_user_password_test",{description:"Test a user's password",inputSchema:Me({email:de({format:"email"}),password:de({minLength:8})})},async(s,o)=>{await o.context.ctx().helper.granted(o,oV);const u=await this.auth.authenticator.strategy("password").getController(this.auth.authenticator).request(new Request("https://localhost/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.email,password:s.password})}));return o.json({valid:u.ok})})}}var GT={name:"HMAC",hash:"SHA-256"},fV=async e=>{const t=typeof e=="string"?new TextEncoder().encode(e):e;return await crypto.subtle.importKey("raw",t,GT,!1,["sign","verify"])},P0e=async(e,t)=>{const n=await fV(t),r=await crypto.subtle.sign(GT.name,n,new TextEncoder().encode(e));return btoa(String.fromCharCode(...new Uint8Array(r)))},D0e=async(e,t,n)=>{try{const r=atob(e),i=new Uint8Array(r.length);for(let s=0,o=r.length;s<o;s++)i[s]=r.charCodeAt(s);return await crypto.subtle.verify(GT,n,i,new TextEncoder().encode(t))}catch{return!1}},L0e=/^[\w!#$%&'*.^`|~+-]+$/,F0e=/^[ !#-:<-[\]-~]*$/,hV=(e,t)=>{if(t&&e.indexOf(t)===-1)return{};const n=e.trim().split(";"),r={};for(let i of n){i=i.trim();const s=i.indexOf("=");if(s===-1)continue;const o=i.substring(0,s).trim();if(t&&t!==o||!L0e.test(o))continue;let a=i.substring(s+1).trim();if(a.startsWith('"')&&a.endsWith('"')&&(a=a.slice(1,-1)),F0e.test(a)&&(r[o]=a.indexOf("%")!==-1?Y1(a,qT):a,t))break}return r},AI=async(e,t,n)=>{const r={},i=await fV(t);for(const[s,o]of Object.entries(hV(e,n))){const a=o.lastIndexOf(".");if(a<1)continue;const c=o.substring(0,a),u=o.substring(a+1);if(u.length!==44||!u.endsWith("="))continue;const f=await D0e(u,c,i);r[s]=f?c:!1}return r},mV=(e,t,n={})=>{let r=`${e}=${t}`;if(e.startsWith("__Secure-")&&!n.secure)throw new Error("__Secure- Cookie must have Secure attributes");if(e.startsWith("__Host-")){if(!n.secure)throw new Error("__Host- Cookie must have Secure attributes");if(n.path!=="/")throw new Error('__Host- Cookie must have Path attributes with "/"');if(n.domain)throw new Error("__Host- Cookie must not have Domain attributes")}if(n&&typeof n.maxAge=="number"&&n.maxAge>=0){if(n.maxAge>3456e4)throw new Error("Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.");r+=`; Max-Age=${n.maxAge|0}`}if(n.domain&&n.prefix!=="host"&&(r+=`; Domain=${n.domain}`),n.path&&(r+=`; Path=${n.path}`),n.expires){if(n.expires.getTime()-Date.now()>3456e7)throw new Error("Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.");r+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.sameSite&&(r+=`; SameSite=${n.sameSite.charAt(0).toUpperCase()+n.sameSite.slice(1)}`),n.priority&&(r+=`; Priority=${n.priority}`),n.partitioned){if(!n.secure)throw new Error("Partitioned Cookie must have Secure attributes");r+="; Partitioned"}return r},GN=(e,t,n)=>(t=encodeURIComponent(t),mV(e,t,n)),Yv=async(e,t,n,r={})=>{const i=await P0e(t,n);return t=`${t}.${i}`,t=encodeURIComponent(t),mV(e,t,r)},B0e=(e,t,n)=>{const r=e.req.raw.headers.get("Cookie");{if(!r)return;let i=t;return n==="secure"?i="__Secure-"+t:n==="host"&&(i="__Host-"+t),hV(r,i)[i]}},pV=async(e,t,n,r)=>{const i=e.req.raw.headers.get("Cookie");if(typeof n=="string"){if(!i)return;let o=n;return(await AI(i,t,o))[o]}return i?await AI(i,t):{}},gV=(e,t,n,r)=>{let i;(r==null?void 0:r.prefix)==="secure"?i=GN("__Secure-"+t,n,{path:"/",...r,secure:!0}):(r==null?void 0:r.prefix)==="host"?i=GN("__Host-"+t,n,{...r,path:"/",secure:!0,domain:void 0}):i=GN(t,n,{path:"/",...r}),e.header("Set-Cookie",i,{append:!0})},yV=async(e,t,n,r,i)=>{let s;(i==null?void 0:i.prefix)==="secure"?s=await Yv("__Secure-"+t,n,r,{path:"/",...i,secure:!0}):(i==null?void 0:i.prefix)==="host"?s=await Yv("__Host-"+t,n,r,{...i,path:"/",secure:!0,domain:void 0}):s=await Yv(t,n,r,{path:"/",...i}),e.header("set-cookie",s,{append:!0})},z0e=(e,t,n)=>{const r=B0e(e,t,n==null?void 0:n.prefix);return gV(e,t,"",{...n,maxAge:0}),r};const wO="__bknd_flash";function TI(e,t,n="info"){var r;(r=e.req.header("Accept"))!=null&&r.includes("text/html")&&gV(e,wO,JSON.stringify({type:n,message:t}),{path:"/"})}function V0e(e){const t=document.cookie.split("; ");for(const n of t){const[r,i]=n.split("=");if(r===e)try{return decodeURIComponent(i)}catch{return null}}return null}function U0e(e=!0){const t=V0e(wO);return t&&e&&(document.cookie=`${wO}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`),t?JSON.parse(t):void 0}var bV=e=>xV(e.replace(/_|-/g,t=>({_:"/","-":"+"})[t]??t)),vV=e=>q0e(e).replace(/\/|\+/g,t=>({"/":"_","+":"-"})[t]??t),q0e=e=>{let t="";const n=new Uint8Array(e);for(let r=0,i=n.length;r<i;r++)t+=String.fromCharCode(n[r]);return btoa(t)},xV=e=>{const t=atob(e),n=new Uint8Array(new ArrayBuffer(t.length)),r=t.length/2;for(let i=0,s=t.length-1;i<=r;i++,s--)n[i]=t.charCodeAt(i),n[s]=t.charCodeAt(s);return n},wV=(e=>(e.HS256="HS256",e.HS384="HS384",e.HS512="HS512",e.RS256="RS256",e.RS384="RS384",e.RS512="RS512",e.PS256="PS256",e.PS384="PS384",e.PS512="PS512",e.ES256="ES256",e.ES384="ES384",e.ES512="ES512",e.EdDSA="EdDSA",e))(wV||{}),H0e=class extends Error{constructor(e){super(`${e} is not an implemented algorithm`),this.name="JwtAlgorithmNotImplemented"}},SV=class extends Error{constructor(e){super(`invalid JWT token: ${e}`),this.name="JwtTokenInvalid"}},W0e=class extends Error{constructor(e){super(`token (${e}) is being used before it's valid`),this.name="JwtTokenNotBefore"}},G0e=class extends Error{constructor(e){super(`token (${e}) expired`),this.name="JwtTokenExpired"}},J0e=class extends Error{constructor(e,t){super(`Invalid "iat" claim, must be a valid number lower than "${e}" (iat: "${t}")`),this.name="JwtTokenIssuedAt"}},Y0e=class extends Error{constructor(e){super(`jwt header is invalid: ${JSON.stringify(e)}`),this.name="JwtHeaderInvalid"}},X0e=class extends Error{constructor(e){super(`token(${e}) signature mismatched`),this.name="JwtTokenSignatureMismatched"}},ey=(e=>(e.Encrypt="encrypt",e.Decrypt="decrypt",e.Sign="sign",e.Verify="verify",e.DeriveKey="deriveKey",e.DeriveBits="deriveBits",e.WrapKey="wrapKey",e.UnwrapKey="unwrapKey",e))(ey||{}),n0=new TextEncoder,K0e=new TextDecoder;async function Q0e(e,t,n){const r=EV(t),i=await ebe(e,r);return await crypto.subtle.sign(r,i,n)}async function Z0e(e,t,n,r){const i=EV(t),s=await tbe(e,i);return await crypto.subtle.verify(i,s,n,r)}function SO(e){return xV(e.replace(/-+(BEGIN|END).*/g,"").replace(/\s/g,""))}async function ebe(e,t){if(!crypto.subtle||!crypto.subtle.importKey)throw new Error("`crypto.subtle.importKey` is undefined. JWT auth middleware requires it.");if(NV(e)){if(e.type!=="private"&&e.type!=="secret")throw new Error(`unexpected key type: CryptoKey.type is ${e.type}, expected private or secret`);return e}const n=[ey.Sign];return typeof e=="object"?await crypto.subtle.importKey("jwk",e,t,!1,n):e.includes("PRIVATE")?await crypto.subtle.importKey("pkcs8",SO(e),t,!1,n):await crypto.subtle.importKey("raw",n0.encode(e),t,!1,n)}async function tbe(e,t){if(!crypto.subtle||!crypto.subtle.importKey)throw new Error("`crypto.subtle.importKey` is undefined. JWT auth middleware requires it.");if(NV(e)){if(e.type==="public"||e.type==="secret")return e;e=await $I(e)}if(typeof e=="string"&&e.includes("PRIVATE")){const r=await crypto.subtle.importKey("pkcs8",SO(e),t,!0,[ey.Sign]);e=await $I(r)}const n=[ey.Verify];return typeof e=="object"?await crypto.subtle.importKey("jwk",e,t,!1,n):e.includes("PUBLIC")?await crypto.subtle.importKey("spki",SO(e),t,!1,n):await crypto.subtle.importKey("raw",n0.encode(e),t,!1,n)}async function $I(e){if(e.type!=="private")throw new Error(`unexpected key type: ${e.type}`);if(!e.extractable)throw new Error("unexpected private key is unextractable");const t=await crypto.subtle.exportKey("jwk",e),{kty:n}=t,{alg:r,e:i,n:s}=t,{crv:o,x:a,y:c}=t;return{kty:n,alg:r,e:i,n:s,crv:o,x:a,y:c,key_ops:[ey.Verify]}}function EV(e){switch(e){case"HS256":return{name:"HMAC",hash:{name:"SHA-256"}};case"HS384":return{name:"HMAC",hash:{name:"SHA-384"}};case"HS512":return{name:"HMAC",hash:{name:"SHA-512"}};case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"RS384":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"RS512":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"PS256":return{name:"RSA-PSS",hash:{name:"SHA-256"},saltLength:32};case"PS384":return{name:"RSA-PSS",hash:{name:"SHA-384"},saltLength:48};case"PS512":return{name:"RSA-PSS",hash:{name:"SHA-512"},saltLength:64};case"ES256":return{name:"ECDSA",hash:{name:"SHA-256"},namedCurve:"P-256"};case"ES384":return{name:"ECDSA",hash:{name:"SHA-384"},namedCurve:"P-384"};case"ES512":return{name:"ECDSA",hash:{name:"SHA-512"},namedCurve:"P-521"};case"EdDSA":return{name:"Ed25519",namedCurve:"Ed25519"};default:throw new H0e(e)}}function NV(e){return RF()==="node"&&crypto.webcrypto?e instanceof crypto.webcrypto.CryptoKey:e instanceof CryptoKey}var JN=e=>vV(n0.encode(JSON.stringify(e)).buffer).replace(/=/g,""),nbe=e=>vV(e).replace(/=/g,""),RI=e=>JSON.parse(K0e.decode(bV(e)));function rbe(e){if(typeof e=="object"&&e!==null){const t=e;return"alg"in t&&Object.values(wV).includes(t.alg)&&(!("typ"in t)||t.typ==="JWT")}return!1}var ibe=async(e,t,n="HS256")=>{const r=JN(e);let i;typeof t=="object"&&"alg"in t?(n=t.alg,i=JN({alg:n,typ:"JWT",kid:t.kid})):i=JN({alg:n,typ:"JWT"});const s=`${i}.${r}`,o=await Q0e(t,n,n0.encode(s)),a=nbe(o);return`${s}.${a}`},sbe=async(e,t,n="HS256")=>{const r=e.split(".");if(r.length!==3)throw new SV(e);const{header:i,payload:s}=_V(e);if(!rbe(i))throw new Y0e(i);const o=Date.now()/1e3|0;if(s.nbf&&s.nbf>o)throw new W0e(e);if(s.exp&&s.exp<=o)throw new G0e(e);if(s.iat&&o<s.iat)throw new J0e(o,s.iat);const a=e.substring(0,e.lastIndexOf("."));if(!await Z0e(t,n,bV(r[2]),n0.encode(a)))throw new X0e(e);return s},_V=e=>{try{const[t,n]=e.split("."),r=RI(t),i=RI(n);return{header:r,payload:i}}catch{throw new SV(e)}},JT={sign:ibe,verify:sbe,decode:_V},obe=JT.verify,abe=JT.decode,lbe=JT.sign;const CV=60*60*24*7,OV=He({domain:de().optional(),path:de({default:"/"}),sameSite:de({enum:["strict","lax","none"],default:"lax"}),secure:pt({default:!0}),httpOnly:pt({default:!0}),expires:Ct({default:CV}),partitioned:pt({default:!1}),renew:pt({default:!0}),pathSuccess:de({default:"/"}),pathLoggedOut:de({default:"/"})}).partial(),jV=He({secret:Bg({default:""}),alg:de({enum:["HS256","HS384","HS512"],default:"HS256"}).optional(),expires:Ct().optional(),issuer:de().optional(),fields:mn(de(),{default:["id","email","role"]})},{default:{}}),cbe=Me({jwt:jV,cookie:OV});class ube{constructor(t,n,r){K(this,"config");this.strategies=t,this.userPool=n,this.config=An(cbe,r??{})}async resolveLogin(t,n,r,i,s){try{const o=(s==null?void 0:s.identifier)||"email";if(typeof o!="string"||o.length===0)throw new Gl("Identifier must be a string");if(!(o in r))throw new Gl(`Profile must have identifier "${o}"`);const a=await this.userPool.findBy(n.getName(),o,r[o]);if(a.strategy_value){if(a.strategy!==n.getName())throw new Gl("User signed up with a different strategy")}else throw new Gl("User must have a strategy value");await i(a);const c=await this.safeAuthResponse(a);return this.respondWithUser(t,c,s)}catch(o){return this.respondWithError(t,o,s)}}async resolveRegister(t,n,r,i,s){try{const o=(s==null?void 0:s.identifier)||"email";if(typeof o!="string"||o.length===0)throw new Gl("Identifier must be a string");if(!(o in r))throw new Gl(`Profile must have identifier "${o}"`);if(!("strategy_value"in r))throw new Gl("Profile must have a strategy value");const a=await this.userPool.create(n.getName(),{...r,strategy_value:r.strategy_value});await i(a);const c=await this.safeAuthResponse(a);return this.respondWithUser(t,c,s)}catch(o){return this.respondWithError(t,o,s)}}async respondWithUser(t,n,r){const i=this.getSafeUrl(t,(r==null?void 0:r.redirect)??this.config.cookie.pathSuccess??"/");if("token"in n)return await this.setAuthCookie(t,n.token),this.isJsonRequest(t)||r!=null&&r.forceJsonResponse?t.json(n):t.redirect(i);throw new Yr("Invalid response")}async respondWithError(t,n,r){if(mt.error("respondWithError",n),this.isJsonRequest(t)||r!=null&&r.forceJsonResponse)throw n;await TI(t,String(n),"error");const i=this.getSafeUrl(t,t.req.header("Referer")??"/");return t.redirect(i)}getStrategies(){return this.strategies}strategy(t){try{return this.strategies[t]}catch{throw new Error(`Strategy "${String(t)}" not found`)}}async jwt(t){var s,o,a;const r={..._x(t,this.config.jwt.fields),iat:Math.floor(Date.now()/1e3)};(s=this.config.jwt)!=null&&s.issuer&&(r.iss=this.config.jwt.issuer),(o=this.config.jwt)!=null&&o.expires&&(r.exp=Math.floor(Date.now()/1e3)+this.config.jwt.expires);const i=this.config.jwt.secret;if(!i||i.length===0)throw new Error("Cannot sign JWT without a secret");return lbe(r,i,((a=this.config.jwt)==null?void 0:a.alg)??"HS256")}async safeAuthResponse(t){const n=_x(t,this.config.jwt.fields);return{user:n,token:await this.jwt(n)}}async verify(t){var n,r,i;try{const s=await obe(t,((n=this.config.jwt)==null?void 0:n.secret)??"",((r=this.config.jwt)==null?void 0:r.alg)??"HS256");if((i=this.config.jwt)!=null&&i.issuer&&s.iss!==this.config.jwt.issuer)throw new Yr("Invalid issuer",403);return s}catch(s){mt.debug("Authenticator jwt verify error",String(s))}}get cookieOptions(){const{expires:t=CV,renew:n,...r}=this.config.cookie;return{...r,domain:r.domain??void 0,expires:new Date(Date.now()+t*1e3)}}async getAuthCookie(t){try{const n=this.config.jwt.secret,r=await pV(t,n,"auth");return typeof r!="string"?void 0:r}catch(n){n instanceof Error&&mt.error("[getAuthCookie]",n.message);return}}async requestCookieRefresh(t){var n;if(this.config.cookie.renew&&((n=t.get("auth"))!=null&&n.user)){const r=await this.getAuthCookie(t);r&&await this.setAuthCookie(t,r)}}async setAuthCookie(t,n){mt.debug("setting auth cookie",Qoe(n));const r=this.config.jwt.secret;await yV(t,"auth",n,r,this.cookieOptions)}async getAuthCookieHeader(t,n=new Headers){const r={header:(i,s)=>{n.set(i,s)}};return await this.setAuthCookie(r,t),n}async removeAuthCookieHeader(t=new Headers){const n={header:(r,i)=>{t.set(r,i)},req:{raw:{headers:t}}};return this.deleteAuthCookie(n),t}async unsafeGetAuthCookie(t){return Yv("auth",t,this.config.jwt.secret,this.cookieOptions)}deleteAuthCookie(t){mt.debug("deleting auth cookie"),z0e(t,"auth",this.cookieOptions)}async logout(t){mt.info("Logging out"),t.set("auth",void 0),await this.getAuthCookie(t)&&TI(t,"Signed out","info"),this.deleteAuthCookie(t)}isJsonRequest(t){return t.req.header("Content-Type")==="application/json"||t.req.header("Accept")==="application/json"}async getBody(t){return this.isJsonRequest(t)?await t.req.json():Object.fromEntries((await t.req.formData()).entries())}getSafeUrl(t,n){const r=n.replace(/\/+$/,"/");return sae("redirects_non_fq")?r:new URL(t.req.url).origin+r}async resolveAuthFromRequest(t){let n,r=!1;if(t instanceof Headers)n=t;else if(t instanceof Request)n=t.headers;else{r=!0;try{n=t.req.raw.headers}catch{throw new Yr("Request/Headers/Context is required to resolve auth",400)}}let i;if(n.has("Authorization"))i=String(n.get("Authorization")).replace("Bearer ","");else{const s=r?t:{req:{raw:{headers:n}}};i=await this.getAuthCookie(s)}if(i)return await this.verify(i)}toJSON(t){return{...this.config,jwt:t?this.config.jwt:void 0}}}let EO;var Dv,K8;(typeof navigator>"u"||!((K8=(Dv=navigator.userAgent)==null?void 0:Dv.startsWith)!=null&&K8.call(Dv,"Mozilla/5.0 ")))&&(EO="oauth4webapi/v2.17.0");function r0(e,t){if(e==null)return!1;try{return e instanceof t||Object.getPrototypeOf(e)[Symbol.toStringTag]===t.prototype[Symbol.toStringTag]}catch{return!1}}const Ux=Symbol(),dbe=Symbol(),YT=Symbol(),fbe=Symbol(),AV=Symbol(),hbe=Symbol(),mbe=new TextEncoder,pbe=new TextDecoder;function vc(e){return typeof e=="string"?mbe.encode(e):pbe.decode(e)}const kI=32768;function gbe(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));const t=[];for(let n=0;n<e.byteLength;n+=kI)t.push(String.fromCharCode.apply(null,e.subarray(n,n+kI)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ybe(e){try{const t=atob(e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}catch(t){throw new Qe("The input to be decoded is not correctly encoded.",{cause:t})}}function Ia(e){return typeof e=="string"?ybe(e):gbe(e)}class bbe{constructor(t){this.cache=new Map,this._cache=new Map,this.maxSize=t}get(t){let n=this.cache.get(t);if(n)return n;if(n=this._cache.get(t))return this.update(t,n),n}has(t){return this.cache.has(t)||this._cache.has(t)}set(t,n){return this.cache.has(t)?this.cache.set(t,n):this.update(t,n),this}delete(t){return this.cache.has(t)?this.cache.delete(t):this._cache.has(t)?this._cache.delete(t):!1}update(t,n){this.cache.set(t,n),this.cache.size>=this.maxSize&&(this._cache=this.cache,this.cache=new Map)}}class io extends Error{constructor(t){var n;super(t??"operation not supported"),this.name=this.constructor.name,(n=Error.captureStackTrace)==null||n.call(Error,this,this.constructor)}}class vbe extends Error{constructor(t,n){var r;super(t,n),this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}const Qe=vbe,TV=new bbe(100);function $V(e){return e instanceof CryptoKey}function xbe(e){return $V(e)&&e.type==="private"}function wbe(e){return $V(e)&&e.type==="public"}function XT(e){try{const t=e.headers.get("dpop-nonce");t&&TV.set(new URL(e.url).origin,t)}catch{}return e}function Ph(e){return!(e===null||typeof e!="object"||Array.isArray(e))}function Q1(e){r0(e,Headers)&&(e=Object.fromEntries(e.entries()));const t=new Headers(e);if(EO&&!t.has("user-agent")&&t.set("user-agent",EO),t.has("authorization"))throw new TypeError('"options.headers" must not include the "authorization" header name');if(t.has("dpop"))throw new TypeError('"options.headers" must not include the "dpop" header name');return t}function Sbe(e){if(typeof e=="function"&&(e=e()),!(e instanceof AbortSignal))throw new TypeError('"options.signal" must return or be an instance of AbortSignal');return e}async function Ebe(e,t){if(!(e instanceof URL))throw new TypeError('"issuerIdentifier" must be an instance of URL');if(e.protocol!=="https:"&&e.protocol!=="http:")throw new TypeError('"issuer.protocol" must be "https:" or "http:"');const n=new URL(e.href);switch(t==null?void 0:t.algorithm){case void 0:case"oidc":n.pathname=`${n.pathname}/.well-known/openid-configuration`.replace("//","/");break;case"oauth2":n.pathname==="/"?n.pathname=".well-known/oauth-authorization-server":n.pathname=`.well-known/oauth-authorization-server/${n.pathname}`.replace("//","/");break;default:throw new TypeError('"options.algorithm" must be "oidc" (default), or "oauth2"')}const r=Q1(t==null?void 0:t.headers);return r.set("accept","application/json"),((t==null?void 0:t[YT])||fetch)(n.href,{headers:Object.fromEntries(r.entries()),method:"GET",redirect:"manual",signal:null}).then(XT)}function cr(e){return typeof e=="string"&&e.length!==0}async function Nbe(e,t){if(!(e instanceof URL))throw new TypeError('"expectedIssuer" must be an instance of URL');if(!r0(t,Response))throw new TypeError('"response" must be an instance of Response');if(t.status!==200)throw new Qe('"response" is not a conform Authorization Server Metadata response');ty(t);let n;try{n=await t.json()}catch(r){throw new Qe('failed to parse "response" body as JSON',{cause:r})}if(!Ph(n))throw new Qe('"response" body must be a top level object');if(!cr(n.issuer))throw new Qe('"response" body "issuer" property must be a non-empty string');if(new URL(n.issuer).href!==e.href)throw new Qe('"response" body "issuer" does not match "expectedIssuer"');return n}function RV(){return Ia(crypto.getRandomValues(new Uint8Array(32)))}function MI(){return RV()}async function _be(e){if(!cr(e))throw new TypeError('"codeVerifier" must be a non-empty string');return Ia(await crypto.subtle.digest("SHA-256",vc(e)))}function II(e){return encodeURIComponent(e).replace(/%20/g,"+")}function Cbe(e,t){const n=II(e),r=II(t);return`Basic ${btoa(`${n}:${r}`)}`}function Obe(e){switch(e.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new io("unsupported RsaHashedKeyAlgorithm hash name")}}function jbe(e){switch(e.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new io("unsupported RsaHashedKeyAlgorithm hash name")}}function Abe(e){switch(e.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new io("unsupported EcKeyAlgorithm namedCurve")}}function Tbe(e){switch(e.algorithm.name){case"RSA-PSS":return Obe(e);case"RSASSA-PKCS1-v1_5":return jbe(e);case"ECDSA":return Abe(e);case"Ed25519":case"Ed448":return"EdDSA";default:throw new io("unsupported CryptoKey algorithm name")}}function i0(e){const t=e==null?void 0:e[Ux];return typeof t=="number"&&Number.isFinite(t)?t:0}function KT(e){const t=e==null?void 0:e[dbe];return typeof t=="number"&&Number.isFinite(t)&&Math.sign(t)!==-1?t:30}function QT(){return Math.floor(Date.now()/1e3)}function s0(e){if(typeof e!="object"||e===null)throw new TypeError('"as" must be an object');if(!cr(e.issuer))throw new TypeError('"as.issuer" property must be a non-empty string');return!0}function o0(e){if(typeof e!="object"||e===null)throw new TypeError('"client" must be an object');if(!cr(e.client_id))throw new TypeError('"client.client_id" property must be a non-empty string');return!0}function PI(e){if(!cr(e))throw new TypeError('"client.client_secret" property must be a non-empty string');return e}function DI(e,t){if(t!==void 0)throw new TypeError(`"client.client_secret" property must not be provided when ${e} client authentication method is used.`)}async function $be(e,t,n,r,i){switch(n.delete("client_secret"),n.delete("client_assertion_type"),n.delete("client_assertion"),t.token_endpoint_auth_method){case void 0:case"client_secret_basic":{r.set("authorization",Cbe(t.client_id,PI(t.client_secret)));break}case"client_secret_post":{n.set("client_id",t.client_id),n.set("client_secret",PI(t.client_secret));break}case"private_key_jwt":throw DI("private_key_jwt",t.client_secret),new TypeError('"options.clientPrivateKey" must be provided when "client.token_endpoint_auth_method" is "private_key_jwt"');case"tls_client_auth":case"self_signed_tls_client_auth":case"none":{DI(t.token_endpoint_auth_method,t.client_secret),t.token_endpoint_auth_method,n.set("client_id",t.client_id);break}default:throw new io("unsupported client token_endpoint_auth_method")}}async function Rbe(e,t,n){if(!n.usages.includes("sign"))throw new TypeError('CryptoKey instances used for signing assertions must include "sign" in their "usages"');const r=`${Ia(vc(JSON.stringify(e)))}.${Ia(vc(JSON.stringify(t)))}`,i=Ia(await crypto.subtle.sign(zV(n),n,vc(r)));return`${r}.${i}`}async function kbe(e,t,n,r,i,s){var p;const{privateKey:o,publicKey:a,nonce:c=TV.get(n.origin)}=t;if(!xbe(o))throw new TypeError('"DPoP.privateKey" must be a private CryptoKey');if(!wbe(a))throw new TypeError('"DPoP.publicKey" must be a public CryptoKey');if(c!==void 0&&!cr(c))throw new TypeError('"DPoP.nonce" must be a non-empty string or undefined');if(!a.extractable)throw new TypeError('"DPoP.publicKey.extractable" must be true');const u=QT()+i,f={alg:Tbe(o),typ:"dpop+jwt",jwk:await Ibe(a)},m={iat:u,jti:RV(),htm:r,nonce:c,htu:`${n.origin}${n.pathname}`,ath:s?Ia(await crypto.subtle.digest("SHA-256",vc(s))):void 0};(p=t[fbe])==null||p.call(t,f,m),e.set("dpop",await Rbe(f,m,o))}let Xv;async function Mbe(e){const{kty:t,e:n,n:r,x:i,y:s,crv:o}=await crypto.subtle.exportKey("jwk",e),a={kty:t,e:n,n:r,x:i,y:s,crv:o};return Xv.set(e,a),a}async function Ibe(e){return Xv||(Xv=new WeakMap),Xv.get(e)||Mbe(e)}function LI(e,t,n){if(typeof e!="string")throw n?new TypeError(`"as.mtls_endpoint_aliases.${t}" must be a string`):new TypeError(`"as.${t}" must be a string`);return new URL(e)}function kV(e,t,n=!1){return n&&e.mtls_endpoint_aliases&&t in e.mtls_endpoint_aliases?LI(e.mtls_endpoint_aliases[t],t,n):LI(e[t],t,n)}function MV(e,t){return!!(e.use_mtls_endpoint_aliases||t!=null&&t[hbe])}function Uf(e){const t=e;return typeof t!="object"||Array.isArray(t)||t===null?!1:t.error!==void 0}function Pbe(e){return e.length>=2&&e[0]==='"'&&e[e.length-1]==='"'?e.slice(1,-1):e}const Dbe=/((?:,|, )?[0-9a-zA-Z!#$%&'*+-.^_`|~]+=)/,Lbe=/(?:^|, ?)([0-9a-zA-Z!#$%&'*+\-.^_`|~]+)(?=$|[ ,])/g;function Fbe(e,t){const n=t.split(Dbe).slice(1);if(!n.length)return{scheme:e.toLowerCase(),parameters:{}};n[n.length-1]=n[n.length-1].replace(/,$/,"");const r={};for(let i=1;i<n.length;i+=2){const s=i;if(n[s][0]==='"')for(;n[s].slice(-1)!=='"'&&++i<n.length;)n[s]+=n[i];const o=n[s-1].replace(/^(?:, ?)|=$/g,"").toLowerCase();r[o]=Pbe(n[s])}return{scheme:e.toLowerCase(),parameters:r}}function FI(e){if(!r0(e,Response))throw new TypeError('"response" must be an instance of Response');const t=e.headers.get("www-authenticate");if(t===null)return;const n=[];for(const{1:i,index:s}of t.matchAll(Lbe))n.push([i,s]);return n.length?n.map(([i,s],o,a)=>{const c=a[o+1];let u;return c?u=t.slice(s,c[1]):u=t.slice(s),Fbe(i,u)}):void 0}async function Bbe(e,t,n,r,i,s){if(!cr(e))throw new TypeError('"accessToken" must be a non-empty string');if(!(n instanceof URL))throw new TypeError('"url" must be an instance of URL');return r=Q1(r),(s==null?void 0:s.DPoP)===void 0?r.set("authorization",`Bearer ${e}`):(await kbe(r,s.DPoP,n,t.toUpperCase(),i0({[Ux]:s==null?void 0:s[Ux]}),e),r.set("authorization",`DPoP ${e}`)),((s==null?void 0:s[YT])||fetch)(n.href,{body:i,headers:Object.fromEntries(r.entries()),method:t,redirect:"manual",signal:s!=null&&s.signal?Sbe(s.signal):null}).then(XT)}async function BI(e,t,n,r){s0(e),o0(t);const i=kV(e,"userinfo_endpoint",MV(t,r)),s=Q1(r==null?void 0:r.headers);return t.userinfo_signed_response_alg?s.set("accept","application/jwt"):(s.set("accept","application/json"),s.append("accept","application/jwt")),Bbe(n,"GET",i,s,null,{...r,[Ux]:i0(t)})}const zbe=Symbol();function Vbe(e){var t;return(t=e.headers.get("content-type"))==null?void 0:t.split(";")[0]}async function Ube(e,t,n,r){if(s0(e),o0(t),!r0(r,Response))throw new TypeError('"response" must be an instance of Response');if(r.status!==200)throw new Qe('"response" is not a conform UserInfo Endpoint response');let i;if(Vbe(r)==="application/jwt"){ty(r);const{claims:s,jwt:o}=await VV(await r.text(),UV.bind(void 0,t.userinfo_signed_response_alg,e.userinfo_signing_alg_values_supported),ZT,i0(t),KT(t),t[AV]).then(Gbe.bind(void 0,t.client_id)).then(Jbe.bind(void 0,e.issuer));Wbe.set(r,o),i=s}else{if(t.userinfo_signed_response_alg)throw new Qe("JWT UserInfo Response expected");ty(r);try{i=await r.json()}catch(s){throw new Qe('failed to parse "response" body as JSON',{cause:s})}}if(!Ph(i))throw new Qe('"response" body must be a top level object');if(!cr(i.sub))throw new Qe('"response" body "sub" property must be a non-empty string');switch(n){case zbe:break;default:if(!cr(n))throw new Qe('"expectedSubject" must be a non-empty string');if(i.sub!==n)throw new Qe('unexpected "response" body "sub" value')}return i}async function qbe(e,t,n,r,i,s,o){return await $be(e,t,i,s),s.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),((o==null?void 0:o[YT])||fetch)(r.href,{body:i,headers:Object.fromEntries(s.entries()),method:n,redirect:"manual",signal:null}).then(XT)}async function Hbe(e,t,n,r,i){const s=kV(e,"token_endpoint",MV(t,i));r.set("grant_type",n);const o=Q1(i==null?void 0:i.headers);return o.set("accept","application/json"),qbe(e,t,"POST",s,r,o,i)}const IV=new WeakMap,Wbe=new WeakMap;function PV(e){if(!e.id_token)return;const t=IV.get(e);if(!t)throw new TypeError('"ref" was already garbage collected or did not resolve from the proper sources');return t[0]}async function DV(e,t,n,r=!1,i=!1){if(s0(e),o0(t),!r0(n,Response))throw new TypeError('"response" must be an instance of Response');if(n.status!==200){let o;if(o=await tve(n))return o;throw new Qe('"response" is not a conform Token Endpoint response')}ty(n);let s;try{s=await n.json()}catch(o){throw new Qe('failed to parse "response" body as JSON',{cause:o})}if(!Ph(s))throw new Qe('"response" body must be a top level object');if(!cr(s.access_token))throw new Qe('"response" body "access_token" property must be a non-empty string');if(!cr(s.token_type))throw new Qe('"response" body "token_type" property must be a non-empty string');if(s.token_type=s.token_type.toLowerCase(),s.token_type!=="dpop"&&s.token_type!=="bearer")throw new io("unsupported `token_type` value");if(s.expires_in!==void 0&&(typeof s.expires_in!="number"||s.expires_in<=0))throw new Qe('"response" body "expires_in" property must be a positive number');if(!i&&s.refresh_token!==void 0&&!cr(s.refresh_token))throw new Qe('"response" body "refresh_token" property must be a non-empty string');if(s.scope!==void 0&&typeof s.scope!="string")throw new Qe('"response" body "scope" property must be a string');if(!r){if(s.id_token!==void 0&&!cr(s.id_token))throw new Qe('"response" body "id_token" property must be a non-empty string');if(s.id_token){const{claims:o,jwt:a}=await VV(s.id_token,UV.bind(void 0,t.id_token_signed_response_alg,e.id_token_signing_alg_values_supported),ZT,i0(t),KT(t),t[AV]).then(Kbe.bind(void 0,["aud","exp","iat","iss","sub"])).then(FV.bind(void 0,e.issuer)).then(LV.bind(void 0,t.client_id));if(Array.isArray(o.aud)&&o.aud.length!==1){if(o.azp===void 0)throw new Qe('ID Token "aud" (audience) claim includes additional untrusted audiences');if(o.azp!==t.client_id)throw new Qe('unexpected ID Token "azp" (authorized party) claim value')}if(o.auth_time!==void 0&&(!Number.isFinite(o.auth_time)||Math.sign(o.auth_time)!==1))throw new Qe('ID Token "auth_time" (authentication time) must be a positive number');IV.set(s,[o,a])}}return s}function Gbe(e,t){return t.claims.aud!==void 0?LV(e,t):t}function LV(e,t){if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e))throw new Qe('unexpected JWT "aud" (audience) claim value')}else if(t.claims.aud!==e)throw new Qe('unexpected JWT "aud" (audience) claim value');return t}function Jbe(e,t){return t.claims.iss!==void 0?FV(e,t):t}function FV(e,t){if(t.claims.iss!==e)throw new Qe('unexpected JWT "iss" (issuer) claim value');return t}const BV=new WeakSet;function Ybe(e){return BV.add(e),e}async function zI(e,t,n,r,i,s){if(s0(e),o0(t),!BV.has(n))throw new TypeError('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()');if(!cr(r))throw new TypeError('"redirectUri" must be a non-empty string');if(!cr(i))throw new TypeError('"codeVerifier" must be a non-empty string');const o=pa(n,"code");if(!o)throw new Qe('no authorization code in "callbackParameters"');const a=new URLSearchParams(s==null?void 0:s.additionalParameters);return a.set("redirect_uri",r),a.set("code_verifier",i),a.set("code",o),Hbe(e,t,"authorization_code",a,s)}const Xbe={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation"};function Kbe(e,t){for(const n of e)if(t.claims[n]===void 0)throw new Qe(`JWT "${n}" (${Xbe[n]}) claim missing`);return t}const Qbe=Symbol(),YN=Symbol();async function Zbe(e,t,n,r,i){const s=await DV(e,t,n);if(Uf(s))return s;if(!cr(s.id_token))throw new Qe('"response" body "id_token" property must be a non-empty string');i??(i=t.default_max_age??YN);const o=PV(s);if((t.require_auth_time||i!==YN)&&o.auth_time===void 0)throw new Qe('ID Token "auth_time" (authentication time) claim missing');if(i!==YN){if(typeof i!="number"||i<0)throw new TypeError('"maxAge" must be a non-negative number');const a=QT()+i0(t),c=KT(t);if(o.auth_time+i<a-c)throw new Qe("too much time has elapsed since the last End-User authentication")}switch(r){case void 0:case Qbe:if(o.nonce!==void 0)throw new Qe('unexpected ID Token "nonce" claim value');break;default:if(!cr(r))throw new TypeError('"expectedNonce" must be a non-empty string');if(o.nonce===void 0)throw new Qe('ID Token "nonce" claim missing');if(o.nonce!==r)throw new Qe('unexpected ID Token "nonce" claim value')}return s}async function eve(e,t,n){const r=await DV(e,t,n,!0);if(Uf(r))return r;if(r.id_token!==void 0){if(typeof r.id_token=="string"&&r.id_token.length)throw new Qe("Unexpected ID Token returned, use processAuthorizationCodeOpenIDResponse() for OpenID Connect callback processing");delete r.id_token}return r}function ty(e){if(e.bodyUsed)throw new TypeError('"response" body has been used already')}async function tve(e){if(e.status>399&&e.status<500){ty(e);try{const t=await e.json();if(Ph(t)&&typeof t.error=="string"&&t.error.length)return t.error_description!==void 0&&typeof t.error_description!="string"&&delete t.error_description,t.error_uri!==void 0&&typeof t.error_uri!="string"&&delete t.error_uri,t.algs!==void 0&&typeof t.algs!="string"&&delete t.algs,t.scope!==void 0&&typeof t.scope!="string"&&delete t.scope,t}catch{}}}function VI(e){if(typeof e.modulusLength!="number"||e.modulusLength<2048)throw new Qe(`${e.name} modulusLength must be at least 2048 bits`)}function nve(e){switch(e){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new io}}function zV(e){switch(e.algorithm.name){case"ECDSA":return{name:e.algorithm.name,hash:nve(e.algorithm.namedCurve)};case"RSA-PSS":switch(VI(e.algorithm),e.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:e.algorithm.name,saltLength:parseInt(e.algorithm.hash.name.slice(-3),10)>>3};default:throw new io}case"RSASSA-PKCS1-v1_5":return VI(e.algorithm),e.algorithm.name;case"Ed448":case"Ed25519":return e.algorithm.name}throw new io}const ZT=Symbol();async function rve(e,t,n,r){const i=`${e}.${t}`;if(!await crypto.subtle.verify(zV(n),n,r,vc(i)))throw new Qe("JWT signature verification failed")}async function VV(e,t,n,r,i,s){let{0:o,1:a,2:c,length:u}=e.split(".");if(u===5)if(s!==void 0)e=await s(e),{0:o,1:a,2:c,length:u}=e.split(".");else throw new io("JWE structure JWTs are not supported");if(u!==3)throw new Qe("Invalid JWT");let f;try{f=JSON.parse(vc(Ia(o)))}catch(x){throw new Qe("failed to parse JWT Header body as base64url encoded JSON",{cause:x})}if(!Ph(f))throw new Qe("JWT Header must be a top level object");if(t(f),f.crit!==void 0)throw new Qe('unexpected JWT "crit" header parameter');const m=Ia(c);let p;n!==ZT&&(p=await n(f),await rve(o,a,p,m));let y;try{y=JSON.parse(vc(Ia(a)))}catch(x){throw new Qe("failed to parse JWT Payload body as base64url encoded JSON",{cause:x})}if(!Ph(y))throw new Qe("JWT Payload must be a top level object");const v=QT()+r;if(y.exp!==void 0){if(typeof y.exp!="number")throw new Qe('unexpected JWT "exp" (expiration time) claim type');if(y.exp<=v-i)throw new Qe('unexpected JWT "exp" (expiration time) claim value, timestamp is <= now()')}if(y.iat!==void 0&&typeof y.iat!="number")throw new Qe('unexpected JWT "iat" (issued at) claim type');if(y.iss!==void 0&&typeof y.iss!="string")throw new Qe('unexpected JWT "iss" (issuer) claim type');if(y.nbf!==void 0){if(typeof y.nbf!="number")throw new Qe('unexpected JWT "nbf" (not before) claim type');if(y.nbf>v+i)throw new Qe('unexpected JWT "nbf" (not before) claim value, timestamp is > now()')}if(y.aud!==void 0&&typeof y.aud!="string"&&!Array.isArray(y.aud))throw new Qe('unexpected JWT "aud" (audience) claim type');return{header:f,claims:y,signature:m,key:p,jwt:e}}function UV(e,t,n){if(e!==void 0){if(n.alg!==e)throw new Qe('unexpected JWT "alg" header parameter');return}if(Array.isArray(t)){if(!t.includes(n.alg))throw new Qe('unexpected JWT "alg" header parameter');return}if(n.alg!=="RS256")throw new Qe('unexpected JWT "alg" header parameter')}function pa(e,t){const{0:n,length:r}=e.getAll(t);if(r>1)throw new Qe(`"${t}" parameter must be provided only once`);return n}const ive=Symbol(),NO=Symbol();function UI(e,t,n,r){if(s0(e),o0(t),n instanceof URL&&(n=n.searchParams),!(n instanceof URLSearchParams))throw new TypeError('"parameters" must be an instance of URLSearchParams, or URL');if(pa(n,"response"))throw new Qe('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()');const i=pa(n,"iss"),s=pa(n,"state");if(!i&&e.authorization_response_iss_parameter_supported)throw new Qe('response parameter "iss" (issuer) missing');if(i&&i!==e.issuer)throw new Qe('unexpected "iss" (issuer) response parameter value');switch(r){case void 0:case NO:if(s!==void 0)throw new Qe('unexpected "state" response parameter encountered');break;case ive:break;default:if(!cr(r))throw new Qe('"expectedState" must be a non-empty string');if(s===void 0)throw new Qe('response parameter "state" missing');if(s!==r)throw new Qe('unexpected "state" response parameter value')}const o=pa(n,"error");if(o)return{error:o,error_description:pa(n,"error_description"),error_uri:pa(n,"error_uri")};const a=pa(n,"id_token"),c=pa(n,"token");if(a!==void 0||c!==void 0)throw new io("implicit and hybrid flows are not supported");return Ybe(new URLSearchParams(n))}const sve={type:"oidc",client:{token_endpoint_auth_method:"client_secret_basic"},as:{issuer:"https://accounts.google.com"},profile:async e=>({...e,sub:e.sub,email:e.email})},ove={type:"oauth2",client:{token_endpoint_auth_method:"client_secret_basic"},as:{code_challenge_methods_supported:["S256"],issuer:"https://github.com",scopes_supported:["read:user","user:email"],scope_separator:" ",authorization_endpoint:"https://github.com/login/oauth/authorize",token_endpoint:"https://github.com/login/oauth/access_token",userinfo_endpoint:"https://api.github.com/user"},profile:async(e,t,n)=>{var r;try{const o=(r=(await(await fetch("https://api.github.com/user/emails",{headers:{"User-Agent":"bknd",Accept:"application/json",Authorization:`Bearer ${n.access_token}`}})).json()).find(a=>a.primary))==null?void 0:r.email;if(!o)throw new Error("No primary email found");return{...e,sub:String(e.id),email:o}}catch{throw new Error("Couldn't retrive github email")}}},qV=Object.freeze(Object.defineProperty({__proto__:null,github:ove,google:sve},Symbol.toStringTag,{value:"Module"}));class HV{constructor(t,n,r,i){K(this,"actions",{});this.config=t,this.type=n,this.name=r,this.mode=i,this.config=An(this.getSchema(),t??{})}registerAction(t,n,r){this.actions[t]={schema:n,preprocess:r}}getType(){return this.type}getMode(){return this.mode}getName(){return this.name}toJSON(t){return{type:this.getType(),config:t?this.config:void 0}}getActions(){return this.actions}}const ave=Me({name:de({enum:Object.keys(qV)}),type:de({enum:["oidc","oauth2"],default:"oauth2"}),client:Me({client_id:de(),client_secret:de()}).strict()},{title:"OAuth"});class Bp extends Yr{constructor(n,r){super("OAuthCallbackException on "+r);K(this,"name","OAuthCallbackException");this.error=n,this.step=r}}class _O extends HV{constructor(t){super(t,"oauth",t.name,"external")}getSchema(){return ave}getIssuerConfig(){return qV[this.config.name]}async getConfig(){const t=this.getIssuerConfig();if(t.type==="oidc"){const n=new URL(t.as.issuer),r=await Ebe(n);t.as=await Nbe(n,r)}return{...t,type:t.type,client:{...t.client,...this.config.client}}}async getCodeChallenge(t,n,r="S256"){var a;const i=(a=t.code_challenge_methods_supported)==null?void 0:a.includes(r);let s,o;return i&&(s=await _be(n),o=r),{challenge_supported:i,challenge:s,challenge_method:o}}async request(t){const{client:n,as:r}=await this.getConfig(),{challenge_supported:i,challenge:s,challenge_method:o}=await this.getCodeChallenge(r,t.state);if(!r.authorization_endpoint)throw new Error("authorization_endpoint is not provided");const a=t.scopes??r.scopes_supported;if(!Array.isArray(a)||a.length===0)throw new Error("No scopes provided");if(a.every(f=>{var m;return!((m=r.scopes_supported)!=null&&m.includes(f))}))throw new Error("Invalid scopes provided");const c=r.authorization_endpoint,u={client_id:n.client_id,redirect_uri:t.redirect_uri,response_type:"code",scope:a.join(r.scope_separator??" ")};return i?(u.code_challenge=s,u.code_challenge_method=o):u.nonce=t.state,{url:new URL(c)+"?"+new URLSearchParams(u).toString(),endpoint:c,params:u}}async oidc(t,n){const r=await this.getConfig(),{client:i,as:s,type:o}=r,a=UI(s,i,t,NO);if(Uf(a))throw new Bp(a,"validateAuthResponse");const c=await zI(s,i,a,n.redirect_uri,n.state),u=FI(c);if(u)throw new Bp(u,"www-authenticate");const{challenge_supported:f,challenge:m}=await this.getCodeChallenge(s,n.state),y=await Zbe(s,i,c,f?void 0:m);if(Uf(y))throw new Bp(y,"processAuthorizationCodeOpenIDResponse");const v=PV(y),x=await BI(s,i,y.access_token),S=await Ube(s,i,v.sub,x);return await r.profile(S,r,v)}async oauth2(t,n){const r=await this.getConfig(),{client:i,type:s,as:o,profile:a}=r,c=UI(o,i,t,NO);if(Uf(c))throw new Bp(c,"validateAuthResponse");const u=await zI(o,i,c,n.redirect_uri,n.state),f=FI(u);if(f)throw new Bp(f,"www-authenticate");const m=u.clone();let p={};try{if(p=await eve(o,i,u),Uf(p))throw new Error}catch{p=await m.json()}const v=await(await BI(o,i,p.access_token)).json();return await r.profile(v,r,p)}async callback(t,n){switch(this.getIssuerConfig().type){case"oidc":return await this.oidc(t,n);case"oauth2":return await this.oauth2(t,n);default:throw new Error("Unsupported type")}}getController(t){const n=new X1,r="secret",i="_challenge",s=async(a,c)=>{await yV(a,i,JSON.stringify(c),r,{secure:!0,httpOnly:!0,sameSite:"Lax",maxAge:60*5})},o=async a=>{if(a.req.header("X-State-Challenge"))return{state:a.req.header("X-State-Challenge"),action:a.req.header("X-State-Action"),mode:"token"};const c=await pV(a,r,i);try{return JSON.parse(c)}catch{throw new Error("Invalid state")}};return n.get("/callback",async a=>{const c=new URL(a.req.url),u=new URLSearchParams(c.search),f=await o(a),m=f.mode==="cookie"?c.origin+c.pathname:c.origin+c.pathname.replace("/callback","/token"),p=await this.callback(u,{redirect_uri:m,state:f.state}),y={email:p.email,strategy_value:p.sub},v=async S=>{if(S.strategy_value!==p.sub)throw new Yr("Invalid credentials")},x={redirect:f.redirect,forceJsonResponse:f.mode!=="cookie"};switch(f.action){case"login":return t.resolveLogin(a,this,y,v,x);case"register":return t.resolveRegister(a,this,y,v,x);default:throw new Error("Invalid action")}}),n.get("/token",async a=>{const c=new URL(a.req.url),u=new URLSearchParams(c.search);return a.json({code:u.get("code")??null})}),n.post("/:action",async a=>{const c=a.req.param("action");if(!["login","register"].includes(c))return a.notFound();const u=new URL(a.req.url),f=u.pathname.replace(`/${c}`,""),m=u.origin+f+"/callback",p=new URL(a.req.header("Referer")??"/"),y=MI(),v=await this.request({redirect_uri:m,state:y});return await s(a,{state:y,action:c,redirect:p.toString(),mode:"cookie"}),a.redirect(v.url)}),n.get("/:action",async a=>{const c=a.req.param("action");if(!["login","register"].includes(c))return a.notFound();const u=new URL(a.req.url),f=u.pathname.replace(`/${c}`,""),m=u.origin+f+"/token",p=MI(),y=await this.request({redirect_uri:m,state:p});return xr()?a.json({url:y.url,redirect_uri:m,challenge:p,action:c,params:y.params}):a.json({url:y.url,challenge:p,action:c})}),n}toJSON(t){const n=t?this.config:NF(this.config,["secret","client_id"]);return{...super.toJSON(t),config:{...n,type:this.getIssuerConfig().type}}}}const XN=de({pattern:"^(https?|wss?)://[^\\s/$.?#].[^\\s]*$"}),lve=He({type:de({enum:["oidc","oauth2"],default:"oidc"}),name:de(),client:Me({client_id:de(),client_secret:de(),token_endpoint_auth_method:de({enum:["client_secret_basic"]})}),as:He({issuer:de(),code_challenge_methods_supported:de({enum:["S256"]}).optional(),scopes_supported:mn(de()).optional(),scope_separator:de({default:" "}).optional(),authorization_endpoint:XN.optional(),token_endpoint:XN.optional(),userinfo_endpoint:XN.optional()})},{title:"Custom OAuth"});class qI extends _O{constructor(t){super(t),this.type="custom_oauth"}getIssuerConfig(){return{...this.config,profile:async t=>t}}getSchema(){return lve}}const cve={};function uve(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch{}try{return cve.randomBytes(e)}catch{}throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative")}function dve(e,t){if(e=e||JV,typeof e!="number")throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var n=[];return n.push("$2b$"),e<10&&n.push("0"),n.push(e.toString()),n.push("$"),n.push(CO(uve(ny),ny)),n.join("")}function WV(e,t,n){if(typeof t=="function"&&(n=t,t=void 0),typeof e=="function"&&(n=e,e=void 0),typeof e>"u")e=JV;else if(typeof e!="number")throw Error("illegal arguments: "+typeof e);function r(i){Js(function(){try{i(null,dve(e))}catch(s){i(s)}})}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);r(n)}else return new Promise(function(i,s){r(function(o,a){if(o){s(o);return}i(a)})})}function GV(e,t,n,r){function i(s){typeof e=="string"&&typeof t=="number"?WV(t,function(o,a){YI(e,a,s,r)}):typeof e=="string"&&typeof t=="string"?YI(e,t,s,r):Js(s.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);i(n)}else return new Promise(function(s,o){i(function(a,c){if(a){o(a);return}s(c)})})}function fve(e,t){for(var n=e.length^t.length,r=0;r<e.length;++r)n|=e.charCodeAt(r)^t.charCodeAt(r);return n===0}function hve(e,t,n,r){function i(s){if(typeof e!="string"||typeof t!="string"){Js(s.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)));return}if(t.length!==60){Js(s.bind(this,null,!1));return}GV(e,t.substring(0,29),function(o,a){o?s(o):s(null,fve(a,t))},r)}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);i(n)}else return new Promise(function(s,o){i(function(a,c){if(a){o(a);return}s(c)})})}var Js=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function mve(e){for(var t=0,n=0,r=0;r<e.length;++r)n=e.charCodeAt(r),n<128?t+=1:n<2048?t+=2:(n&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320?(++r,t+=4):t+=3;return t}function pve(e){for(var t=0,n,r,i=new Array(mve(e)),s=0,o=e.length;s<o;++s)n=e.charCodeAt(s),n<128?i[t++]=n:n<2048?(i[t++]=n>>6|192,i[t++]=n&63|128):(n&64512)===55296&&((r=e.charCodeAt(s+1))&64512)===56320?(n=65536+((n&1023)<<10)+(r&1023),++s,i[t++]=n>>18|240,i[t++]=n>>12&63|128,i[t++]=n>>6&63|128,i[t++]=n&63|128):(i[t++]=n>>12|224,i[t++]=n>>6&63|128,i[t++]=n&63|128);return i}var jf="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Bl=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function CO(e,t){var n=0,r=[],i,s;if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;n<t;){if(i=e[n++]&255,r.push(jf[i>>2&63]),i=(i&3)<<4,n>=t){r.push(jf[i&63]);break}if(s=e[n++]&255,i|=s>>4&15,r.push(jf[i&63]),i=(s&15)<<2,n>=t){r.push(jf[i&63]);break}s=e[n++]&255,i|=s>>6&3,r.push(jf[i&63]),r.push(jf[s&63])}return r.join("")}function gve(e,t){for(var n=0,r=e.length,i=0,s=[],o,a,c,u,f,m;n<r-1&&i<t&&(m=e.charCodeAt(n++),o=m<Bl.length?Bl[m]:-1,m=e.charCodeAt(n++),a=m<Bl.length?Bl[m]:-1,!(o==-1||a==-1||(f=o<<2>>>0,f|=(a&48)>>4,s.push(String.fromCharCode(f)),++i>=t||n>=r)||(m=e.charCodeAt(n++),c=m<Bl.length?Bl[m]:-1,c==-1)||(f=(a&15)<<4>>>0,f|=(c&60)>>2,s.push(String.fromCharCode(f)),++i>=t||n>=r)));)m=e.charCodeAt(n++),u=m<Bl.length?Bl[m]:-1,f=(c&3)<<6>>>0,f|=u,s.push(String.fromCharCode(f)),++i;var p=[];for(n=0;n<i;n++)p.push(s[n].charCodeAt(0));return p}var ny=16,JV=10,yve=16,bve=100,HI=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],WI=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],YV=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function ry(e,t,n,r){var i,s=e[t],o=e[t+1];return s^=n[0],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[1],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[2],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[3],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[4],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[5],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[6],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[7],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[8],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[9],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[10],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[11],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[12],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[13],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[14],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[15],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[16],e[t]=o^n[yve+1],e[t+1]=s,e}function Df(e,t){for(var n=0,r=0;n<4;++n)r=r<<8|e[t]&255,t=(t+1)%e.length;return{key:r,offp:t}}function GI(e,t,n){for(var r=0,i=[0,0],s=t.length,o=n.length,a,c=0;c<s;c++)a=Df(e,r),r=a.offp,t[c]=t[c]^a.key;for(c=0;c<s;c+=2)i=ry(i,0,t,n),t[c]=i[0],t[c+1]=i[1];for(c=0;c<o;c+=2)i=ry(i,0,t,n),n[c]=i[0],n[c+1]=i[1]}function vve(e,t,n,r){for(var i=0,s=[0,0],o=n.length,a=r.length,c,u=0;u<o;u++)c=Df(t,i),i=c.offp,n[u]=n[u]^c.key;for(i=0,u=0;u<o;u+=2)c=Df(e,i),i=c.offp,s[0]^=c.key,c=Df(e,i),i=c.offp,s[1]^=c.key,s=ry(s,0,n,r),n[u]=s[0],n[u+1]=s[1];for(u=0;u<a;u+=2)c=Df(e,i),i=c.offp,s[0]^=c.key,c=Df(e,i),i=c.offp,s[1]^=c.key,s=ry(s,0,n,r),r[u]=s[0],r[u+1]=s[1]}function JI(e,t,n,r,i){var s=YV.slice(),o=s.length,a;if(n<4||n>31)if(a=Error("Illegal number of rounds (4-31): "+n),r){Js(r.bind(this,a));return}else throw a;if(t.length!==ny)if(a=Error("Illegal salt length: "+t.length+" != "+ny),r){Js(r.bind(this,a));return}else throw a;n=1<<n>>>0;var c,u,f=0,m;typeof Int32Array=="function"?(c=new Int32Array(HI),u=new Int32Array(WI)):(c=HI.slice(),u=WI.slice()),vve(t,e,c,u);function p(){if(i&&i(f/n),f<n)for(var v=Date.now();f<n&&(f=f+1,GI(e,c,u),GI(t,c,u),!(Date.now()-v>bve)););else{for(f=0;f<64;f++)for(m=0;m<o>>1;m++)ry(s,m<<1,c,u);var x=[];for(f=0;f<o;f++)x.push((s[f]>>24&255)>>>0),x.push((s[f]>>16&255)>>>0),x.push((s[f]>>8&255)>>>0),x.push((s[f]&255)>>>0);if(r){r(null,x);return}else return x}r&&Js(p)}if(typeof r<"u")p();else for(var y;;)if(typeof(y=p())<"u")return y||[]}function YI(e,t,n,r){var i;if(typeof e!="string"||typeof t!="string")if(i=Error("Invalid string / salt: Not a string"),n){Js(n.bind(this,i));return}else throw i;var s,o;if(t.charAt(0)!=="$"||t.charAt(1)!=="2")if(i=Error("Invalid salt version: "+t.substring(0,2)),n){Js(n.bind(this,i));return}else throw i;if(t.charAt(2)==="$")s="\0",o=3;else{if(s=t.charAt(2),s!=="a"&&s!=="b"&&s!=="y"||t.charAt(3)!=="$")if(i=Error("Invalid salt revision: "+t.substring(2,4)),n){Js(n.bind(this,i));return}else throw i;o=4}if(t.charAt(o+2)>"$")if(i=Error("Missing salt rounds"),n){Js(n.bind(this,i));return}else throw i;var a=parseInt(t.substring(o,o+1),10)*10,c=parseInt(t.substring(o+1,o+2),10),u=a+c,f=t.substring(o+3,o+25);e+=s>="a"?"\0":"";var m=pve(e),p=gve(f,ny);function y(v){var x=[];return x.push("$2"),s>="a"&&x.push(s),x.push("$"),u<10&&x.push("0"),x.push(u.toString()),x.push("$"),x.push(CO(p,p.length)),x.push(CO(v,YV.length*4-1)),x.join("")}if(typeof n>"u")return y(JI(m,p,u));JI(m,p,u,function(v,x){v?n(v,null):n(null,y(x))},r)}const xve=Me({hashing:de({enum:["plain","sha256","bcrypt"],default:"sha256"}),rounds:Ct({minimum:1,maximum:10}).optional()}).strict();class XI extends HV{constructor(t={}){super(t,"password","password","form"),this.registerAction("create",this.getPayloadSchema(),async({password:n,...r})=>({...r,strategy_value:await this.hash(n)}))}getSchema(){return xve}getPayloadSchema(){return Me({email:de({format:"email"}),password:de({minLength:8})})}async hash(t){switch(this.config.hashing){case"sha256":return PF.sha256(t);case"bcrypt":{const n=await WV(this.config.rounds??4);return GV(t,n)}default:return t}}async compare(t,n){switch(this.config.hashing){case"sha256":{const r=await this.hash(n);return t===r}case"bcrypt":return await hve(n,t)}return!1}verify(t){return async n=>{if(await this.compare(n==null?void 0:n.strategy_value,t)!==!0)throw new WN}}getController(t){const n=new X1,r=Me({redirect:de().optional()}),i=this.getPayloadSchema();return n.post("/login",Wt({summary:"Login with email and password",tags:["auth"]}),Ht("query",r),async s=>{try{const o=An(i,await t.getBody(s),{onError:c=>{throw mt.error("Invalid login payload",[...c]),new WN}}),{redirect:a}=s.req.valid("query");return await t.resolveLogin(s,this,o,this.verify(o.password),{redirect:a})}catch(o){return t.respondWithError(s,o)}}),n.post("/register",Wt({summary:"Register a new user with email and password",tags:["auth"]}),Ht("query",r),async s=>{try{const{redirect:o}=s.req.valid("query"),{password:a,email:c,...u}=An(i,await t.getBody(s),{onError:m=>{mt.error("Invalid register payload",[...m]),new WN}}),f={...u,email:c,strategy_value:await this.hash(a)};return await t.resolveRegister(s,this,f,async()=>{},{redirect:o})}catch(o){return t.respondWithError(s,o)}}),n}}const XV=He({description:de(),condition:Me({}).optional(),effect:de({enum:["allow","deny","filter"],default:"allow"}),filter:Me({}).optional()}).partial();let wve=class{constructor(t){K(this,"content");this.content=An(XV,t??{},{withDefaults:!0})}replace(t,n,r){return n?LC(t,/^@([a-zA-Z_\.]+)$/,n,r):t}getReplacedFilter(t,n){return this.content.filter?this.replace(this.content.filter,t,n):t}meetsCondition(t,n){return this.content.condition?v6(this.replace(this.content.condition,n),t):!0}meetsFilter(t,n){return this.content.filter?v6(this.replace(this.content.filter,n),t):!0}getFiltered(t){return t.filter(n=>this.meetsFilter(n))}toJSON(){return this.content}};const KV="allow",Sve=He({permission:de(),effect:de({enum:["allow","deny"],default:KV}).optional(),policies:mn(XV).optional()}),Eve=He({permissions:Pt([mn(de()),mn(Sve)]).optional(),is_default:pt().optional(),implicit_allow:pt().optional()});class KI{constructor(t,n=[],r=KV){this.permission=t,this.policies=n,this.effect=r}toJSON(){return{permission:this.permission.name,policies:this.policies.map(t=>t.toJSON()),effect:this.effect}}}class e${constructor(t,n=[],r=!1,i=!1){this.name=t,this.permissions=n,this.is_default=r,this.implicit_allow=i}static create(t,n){var i;const r=((i=n.permissions)==null?void 0:i.map(s=>{var a;if(typeof s=="string")return new KI(new Tn(s),[]);const o=(a=s.policies)==null?void 0:a.map(c=>new wve(c));return new KI(new Tn(s.permission),o,s.effect)}))??[];return new e$(t,r,n.is_default,n.implicit_allow)}toJSON(){return{permissions:this.permissions.map(t=>t.toJSON()),is_default:this.is_default,implicit_allow:this.implicit_allow}}}const Nve={password:{cls:XI,schema:XI.prototype.getSchema()},oauth:{cls:_O,schema:_O.prototype.getSchema()},custom_oauth:{cls:qI,schema:qI.prototype.getSchema()}},QV=Nve,_ve=N1(QV,(e,t)=>He({enabled:pt({default:!0}).optional(),type:us(t),config:e.schema},{title:t})),Cve=Pt(Object.values(_ve)),Ove=Me({enabled:pt({default:!1}).optional()}),jve=Eve,QI=K1("config_auth",{enabled:pt({default:!1}),basepath:de({default:"/api/auth"}),entity_name:de({default:"users"}),allow_register:pt({default:!0}).optional(),jwt:jV,cookie:OV,strategies:xg("config_auth_strategies",Cve,{title:"Strategies",default:{password:{type:"password",enabled:!0,config:{hashing:"sha256"}}}},He({type:de(),enabled:pt({default:!0}).optional(),config:Me({})})),guard:Ove.optional(),roles:xg("config_auth_roles",jve,{default:{}}).optional()},{title:"Authentication"});class Ave{constructor(t){this.appAuth=t}get em(){return this.appAuth.em}get users(){return this.appAuth.getUsersEntity()}async findBy(t,n,r){mt.debug("[AppUserPool:findBy]",{strategy:t,prop:n,value:r}),this.toggleStrategyValueVisibility(!0);const i=await this.em.repo(this.users).findOne({[n]:r,strategy:t});if(this.toggleStrategyValueVisibility(!1),!i.data)throw mt.debug("[AppUserPool]: User not found"),new w0e;return i.data}async create(t,n){if(mt.debug("[AppUserPool:create]",{strategy:t,payload:n}),!("strategy_value"in n))throw new Gl("Profile must have a strategy_value value");const r=this.users.getSelect(void 0,"create"),s={...Pz(n,r),strategy:t},o=this.em.mutator(this.users);o.__unstable_toggleSystemEntityCreation(!1),this.toggleStrategyValueVisibility(!0);const a=await o.insertOne(s);if(o.__unstable_toggleSystemEntityCreation(!0),this.toggleStrategyValueVisibility(!1),!a.data)throw new S0e;return mt.debug("[AppUserPool]: User created",a.data),a.data}toggleStrategyValueVisibility(t){const n=(r,i)=>{const s=this.users.field(r);if(i)s.config.hidden=!1,s.config.fillable=!0;else{const o=qx.usersFields.strategy_value.config;s.config.hidden=o.hidden,s.config.fillable=o.fillable}};n("strategy_value",t),n("strategy",t)}}const ZV={email:_o().required(),strategy:_o({fillable:["create"],hidden:["update","form"]}).required(),strategy_value:_o({fillable:["create"],hidden:["read","table","update","form"]}).required(),role:_o()},Hw=class Hw extends Zy{constructor(){super(...arguments);K(this,"_authenticator");K(this,"cache",{});K(this,"_controller")}async onBeforeUpdate(n,r){var s,o;const i=QI.properties.jwt.properties.secret.default;return!n.enabled&&r.enabled&&r.jwt.secret===i&&(mt.warn("No JWT secret provided, generating a random one"),r.jwt.secret=gle(64)),(o=(s=r.strategies)==null?void 0:s.password)!=null&&o.enabled||(mt.warn("Password strategy cannot be disabled."),r.strategies.password.enabled=!0),r}get enabled(){return this.config.enabled}async build(){if(!this.enabled){this.setBuilt();return}const n=Xt(this.config.roles??{},(i,s)=>e$.create(s,i));this.ctx.guard.setRoles(Object.values(n)),this.ctx.guard.setConfig(this.config.guard??{});const r=Xt(this.config.strategies??{},(i,s)=>{try{return new QV[i.type].cls(i.config)}catch{throw new Error(`Could not build strategy ${String(s)} with config ${JSON.stringify(i.config)}`)}});this._authenticator=new ube(r,new Ave(this),{jwt:this.config.jwt,cookie:this.config.cookie}),this.registerEntities(),super.setBuilt(),this._controller=new I0e(this),this._controller.registerMcp(),this.ctx.server.route(this.config.basepath,this._controller.getController()),this.ctx.guard.registerPermissions(_0e)}isStrategyEnabled(n){var i,s;const r=typeof n=="string"?n:n.getName();return r==="password"?!0:((s=(i=this.config.strategies)==null?void 0:i[r])==null?void 0:s.enabled)??!1}get controller(){if(!this.isBuilt())throw new Error("Can't access controller, AppAuth not built yet");return this._controller}getSchema(){return QI}getGuardContextSchema(){const n=this.getUsersEntity().toSchema();return{type:"object",properties:{user:{type:"object",properties:_x(n.properties,this.config.jwt.fields)}}}}get authenticator(){return this.throwIfNotBuilt(),this._authenticator}get em(){return this.ctx.em}getUsersEntity(n){const r=this.config.entity_name;return n||!this.em.hasEntity(r)?iV(r,Hw.usersFields,void 0,"system"):this.em.entity(r)}registerEntities(){const n=this.getUsersEntity(!0);this.ctx.helper.ensureSchema(sV({[n.name]:n},({index:r},{users:i})=>{r(i).on(["email"],!0).on(["strategy"]).on(["strategy_value"])}));try{const r=Object.keys(this.config.roles??{});this.ctx.helper.replaceEntityField(n,"role",CI({enum:r}))}catch{}try{const r=Object.keys(this.config.strategies??{});this.ctx.helper.replaceEntityField(n,"strategy",CI({enum:r}))}catch{}}async createUser({email:n,password:r,...i}){if(!this.enabled)throw new Error("Cannot create user, auth not enabled");const s="password",a=await this.authenticator.strategy(s).hash(r),c=this.em.mutator(this.config.entity_name);c.__unstable_toggleSystemEntityCreation(!1);const{data:u}=await c.insertOne({...i,email:n,strategy:s,strategy_value:a});return c.__unstable_toggleSystemEntityCreation(!0),u}async changePassword(n,r){const i=this.config.entity_name,{data:s}=await this.em.repository(i).findId(n);if(s){if(s.strategy!=="password")throw new Error("User is not using password strategy")}else throw new Error("User not found");const o=c=>{const u=this.em.entity(i).field("strategy_value");u.config.hidden=!c,u.config.fillable=c},a=this.authenticator.strategy("password");return o(!0),await this.em.mutator(i).updateOne(s.id,{strategy_value:await a.hash(r)}),o(!1),!0}toJSON(n){if(!this.config.enabled)return this.configDefault;const r=this.authenticator.getStrategies(),i=Object.fromEntries(this.ctx.guard.getRoles().map(s=>[s.name,s.toJSON()]));return{...this.config,...this.authenticator.toJSON(n),roles:i,strategies:Xt(r,s=>({enabled:this.isStrategyEnabled(s),...s.toJSON(n)}))}}};K(Hw,"usersFields",ZV);let qx=Hw;const Tve=new Tn("system.access.api");new Tn("system.config.read",{},Me({module:de().optional()}));new Tn("system.config.read.secrets",{},Me({module:de().optional()}));new Tn("system.config.write",{},Me({module:de().optional()}));const $ve=new Tn("system.schema.read",{},Me({module:de().optional()})),eU={path:_o().required(),folder:u0e({default_value:!1,hidden:!0,fillable:["create"]}),mime_type:_o(),size:l0e(),scope:_o({hidden:!0,fillable:["create"]}),etag:_o(),modified_at:c0e(),reference:_o(),entity_id:_o(),metadata:d0e()},Rve={users:ZV,media:eU};class kve{constructor(t,n={}){this.em=t,this._options=n}get options(){return{...this._options,indentWidth:2,indentChar:" ",entityCommentMultiline:!0,fieldCommentMultiline:!0}}toTypes(){return this.em.entities.map(t=>t.toTypes())}getTab(t=1){return this.options.indentChar.repeat(this.options.indentWidth).repeat(t)}collectImports(t,n={}){for(const[,r]of Object.entries(t.fields))for(const i of r.import??[]){const s=i.name,o=i.package;n[o]||(n[o]=[]),n[o].includes(s)||n[o].push(s)}return n}typeName(t){return Wa(t).replace(/ /g,"")}fieldTypesToString(t,n){var o;let r="";const i=this.options.fieldCommentMultiline,s=(n==null?void 0:n.indent)??1;for(const[a,c]of Object.entries(t.fields)){if((o=n==null?void 0:n.ignore_fields)!=null&&o.includes(a))continue;let u="";u+=this.commentString(c.comment,s,i),u+=`${this.getTab(s)}${a}${c.required?"":"?"}: `,u+=c.type+";",u+=`
`,r+=u}return r}relationToFieldType(t,n){const r=t.other(n),i=t.isListableFor(n);let o=this.typeName(r.entity.name);return r.entity.type==="system"&&(o=`DB["${r.entity.name}"]`),{fields:{[r.reference]:{required:!1,type:`${o}${i?"[]":""}`}}}}importsToString(t){const n=[];for(const[r,i]of Object.entries(t))n.push(`import type { ${i.join(", ")} } from "${r}";`);return n}commentString(t,n=0,r=!0){if(!t)return"";const i=this.getTab(n);return r?`${i}/**
${i} * ${t}
${i} */
`:`${i}// ${t}
`}entityToTypeString(t,n){const r=t.toTypes(),i=this.typeName(r.name),s=(n==null?void 0:n.indent)??1,o=Math.max(0,s-1);let a=this.commentString(r.comment,o,this.options.entityCommentMultiline);a+=`${n!=null&&n.export?"export ":""}interface ${i} {
`,a+=this.fieldTypesToString(r,n);const u=this.em.relations.relationsOf(t).map(f=>this.relationToFieldType(f,t));for(const f of u)a+=this.fieldTypesToString(f,{indent:s});return a+=`${this.getTab(o)}}`,a}toString(){const t=[],n={},r={bknd:["DB"],kysely:["Insertable","Selectable","Updateable","Generated"]};let i=`declare global {
`;i+=`${this.getTab(1)}type BkndEntity<T extends keyof DB> = Selectable<DB[T]>;
`,i+=`${this.getTab(1)}type BkndEntityCreate<T extends keyof DB> = Insertable<DB[T]>;
`,i+=`${this.getTab(1)}type BkndEntityUpdate<T extends keyof DB> = Updateable<DB[T]>;
`,i+="}",t.push(i);const s=this.em.entities.filter(u=>u.type==="system");for(const u of this.em.entities){if(s.includes(u))continue;const f=u.toTypes();if(!f)continue;this.collectImports(f,r),n[f.name]=this.typeName(f.name);const m=this.entityToTypeString(u,{export:!0});t.push(m)}let o=`interface Database {
`;for(const[u,f]of Object.entries(n))o+=`${this.getTab(1)}${u}: ${f};
`;o+="}",t.push(o);let a=`declare module "bknd" {
`;for(const u of s){const f=Object.keys(Rve[u.name]);u.fields.filter(p=>!f.includes(p.name)&&p.type!=="primary").map(p=>p.name).length!==0&&(a+=`${this.getTab(1)}${this.entityToTypeString(u,{ignore_fields:["id",...f],indent:2})}

`)}return a+=`${this.getTab(1)}interface DB extends Database {}
}`,t.push(a),[this.importsToString(r).join(`
`),t.join(`

`)].join(`

`)}}class Mve extends t0{constructor(t,n){super(),this.ctx=t,this.config=n}get em(){return this.ctx.em}get guard(){return this.ctx.guard}entityExists(t){try{return!!this.em.entity(t)}catch{return!1}}getController(){const{permission:t,auth:n}=this.middlewares,r=this.create().use(n(),t(Tve,{})),i=this.getEntitiesEnum(this.em);return r.get("/",Wt({summary:"Retrieve data configuration",tags:["data"]}),s=>s.json(this.em.toJSON())),r.get("/sync",t(cV,{}),oi("data_sync",{annotations:{destructiveHint:!0}}),Wt({summary:"Sync database schema",tags:["data"]}),Ht("query",Me({force:pt(),drop:pt()}).partial()),async s=>{const{force:o,drop:a}=s.req.valid("query"),c=await this.em.schema().introspect(),u=await this.em.schema().sync({force:o,drop:a});return s.json({tables:c.map(f=>f.name),changes:u})}),r.get("/schema.json",t(si,{context:s=>({entity:s.req.param("entity")})}),Wt({summary:"Retrieve data schema",tags:["data"]}),async s=>{const o=`${this.config.basepath}/schema.json`,a=Object.fromEntries(this.em.entities.map(c=>[c.name,{$ref:`${this.config.basepath}/schemas/${c.name}`}]));return s.json({$schema:"https://json-schema.org/draft/2020-12/schema",$id:o,properties:a})}),r.get("/schemas/:entity/:context?",t(si,{context:s=>({entity:s.req.param("entity")})}),Wt({summary:"Retrieve entity schema",tags:["data"]}),Ht("param",Me({entity:i,context:de({enum:["create","update"],default:"create"}).optional()})),async s=>{const{entity:o,context:a}=s.req.param();if(!this.entityExists(o))return this.notFound(s);const c=this.em.entity(o),u=c.toSchema({context:a}),m=`${new URL(s.req.url).origin}${this.config.basepath}`,p=`${this.config.basepath}/schemas/${o}`;return s.json({$schema:`${m}/schema.json`,$id:p,title:c.label,$comment:c.config.description,...u})}),r.get("/types",t($ve,{context:s=>({module:"data"})}),Wt({summary:"Retrieve data typescript definitions",tags:["data"]}),oi("data_types"),async s=>{const o=new kve(this.em);return s.text(o.toString())}),r.route("/entity",this.getEntityRoutes()),r.get("/info/:entity",t(si,{context:s=>({entity:s.req.param("entity")})}),Wt({summary:"Retrieve entity info",tags:["data"]}),oi("data_entity_info"),Ht("param",Me({entity:i})),async s=>{const{entity:o}=s.req.param();if(!this.entityExists(o))return this.notFound(s);const a=this.em.entity(o),c=a.fields.map(f=>f.name),u=f=>f.map(m=>({entity:m.other(a).entity.name,ref:m.other(a).reference}));return s.json({name:a.name,fields:c,relations:{all:u(this.em.relations.relationsOf(a)),listable:u(this.em.relations.listableRelationsOf(a)),source:u(this.em.relations.sourceRelationsOf(a)),target:u(this.em.relations.targetRelationsOf(a))}})}),r}getEntityRoutes(){const{permission:t}=this.middlewares,n=this.create(),r=this.getEntitiesEnum(this.em),i=Pt([Ct({title:"Integer"}),de({title:"UUID"})],{coerce:u=>u});n.post("/:entity/fn/count",t(si,{context:u=>({entity:u.req.param("entity")})}),Wt({summary:"Count entities",tags:["data"]}),oi("data_entity_fn_count"),Ht("param",Me({entity:r})),Ht("json",ns.properties.where),async u=>{const{entity:f}=u.req.valid("param");if(!this.entityExists(f))return this.notFound(u);const m=u.req.valid("json"),p=await this.em.repository(f).count(m);return u.json({entity:f,...p.data})}),n.post("/:entity/fn/exists",t(si,{context:u=>({entity:u.req.param("entity")})}),Wt({summary:"Check if entity exists",tags:["data"]}),oi("data_entity_fn_exists"),Ht("param",Me({entity:r})),Ht("json",ns.properties.where),async u=>{const{entity:f}=u.req.valid("param");if(!this.entityExists(f))return this.notFound(u);const m=u.req.valid("json"),p=await this.em.repository(f).exists(m);return u.json({entity:f,...p.data})});const s=Me({...Fi(ns.properties,["with"]),sort:de({default:"id"}),select:mn(de()),join:mn(de())}).partial(),o=(u=Object.keys(ns.properties))=>{var f;return[...(f=Fce(s,"query").parameters)==null?void 0:f.filter(m=>u.includes(m.name))]},a=(u=Object.keys(s.properties))=>Me(_x(s.properties,u));n.get("/:entity",Wt({summary:"Read many",parameters:o(["limit","offset","sort","select","join"]),tags:["data"]}),Ht("param",Me({entity:r})),Ht("query",ns,{skipOpenAPI:!0}),t(si,{context:u=>({entity:u.req.param("entity")})}),async u=>{const{entity:f}=u.req.valid("param");if(!this.entityExists(f))return this.notFound(u);const{merge:m}=this.ctx.guard.filters(si,u,{entity:f}),p=u.req.valid("query"),y=await this.em.repository(f).findMany({...p,where:m(p.where)});return u.json(y,{status:y.data?200:404})}),n.get("/:entity/:id",Wt({summary:"Read one",parameters:o(["offset","sort","select"]),tags:["data"]}),t(si,{context:u=>({...u.req.param()})}),oi("data_entity_read_one",{inputSchema:{param:Me({entity:r,id:i}),query:a(["offset","sort","select"])},noErrorCodes:[404]}),Ht("param",Me({entity:r,id:i})),Ht("query",ns,{skipOpenAPI:!0}),async u=>{const{entity:f,id:m}=u.req.valid("param");if(!this.entityExists(f)||!m)return this.notFound(u);const p=u.req.valid("query"),{merge:y}=this.ctx.guard.filters(si,u,u.req.valid("param")),v=this.em.entity(f).getPrimaryField().name,x=await this.em.repository(f).findOne(y({[v]:m}),p);return u.json(x,{status:x.data?200:404})}),n.get("/:entity/:id/:reference",Wt({summary:"Read many by reference",parameters:o(),tags:["data"]}),t(si,{context:u=>({...u.req.param()})}),Ht("param",Me({entity:r,id:i,reference:de()})),Ht("query",ns,{skipOpenAPI:!0}),async u=>{const{entity:f,id:m,reference:p}=u.req.valid("param");if(!this.entityExists(f))return this.notFound(u);const y=u.req.valid("query"),{entity:v}=this.em.repository(f).getEntityByReference(p),{merge:x}=this.ctx.guard.filters(si,u,{entity:v.name,id:m,reference:p}),S=await this.em.repository(f).findManyByReference(m,p,{...y,where:x(y.where)});return u.json(S,{status:S.data?200:404})});const c=Me({...s.properties,with:Me({})}).partial();return n.post("/:entity/query",Wt({summary:"Query entities",requestBody:{content:{"application/json":{schema:c.toJSON(),example:c.template({withOptional:!0})}}},tags:["data"]}),t(si,{context:u=>({entity:u.req.param("entity")})}),oi("data_entity_read_many",{inputSchema:{param:Me({entity:r}),json:c}}),Ht("param",Me({entity:r})),Ht("json",ns,{skipOpenAPI:!0}),async u=>{const{entity:f}=u.req.valid("param");if(!this.entityExists(f))return this.notFound(u);const m=u.req.valid("json"),{merge:p}=this.ctx.guard.filters(si,u,{entity:f}),y=await this.em.repository(f).findMany({...m,where:p(m.where)});return u.json(y,{status:y.data?200:404})}),n.post("/:entity",Wt({summary:"Insert one or many",tags:["data"]}),t(Zg,{context:u=>({...u.req.param()})}),oi("data_entity_insert"),Ht("param",Me({entity:r})),Ht("json",Pt([Me({}),mn(Me({}))])),async u=>{const{entity:f}=u.req.valid("param");if(!this.entityExists(f))return this.notFound(u);const m=await u.req.json(),p=eae(m);if(this.ctx.guard.filters(Zg,u,{entity:f}).matches(p,{throwOnError:!0}),Array.isArray(p)){const v=await this.em.mutator(f).insertMany(p);return u.json(v,201)}const y=await this.em.mutator(f).insertOne(p);return u.json(y,201)}),n.patch("/:entity",Wt({summary:"Update many",tags:["data"]}),t(ig,{context:u=>({...u.req.param()})}),oi("data_entity_update_many",{inputSchema:{param:Me({entity:r}),json:Me({update:Me({}),where:Me({})})}}),Ht("param",Me({entity:r})),Ht("json",Me({update:Me({}),where:ns.properties.where})),async u=>{const{entity:f}=u.req.param();if(!this.entityExists(f))return this.notFound(u);const{update:m,where:p}=await u.req.json(),{merge:y}=this.ctx.guard.filters(ig,u,{entity:f}),v=await this.em.mutator(f).updateWhere(m,y(p));return u.json(v)}),n.patch("/:entity/:id",Wt({summary:"Update one",tags:["data"]}),t(ig,{context:u=>({...u.req.param()})}),oi("data_entity_update_one"),Ht("param",Me({entity:r,id:i})),Ht("json",Me({})),async u=>{const{entity:f,id:m}=u.req.valid("param");if(!this.entityExists(f))return this.notFound(u);const p=await u.req.json(),y=this.ctx.guard.filters(ig,u,{entity:f,id:m});if(y.filters.length>0){const{data:x}=await this.em.repository(f).findId(m);y.matches(x,{throwOnError:!0})}const v=await this.em.mutator(f).updateOne(m,p);return u.json(v)}),n.delete("/:entity/:id",Wt({summary:"Delete one",tags:["data"]}),t(sg,{context:u=>({...u.req.param()})}),oi("data_entity_delete_one"),Ht("param",Me({entity:r,id:i})),async u=>{const{entity:f,id:m}=u.req.valid("param");if(!this.entityExists(f))return this.notFound(u);const p=this.ctx.guard.filters(sg,u,{entity:f,id:m});if(p.filters.length>0){const{data:v}=await this.em.repository(f).findId(m);p.matches(v,{throwOnError:!0})}const y=await this.em.mutator(f).deleteOne(m);return u.json(y)}),n.delete("/:entity",Wt({summary:"Delete many",tags:["data"]}),t(sg,{context:u=>({...u.req.param()})}),oi("data_entity_delete_many",{inputSchema:{param:Me({entity:r}),json:Me({})}}),Ht("param",Me({entity:r})),Ht("json",ns.properties.where),async u=>{const{entity:f}=u.req.valid("param");if(!this.entityExists(f))return this.notFound(u);const m=await u.req.json(),{merge:p}=this.ctx.guard.filters(sg,u,{entity:f}),y=await this.em.mutator(f).deleteWhere(p(m));return u.json(y)}),n}registerMcp(){this.ctx.mcp.resource("data_entities","bknd://data/entities",t=>t.json(t.context.ctx().em.toJSON().entities),{title:"Entities",description:"Retrieve all entities"}).resource("data_relations","bknd://data/relations",t=>t.json(t.context.ctx().em.toJSON().relations),{title:"Relations",description:"Retrieve all relations"}).resource("data_indices","bknd://data/indices",t=>t.json(t.context.ctx().em.toJSON().indices),{title:"Indices",description:"Retrieve all indices"})}}const Hx={...bye,...Eye,media:{schema:rV,field:Qg}},Ive=Object.keys(Hx),Pve=UT,tU=N1(Hx,(e,t)=>He({name:de().optional(),type:us(t),config:e.schema.optional()},{title:t})),t$=Pt(Object.values(tU)),nU=ad(t$,{default:{}}),n$=He({name:de().optional(),type:de({enum:Dz,default:"regular"}).optional(),config:VT.optional(),fields:nU.optional()});He({type:de({enum:Dz,default:"regular"}).optional(),config:VT.optional(),fields:ad(Me({type:Pt([de({enum:Ive}),de()]),config:lo.optional()}),{default:{}}).optional()});const r$=Object.entries(UT).map(([e,t])=>He({type:us(e),source:de(),target:de(),config:t.schema.optional()},{title:e})),Dve=He({entity:de(),fields:mn(de(),{minItems:1}),unique:pt({default:!1}).optional()}),Lve=K1("config_data",{basepath:de({default:"/api/data"}).optional(),default_primary_format:de({enum:AT,default:"integer"}).optional(),entities:xg("config_data_entities",n$,{default:{}}).optional(),relations:xg("config_data_relations",Pt(r$),{default:{}},He({type:de({enum:Object.keys(UT)}),source:de(),target:de(),config:Me({}).optional()})).optional(),indices:xg("config_data_indices",Dve,{default:{},mcp:{update:!1}}).optional()}).strict();function i$(e,t){const n=Xt(t.fields??{},(r,i)=>{const{type:s}=r;if(!(s in Hx))throw new Error(`Field type "${s}" not found`);const{field:o}=Hx[s];return new o(i,r.config)});return new bc(e,Object.values(n),t.config,t.type)}function rU(e,t){return new Pve[e.type].cls(t(e.source),t(e.target),e.config)}class Fve extends Zy{async build(){const{entities:t={},relations:n={},indices:r={}}=this.config,i=Xt(t,(u,f)=>i$(f,u)),s=u=>{const f=typeof u=="string"?u:u.name,m=i[f];if(m)return m;throw new Error(`[AppData] Entity "${f}" not found`)},o=Xt(n,u=>rU(u,s)),a=Xt(r,(u,f)=>{const m=s(u.entity),p=u.fields.map(y=>m.field(y));return new KB(m,p,u.unique,f)});for(const u of Object.values(i))this.ctx.em.addEntity(u);for(const u of Object.values(o))this.ctx.em.addRelation(u);for(const u of Object.values(a))this.ctx.em.addIndex(u);const c=new Mve(this.ctx,this.config);c.registerMcp(),this.ctx.server.route(this.basepath,c.getController()),this.ctx.guard.registerPermissions(Object.values(j0e)),this.setBuilt()}async onBeforeUpdate(t,n){const r={from:Object.keys(t.entities??{}),to:Object.keys(n.entities??{})};if(r.from.length-r.to.length>1)throw new Error("Cannot remove more than one entity at a time");return n}getSchema(){return Lve}get em(){return this.throwIfNotBuilt(),this.ctx.em}get basepath(){return this.config.basepath??"/api/data"}getOverwritePaths(){return[/^entities\..*\.config$/,/^entities\..*\.fields\..*\.config$/]}toJSON(t){return{...this.config,...this.em.toJSON()}}}class ZI{constructor(t={},n={}){this.variables=t,this.options=n}another(){return 1}static hasMarkup(t){let n="";if(Array.isArray(t)||typeof t=="object"){if(!["Array","Object"].includes(t.constructor.name))return!1;n=JSON.stringify(t)}else n=String(t);return["{{"].some(i=>n.includes(i))}async render(t){if(typeof t>"u"||t===null)return t;if(typeof t=="string")return await this.renderString(t);if(Array.isArray(t))return await Promise.all(t.map(n=>this.render(n)));if(typeof t=="object")return await this.renderObject(t);throw new Error("Invalid template type")}async renderString(t){return t.replace(/{{\s*([^{}]+?)\s*}}/g,(n,r)=>{const i=Yg(this.variables,r.trim());return i==null?"":String(i)})}async renderObject(t){const n={};for(const[r,i]of Object.entries(t)){let s=r;this.options.renderKeys&&(s=await this.renderString(r)),n[s]=await this.render(i)}return n}}const og=(e,t)=>e,kg=class kg{constructor(t,n){K(this,"name");K(this,"_params");if(typeof t!="string")throw new Error(`Task name must be a string, got ${typeof t}`);this.name=t;const r=this.constructor.schema;if(r===kg.schema&&typeof n<"u"&&Object.keys(n||{}).length>0)throw new Error(`Task "${t}" has no schema defined but params passed: ${JSON.stringify(n)}`);this._params=An(r,n||{})}get params(){return this._params}clone(t,n){return new this.constructor(t,n)}static async resolveParams(t,n,r={}){const i={},s=new ZI(r,{renderKeys:!0});for(const[o,a]of Object.entries(n)){if(a&&ZI.hasMarkup(a)){try{i[o]=await s.render(a)}catch(c){throw c instanceof Bf?c:new Bf("Failed to resolve param",{key:o,value:a,error:c.message},"resolve-params")}continue}i[o]=a}return t.coerce(i)}async cloneWithResolvedParams(t){const n=Object.fromEntries(t.entries()),r=await kg.resolveParams(this.constructor.schema,this._params,n);return this.clone(this.name,r)}async run(t=new Map){const n=new Date;let r,i,s,o;const a=performance.now();try{const c=await this.cloneWithResolvedParams(t);o=c.params,r=await c.execute(t),s=!0}catch(c){s=!1,c instanceof Bf?i=c.toJSON():i={type:"unknown",message:c.message}}return{start:n,output:r,error:i,success:s,params:o,time:performance.now()-a}}error(t,n){return new Bf(t,n,"runtime")}get label(){return this.name}toJSON(){return{type:this.type,params:this.params}}};K(kg,"schema",no());let Dh=kg;const KN=["GET","POST","PUT","PATCH","DELETE"];class s$ extends Dh{constructor(){super(...arguments);K(this,"type","fetch")}getBody(){const n=this.params.body;if(n){if(typeof n=="string")return n;if(typeof n=="object")return JSON.stringify(n);throw new Error(`Invalid body type: ${typeof n}`)}}async execute(){var o;if(!KN.includes(this.params.method??"GET"))throw this.error("Invalid method",{given:this.params.method,valid:KN});const n=this.getBody(),r=new Headers((o=this.params.headers)==null?void 0:o.map(a=>[a.key,a.value])),i=await fetch(this.params.url,{method:this.params.method??"GET",headers:r,body:n});if(!i.ok)throw this.error("Failed to fetch",{status:i.status,statusText:i.statusText});return await i.json()}}K(s$,"schema",He({url:de({pattern:"^(http|https)://"}),method:og(de({enum:KN,default:"GET"})).optional(),headers:og(mn(He({key:de(),value:de()}))).optional(),body:og(de()).optional(),normal:og(Ct()).optional()}));class iU extends Dh{constructor(){super(...arguments);K(this,"type","log")}async execute(){return await new Promise(n=>setTimeout(n,this.params.delay)),mt.log(`[DONE] LogTask: ${this.name}`),!0}}K(iU,"schema",He({delay:Ct({default:10})}));class sU extends Dh{constructor(){super(...arguments);K(this,"type","render")}async execute(){return this.params.render}}K(sU,"schema",He({render:de()}));class oU{constructor(t,n,r,i){K(this,"source");K(this,"target");K(this,"config");K(this,"id");this.source=t,this.target=n,this.config=r??{},this.config.condition instanceof Co||(this.config.condition=Co.default()),this.id=i??Ele()}get condition(){return this.config.condition}get max_retries(){return this.config.max_retries??0}toJSON(){var t;return Fg({source:this.source.name,target:this.target.name,config:{...this.config,condition:(t=this.config.condition)==null?void 0:t.toJSON()}})}}class Co{constructor(t,n="",r=void 0){this.type=t,this.path=n,this.value=r}static default(){return Co.success()}static success(){return new Co("success")}static error(){return new Co("error")}static matches(t,n){if(typeof t!="string"||t.length===0)throw new Error("Invalid path");return new Co("matches",t,n)}isMet(t){switch(this.type){case"success":return t.success;case"error":return t.success===!1;case"matches":return Yg(t.output,this.path)===this.value}}sameAs(t=Co.default()){return this.type===t.type&&this.path===t.path&&this.value===t.value}toJSON(){return{type:this.type,path:this.path.length===0?void 0:this.path,value:this.value}}static fromObject(t){return new Co(t.type,t.path,t.value)}}class Kv extends Kr{task(){return this.params.task}getState(){return this.succeeded()?"success":this.failed()?"failed":this.isStart()?"running":"idle"}isStart(){return this.params.end===void 0}isEnd(){return!this.isStart()}succeeded(){var t;return this.isEnd()&&((t=this.params.result)==null?void 0:t.success)}failed(){var t;return this.isEnd()&&!((t=this.params.result)!=null&&t.success)}}K(Kv,"slug","flow-execution-event");class Qv extends Kr{}K(Qv,"slug","flow-execution-state");const Ww=class Ww{constructor(t){K(this,"flow");K(this,"started_at");K(this,"finished_at");K(this,"logs",[]);K(this,"inputs",new Map);K(this,"queue",[]);K(this,"emgr");this.flow=t,this.logs=[],this.queue=[this.flow.startTask],this.emgr=new Yy(Ww.Events)}subscribe(t){this.emgr.onAny(t)}async onDone(t,n){const r=new Date;if(this.logs.push({...n,task:t,end:r}),this.inputs.set(t.name,n),this.flow.respondingTask===t){this.queue=[];return}this.queue=this.queue.filter(s=>s!==t);const i=this.flow.task(t).getOutConnections(n).filter(s=>{var u;const o=s.target,a=this.logs.filter(f=>f.task===o&&f.success).length,c=((u=this.flow.task(o).getInConnections().find(f=>f.source===t))==null?void 0:u.max_retries)??0;if(a>c)throw new Error(`Task "${o.name}" reached max retries (${a}/${c})`);return this.flow.task(o).getInTasks(!0).every(f=>this.logs.some(m=>m.task===f&&m.end!==void 0))}).map(s=>s.target);this.queue.push(...i)}__getLastTaskLog(t){var n;for(let r=this.logs.length-1;r>=0;r--)if(((n=this.logs[r])==null?void 0:n.task)===t)return this.logs[r];return null}async run(){const t=this.queue;if(t.length===0)return;const n=t.map(async r=>{await this.emgr.emit(new Kv({task:r}));const i=await r.run(this.inputs);return await this.emgr.emit(new Kv({task:r,result:i,end:new Date})),await this.onDone(r,i),i});try{return await Promise.all(n),this.run()}catch(r){throw mt.error("RuntimeExecutor: error",r),r}}async start(t){await this.emgr.emit(new Qv({execution:this,state:"started"})),this.inputs.set("flow",{start:new Date,output:t,error:void 0,success:!0,params:t}),this.started_at=new Date,await this.run(),this.finished_at=new Date,await this.emgr.emit(new Qv({execution:this,state:"ended"}))}finished(){return this.finished_at!==void 0}errorCount(){return this.logs.filter(t=>!t.success).length}hasErrors(){return this.errorCount()>0}getErrorLogs(){return this.logs.filter(t=>!t.success)}getErrors(){return this.getErrorLogs().map(t=>t.error)}getResponse(){let t=this.flow.respondingTask;t||(t=this.flow.tasks[this.flow.tasks.length-1]);const n=this.__getLastTaskLog(t);if(n)return n.output}};K(Ww,"Events",{ExecutionEvent:Kv,ExecutionState:Qv});let OO=Ww;class o${constructor(t,n){K(this,"flow");K(this,"source");this.flow=t,this.source=n}task(t){return new o$(this.flow,t)}asInputFor(t,n,r){const i=this.getDepth(),s=this.getOutConnections(),o=s.map(c=>c.condition),a=s.some(c=>this.task(c.target).getDepth()<=i);if(o.length>0&&a&&this.getOutConnections().some(c=>c.condition.sameAs(n)))throw new Error("Task cannot be connected to a deeper task with the same condition");this.flow.addConnection(new oU(this.source,t,{condition:n,max_retries:r}))}asOutputFor(t,n){this.task(t).asInputFor(this.source,n)}getNext(){return this.flow.connections.filter(t=>t.source===this.source).map(t=>t.target)}getDepth(){return this.flow.getSequence().findIndex(t=>t.includes(this.source))}getInConnections(t=!1){if(t){const n=this.getDepth();return this.getInConnections().filter(r=>r.target===this.source&&this.task(r.source).getDepth()<n)}return this.flow.connections.filter(n=>n.target===this.source)}getInTasks(t=!1){if(t){const n=this.getDepth();return this.getInConnections().map(r=>r.source).filter(r=>this.task(r).getDepth()<n)}return this.getInConnections().map(n=>n.source)}getOutConnections(t){return t?this.flow.connections.filter(n=>n.source===this.source&&n.condition.isMet(t)):this.flow.connections.filter(n=>n.source===this.source)}getOutTasks(t){return this.getOutConnections(t).map(n=>n.target)}}class fd{constructor(t){K(this,"executions",[]);K(this,"type","manual");K(this,"config");const n=this.constructor.schema;this.config=An(n,t??{})}async register(t,...n){this.executions.push(await t.start())}toJSON(){return{type:this.type,config:this.config}}}K(fd,"schema",He({mode:de({enum:["sync","async"],default:"async"})}));class a0{constructor(t,n,r,i){K(this,"name");K(this,"trigger");K(this,"tasks",[]);K(this,"connections",[]);K(this,"respondingTask");K(this,"startTask");K(this,"sequence");this.name=t,this.trigger=i??new fd,n.map(s=>this.addTask(s)),this.connections=r||[],this.startTask=n[0],this.sequence=this.getSequence()}setStartTask(t){return this.startTask=t,this.sequence=this.getSequence(),this}getSequence(t=[]){if(t.length===0)return t.push([this.startTask]),this.getSequence(t);const n=t[t.length-1],r=[];return n==null||n.forEach(i=>{this.task(i).getOutTasks().forEach(o=>{t.some(a=>a.includes(o))||r.push(o)})}),r.length===0?t:(t.push(r),this.getSequence(t))}addTask(t){if(this.tasks.includes(t))throw new Error("Task already defined");if(this.tasks.some(n=>n.name===t.name))throw new Error(`Task with name "${t.name}" already defined. Use a unique name.`);return this.tasks.push(t),this}setRespondingTask(t){if(!this.tasks.includes(t))throw new Error(`Cannot set task "${t.name}" as responding, not registered.`);return this.respondingTask=t,this}addConnection(t){if(this.connections.some(r=>r.source===t.source&&r.target===t.target&&r.condition[0]===t.condition[0]&&r.condition[1]===t.condition[1]))throw new Error("Connection already defined");return this.connections.push(t),this}task(t){return new o$(this,t)}createExecution(){return this.sequence=this.getSequence(),new OO(this)}async start(t=void 0){const n=this.createExecution();return await n.start(t),n}toJSON(){var t,n;return{trigger:this.trigger.toJSON(),tasks:Object.fromEntries(this.tasks.map(r=>[r.name,r.toJSON()])),connections:Object.fromEntries(this.connections.map(r=>[r.id,r.toJSON()])),start_task:(t=this.startTask)==null?void 0:t.name,responding_task:(n=this.respondingTask)==null?void 0:n.name}}static fromObject(t,n,r){var c;const i=Xt(n.tasks??{},(u,f)=>{const m=r[u.type];if(!m)throw new Error(`Task ${f} not found in taskMap`);try{const p=m.cls;return new p(f,u.params)}catch(p){throw mt.error("Error creating task",f,u.type,u,m),new Error(`Error creating task ${u.type}: ${p.message}`)}}),s=Xt(n.connections??{},(u,f)=>{const m=u.config.condition?Co.fromObject(u.config.condition):void 0;return new oU(i[u.source],i[u.target],{...u.config,condition:m},f)});let o;if(n.trigger){const u=(c=l$[n.trigger.type])==null?void 0:c.cls;u&&(o=new u(n.trigger.config))}const a=new a0(t,Object.values(i),Object.values(s),o);return a.startTask=n.start_task?i[n.start_task]:null,n.responding_task&&(a.respondingTask=i[n.responding_task]),a}}class aU extends Dh{constructor(){super(...arguments);K(this,"type","subflow")}async execute(){const n=this.params.flow;if(!(n instanceof a0))throw new Error("Invalid flow provided");if(this.params.loop){const i=Array.isArray(this.params.input)?this.params.input:[this.params.input],s=[];for(const o of i){const a=n.createExecution();await a.start(o),s.push(await a.getResponse())}return s}const r=n.createExecution();return await r.start(this.params.input),r.getResponse()}}K(aU,"schema",He({flow:no(),input:og(no()).optional(),loop:pt().optional()}));class lU extends fd{constructor(){super(...arguments);K(this,"type","event")}async register(n,r){if(!r.eventExists(this.config.event))throw new Error(`Event ${this.config.event} is not registered.`);r.on(this.config.event,async i=>{const s=n.createExecution();this.executions.push(s);try{await s.start(i.params)}catch(o){mt.error(o)}},this.config.mode)}}K(lU,"schema",He({event:de(),...fd.schema.properties}));const Bve=["GET","POST","PUT","PATCH","DELETE"];class a$ extends fd{constructor(){super(...arguments);K(this,"type","http")}async register(n,r){const i=this.config.method.toLowerCase();r[i](this.config.path,async s=>{const o=s.req.raw,a=s[this.config.response_type],c=n.createExecution();if(this.executions.push(c),this.config.mode==="sync"){await c.start(o);const u=c.getResponse(),f=c.getErrors();return f.length>0?s.json({success:!1,errors:f}):a(u)}return c.start(o),s.json({success:!0})})}}K(a$,"schema",He({path:de({pattern:"^/.*$"}),method:de({enum:Bve,default:"GET"}),response_type:de({enum:["json","text","html"],default:"json"}),...fd.schema.properties}));const l$={manual:{cls:fd},event:{cls:lU},http:{cls:a$}},cU={fetch:{cls:s$},log:{cls:iU},render:{cls:sU},subflow:{cls:aU}},uU={...cU},dU=l$,fU=Xt(uU,(e,t)=>He({type:us(t),params:e.cls.schema},{title:String(t)}));Pt(Object.values(fU));const hU=Xt(dU,(e,t)=>He({type:us(t),config:e.cls.schema.optional()},{title:String(t)}));Pt(Object.values(hU));const zve=He({source:de(),target:de(),config:He({condition:Pt([He({type:us("success")},{title:"success"}),He({type:us("error")},{title:"error"}),He({type:us("matches"),path:de(),value:de()},{title:"matches"})]),max_retries:Ct()}).partial()}),mU=He({trigger:Pt(Object.values(hU)),tasks:ad(Pt(Object.values(fU))).optional(),connections:ad(zve).optional(),start_task:de().optional(),responding_task:de().optional()}),Vve=He({basepath:de({default:"/api/flows"}),flows:ad(mU,{default:{}})});class Uve extends Zy{constructor(){super(...arguments);K(this,"flows",{})}getSchema(){return Vve}getFlowInfo(n){return{...n.toJSON(),tasks:n.tasks.length,connections:n.connections}}async build(){const n=Xt(this.config.flows,(i,s)=>a0.fromObject(s,i,uU));this.flows=n;const r=new X1;r.get("/",async i=>{const s=Xt(this.flows,o=>this.getFlowInfo(o));return i.json(s)}),r.get("/flow/:name",async i=>{var o;const s=i.req.param("name");return i.json((o=this.flows[s])==null?void 0:o.toJSON())}),r.get("/flow/:name/run",async i=>{const s=i.req.param("name"),o=this.flows[s],a=o.createExecution(),c=performance.now();await a.start();const u=performance.now()-c,f=a.getErrors();return i.json({success:f.length===0,time:u,errors:f,response:a.getResponse(),flow:this.getFlowInfo(o),logs:a.logs})}),r.all("*",i=>i.notFound()),this.ctx.server.route(this.config.basepath,r);for(const[i,s]of Object.entries(this.flows)){const o=s.trigger;switch(!0){case o instanceof a$:await o.register(s,this.ctx.server);break}}this.setBuilt()}toJSON(){return{...this.config,flows:Xt(this.flows,n=>n.toJSON())}}}class c$ extends Kr{validate(t){if(typeof t!="object")throw new $1("object",typeof t);return this.clone({...t,...this.params})}}K(c$,"slug","file-uploaded");class u$ extends Kr{}K(u$,"slug","file-deleted");class d$ extends Kr{}K(d$,"slug","file-access");const qve=Object.freeze(Object.defineProperty({__proto__:null,FileAccessEvent:d$,FileDeletedEvent:u$,FileUploadedEvent:c$},Symbol.toStringTag,{value:"Module"}));var No;const Gw=class Gw{constructor(t,n={},r){Be(this,No);K(this,"emgr");K(this,"config");ze(this,No,t),this.config={...n,body_max_size:n.body_max_size&&n.body_max_size>0?n.body_max_size:void 0},this.emgr=r??new Yy,this.emgr.registerEvents(Gw.Events)}getAdapter(){return J(this,No)}async objectMetadata(t){return await J(this,No).getObjectMeta(t)}getConfig(){return this.config}async uploadFile(t,n,r){const i=await J(this,No).putObject(n,t);if(typeof i>"u")throw new Error("Failed to upload file");let s={name:n,meta:Uc(t)?{size:t.size,type:t.type}:{size:0,type:"application/octet-stream"},etag:typeof i=="string"?i:""};if(typeof i=="object"&&(s=i),!s.meta.type||["application/octet-stream","application/json"].includes(s.meta.type)||!s.meta.size){const a=await J(this,No).getObjectMeta(n);if(!a)throw new Error("Failed to get object meta");s.meta=a}if(s.meta.type.startsWith("image")&&(!s.meta.width||!s.meta.height))try{const a=await hae(t);s.meta={...s.meta,...a}}catch(a){mt.warn("Failed to get image dimensions",a,t)}const o={file:t,...s,state:{name:s.name,path:s.name}};if(!r){const a=await this.emgr.emit(new c$(o));if(a.returned)return a.params}return o}async deleteFile(t){await J(this,No).deleteObject(t),await this.emgr.emit(new u$({name:t}))}async fileExists(t){return await J(this,No).objectExists(t)}};No=new WeakMap,K(Gw,"Events",qve);let wg=Gw;const pU=new Tn("media.file.read"),gU=new Tn("media.file.list"),jO=new Tn("media.file.upload"),yU=new Tn("media.file.delete"),Hve=Object.freeze(Object.defineProperty({__proto__:null,deleteFile:yU,listFiles:gU,readFile:pU,uploadFile:jO},Symbol.toStringTag,{value:"Module"}));function Wve(e){var n;if(!e.includes("."))return;const t=e.split(".");return(n=t[t.length-1])==null?void 0:n.toLowerCase()}function eP(e,t=16){const n=typeof e=="string"?e:e.name;if(typeof n!="string")throw console.error("Couldn't extract filename from",e),new Error("Invalid file name");let r=Wve(n);if(!r&&Uc(e)&&e.type){const i=$F(e.type);i.length>0&&(r=i)}return[EF(t),r].filter(Boolean).join(".")}class Gve extends t0{constructor(t){super(),this.media=t}getStorageAdapter(){return this.getStorage().getAdapter()}getStorage(){return this.media.storage}getController(){const{auth:t,permission:n}=this.middlewares,r=this.create().use(t()),i=this.getEntitiesEnum(this.media.em);r.get("/files",Wt({summary:"Get the list of files",tags:["media"]}),n(gU,{}),async a=>{const c=await this.getStorageAdapter().listObjects();return a.json(c)}),r.get("/file/:filename",Wt({summary:"Get a file by name",tags:["media"]}),n(pU,{}),async a=>{const{filename:c}=a.req.param();if(!c)throw new Error("No file name provided");await this.getStorage().emgr.emit(new d$({name:c}));const u=await this.getStorageAdapter().getObject(c,a.req.raw.headers),f=new Headers(u.headers);return f.set("Cache-Control","public, max-age=31536000, immutable"),new Response(u.body,{status:u.status,statusText:u.statusText,headers:f})}),r.delete("/file/:filename",Wt({summary:"Delete a file by name",tags:["media"]}),n(yU,{}),async a=>{const{filename:c}=a.req.param();if(!c)throw new Error("No file name provided");return await this.getStorage().deleteFile(c),a.json({message:"File deleted"})});const s=this.media.options.body_max_size??this.getStorage().getConfig().body_max_size??Number.POSITIVE_INFINITY;xr()&&r.post("/inspect",Wt({summary:"Inspect a file",tags:["media"]}),async a=>{const c=await $N(a);return a.json({type:c==null?void 0:c.type,name:c==null?void 0:c.name,size:c==null?void 0:c.size})});const o={content:{"multipart/form-data":{schema:{type:"object",properties:{file:{type:"string",format:"binary"}},required:["file"]}},"application/octet-stream":{schema:{type:"string",format:"binary"}}}};return r.post("/upload/:filename?",Wt({summary:"Upload a file",tags:["media"],requestBody:o}),Ht("param",Me({filename:de().optional()})),n(jO,{}),async a=>{const c=a.req.param("filename"),u=await $N(a);if(!u)return a.json({error:"No file provided"},nn.BAD_REQUEST);if(u.size>s)return a.json({error:`Max size (${s} bytes) exceeded`},nn.PAYLOAD_TOO_LARGE);const f=c??eP(u),m=await this.getStorage().uploadFile(u,f);return a.json(m,nn.CREATED)}),r.post("/entity/:entity/:id/:field",Wt({summary:"Add a file to an entity",tags:["media"],requestBody:o}),Ht("param",Me({entity:i,id:Pt([Ct(),de()]),field:de()})),Ht("query",Me({overwrite:pt().optional()})),n(Zg,{context:a=>({entity:a.req.param("entity")})}),n(jO,{}),async a=>{const{entity:c,id:u,field:f}=a.req.valid("param"),m=this.media.em.entity(c);if(!m)return a.json({error:`Entity "${c}" not found`},nn.NOT_FOUND);const p=m.field(f);if(!p||!(p instanceof Qg))return a.json({error:`Invalid field "${f}"`},nn.BAD_REQUEST);const y=this.media.getMediaEntity().name,v=`${c}.${f}`,x={scope:f,reference:v,entity_id:u},S=p.getMaxItems(),N=[];if(S){const{overwrite:R}=a.req.valid("query"),{data:{count:D}}=await this.media.em.repository(y).count(x);if(D>=S){if(!R)return a.json({error:`Max items (${S}) reached`},nn.BAD_REQUEST);if(D>S)return a.json({error:`Max items (${S}) exceeded already with ${D} items.`},nn.UNPROCESSABLE_ENTITY);const z=await this.media.em.repo(y).findMany({select:["path"],where:x,sort:{by:"id",dir:"asc"},limit:D-S+1});z.data&&z.data.length>0&&z.data.map(L=>N.push(L.path))}}const{data:{exists:_}}=await this.media.em.repository(m).exists({id:u});if(!_)return a.json({error:`Entity "${c}" with ID "${u}" doesn't exist found`},nn.NOT_FOUND);const C=await $N(a);if(!C)return a.json({error:"No file provided"},nn.BAD_REQUEST);if(C.size>s)return a.json({error:`Max size (${s} bytes) exceeded`},nn.PAYLOAD_TOO_LARGE);const j=eP(C),A=await this.getStorage().uploadFile(C,j,!0),$=this.media.em.mutator(y);$.__unstable_toggleSystemEntityCreation(!1);const k=await $.insertOne({...this.media.uploadedEventDataToMediaPayload(A),...x});if($.__unstable_toggleSystemEntityCreation(!0),N.length>0)for(const R of N)await this.getStorage().deleteFile(R);return a.json({ok:!0,result:k.data,...A},nn.CREATED)}),r}}class Jve{constructor(t){K(this,"is_set",!1);K(this,"items",{});this.registerFn=t}set(t){if(this.is_set)throw new Error("Registry is already set");return this.items=t,this.is_set=!0,this}add(t,n){return this.items[t]=n,this}register(t,n){if(this.registerFn){const r=this.registerFn(n);return this.items[t]=r,this}return this.add(t,n)}get(t){return this.items[t]}has(t){return t in this.items}all(){return this.items}}/**
 * @license MIT <https://opensource.org/licenses/MIT>
 * @copyright Michael Hart 2024
 */const AO=new TextEncoder,Yve={appstream2:"appstream",cloudhsmv2:"cloudhsm",email:"ses",marketplace:"aws-marketplace",mobile:"AWSMobileHubService",pinpoint:"mobiletargeting",queue:"sqs","git-codecommit":"codecommit","mturk-requester-sandbox":"mturk-requester","personalize-runtime":"personalize"},Xve=new Set(["authorization","content-type","content-length","user-agent","presigned-expires","expect","x-amzn-trace-id","range","connection"]);let Kve=class{constructor({accessKeyId:t,secretAccessKey:n,sessionToken:r,service:i,region:s,cache:o,retries:a,initRetryMs:c}){if(t==null)throw new TypeError("accessKeyId is a required option");if(n==null)throw new TypeError("secretAccessKey is a required option");this.accessKeyId=t,this.secretAccessKey=n,this.sessionToken=r,this.service=i,this.region=s,this.cache=o||new Map,this.retries=a??10,this.initRetryMs=c||50}async sign(t,n){if(t instanceof Request){const{method:s,url:o,headers:a,body:c}=t;n=Object.assign({method:s,url:o,headers:a},n),n.body==null&&a.has("Content-Type")&&(n.body=c!=null&&a.has("X-Amz-Content-Sha256")?c:await t.clone().arrayBuffer()),t=o}const r=new Qve(Object.assign({url:t.toString()},n,this,n&&n.aws)),i=Object.assign({},n,await r.sign());delete i.aws;try{return new Request(i.url.toString(),i)}catch(s){if(s instanceof TypeError)return new Request(i.url.toString(),Object.assign({duplex:"half"},i));throw s}}async fetch(t,n){for(let r=0;r<=this.retries;r++){const i=fetch(await this.sign(t,n));if(r===this.retries)return i;const s=await i;if(s.status<500&&s.status!==429)return s;await new Promise(o=>setTimeout(o,Math.random()*this.initRetryMs*Math.pow(2,r)))}throw new Error("An unknown error occurred, ensure retries is not negative")}};class Qve{constructor({method:t,url:n,headers:r,body:i,accessKeyId:s,secretAccessKey:o,sessionToken:a,service:c,region:u,cache:f,datetime:m,signQuery:p,appendSessionToken:y,allHeaders:v,singleEncode:x}){if(n==null)throw new TypeError("url is a required option");if(s==null)throw new TypeError("accessKeyId is a required option");if(o==null)throw new TypeError("secretAccessKey is a required option");this.method=t||(i?"POST":"GET"),this.url=new URL(n),this.headers=new Headers(r||{}),this.body=i,this.accessKeyId=s,this.secretAccessKey=o,this.sessionToken=a;let S,N;(!c||!u)&&([S,N]=Zve(this.url,this.headers)),this.service=c||S||"",this.region=u||N||"us-east-1",this.cache=f||new Map,this.datetime=m||new Date().toISOString().replace(/[:-]|\.\d{3}/g,""),this.signQuery=p,this.appendSessionToken=y||this.service==="iotdevicegateway",this.headers.delete("Host"),this.service==="s3"&&!this.signQuery&&!this.headers.has("X-Amz-Content-Sha256")&&this.headers.set("X-Amz-Content-Sha256","UNSIGNED-PAYLOAD");const _=this.signQuery?this.url.searchParams:this.headers;if(_.set("X-Amz-Date",this.datetime),this.sessionToken&&!this.appendSessionToken&&_.set("X-Amz-Security-Token",this.sessionToken),this.signableHeaders=["host",...this.headers.keys()].filter(j=>v||!Xve.has(j)).sort(),this.signedHeaders=this.signableHeaders.join(";"),this.canonicalHeaders=this.signableHeaders.map(j=>j+":"+(j==="host"?this.url.host:(this.headers.get(j)||"").replace(/\s+/g," "))).join(`
`),this.credentialString=[this.datetime.slice(0,8),this.region,this.service,"aws4_request"].join("/"),this.signQuery&&(this.service==="s3"&&!_.has("X-Amz-Expires")&&_.set("X-Amz-Expires","86400"),_.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),_.set("X-Amz-Credential",this.accessKeyId+"/"+this.credentialString),_.set("X-Amz-SignedHeaders",this.signedHeaders)),this.service==="s3")try{this.encodedPath=decodeURIComponent(this.url.pathname.replace(/\+/g," "))}catch{this.encodedPath=this.url.pathname}else this.encodedPath=this.url.pathname.replace(/\/+/g,"/");x||(this.encodedPath=encodeURIComponent(this.encodedPath).replace(/%2F/g,"/")),this.encodedPath=rP(this.encodedPath);const C=new Set;this.encodedSearch=[...this.url.searchParams].filter(([j])=>{if(!j)return!1;if(this.service==="s3"){if(C.has(j))return!1;C.add(j)}return!0}).map(j=>j.map(A=>rP(encodeURIComponent(A)))).sort(([j,A],[$,k])=>j<$?-1:j>$?1:A<k?-1:A>k?1:0).map(j=>j.join("=")).join("&")}async sign(){return this.signQuery?(this.url.searchParams.set("X-Amz-Signature",await this.signature()),this.sessionToken&&this.appendSessionToken&&this.url.searchParams.set("X-Amz-Security-Token",this.sessionToken)):this.headers.set("Authorization",await this.authHeader()),{method:this.method,url:this.url,headers:this.headers,body:this.body}}async authHeader(){return["AWS4-HMAC-SHA256 Credential="+this.accessKeyId+"/"+this.credentialString,"SignedHeaders="+this.signedHeaders,"Signature="+await this.signature()].join(", ")}async signature(){const t=this.datetime.slice(0,8),n=[this.secretAccessKey,t,this.region,this.service].join();let r=this.cache.get(n);if(!r){const i=await zp("AWS4"+this.secretAccessKey,t),s=await zp(i,this.region),o=await zp(s,this.service);r=await zp(o,"aws4_request"),this.cache.set(n,r)}return QN(await zp(r,await this.stringToSign()))}async stringToSign(){return["AWS4-HMAC-SHA256",this.datetime,this.credentialString,QN(await tP(await this.canonicalString()))].join(`
`)}async canonicalString(){return[this.method.toUpperCase(),this.encodedPath,this.encodedSearch,this.canonicalHeaders+`
`,this.signedHeaders,await this.hexBodyHash()].join(`
`)}async hexBodyHash(){let t=this.headers.get("X-Amz-Content-Sha256")||(this.service==="s3"&&this.signQuery?"UNSIGNED-PAYLOAD":null);if(t==null){if(this.body&&typeof this.body!="string"&&!("byteLength"in this.body))throw new Error("body must be a string, ArrayBuffer or ArrayBufferView, unless you include the X-Amz-Content-Sha256 header");t=QN(await tP(this.body||""))}return t}}async function zp(e,t){const n=await crypto.subtle.importKey("raw",typeof e=="string"?AO.encode(e):e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return crypto.subtle.sign("HMAC",n,AO.encode(t))}async function tP(e){return crypto.subtle.digest("SHA-256",typeof e=="string"?AO.encode(e):e)}const nP=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function QN(e){const t=new Uint8Array(e);let n="";for(let r=0;r<t.length;r++){const i=t[r];n+=nP[i>>>4&15],n+=nP[i&15]}return n}function rP(e){return e.replace(/[!'()*]/g,t=>"%"+t.charCodeAt(0).toString(16).toUpperCase())}function Zve(e,t){const{hostname:n,pathname:r}=e;if(n.endsWith(".on.aws")){const a=n.match(/^[^.]{1,63}\.lambda-url\.([^.]{1,63})\.on\.aws$/);return a!=null?["lambda",a[1]||""]:["",""]}if(n.endsWith(".r2.cloudflarestorage.com"))return["s3","auto"];if(n.endsWith(".backblazeb2.com")){const a=n.match(/^(?:[^.]{1,63}\.)?s3\.([^.]{1,63})\.backblazeb2\.com$/);return a!=null?["s3",a[1]||""]:["",""]}const i=n.replace("dualstack.","").match(/([^.]{1,63})\.(?:([^.]{0,63})\.)?amazonaws\.com(?:\.cn)?$/);let s=i&&i[1]||"",o=i&&i[2];if(o==="us-gov")o="us-gov-west-1";else if(o==="s3"||o==="s3-accelerate")o="us-east-1",s="s3";else if(s==="iot")n.startsWith("iot.")?s="execute-api":n.startsWith("data.jobs.iot.")?s="iot-jobs-data":s=r==="/mqtt"?"iotdevicegateway":"iotdata";else if(s==="autoscaling"){const a=(t.get("X-Amz-Target")||"").split(".")[0];a==="AnyScaleFrontendService"?s="application-autoscaling":a==="AnyScaleScalingPlannerFrontendService"&&(s="autoscaling-plans")}else o==null&&s.startsWith("s3-")?(o=s.slice(3).replace(/^fips-|^external-1/,""),s="s3"):s.endsWith("-fips")?s=s.slice(0,-5):o&&/-\d$/.test(s)&&!/-\d$/.test(o)&&([s,o]=[o,s]);return[Yve[s]||s,o||""]}var Zu;class exe extends Kve{constructor(n,r){super(n);Be(this,Zu);ze(this,Zu,r??{responseType:"json"})}convertParams(n){switch(J(this,Zu).convertParams){case"pascalToKebab":return PC(n);default:return n}}getUrl(n="/",r={}){const i=new URL(n),s=this.convertParams(r);return Object.entries(s).forEach(([o,a])=>{i.searchParams.append(o,a)}),i.toString()}updateKeysRecursively(n,r){return n==null?n:Array.isArray(n)?n.map(i=>this.updateKeysRecursively(i,r)):typeof n=="object"?Object.keys(n).reduce((i,s)=>{let o=s;return s.indexOf(" ")===-1&&(o=s.charAt(0)[r]()+s.slice(1)),i[o]=this.updateKeysRecursively(n[s],r),i},{}):n}async fetchJson(n,r){const i=await this.fetch(n,r);if(J(this,Zu).responseType==="xml"){if(!i.ok){const a=await i.text();throw new Error(a)}const o=await i.text();return mle(o)}if(!i.ok){const o=await i.json();throw new Error(o.message)}const s=await i.json();return J(this,Zu).responseKeysToUpper?this.updateKeysRecursively(s,"toUpperCase"):s}}Zu=new WeakMap;const iP=Symbol.for("bknd:storage");class bU{constructor(){this[iP]=!0}static isAdapter(t){return t?t[iP]===!0:!1}}const sP=Me({access_key:Bg(),secret_access_key:Bg(),url:de({pattern:"^https?://(?:.*)?[^/.]+$",description:"URL to S3 compatible endpoint without trailing slash",examples:["https://{account_id}.r2.cloudflarestorage.com/{bucket}","https://{bucket}.s3.{region}.amazonaws.com"]})},{title:"AWS S3",description:"AWS S3 or compatible storage"});var Eh;class vU extends bU{constructor(n){super();Be(this,Eh);K(this,"client");this.client=new exe({accessKeyId:n.access_key,secretAccessKey:n.secret_access_key,retries:xr()?0:10,service:"s3"},{convertParams:"pascalToKebab",responseType:"xml"}),ze(this,Eh,An(sP,n))}getName(){return"s3"}getSchema(){return sP}getUrl(n="",r={}){let i=this.getObjectUrl("").slice(0,-1);return n.length>0&&(i+=`/${n}`),this.client.getUrl(i,r)}getObjectUrl(n){return`${J(this,Eh).url}/${n}`}async listObjects(n=""){const r={ListType:2,Prefix:n},i=this.getUrl("",r),s=await this.client.fetchJson(i,{method:"GET"}),{Contents:o}=s.ListBucketResult,a=o?Array.isArray(o)?o:[o]:[];return os(a,(u,f)=>{f.Key&&f.LastModified&&f.Size&&u.push({key:f.Key,last_modified:f.LastModified,size:f.Size})},[])}async putObject(n,r,i={}){const s=this.getUrl(n,{}),o=await this.client.fetch(s,{method:"PUT",body:r,headers:Uc(r)?{"Content-Length":String(r.size)}:{}});if(!o.ok)throw new Error(`Failed to upload object: ${o.status} ${o.statusText}`);return String(o.headers.get("etag"))}async headObject(n,r={}){const i=this.getUrl(n,{});return await this.client.fetch(i,{method:"HEAD",headers:{Range:"bytes=0-1"}})}async getObjectMeta(n){var o;const r=await this.headObject(n),i=String(r.headers.get("content-type")),s=Number(String((o=r.headers.get("content-range"))==null?void 0:o.split("/")[1]));return{type:i,size:s}}async objectExists(n,r={}){return(await this.headObject(n)).ok}async getObject(n,r){const i=this.getUrl(n),s=await this.client.fetch(i,{method:"GET",headers:yae(r,["if-none-match","accept","if-modified-since"])});return new Response(s.body,{status:s.status,statusText:s.statusText,headers:s.headers})}async deleteObject(n,r={}){const i=this.getUrl(n,r);await this.client.fetch(i,{method:"DELETE"})}toJSON(n){return{type:this.getName(),config:n?J(this,Eh):void 0}}}Eh=new WeakMap;const oP=Me({cloud_name:de(),api_key:Bg(),api_secret:Bg(),upload_preset:de().optional()},{title:"Cloudinary",description:"Cloudinary media storage"});class xU extends bU{constructor(n){super();K(this,"config");this.config=An(oP,n)}getSchema(){return oP}getMimeType(n){switch(!0){case(n.format==="jpeg"||n.format==="jpg"):return"image/jpeg"}return`${n.resource_type}/${n.format}`}getName(){return"cloudinary"}getAuthorizationHeader(){return{Authorization:`Basic ${btoa(`${this.config.api_key}:${this.config.api_secret}`)}`}}async putObject(n,r){const i=n.replace(/\.[a-z0-9]{2,5}$/,""),s=new FormData;s.append("file",r),s.append("public_id",i),s.append("api_key",this.config.api_key),this.config.upload_preset&&s.append("upload_preset",this.config.upload_preset);const o=await fetch(`https://api.cloudinary.com/v1_1/${this.config.cloud_name}/auto/upload`,{method:"POST",headers:{Accept:"application/json"},body:s});if(!o.ok)return;const a=await o.json();return{name:a.public_id+"."+a.format,etag:a.etag,meta:{type:this.getMimeType(a),size:a.bytes}}}async listObjects(n){const r=await fetch(`https://api.cloudinary.com/v1_1/${this.config.cloud_name}/resources/search`,{method:"GET",headers:{Accept:"application/json","Cache-Control":"no-cache",...this.getAuthorizationHeader()}});if(!r.ok)throw new Error("Failed to list objects");return(await r.json()).resources.map(o=>({key:o.public_id,last_modified:new Date(o.uploaded_at),size:o.bytes}))}async headObject(n){const r=this.getObjectUrl(n);return await fetch(r,{method:"HEAD",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0",Range:"bytes=0-1"}})}async objectExists(n){return(await this.headObject(n)).ok}async getObjectMeta(n){var i;const r=await this.headObject(n);if(r.ok){const s=r.headers.get("content-type"),o=Number((i=r.headers.get("content-range"))==null?void 0:i.split("/")[1]);return{type:s,size:o}}throw new Error("Cannot get object meta")}guessType(n){const r={image:["jpg","jpeg","png","gif","webp","svg"],video:["mp4","webm","ogg"]},i=n.split(".").pop();return Object.keys(r).find(s=>r[s].includes(i))}getObjectUrl(n){const r=this.guessType(n)??"image";return`https://res.cloudinary.com/${this.config.cloud_name}/${r}/upload/${n}`}async generateSignature(n,r){const i=n.timestamp??Math.floor(Date.now()/1e3),s=Object.entries({...n,timestamp:i}).sort(([a],[c])=>a.localeCompare(c)).map(([a,c])=>`${a}=${c}`).join("&");return{signature:await PF.sha1(s+(r??this.config.api_secret)),timestamp:i}}filenameToPublicId(n){return n.split(".").slice(0,-1).join(".")}async getObject(n,r){const i=await fetch(this.getObjectUrl(n),{method:"GET",headers:gae(r,["range"])});return new Response(i.body,{status:i.status,statusText:i.statusText,headers:i.headers})}async deleteObject(n){const r=this.guessType(n)??"image",i=this.filenameToPublicId(n),{timestamp:s,signature:o}=await this.generateSignature({public_id:i}),a=new FormData;a.append("public_id",i),a.append("timestamp",String(s)),a.append("signature",o),a.append("api_key",this.config.api_key);const c=`https://api.cloudinary.com/v1_1/${this.config.cloud_name}/${r}/destroy`,u=await fetch(c,{headers:{Accept:"application/json","Cache-Control":"no-cache",...this.getAuthorizationHeader()},method:"POST",body:a});if(!u.ok)throw new Error(`Failed to delete object: ${u.status} ${u.statusText}`)}toJSON(n){return{type:"cloudinary",config:n?this.config:{cloud_name:this.config.cloud_name}}}}const txe=new Jve(e=>({cls:e,schema:e.prototype.getSchema()})).register("s3",vU).register("cloudinary",xU);vU.prototype.getSchema(),xU.prototype.getSchema();const nxe={media:txe},wU=nxe.media;function SU(){const e=N1(wU.all(),(t,n)=>{var r,i;return He({type:us(n),config:t.schema},{title:((r=t.schema)==null?void 0:r.title)??n,description:(i=t.schema)==null?void 0:i.description})});return K1("config_media",{enabled:pt({default:!1}),basepath:de({default:"/api/media"}),entity_name:de({default:"media"}),storage:He({body_max_size:Ct({description:"Max size of the body in bytes. Leave blank for unlimited."}).optional()},{default:{}}),adapter:v0e("config_media_adapter",Pt(Object.values(e))).optional()},{default:{}}).strict()}SU();const Jw=class Jw extends Zy{constructor(){super(...arguments);K(this,"_storage");K(this,"options",{body_max_size:null})}async build(){if(!this.config.enabled){this.setBuilt();return}if(!this.config.adapter){console.info("No storage adapter provided, skip building media.");return}let n;try{const{type:r,config:i}=this.config.adapter,s=wU.get(r).cls;n=new s(i),this._storage=new wg(n,this.config.storage,this.ctx.emgr),this.setBuilt(),this.setupListeners(),this.ctx.guard.registerPermissions(Hve),this.ctx.server.route(this.basepath,new Gve(this).getController());const o=this.getMediaEntity(!0);this.ctx.helper.ensureSchema(sV({[o.name]:o},({index:a},{media:c})=>{a(c).on(["path"],!0).on(["reference"]).on(["entity_id"])}))}catch(r){throw console.error(r),new Error(`Could not build adapter with config ${JSON.stringify(this.config.adapter)}`)}}getSchema(){return SU()}get basepath(){return this.config.basepath}get storage(){return this.throwIfNotBuilt(),this._storage}uploadedEventDataToMediaPayload(n){const r={};return n.meta.width&&n.meta.height&&(r.width=n.meta.width,r.height=n.meta.height),{path:n.name,mime_type:n.meta.type,size:n.meta.size,etag:n.etag,modified_at:new Date,metadata:r}}getMediaEntity(n){const r=this.config.entity_name;return n||!this.em.hasEntity(r)?iV(r,Jw.mediaFields,void 0,"system"):this.em.entity(r)}get em(){return this.ctx.em}setupListeners(){const{emgr:n,em:r}=this.ctx,i=this.getMediaEntity().name;n.onEvent(wg.Events.FileUploadedEvent,async s=>{const o=r.mutator(i);o.__unstable_toggleSystemEntityCreation(!1);const a=this.uploadedEventDataToMediaPayload(s.params),{data:c}=await o.insertOne(a);return o.__unstable_toggleSystemEntityCreation(!0),{data:c}},{mode:"sync",id:"add-data-media"}),n.onEvent(wg.Events.FileDeletedEvent,async s=>{const{data:o}=await r.repo(i).findOne({path:s.params.name});o&&await r.mutator(i).deleteOne(o.id),mt.log("App:storage:file deleted",s.params)},{mode:"sync",id:"delete-data-media"}),n.onEvent(jT,async s=>{const{entity:o,data:a}=s.params,c=o.fields.filter(u=>u.type==="media");if(c.length>0){const u=c.map(m=>`${o.name}.${m.name}`);mt.log("App:storage:file cleaning up",{reference:{$in:u},entity_id:String(a.id)});const{data:f}=await r.mutator(i).deleteWhere({reference:{$in:u},entity_id:String(a.id)});for(const m of f)await this.storage.deleteFile(m.path);mt.log("App:storage:file cleaned up files:",f.length)}},{mode:"async",id:"delete-data-media-after"})}getOverwritePaths(){return[/^\.?adapter$/]}toJSON(n){return!this.isBuilt()||!this.config.enabled?this.configDefault:{...this.config,adapter:this.storage.getAdapter().toJSON(n)}}};K(Jw,"mediaFields",eU);let TO=Jw;const EU={server:N0e,data:Fve,auth:qx,media:TO,flows:Uve};wF("modules_debug");function rxe(){return{type:"object",...Xt(EU,t=>t.prototype.getSchema())}}function ixe(){const e=Xt(EU,t=>t.prototype.getSchema().template({},{withOptional:!0,withExtendedOptional:!0}));return structuredClone(e)}class Z1{constructor(t={},n){K(this,"fetcher");this._options=t,this.fetcher=n??fetch}getDefaultOptions(){return{}}get options(){return{host:"http://localhost",token:void 0,...this.getDefaultOptions(),...this._options}}key(){return this.options.basepath??""}getUrl(t){const n=this.options.basepath??"";return this.options.host+(n+"/"+t).replace(/\/{2,}/g,"/").replace(/\/$/,"")}request(t,n,r){const i=(r==null?void 0:r.method)??"GET",s=Array.isArray(t)?t.join("/"):t;let o=this.getUrl(s);n instanceof URLSearchParams?o+="?"+n.toString():typeof n=="object"&&Object.keys(n).length>0&&(o+="?"+C1(n));const a=new Headers(this.options.headers??{});for(const[f,m]of Object.entries((r==null?void 0:r.headers)??{}))a.set(f,m);a.has("Accept")||a.set("Accept","application/json"),this.options.token&&this.options.token_transport==="header"&&a.set("Authorization",`Bearer ${this.options.token}`);let c=r==null?void 0:r.body;if(r&&"body"in r&&["POST","PATCH","PUT"].includes(i)){const f=a.get("Content-Type")??void 0;(!f||f.startsWith("application/json")||Ga(c))&&(c=JSON.stringify(r.body),a.set("Content-Type","application/json"))}const u=new Request(o,{...r,credentials:this.options.credentials,method:i,body:c,headers:a});return new Wx(u,{fetcher:this.fetcher,verbose:this.options.verbose})}get(t,n,r){return this.request(t,n,{...r,method:"GET"})}post(t,n,r){return this.request(t,void 0,{...r,body:n,method:"POST"})}patch(t,n,r){return this.request(t,void 0,{...r,body:n,method:"PATCH"})}put(t,n,r){return this.request(t,void 0,{...r,body:n,method:"PUT"})}delete(t,n,r){return this.request(t,void 0,{...r,body:n,method:"DELETE"})}}function sxe(e,t,n){let r=typeof n<"u"?n:t;const i=["raw","body","ok","status","res","data","toJSON"];return typeof r!="object"&&(r={}),new Proxy(r,{get(s,o,a){return o==="raw"||o==="res"?e:o==="body"?t:o==="data"?n:o==="ok"?e.ok:o==="status"?e.status:o==="toJSON"?()=>s:Reflect.get(s,o,a)},has(s,o){return i.includes(o)?!0:Reflect.has(s,o)},ownKeys(s){return Array.from(new Set([...Reflect.ownKeys(s),...i]))},getOwnPropertyDescriptor(s,o){return i.includes(o)?{configurable:!0,enumerable:!0,value:Reflect.get({raw:e,body:t,ok:e.ok,status:e.status},o)}:Reflect.getOwnPropertyDescriptor(s,o)}})}var Q8;Q8=Symbol.toStringTag;const i3=class i3{constructor(t,n,r){K(this,Q8);this.request=t,this.options=n,this.refineData=r}get verbose(){var t;return((t=this.options)==null?void 0:t.verbose)??!1}refine(t){return new i3(this.request,this.options,t)}async execute(){var o;xr()&&await new Promise(a=>setTimeout(a,200));const t=((o=this.options)==null?void 0:o.fetcher)??fetch;this.verbose&&mt.debug("[FetchPromise] Request",{method:this.request.method,url:this.request.url});const n=await t(this.request);this.verbose&&mt.debug("[FetchPromise] Response",{res:n,ok:n.ok,status:n.status});let r,i;const s=n.headers.get("Content-Type")??"";if(s.startsWith("application/json")?(r=await n.json(),typeof r=="object"&&(i="data"in r?r.data:r)):s.startsWith("text")?r=await n.text():r=n.body,this.refineData)try{i=this.refineData(i)}catch(a){console.warn("[FetchPromise] Error in refineData",a),i=void 0}return sxe(n,r,i)}then(t,n){return this.execute().then(t,n)}catch(t){return this.then(void 0,t)}finally(t){return this.then(n=>(t==null||t(),n),n=>{throw t==null||t(),n})}path(){return new URL(this.request.url).pathname}key(t){const n=new URL(this.request.url);return(t==null?void 0:t.search)!==!1?this.path()+n.search:this.path()}keyArray(t){const n=new URL(this.request.url),r=this.path().split("/");return((t==null?void 0:t.search)!==!1?[...r,n.searchParams.toString()]:r).filter(Boolean)}toString(){return this.key({search:!0})}toJSON(){return{url:this.request.url,method:this.request.method}}};let Wx=i3;class oxe extends Z1{getDefaultOptions(){return{basepath:"/api/auth",credentials:"include"}}async login(t,n){var i,s;const r=await this.post([t,"login"],n);return r.ok&&r.body.token&&await((s=(i=this.options).onTokenUpdate)==null?void 0:s.call(i,r.body.token,!0)),r}async register(t,n){var i,s;const r=await this.post([t,"register"],n);return r.ok&&r.body.token&&await((s=(i=this.options).onTokenUpdate)==null?void 0:s.call(i,r.body.token,!0)),r}async actionSchema(t,n){return this.get([t,"actions",n,"schema.json"])}async action(t,n,r){return this.post([t,"actions",n],r)}async loginWithPassword(t){return this.login("password",t)}async registerWithPassword(t){return this.register("password",t)}me(){return this.get(["me"])}strategies(){return this.get(["strategies"])}async logout(){return this.get(["logout"],void 0,{headers:{Accept:"application/json"}}).then(()=>{var t,n;return(n=(t=this.options).onTokenUpdate)==null?void 0:n.call(t,void 0,!0)})}}class axe extends Z1{getDefaultOptions(){return{basepath:"/api/data",queryLengthLimit:1e3,defaultQuery:{limit:10}}}requireObjectSet(t,n){if(!t||typeof t!="object"||Object.keys(t).length===0)throw new Error(n??"object is required")}readOne(t,n,r={}){return this.get(["entity",t,n],r)}readOneBy(t,n={}){return this.readMany(t,{...n,limit:1,offset:0}).refine(r=>r[0])}readMany(t,n={}){const r=n??this.options.defaultQuery,i=this.get(["entity",t],r);return i.request.url.length<=this.options.queryLengthLimit?i:this.post(["entity",t,"query"],r)}readManyByReference(t,n,r,i={}){return this.get(["entity",t,n,r],i??this.options.defaultQuery)}createOne(t,n){return this.post(["entity",t],n)}createMany(t,n){if(!n||!Array.isArray(n)||n.length===0)throw new Error("input is required");return this.post(["entity",t],n)}updateOne(t,n,r){if(!n)throw new Error("ID is required");return this.patch(["entity",t,n],r)}updateMany(t,n,r){return this.requireObjectSet(n),this.patch(["entity",t],{update:r,where:n})}deleteOne(t,n){if(!n)throw new Error("ID is required");return this.delete(["entity",t,n])}deleteMany(t,n){return this.requireObjectSet(n),this.delete(["entity",t],n)}count(t,n={}){return this.post(["entity",t,"fn","count"],n)}exists(t,n={}){return this.post(["entity",t,"fn","exists"],n)}}class lxe extends Z1{getDefaultOptions(){return{basepath:"/api/media",upload_fetcher:fetch,init:{}}}listFiles(){return this.get(["files"])}getFile(t){return this.get(["file",t],void 0,{headers:{Accept:"*/*"}})}async getFileStream(t){const{res:n}=await this.getFile(t);if(!n.ok||!n.body)throw new Error("Failed to fetch file");return n.body}async download(t){const{res:n}=await this.getFile(t);if(!n.ok||!n.body)throw new Error("Failed to fetch file");return await n.blob()}getFileUploadUrl(t){return t?this.getUrl(`/upload/${t.path}`):this.getUrl("/upload")}getEntityUploadUrl(t,n,r){return this.getUrl(`/entity/${t}/${n}/${r}`)}getUploadHeaders(){return this.options.token_transport==="header"&&this.options.token?new Headers({Authorization:`Bearer ${this.options.token}`}):new Headers}uploadFile(t,n){var o;const r={"Content-Type":"application/octet-stream",...((o=n==null?void 0:n._init)==null?void 0:o.headers)||{}};let i=(n==null?void 0:n.filename)||"";try{typeof t.type<"u"&&(r["Content-Type"]=t.type),n!=null&&n.filename||(i=t.name)}catch{}i&&i.length>0&&i.includes("/")&&(i=i.split("/").pop()||"");const s={...this.options.init,...(n==null?void 0:n._init)||{},headers:r};if(n!=null&&n.path)return this.post(n.path,t,s);if(!i||i.length===0)throw new Error("Invalid filename");return this.post((n==null?void 0:n.path)??["upload",i],t,s)}async upload(t,n={}){var r;if(t instanceof Request||typeof t=="string"){const s=await(n.fetcher??this.options.upload_fetcher)(t);if(!s.ok||!s.body)throw new Error("Failed to fetch file");return this.uploadFile(s.body,n)}else if(t instanceof Response){if(!t.body)throw new Error("Invalid response");return this.uploadFile(t.body,{...n??{},_init:{...n._init??{},headers:{...((r=n._init)==null?void 0:r.headers)??{},"Content-Type":t.headers.get("Content-Type")||"application/octet-stream"}}})}return this.uploadFile(t,n)}async uploadToEntity(t,n,r,i,s){return this.upload(i,{...s,path:["entity",t,n,r]})}deleteFile(t){return this.delete(["file",t])}}class cxe extends Z1{getDefaultOptions(){return{basepath:"/api/system"}}readConfig(){return this.get("config")}readSchema(t){return this.get("schema",{config:t!=null&&t.config?1:0,secrets:t!=null&&t.secrets?1:0,fresh:t!=null&&t.fresh?1:0})}setConfig(t,n,r){return this.post(["config","set",t].join("/")+`?force=${r?1:0}`,n)}addConfig(t,n,r){return this.post(["config","add",t,n],r)}patchConfig(t,n,r){return this.patch(["config","patch",t,n],r)}overwriteConfig(t,n,r){return this.put(["config","overwrite",t,n],r)}removeConfig(t,n){return this.delete(["config","remove",t,n])}permissions(){return this.get("permissions")}}class NU{constructor(t={}){K(this,"token");K(this,"user");K(this,"verified",!1);K(this,"token_transport","header");K(this,"system");K(this,"data");K(this,"auth");K(this,"media");this.options=t,this.verified=t.verified===!0,"request"in t&&t.request?(this.options.host=t.host??new URL(t.request.url).origin,this.options.headers=t.headers??t.request.headers,this.extractToken()):"token"in t&&t.token?(this.token_transport="header",this.updateToken(t.token,{trigger:!1})):"user"in t&&t.user?(this.token_transport="none",this.user=t.user,this.verified=t.verified!==!1):this.extractToken(),this.buildApis()}get fetcher(){return this.options.fetcher??fetch}get baseUrl(){return this.options.host??"http://localhost"}get tokenKey(){return this.options.key??"auth"}extractToken(){var t;if(this.verified=!1,this.options.headers){const n=uxe(this.options.headers.get("cookie"),"auth");if(n){this.token_transport="cookie",this.updateToken(n);return}const r=(t=this.options.headers.get("authorization"))==null?void 0:t.replace("Bearer ","");if(r){this.token_transport="header",this.updateToken(r);return}}else this.storage&&this.storage.getItem(this.tokenKey).then(n=>{this.token_transport="header",this.updateToken(n?String(n):void 0,{verified:!0,trigger:!1})})}get storage(){const t=this.options.storage;return new Proxy({},{get(n,r){return(...i)=>{const s=t?t[r](...i):void 0;return s instanceof Promise?s:{then:o=>o(s)}}}})}updateToken(t,n){this.token=t,this.verified=(n==null?void 0:n.verified)===!0,t?this.user=Fi(abe(t).payload,["iat","iss","exp"]):this.user=void 0;const r=()=>{var i,s;(n==null?void 0:n.trigger)!==!1&&((s=(i=this.options).onAuthStateChange)==null||s.call(i,this.getAuthState()))};if(this.storage){const i=this.tokenKey;t?this.storage.setItem(i,t).then(r):this.storage.removeItem(i).then(r)}else(n==null?void 0:n.trigger)!==!1&&r();n!=null&&n.rebuild&&this.buildApis()}markAuthVerified(t){var n,r;return this.verified=t,(r=(n=this.options).onAuthStateChange)==null||r.call(n,this.getAuthState()),this}isAuthVerified(){return this.verified}getAuthState(){return{token:this.token,user:this.user,verified:this.verified}}isAuthenticated(){const{token:t,user:n}=this.getAuthState();return!!t&&!!n}async getVerifiedAuthState(){return await this.verifyAuth(),this.getAuthState()}async verifyAuth(){try{const{ok:t,data:n}=await this.auth.me(),r=n==null?void 0:n.user;if(!t||!r)throw new Error;this.user=r}catch{this.updateToken(void 0)}finally{this.markAuthVerified(!0)}}getUser(){return this.user||null}getParams(){return Object.freeze({host:this.baseUrl,token:this.token,headers:this.options.headers,token_transport:this.token_transport,verbose:this.options.verbose,credentials:this.options.credentials})}buildApis(){const t=this.getParams(),n=this.options.fetcher;this.system=new cxe(t,n),this.data=new axe({...t,...this.options.data},n),this.auth=new oxe({...t,...this.options.auth,onTokenUpdate:(r,i)=>{var s,o;this.updateToken(r,{rebuild:!0,verified:i,trigger:!0}),(o=(s=this.options.auth)==null?void 0:s.onTokenUpdate)==null||o.call(s,r)}},n),this.media=new lxe({...t,...this.options.media},n)}}function uxe(e,t){if(!e)return null;for(const n of e.split("; ")){const[r,i]=n.split("=");if(r===t&&i)return decodeURIComponent(i)}return null}const f$=w.createContext(void 0),dxe=({children:e,host:t,baseUrl:n=t,...r})=>{const i=eS(),s=_U();let o=n??(s==null?void 0:s.baseUrl)??"",a;if(i&&(a=i.user),!o)try{o=window.location.origin}catch{}const c={user:a,...r,host:o},u=w.useMemo(()=>new NU({...c,verbose:xr(),onAuthStateChange:p=>{var y;(y=r.onAuthStateChange)==null||y.call(r,p),(!(f!=null&&f.token)||p.token!==(f==null?void 0:f.token))&&m(p)}}),[JSON.stringify(c)]),[f,m]=w.useState(u.getAuthState());return h.jsx(f$.Provider,{value:{baseUrl:u.baseUrl,api:u,authState:f},children:e})},Uo=e=>{const t=w.useContext(f$);return!(t!=null&&t.api)||e?new NU({host:""}):t.api},_U=()=>w.useContext(f$);function eS(){const e={logout_route:"/api/auth/logout",admin_basepath:""};return typeof window<"u"&&window.__BKND__?{...e,...window.__BKND__}:e}var ZN={exports:{}},e_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aP;function fxe(){if(aP)return e_;aP=1;var e=Qh();function t(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function a(m,p){var y=p(),v=r({inst:{value:y,getSnapshot:p}}),x=v[0].inst,S=v[1];return s(function(){x.value=y,x.getSnapshot=p,c(x)&&S({inst:x})},[m,y,p]),i(function(){return c(x)&&S({inst:x}),m(function(){c(x)&&S({inst:x})})},[m]),o(y),y}function c(m){var p=m.getSnapshot;m=m.value;try{var y=p();return!n(m,y)}catch{return!0}}function u(m,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return e_.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,e_}var lP;function CU(){return lP||(lP=1,ZN.exports=fxe()),ZN.exports}var h$=CU();const OU=0,jU=1,AU=2,cP=3;var uP=Object.prototype.hasOwnProperty;function $O(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&$O(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(uP.call(e,n)&&++r&&!uP.call(t,n)||!(n in t)||!$O(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}const Oo=new WeakMap,yc=()=>{},lr=yc(),RO=Object,xt=e=>e===lr,Us=e=>typeof e=="function",Rc=(e,t)=>({...e,...t}),TU=e=>Us(e.then),t_={},av={},m$="undefined",l0=typeof window!=m$,kO=typeof document!=m$,hxe=l0&&"Deno"in window,mxe=()=>l0&&typeof window.requestAnimationFrame!=m$,Xl=(e,t)=>{const n=Oo.get(e);return[()=>!xt(t)&&e.get(t)||t_,r=>{if(!xt(t)){const i=e.get(t);t in av||(av[t]=i),n[5](t,Rc(i,r),i||t_)}},n[6],()=>!xt(t)&&t in av?av[t]:!xt(t)&&e.get(t)||t_]};let MO=!0;const pxe=()=>MO,[IO,PO]=l0&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[yc,yc],gxe=()=>{const e=kO&&document.visibilityState;return xt(e)||e!=="hidden"},yxe=e=>(kO&&document.addEventListener("visibilitychange",e),IO("focus",e),()=>{kO&&document.removeEventListener("visibilitychange",e),PO("focus",e)}),bxe=e=>{const t=()=>{MO=!0,e()},n=()=>{MO=!1};return IO("online",t),IO("offline",n),()=>{PO("online",t),PO("offline",n)}},vxe={isOnline:pxe,isVisible:gxe},xxe={initFocus:yxe,initReconnect:bxe},dP=!je.useId,iy=!l0||hxe,wxe=e=>mxe()?window.requestAnimationFrame(e):setTimeout(e,1),Zv=iy?w.useEffect:w.useLayoutEffect,n_=typeof navigator<"u"&&navigator.connection,fP=!iy&&n_&&(["slow-2g","2g"].includes(n_.effectiveType)||n_.saveData),lv=new WeakMap,r_=(e,t)=>RO.prototype.toString.call(e)===`[object ${t}]`;let Sxe=0;const DO=e=>{const t=typeof e,n=r_(e,"Date"),r=r_(e,"RegExp"),i=r_(e,"Object");let s,o;if(RO(e)===e&&!n&&!r){if(s=lv.get(e),s)return s;if(s=++Sxe+"~",lv.set(e,s),Array.isArray(e)){for(s="@",o=0;o<e.length;o++)s+=DO(e[o])+",";lv.set(e,s)}if(i){s="#";const a=RO.keys(e).sort();for(;!xt(o=a.pop());)xt(e[o])||(s+=o+":"+DO(e[o])+",");lv.set(e,s)}}else s=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return s},sy=e=>{if(Us(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?DO(e):"",[e,t]};let Exe=0;const LO=()=>++Exe;async function $U(...e){const[t,n,r,i]=e,s=Rc({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let o=s.populateCache;const a=s.rollbackOnError;let c=s.optimisticData;const u=p=>typeof a=="function"?a(p):a!==!1,f=s.throwOnError;if(Us(n)){const p=n,y=[],v=t.keys();for(const x of v)!/^\$(inf|sub)\$/.test(x)&&p(t.get(x)._k)&&y.push(x);return Promise.all(y.map(m))}return m(n);async function m(p){const[y]=sy(p);if(!y)return;const[v,x]=Xl(t,y),[S,N,_,C]=Oo.get(t),j=()=>{const H=S[y];return(Us(s.revalidate)?s.revalidate(v().data,p):s.revalidate!==!1)&&(delete _[y],delete C[y],H&&H[0])?H[0](AU).then(()=>v().data):v().data};if(e.length<3)return j();let A=r,$;const k=LO();N[y]=[k,0];const R=!xt(c),D=v(),z=D.data,L=D._c,F=xt(L)?z:L;if(R&&(c=Us(c)?c(F,z):c,x({data:c,_c:F})),Us(A))try{A=A(F)}catch(H){$=H}if(A&&TU(A))if(A=await A.catch(H=>{$=H}),k!==N[y][0]){if($)throw $;return A}else $&&R&&u($)&&(o=!0,x({data:F,_c:lr}));if(o&&!$)if(Us(o)){const H=o(A,F);x({data:H,error:lr,_c:lr})}else x({data:A,error:lr,_c:lr});if(N[y][1]=LO(),Promise.resolve(j()).then(()=>{x({_c:lr})}),$){if(f)throw $;return}return A}}const hP=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},Nxe=(e,t)=>{if(!Oo.has(e)){const n=Rc(xxe,t),r=Object.create(null),i=$U.bind(lr,e);let s=yc;const o=Object.create(null),a=(f,m)=>{const p=o[f]||[];return o[f]=p,p.push(m),()=>p.splice(p.indexOf(m),1)},c=(f,m,p)=>{e.set(f,m);const y=o[f];if(y)for(const v of y)v(m,p)},u=()=>{if(!Oo.has(e)&&(Oo.set(e,[r,Object.create(null),Object.create(null),Object.create(null),i,c,a]),!iy)){const f=n.initFocus(setTimeout.bind(lr,hP.bind(lr,r,OU))),m=n.initReconnect(setTimeout.bind(lr,hP.bind(lr,r,jU)));s=()=>{f&&f(),m&&m(),Oo.delete(e)}}};return u(),[e,i,u,s]}return[e,Oo.get(e)[4]]},_xe=(e,t,n,r,i)=>{const s=n.errorRetryCount,o=i.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!xt(s)&&o>s||setTimeout(r,a,i)},Cxe=$O,[p$,g$]=Nxe(new Map),Oxe=Rc({onLoadingSlow:yc,onSuccess:yc,onError:yc,onErrorRetry:_xe,onDiscarded:yc,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:fP?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:fP?5e3:3e3,compare:Cxe,isPaused:()=>!1,cache:p$,mutate:g$,fallback:{}},vxe),jxe=(e,t)=>{const n=Rc(e,t);if(t){const{use:r,fallback:i}=e,{use:s,fallback:o}=t;r&&s&&(n.use=r.concat(s)),i&&o&&(n.fallback=Rc(i,o))}return n},Axe=w.createContext({}),RU="$inf$",kU=l0&&window.__SWR_DEVTOOLS_USE__,Txe=kU?window.__SWR_DEVTOOLS_USE__:[],$xe=()=>{kU&&(window.__SWR_DEVTOOLS_REACT__=je)},MU=e=>Us(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],IU=()=>Rc(Oxe,w.useContext(Axe)),Rxe=e=>(t,n,r)=>e(t,n&&((...s)=>{const[o]=sy(t),[,,,a]=Oo.get(p$);if(o.startsWith(RU))return n(...s);const c=a[o];return xt(c)?n(...s):(delete a[o],c)}),r),kxe=Txe.concat(Rxe),Mxe=e=>function(...n){const r=IU(),[i,s,o]=MU(n),a=jxe(r,o);let c=e;const{use:u}=a,f=(u||[]).concat(kxe);for(let m=f.length;m--;)c=f[m](c);return c(i,s||a.fetcher||null,a)},Ixe=(e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i>=0&&(r[i]=r[r.length-1],r.pop())}},Pxe=(e,t)=>(...n)=>{const[r,i,s]=MU(n),o=(s.use||[]).concat(t);return e(r,i,{...s,use:o})};$xe();const i_=je.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),s_={dedupe:!0},Dxe=(e,t,n)=>{const{cache:r,compare:i,suspense:s,fallbackData:o,revalidateOnMount:a,revalidateIfStale:c,refreshInterval:u,refreshWhenHidden:f,refreshWhenOffline:m,keepPreviousData:p}=n,[y,v,x,S]=Oo.get(r),[N,_]=sy(e),C=w.useRef(!1),j=w.useRef(!1),A=w.useRef(N),$=w.useRef(t),k=w.useRef(n),R=()=>k.current,D=()=>R().isVisible()&&R().isOnline(),[z,L,F,H]=Xl(r,N),M=w.useRef({}).current,V=xt(o)?xt(n.fallback)?lr:n.fallback[N]:o,T=(Re,ke)=>{for(const We in M){const et=We;if(et==="data"){if(!i(Re[et],ke[et])&&(!xt(Re[et])||!i(ae,ke[et])))return!1}else if(ke[et]!==Re[et])return!1}return!0},I=w.useMemo(()=>{const Re=!N||!t?!1:xt(a)?R().isPaused()||s?!1:c!==!1:a,ke=G=>{const re=Rc(G);return delete re._k,Re?{isValidating:!0,isLoading:!0,...re}:re},We=z(),et=H(),Oe=ke(We),Ie=We===et?Oe:ke(et);let Pe=Oe;return[()=>{const G=ke(z());return T(G,Pe)?(Pe.data=G.data,Pe.isLoading=G.isLoading,Pe.isValidating=G.isValidating,Pe.error=G.error,Pe):(Pe=G,G)},()=>Ie]},[r,N]),P=h$.useSyncExternalStore(w.useCallback(Re=>F(N,(ke,We)=>{T(We,ke)||Re()}),[r,N]),I[0],I[1]),W=!C.current,B=y[N]&&y[N].length>0,q=P.data,X=xt(q)?V&&TU(V)?i_(V):V:q,Q=P.error,ie=w.useRef(X),ae=p?xt(q)?xt(ie.current)?X:ie.current:q:X,fe=B&&!xt(Q)?!1:W&&!xt(a)?a:R().isPaused()?!1:s?xt(X)?!1:c:xt(X)||c,ce=!!(N&&t&&W&&fe),he=xt(P.isValidating)?ce:P.isValidating,ve=xt(P.isLoading)?ce:P.isLoading,Ae=w.useCallback(async Re=>{const ke=$.current;if(!N||!ke||j.current||R().isPaused())return!1;let We,et,Oe=!0;const Ie=Re||{},Pe=!x[N]||!Ie.dedupe,G=()=>dP?!j.current&&N===A.current&&C.current:N===A.current,re={isValidating:!1,isLoading:!1},te=()=>{L(re)},me=()=>{const ne=x[N];ne&&ne[1]===et&&delete x[N]},se={isValidating:!0};xt(z().data)&&(se.isLoading=!0);try{if(Pe&&(L(se),n.loadingTimeout&&xt(z().data)&&setTimeout(()=>{Oe&&G()&&R().onLoadingSlow(N,n)},n.loadingTimeout),x[N]=[ke(_),LO()]),[We,et]=x[N],We=await We,Pe&&setTimeout(me,n.dedupingInterval),!x[N]||x[N][1]!==et)return Pe&&G()&&R().onDiscarded(N),!1;re.error=lr;const ne=v[N];if(!xt(ne)&&(et<=ne[0]||et<=ne[1]||ne[1]===0))return te(),Pe&&G()&&R().onDiscarded(N),!1;const le=z().data;re.data=i(le,We)?le:We,Pe&&G()&&R().onSuccess(We,N,n)}catch(ne){me();const le=R(),{shouldRetryOnError:xe}=le;le.isPaused()||(re.error=ne,Pe&&G()&&(le.onError(ne,N,le),(xe===!0||Us(xe)&&xe(ne))&&(!R().revalidateOnFocus||!R().revalidateOnReconnect||D())&&le.onErrorRetry(ne,N,le,Ne=>{const Ge=y[N];Ge&&Ge[0]&&Ge[0](cP,Ne)},{retryCount:(Ie.retryCount||0)+1,dedupe:!0})))}return Oe=!1,te(),!0},[N,r]),Ce=w.useCallback((...Re)=>$U(r,A.current,...Re),[]);if(Zv(()=>{$.current=t,k.current=n,xt(q)||(ie.current=q)}),Zv(()=>{if(!N)return;const Re=Ae.bind(lr,s_);let ke=0;R().revalidateOnFocus&&(ke=Date.now()+R().focusThrottleInterval);const et=Ixe(N,y,(Oe,Ie={})=>{if(Oe==OU){const Pe=Date.now();R().revalidateOnFocus&&Pe>ke&&D()&&(ke=Pe+R().focusThrottleInterval,Re())}else if(Oe==jU)R().revalidateOnReconnect&&D()&&Re();else{if(Oe==AU)return Ae();if(Oe==cP)return Ae(Ie)}});return j.current=!1,A.current=N,C.current=!0,L({_k:_}),fe&&(xt(X)||iy?Re():wxe(Re)),()=>{j.current=!0,et()}},[N]),Zv(()=>{let Re;function ke(){const et=Us(u)?u(z().data):u;et&&Re!==-1&&(Re=setTimeout(We,et))}function We(){!z().error&&(f||R().isVisible())&&(m||R().isOnline())?Ae(s_).then(ke):ke()}return ke(),()=>{Re&&(clearTimeout(Re),Re=-1)}},[u,f,m,N]),w.useDebugValue(ae),s&&xt(X)&&N){if(!dP&&iy)throw new Error("Fallback data is required when using Suspense in SSR.");$.current=t,k.current=n,j.current=!1;const Re=S[N];if(!xt(Re)){const ke=Ce(Re);i_(ke)}if(xt(Q)){const ke=Ae(s_);xt(ae)||(ke.status="fulfilled",ke.value=!0),i_(ke)}else throw Q}return{mutate:Ce,get data(){return M.data=!0,ae},get error(){return M.error=!0,Q},get isValidating(){return M.isValidating=!0,he},get isLoading(){return M.isLoading=!0,ve}}},y$=Mxe(Dxe),Lxe=()=>{},Fxe=Lxe(),FO=Object,mP=e=>e===Fxe,Bxe=e=>typeof e=="function",cv=new WeakMap,o_=(e,t)=>FO.prototype.toString.call(e)===`[object ${t}]`;let zxe=0;const BO=e=>{const t=typeof e,n=o_(e,"Date"),r=o_(e,"RegExp"),i=o_(e,"Object");let s,o;if(FO(e)===e&&!n&&!r){if(s=cv.get(e),s)return s;if(s=++zxe+"~",cv.set(e,s),Array.isArray(e)){for(s="@",o=0;o<e.length;o++)s+=BO(e[o])+",";cv.set(e,s)}if(i){s="#";const a=FO.keys(e).sort();for(;!mP(o=a.pop());)mP(e[o])||(s+=o+":"+BO(e[o])+",");cv.set(e,s)}}else s=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return s},Vxe=e=>{if(Bxe(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?BO(e):"",[e,t]},Uxe=e=>Vxe(e?e(0,null):null)[0],a_=Promise.resolve(),qxe=e=>(t,n,r)=>{const i=w.useRef(!1),{cache:s,initialSize:o=1,revalidateAll:a=!1,persistSize:c=!1,revalidateFirstPage:u=!0,revalidateOnMount:f=!1,parallel:m=!1}=r,[,,,p]=Oo.get(p$);let y;try{y=Uxe(t),y&&(y=RU+y)}catch{}const[v,x,S]=Xl(s,y),N=w.useCallback(()=>xt(v()._l)?o:v()._l,[s,y,o]);h$.useSyncExternalStore(w.useCallback(R=>y?S(y,()=>{R()}):()=>{},[s,y]),N,N);const _=w.useCallback(()=>{const R=v()._l;return xt(R)?o:R},[y,o]),C=w.useRef(_());Zv(()=>{if(!i.current){i.current=!0;return}y&&x({_l:c?C.current:_()})},[y,s]);const j=f&&!i.current,A=e(y,async R=>{const D=v()._i,z=v()._r;x({_r:lr});const L=[],F=_(),[H]=Xl(s,R),M=H().data,V=[];let T=null;for(let I=0;I<F;++I){const[P,W]=sy(t(I,m?null:T));if(!P)break;const[B,q]=Xl(s,P);let X=B().data;const Q=a||D||xt(X)||u&&!I&&!xt(M)||j||M&&!xt(M[I])&&!r.compare(M[I],X);if(n&&(typeof z=="function"?z(X,W):Q)){const ie=async()=>{if(!(P in p))X=await n(W);else{const fe=p[P];delete p[P],X=await fe}q({data:X,_k:W}),L[I]=X};m?V.push(ie):await ie()}else L[I]=X;m||(T=X)}return m&&await Promise.all(V.map(I=>I())),x({_i:lr}),L},r),$=w.useCallback(function(R,D){const z=typeof D=="boolean"?{revalidate:D}:D||{},L=z.revalidate!==!1;return y?(L&&(xt(R)?x({_i:!0,_r:z.revalidate}):x({_i:!1,_r:z.revalidate})),arguments.length?A.mutate(R,{...z,revalidate:L}):A.mutate()):a_},[y,s]),k=w.useCallback(R=>{if(!y)return a_;const[,D]=Xl(s,y);let z;if(Us(R)?z=R(_()):typeof R=="number"&&(z=R),typeof z!="number")return a_;D({_l:z}),C.current=z;const L=[],[F]=Xl(s,y);let H=null;for(let M=0;M<z;++M){const[V]=sy(t(M,H)),[T]=Xl(s,V),I=V?T().data:lr;if(xt(I))return $(F().data);L.push(I),H=I}return $(L)},[y,s,$,_]);return{size:_(),setSize:k,mutate:$,get data(){return A.data},get error(){return A.error},get isValidating(){return A.isValidating},get isLoading(){return A.isLoading}}},Hxe=Pxe(y$,qxe),c0=(e,t)=>{const n=Uo(),r=e(n),i=(t==null?void 0:t.refine)??(c=>c),s=()=>r.execute().then(i),o=r.key();return{...y$((t==null?void 0:t.enabled)===!1?null:o,s,t),promise:r,key:o,api:n}},Wxe=(e,t)=>{const[n,r]=w.useState(!1),i=Uo(),s=u=>e(i,u),o=(t==null?void 0:t.refine)??(u=>u),a=Hxe((u,f)=>u>0&&f&&f.length<((t==null?void 0:t.pageSize)??0)?(r(!0),null):s(u).request.url,u=>new Wx(new Request(u),{fetcher:i.fetcher},o).execute(),{revalidateFirstPage:!1}),c=a.data?[].concat(...a.data):[];return{...a,_data:a.data,data:c,endReached:n,promise:s(a.size),key:s(a.size).key(),api:i}},b$=e=>{const t=IU().mutate,n=Uo();return async r=>{let i="";return typeof r=="string"?i=r:typeof r=="function"&&(i=r(n).key()),t(s=>typeof s=="string"&&s.startsWith(i))}},pP=new Map,Gxe=e=>(t,n,r)=>{if(typeof t=="string"){if(pP.has(t))return e(t,n,{...r,revalidateOnMount:!1});const i=e(t,n,r);return i.data&&pP.set(t,!0),i}return e(t,n,r)};class uv extends Error{constructor(t,n){let r=n;"error"in t&&(r=t.error,n&&(r=`${n}: ${r}`)),super(r??"UseEntityApiError"),this.response=t}}const Jxe=(e,t)=>{const n=Uo().data;return{create:async r=>{const i=await n.createOne(e,r);if(!i.ok)throw new uv(i,`Failed to create entity "${e}"`);return i},read:async r=>{const i=t?await n.readOne(e,t,r):await n.readMany(e,r);if(!i.ok)throw new uv(i,`Failed to read entity "${e}"`);return i},update:async(r,i=t)=>{if(!i)throw new Error("id is required");const s=await n.updateOne(e,i,r);if(!s.ok)throw new uv(s,`Failed to update entity "${e}"`);return s},_delete:async(r=t)=>{if(!r)throw new Error("id is required");const i=await n.deleteOne(e,r);if(!i.ok)throw new uv(i,`Failed to delete entity "${e}"`);return i}}};function zO(e,t,n,r){var i,s;return"/"+[...((s=(i=e.options)==null?void 0:i.basepath)==null?void 0:s.split("/"))??[],t,...n?[n]:[]].filter(Boolean).join("/")+(r?"?"+C1(r):"")}const tS=(e,t,n,r)=>{const i=Uo().data,s=zO(i,e,t,n),{read:o,...a}=Jxe(e,t),c=()=>o(n??{}),u=y$((r==null?void 0:r.enabled)===!1?null:s,c,{revalidateOnFocus:!1,keepPreviousData:!0,...r}),f=async p=>{const y=zO(i,e,p);return g$(v=>typeof v=="string"&&v.startsWith(y),void 0,{revalidate:!0})},m=N1(a,p=>async(...y)=>{const v=await p(...y);return(r==null?void 0:r.revalidateOnMutate)!==!1&&await f(),v});return{...u,...m,mutate:f,mutateRaw:u.mutate,api:i,key:s}};async function Yxe(e,t,n,r){function i(o,a){return typeof o<"u"&&typeof a<"u"&&"id"in o&&o.id===n?{...o,...a}:o}const s=zO(e,t);return g$(o=>typeof o=="string"&&o.startsWith(s),async o=>{if(!(typeof o>"u"))return Array.isArray(o)?o.map(a=>i(a,r)):i(o,r)},{revalidate:!1})}const Xxe=(e,t,n)=>{const{data:r,...i}=tS(e,t,void 0,{...n,enabled:!1});return{...i,mutate:(o,a)=>Yxe(i.api,e,o,a)}},PU=e=>{const t=Uo(e==null?void 0:e.baseUrl),n=b$(),{authState:r}=_U(),i=(r==null?void 0:r.verified)??!1;async function s(f){return(await t.auth.login("password",f)).data}async function o(f){return(await t.auth.register("password",f)).data}function a(f){t.updateToken(f)}async function c(){await t.auth.logout(),await n()}async function u(){await t.verifyAuth(),await n()}return{data:r,user:r==null?void 0:r.user,token:r==null?void 0:r.token,verified:i,login:s,register:o,logout:c,setToken:a,verify:u}};function Kxe({api:e,setSchema:t,reloadSchema:n}){async function r(i,s,o,a){const c={id:"schema-"+[i,s,a].join("-"),position:"top-right",autoClose:3e3};return o.success?(console.log("update config",i,s,a,o.body),o.body.success&&t(u=>u&&{...u,config:{...u.config,[s]:o.config}}),cs.show({...c,title:`Config updated: ${Li(s)}`,color:"blue",message:`Operation ${i.toUpperCase()} at ${s}${a?"."+a:""}`})):cs.show({...c,title:`Config Update failed: ${Li(s)}${a?"."+a:""}`,color:"red",withCloseButton:!0,autoClose:!1,message:o.error??"Failed to complete config update"}),o.success}return{reload:n,set:async(i,s,o)=>{const a=await e.system.setConfig(i,s,o);return await r("set",i,a)},patch:async(i,s,o)=>{const a=await e.system.patchConfig(i,s,o);return await r("patch",i,a,s)},overwrite:async(i,s,o)=>{const a=await e.system.overwriteConfig(i,s,o);return await r("overwrite",i,a,s)},add:async(i,s,o)=>{const a=await e.system.addConfig(i,s,o);return await r("add",i,a,s)},remove:async(i,s)=>{const o=await e.system.removeConfig(i,s);return await r("remove",i,o,s)}}}class Qxe{constructor(t,n={}){K(this,"_entities",[]);K(this,"_relations",[]);K(this,"_flows",[]);this.appJson=t,this._options=n,this._entities=Object.entries(this.appJson.data.entities??{}).map(([r,i])=>i$(r,i)),this._relations=Object.entries(this.appJson.data.relations??{}).map(([,r])=>rU(r,this.entity.bind(this)));for(const[r,i]of Object.entries(this.appJson.flows.flows??{})){const s=a0.fromObject(r,i,cU);this._flows.push(s)}}get entities(){return this._entities}entity(t){const n=typeof t=="string"?t:t.name,r=this._entities.find(i=>i.name===n);if(!r)throw new Error(`Entity "${n}" not found`);return r}get relations(){return new MB(this._relations)}get flows(){return this._flows}get config(){return this.appJson}get options(){return{basepath:"",logo_return_path:"/",...this._options}}getSettingsPath(t=[]){return[`~/${this.options.basepath}/settings`.replace(/\/+/g,"/"),...t].join("/")}getAbsolutePath(t){const{basepath:n}=this.options;return(t?`~/${n}/${t}`:`~/${n}`).replace(/\/+/g,"/")}getAuthConfig(){return this.appJson.auth}}/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zxe={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=(e,t,n,r)=>{const i=w.forwardRef(({color:s="currentColor",size:o=24,stroke:a=2,title:c,className:u,children:f,...m},p)=>w.createElement("svg",{ref:p,...Zxe[e],width:o,height:o,className:["tabler-icon",`tabler-icon-${t}`,u].join(" "),...e==="filled"?{fill:s}:{strokeWidth:a,stroke:s},...m},[c&&w.createElement("title",{key:"svg-title"},c),...r.map(([y,v])=>w.createElement(y,v)),...Array.isArray(f)?f:[f]]));return i.displayName=`${n}`,i};/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var v$=Dt("outline","align-justified","IconAlignJustified",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l12 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ewe=Dt("outline","api","IconApi",[["path",{d:"M4 13h5",key:"svg-0"}],["path",{d:"M12 16v-8h3a2 2 0 0 1 2 2v1a2 2 0 0 1 -2 2h-3",key:"svg-1"}],["path",{d:"M20 8v8",key:"svg-2"}],["path",{d:"M9 16v-5.5a2.5 2.5 0 0 0 -5 0v5.5",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var twe=Dt("outline","bolt","IconBolt",[["path",{d:"M13 3l0 7l6 0l-8 11l0 -7l-6 0l8 -11",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var nwe=Dt("outline","book","IconBook",[["path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-0"}],["path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-1"}],["path",{d:"M3 6l0 13",key:"svg-2"}],["path",{d:"M12 6l0 13",key:"svg-3"}],["path",{d:"M21 6l0 13",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var rwe=Dt("outline","box","IconBox",[["path",{d:"M12 3l8 4.5l0 9l-8 4.5l-8 -4.5l0 -9l8 -4.5",key:"svg-0"}],["path",{d:"M12 12l8 -4.5",key:"svg-1"}],["path",{d:"M12 12l0 9",key:"svg-2"}],["path",{d:"M12 12l-8 -4.5",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var iwe=Dt("outline","brand-aws","IconBrandAws",[["path",{d:"M17 18.5a15.198 15.198 0 0 1 -7.37 1.44a14.62 14.62 0 0 1 -6.63 -2.94",key:"svg-0"}],["path",{d:"M19.5 21c.907 -1.411 1.451 -3.323 1.5 -5c-1.197 -.773 -2.577 -.935 -4 -1",key:"svg-1"}],["path",{d:"M3 11v-4.5a1.5 1.5 0 0 1 3 0v4.5",key:"svg-2"}],["path",{d:"M3 9h3",key:"svg-3"}],["path",{d:"M9 5l1.2 6l1.8 -4l1.8 4l1.2 -6",key:"svg-4"}],["path",{d:"M18 10.25c0 .414 .336 .75 .75 .75h1.25a1 1 0 0 0 1 -1v-1a1 1 0 0 0 -1 -1h-1a1 1 0 0 1 -1 -1v-1a1 1 0 0 1 1 -1h1.25a.75 .75 0 0 1 .75 .75",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var swe=Dt("outline","brand-cloudflare","IconBrandCloudflare",[["path",{d:"M13.031 7.007c2.469 -.007 3.295 1.293 3.969 2.993c4 0 4.994 3.825 5 6h-20c-.001 -1.64 1.36 -2.954 3 -3c0 -1.5 1 -3 3 -3c.66 -1.942 2.562 -2.986 5.031 -2.993z",key:"svg-0"}],["path",{d:"M12 13h6",key:"svg-1"}],["path",{d:"M17 10l-2.5 6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var DU=Dt("outline","bug","IconBug",[["path",{d:"M9 9v-1a3 3 0 0 1 6 0v1",key:"svg-0"}],["path",{d:"M8 9h8a6 6 0 0 1 1 3v3a5 5 0 0 1 -10 0v-3a6 6 0 0 1 1 -3",key:"svg-1"}],["path",{d:"M3 13l4 0",key:"svg-2"}],["path",{d:"M17 13l4 0",key:"svg-3"}],["path",{d:"M12 20l0 -6",key:"svg-4"}],["path",{d:"M4 19l3.35 -2",key:"svg-5"}],["path",{d:"M20 19l-3.35 -2",key:"svg-6"}],["path",{d:"M4 7l3.75 2.4",key:"svg-7"}],["path",{d:"M20 7l-3.75 2.4",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var owe=Dt("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var awe=Dt("outline","chevron-up","IconChevronUp",[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var x$=Dt("outline","circles-relation","IconCirclesRelation",[["path",{d:"M9.183 6.117a6 6 0 1 0 4.511 3.986",key:"svg-0"}],["path",{d:"M14.813 17.883a6 6 0 1 0 -4.496 -3.954",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lwe=Dt("outline","cloud","IconCloud",[["path",{d:"M6.657 18c-2.572 0 -4.657 -2.007 -4.657 -4.483c0 -2.475 2.085 -4.482 4.657 -4.482c.393 -1.762 1.794 -3.2 3.675 -3.773c1.88 -.572 3.956 -.193 5.444 1c1.488 1.19 2.162 3.007 1.77 4.769h.99c1.913 0 3.464 1.56 3.464 3.486c0 1.927 -1.551 3.487 -3.465 3.487h-11.878",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hd=Dt("outline","database","IconDatabase",[["path",{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 6v6a8 3 0 0 0 16 0v-6",key:"svg-1"}],["path",{d:"M4 12v6a8 3 0 0 0 16 0v-6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cwe=Dt("outline","external-link","IconExternalLink",[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uwe=Dt("outline","grip-vertical","IconGripVertical",[["path",{d:"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dwe=Dt("outline","hierarchy-2","IconHierarchy2",[["path",{d:"M10 3h4v4h-4z",key:"svg-0"}],["path",{d:"M3 17h4v4h-4z",key:"svg-1"}],["path",{d:"M17 17h4v4h-4z",key:"svg-2"}],["path",{d:"M7 17l5 -4l5 4",key:"svg-3"}],["path",{d:"M12 7l0 6",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fwe=Dt("outline","home","IconHome",[["path",{d:"M5 12l-2 0l9 -9l9 9l-2 0",key:"svg-0"}],["path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7",key:"svg-1"}],["path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var LU=Dt("outline","info-circle","IconInfoCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hwe=Dt("outline","key-off","IconKeyOff",[["path",{d:"M10.17 6.159l2.316 -2.316a2.877 2.877 0 0 1 4.069 0l3.602 3.602a2.877 2.877 0 0 1 0 4.069l-2.33 2.33",key:"svg-0"}],["path",{d:"M14.931 14.948a2.863 2.863 0 0 1 -1.486 -.79l-.301 -.302l-6.558 6.558a2 2 0 0 1 -1.239 .578l-.175 .008h-1.172a1 1 0 0 1 -.993 -.883l-.007 -.117v-1.172a2 2 0 0 1 .467 -1.284l.119 -.13l.414 -.414h2v-2h2v-2l2.144 -2.144l-.301 -.301a2.863 2.863 0 0 1 -.794 -1.504",key:"svg-1"}],["path",{d:"M15 9h.01",key:"svg-2"}],["path",{d:"M3 3l18 18",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mwe=Dt("outline","library-plus","IconLibraryPlus",[["path",{d:"M7 3m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 7.26a2.005 2.005 0 0 0 -1.012 1.737v10c0 1.1 .9 2 2 2h10c.75 0 1.158 -.385 1.5 -1",key:"svg-1"}],["path",{d:"M11 10h6",key:"svg-2"}],["path",{d:"M14 7v6",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pwe=Dt("outline","lock-access-off","IconLockAccessOff",[["path",{d:"M4 8v-2c0 -.554 .225 -1.055 .588 -1.417",key:"svg-0"}],["path",{d:"M4 16v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M16 20h2c.55 0 1.05 -.222 1.41 -.582",key:"svg-3"}],["path",{d:"M15 11a1 1 0 0 1 1 1m-.29 3.704a1 1 0 0 1 -.71 .296h-6a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h2",key:"svg-4"}],["path",{d:"M10 11v-1m1.182 -2.826a2 2 0 0 1 2.818 1.826v1",key:"svg-5"}],["path",{d:"M3 3l18 18",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gwe=Dt("outline","minus","IconMinus",[["path",{d:"M5 12l14 0",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var FU=Dt("outline","photo","IconPhoto",[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var w$=Dt("outline","plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ywe=Dt("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bwe=Dt("outline","server","IconServer",[["path",{d:"M3 4m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z",key:"svg-0"}],["path",{d:"M3 12m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z",key:"svg-1"}],["path",{d:"M7 8l0 .01",key:"svg-2"}],["path",{d:"M7 16l0 .01",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var oy=Dt("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vwe=Dt("outline","switch-horizontal","IconSwitchHorizontal",[["path",{d:"M16 3l4 4l-4 4",key:"svg-0"}],["path",{d:"M10 7l10 0",key:"svg-1"}],["path",{d:"M8 13l-4 4l4 4",key:"svg-2"}],["path",{d:"M4 17l9 0",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var BU=Dt("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xwe=Dt("outline","user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zU=Dt("outline","world","IconWorld",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M3.6 9h16.8",key:"svg-1"}],["path",{d:"M3.6 15h16.8",key:"svg-2"}],["path",{d:"M11.5 3a17 17 0 0 0 0 18",key:"svg-3"}],["path",{d:"M12.5 3a17 17 0 0 1 0 18",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wwe=Dt("filled","bolt-filled","IconBoltFilled",[["path",{d:"M13 2l.018 .001l.016 .001l.083 .005l.011 .002h.011l.038 .009l.052 .008l.016 .006l.011 .001l.029 .011l.052 .014l.019 .009l.015 .004l.028 .014l.04 .017l.021 .012l.022 .01l.023 .015l.031 .017l.034 .024l.018 .011l.013 .012l.024 .017l.038 .034l.022 .017l.008 .01l.014 .012l.036 .041l.026 .027l.006 .009c.12 .147 .196 .322 .218 .513l.001 .012l.002 .041l.004 .064v6h5a1 1 0 0 1 .868 1.497l-.06 .091l-8 11c-.568 .783 -1.808 .38 -1.808 -.588v-6h-5a1 1 0 0 1 -.868 -1.497l.06 -.091l8 -11l.01 -.013l.018 -.024l.033 -.038l.018 -.022l.009 -.008l.013 -.014l.04 -.036l.028 -.026l.008 -.006a1 1 0 0 1 .402 -.199l.011 -.001l.027 -.005l.074 -.013l.011 -.001l.041 -.002z",key:"svg-0"}]]);const S$="-",Swe=e=>{const t=Nwe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(S$);return a[0]===""&&a.length!==1&&a.shift(),VU(a,t)||Ewe(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},VU=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?VU(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(S$);return(o=t.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},gP=/^\[(.+)\]$/,Ewe=e=>{if(gP.test(e)){const t=gP.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Nwe=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)VO(n[i],r,i,t);return r},VO=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:yP(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(_we(i)){VO(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{VO(o,yP(t,s),n,r)})})},yP=(e,t)=>{let n=e;return t.split(S$).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},_we=e=>e.isThemeGetter,Cwe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},UO="!",qO=":",Owe=qO.length,jwe=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const s=[];let o=0,a=0,c=0,u;for(let v=0;v<i.length;v++){let x=i[v];if(o===0&&a===0){if(x===qO){s.push(i.slice(c,v)),c=v+Owe;continue}if(x==="/"){u=v;continue}}x==="["?o++:x==="]"?o--:x==="("?a++:x===")"&&a--}const f=s.length===0?i:i.substring(c),m=Awe(f),p=m!==f,y=u&&u>c?u-c:void 0;return{modifiers:s,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:y}};if(t){const i=t+qO,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},Awe=e=>e.endsWith(UO)?e.substring(0,e.length-1):e.startsWith(UO)?e.substring(1):e,Twe=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||t[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},$we=e=>({cache:Cwe(e.cacheSize),parseClassName:jwe(e),sortModifiers:Twe(e),...Swe(e)}),Rwe=/\s+/,kwe=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=t,o=[],a=e.trim().split(Rwe);let c="";for(let u=a.length-1;u>=0;u-=1){const f=a[u],{isExternal:m,modifiers:p,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:x}=n(f);if(m){c=f+(c.length>0?" "+c:c);continue}let S=!!x,N=r(S?v.substring(0,x):v);if(!N){if(!S){c=f+(c.length>0?" "+c:c);continue}if(N=r(v),!N){c=f+(c.length>0?" "+c:c);continue}S=!1}const _=s(p).join(":"),C=y?_+UO:_,j=C+N;if(o.includes(j))continue;o.push(j);const A=i(N,S);for(let $=0;$<A.length;++$){const k=A[$];o.push(C+k)}c=f+(c.length>0?" "+c:c)}return c};function Mwe(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=UU(t))&&(r&&(r+=" "),r+=n);return r}const UU=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=UU(e[r]))&&(n&&(n+=" "),n+=t);return n};function Iwe(e,...t){let n,r,i,s=o;function o(c){const u=t.reduce((f,m)=>m(f),e());return n=$we(u),r=n.cache.get,i=n.cache.set,s=a,a(c)}function a(c){const u=r(c);if(u)return u;const f=kwe(c,n);return i(c,f),f}return function(){return s(Mwe.apply(null,arguments))}}const Qn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},qU=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,HU=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Pwe=/^\d+\/\d+$/,Dwe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Lwe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Fwe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Bwe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zwe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Af=e=>Pwe.test(e),Nt=e=>!!e&&!Number.isNaN(Number(e)),zl=e=>!!e&&Number.isInteger(Number(e)),l_=e=>e.endsWith("%")&&Nt(e.slice(0,-1)),da=e=>Dwe.test(e),Vwe=()=>!0,Uwe=e=>Lwe.test(e)&&!Fwe.test(e),WU=()=>!1,qwe=e=>Bwe.test(e),Hwe=e=>zwe.test(e),Wwe=e=>!Xe(e)&&!Ke(e),Gwe=e=>ym(e,YU,WU),Xe=e=>qU.test(e),xu=e=>ym(e,XU,Uwe),c_=e=>ym(e,Qwe,Nt),bP=e=>ym(e,GU,WU),Jwe=e=>ym(e,JU,Hwe),dv=e=>ym(e,KU,qwe),Ke=e=>HU.test(e),Vp=e=>bm(e,XU),Ywe=e=>bm(e,Zwe),vP=e=>bm(e,GU),Xwe=e=>bm(e,YU),Kwe=e=>bm(e,JU),fv=e=>bm(e,KU,!0),ym=(e,t,n)=>{const r=qU.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},bm=(e,t,n=!1)=>{const r=HU.exec(e);return r?r[1]?t(r[1]):n:!1},GU=e=>e==="position"||e==="percentage",JU=e=>e==="image"||e==="url",YU=e=>e==="length"||e==="size"||e==="bg-size",XU=e=>e==="length",Qwe=e=>e==="number",Zwe=e=>e==="family-name",KU=e=>e==="shadow",e1e=()=>{const e=Qn("color"),t=Qn("font"),n=Qn("text"),r=Qn("font-weight"),i=Qn("tracking"),s=Qn("leading"),o=Qn("breakpoint"),a=Qn("container"),c=Qn("spacing"),u=Qn("radius"),f=Qn("shadow"),m=Qn("inset-shadow"),p=Qn("text-shadow"),y=Qn("drop-shadow"),v=Qn("blur"),x=Qn("perspective"),S=Qn("aspect"),N=Qn("ease"),_=Qn("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...j(),Ke,Xe],$=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],R=()=>[Ke,Xe,c],D=()=>[Af,"full","auto",...R()],z=()=>[zl,"none","subgrid",Ke,Xe],L=()=>["auto",{span:["full",zl,Ke,Xe]},zl,Ke,Xe],F=()=>[zl,"auto",Ke,Xe],H=()=>["auto","min","max","fr",Ke,Xe],M=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],V=()=>["start","end","center","stretch","center-safe","end-safe"],T=()=>["auto",...R()],I=()=>[Af,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],P=()=>[e,Ke,Xe],W=()=>[...j(),vP,bP,{position:[Ke,Xe]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",Xwe,Gwe,{size:[Ke,Xe]}],X=()=>[l_,Vp,xu],Q=()=>["","none","full",u,Ke,Xe],ie=()=>["",Nt,Vp,xu],ae=()=>["solid","dashed","dotted","double"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[Nt,l_,vP,bP],he=()=>["","none",v,Ke,Xe],ve=()=>["none",Nt,Ke,Xe],Ae=()=>["none",Nt,Ke,Xe],Ce=()=>[Nt,Ke,Xe],Ee=()=>[Af,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[da],breakpoint:[da],color:[Vwe],container:[da],"drop-shadow":[da],ease:["in","out","in-out"],font:[Wwe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[da],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[da],shadow:[da],spacing:["px",Nt],text:[da],"text-shadow":[da],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Af,Xe,Ke,S]}],container:["container"],columns:[{columns:[Nt,Xe,Ke,a]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[zl,"auto",Ke,Xe]}],basis:[{basis:[Af,"full","auto",a,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Nt,Af,"auto","initial","none",Xe]}],grow:[{grow:["",Nt,Ke,Xe]}],shrink:[{shrink:["",Nt,Ke,Xe]}],order:[{order:[zl,"first","last","none",Ke,Xe]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":H()}],"auto-rows":[{"auto-rows":H()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...M(),"normal"]}],"justify-items":[{"justify-items":[...V(),"normal"]}],"justify-self":[{"justify-self":["auto",...V()]}],"align-content":[{content:["normal",...M()]}],"align-items":[{items:[...V(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...V(),{baseline:["","last"]}]}],"place-content":[{"place-content":M()}],"place-items":[{"place-items":[...V(),"baseline"]}],"place-self":[{"place-self":["auto",...V()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:T()}],mx:[{mx:T()}],my:[{my:T()}],ms:[{ms:T()}],me:[{me:T()}],mt:[{mt:T()}],mr:[{mr:T()}],mb:[{mb:T()}],ml:[{ml:T()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:I()}],w:[{w:[a,"screen",...I()]}],"min-w":[{"min-w":[a,"screen","none",...I()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...I()]}],h:[{h:["screen","lh",...I()]}],"min-h":[{"min-h":["screen","lh","none",...I()]}],"max-h":[{"max-h":["screen","lh",...I()]}],"font-size":[{text:["base",n,Vp,xu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ke,c_]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",l_,Xe]}],"font-family":[{font:[Ywe,Xe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ke,Xe]}],"line-clamp":[{"line-clamp":[Nt,"none",Ke,c_]}],leading:[{leading:[s,...R()]}],"list-image":[{"list-image":["none",Ke,Xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ke,Xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[Nt,"from-font","auto",Ke,xu]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[Nt,"auto",Ke,Xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke,Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke,Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},zl,Ke,Xe],radial:["",Ke,Xe],conic:[zl,Ke,Xe]},Kwe,Jwe]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ae(),"hidden","none"]}],"divide-style":[{divide:[...ae(),"hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:[...ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Nt,Ke,Xe]}],"outline-w":[{outline:["",Nt,Vp,xu]}],"outline-color":[{outline:P()}],shadow:[{shadow:["","none",f,fv,dv]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",m,fv,dv]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[Nt,xu]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":P()}],"text-shadow":[{"text-shadow":["none",p,fv,dv]}],"text-shadow-color":[{"text-shadow":P()}],opacity:[{opacity:[Nt,Ke,Xe]}],"mix-blend":[{"mix-blend":[...fe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":fe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Nt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":P()}],"mask-image-linear-to-color":[{"mask-linear-to":P()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":P()}],"mask-image-t-to-color":[{"mask-t-to":P()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":P()}],"mask-image-r-to-color":[{"mask-r-to":P()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":P()}],"mask-image-b-to-color":[{"mask-b-to":P()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":P()}],"mask-image-l-to-color":[{"mask-l-to":P()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":P()}],"mask-image-x-to-color":[{"mask-x-to":P()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":P()}],"mask-image-y-to-color":[{"mask-y-to":P()}],"mask-image-radial":[{"mask-radial":[Ke,Xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":P()}],"mask-image-radial-to-color":[{"mask-radial-to":P()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[Nt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":P()}],"mask-image-conic-to-color":[{"mask-conic-to":P()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ke,Xe]}],filter:[{filter:["","none",Ke,Xe]}],blur:[{blur:he()}],brightness:[{brightness:[Nt,Ke,Xe]}],contrast:[{contrast:[Nt,Ke,Xe]}],"drop-shadow":[{"drop-shadow":["","none",y,fv,dv]}],"drop-shadow-color":[{"drop-shadow":P()}],grayscale:[{grayscale:["",Nt,Ke,Xe]}],"hue-rotate":[{"hue-rotate":[Nt,Ke,Xe]}],invert:[{invert:["",Nt,Ke,Xe]}],saturate:[{saturate:[Nt,Ke,Xe]}],sepia:[{sepia:["",Nt,Ke,Xe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ke,Xe]}],"backdrop-blur":[{"backdrop-blur":he()}],"backdrop-brightness":[{"backdrop-brightness":[Nt,Ke,Xe]}],"backdrop-contrast":[{"backdrop-contrast":[Nt,Ke,Xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Nt,Ke,Xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Nt,Ke,Xe]}],"backdrop-invert":[{"backdrop-invert":["",Nt,Ke,Xe]}],"backdrop-opacity":[{"backdrop-opacity":[Nt,Ke,Xe]}],"backdrop-saturate":[{"backdrop-saturate":[Nt,Ke,Xe]}],"backdrop-sepia":[{"backdrop-sepia":["",Nt,Ke,Xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ke,Xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Nt,"initial",Ke,Xe]}],ease:[{ease:["linear","initial",N,Ke,Xe]}],delay:[{delay:[Nt,Ke,Xe]}],animate:[{animate:["none",_,Ke,Xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Ke,Xe]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:ve()}],"rotate-x":[{"rotate-x":ve()}],"rotate-y":[{"rotate-y":ve()}],"rotate-z":[{"rotate-z":ve()}],scale:[{scale:Ae()}],"scale-x":[{"scale-x":Ae()}],"scale-y":[{"scale-y":Ae()}],"scale-z":[{"scale-z":Ae()}],"scale-3d":["scale-3d"],skew:[{skew:Ce()}],"skew-x":[{"skew-x":Ce()}],"skew-y":[{"skew-y":Ce()}],transform:[{transform:[Ke,Xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ee()}],"translate-x":[{"translate-x":Ee()}],"translate-y":[{"translate-y":Ee()}],"translate-z":[{"translate-z":Ee()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke,Xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke,Xe]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[Nt,Vp,xu,c_]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},qe=Iwe(e1e);function t1e(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,s,o=[],a="",c=e.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(o.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}const n1e=Z8.useInsertionEffect,r1e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",i1e=r1e?w.useLayoutEffect:w.useEffect,s1e=n1e||i1e,QU=e=>{const t=w.useRef([e,(...n)=>t[0](...n)]).current;return s1e(()=>{t[0]=e}),t[1]},o1e="popstate",E$="pushState",N$="replaceState",a1e="hashchange",xP=[o1e,E$,N$,a1e],l1e=e=>{for(const t of xP)addEventListener(t,e);return()=>{for(const t of xP)removeEventListener(t,e)}},ZU=(e,t)=>h$.useSyncExternalStore(l1e,e,t),c1e=()=>location.search,u1e=({ssrSearch:e=""}={})=>ZU(c1e,()=>e),wP=()=>location.pathname,d1e=({ssrPath:e}={})=>ZU(wP,e?()=>e:wP),f1e=(e,{replace:t=!1,state:n=null}={})=>history[t?N$:E$](n,"",e),h1e=(e={})=>[d1e(e),f1e],SP=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[SP]>"u"){for(const e of[E$,N$]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,SP,{value:!0})}const m1e=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",eq=(e="")=>e==="/"?"":e,p1e=(e,t)=>e[0]==="~"?e.slice(1):eq(t)+e,g1e=(e="",t)=>m1e(HO(eq(e)),HO(t)),y1e=e=>e[0]==="?"?e.slice(1):e,HO=e=>{try{return decodeURI(e)}catch{return e}},b1e=e=>HO(y1e(e)),tq={hook:h1e,searchHook:u1e,parser:t1e,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},nq=w.createContext(tq),Wc=()=>w.useContext(nq),rq={},iq=w.createContext(rq),_$=()=>w.useContext(iq),nS=e=>{const[t,n]=e.hook(e);return[g1e(e.base,t),QU((r,i)=>n(p1e(r,e.base),i))]},Ss=()=>nS(Wc()),v1e=()=>{const e=Wc();return b1e(e.searchHook(e))},sq=(e,t,n,r)=>{const{pattern:i,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=i.exec(n)||[],[a,...c]=o;return a!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((m,p)=>[m,c[p]])):o.groups;let f={...c};return u&&Object.assign(f,u),f})(),...r?[a]:[]]:[!1,null]},oq=({children:e,...t})=>{var f,m;const n=Wc(),r=t.hook?tq:n;let i=r;const[s,o]=((f=t.ssrPath)==null?void 0:f.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=s),t.hrefs=t.hrefs??((m=t.hook)==null?void 0:m.hrefs);let a=w.useRef({}),c=a.current,u=c;for(let p in r){const y=p==="base"?r[p]+(t[p]||""):t[p]||r[p];c===u&&y!==u[p]&&(a.current=u={...u}),u[p]=y,y!==r[p]&&(i=u)}return w.createElement(nq.Provider,{value:i,children:e})},EP=({children:e,component:t},n)=>t?w.createElement(t,{params:n}):typeof e=="function"?e(n):e,x1e=e=>{let t=w.useRef(rq);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([r,i])=>i!==n[r])?e:n},at=({path:e,nest:t,match:n,...r})=>{const i=Wc(),[s]=nS(i),[o,a,c]=n??sq(i.parser,e,s,t),u=x1e({..._$(),...a});if(!o)return null;const f=c?w.createElement(oq,{base:c},EP(r,u)):EP(r,u);return w.createElement(iq.Provider,{value:u,children:f})},rS=w.forwardRef((e,t)=>{const n=Wc(),[r,i]=nS(n),{to:s="",href:o=s,onClick:a,asChild:c,children:u,className:f,replace:m,state:p,...y}=e,v=QU(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(a==null||a(S),S.defaultPrevented||(S.preventDefault(),i(o,e)))}),x=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&w.isValidElement(u)?w.cloneElement(u,{onClick:v,href:x}):w.createElement("a",{...y,onClick:v,href:x,className:f!=null&&f.call?f(r===o):f,children:u,ref:t})}),aq=e=>Array.isArray(e)?e.flatMap(t=>aq(t&&t.type===w.Fragment?t.props.children:t)):[e],Xa=({children:e,location:t})=>{const n=Wc(),[r]=nS(n);for(const i of aq(e)){let s=0;if(w.isValidElement(i)&&(s=sq(n.parser,i.props.path,t||r,i.props.nest))[0])return w.cloneElement(i,{match:s})}return null},zt=e=>(xr(),e),w1e=(e="",t="")=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",lq=(e,t="")=>e[0]==="~"?e.slice(1):t+e,S1e=e=>{try{return decodeURI(e)}catch{return e}},E1e=e=>{const[t,n]=e.hook(e);return[S1e(w1e(e.base,t)),zt((r,i)=>n(lq(r,e.base),i))]};function N1e(e,t){const n=window.location.pathname;return n===e||n.endsWith(e)||n.includes(e+"/")}function Ln({className:e,native:t,onClick:n,...r}){const i=Wc(),[s,o]=E1e(i);function a(y,v){if(y.startsWith(v)){const x=y.replace(v,"");return x.length===0||x[0]==="/"}return!1}const c=r.href??r.to,u=i.hrefs(c[0]==="~"?c.slice(1):i.base+c,i).replace("//","/"),f=lq(s,i.base).replace("//","/"),m=u.replace(i.base,"").length<=1?u===f:a(f,u);if(t)return h.jsx("a",{className:`${m?"active ":""}${e}`,...r});const p=y=>{n==null||n(y)};return h.jsx(rS,{className:`${m?"active ":""}${e}`,...r,onClick:p})}const _1e={smaller:"px-1.5 py-1 rounded-md gap-1 !text-xs",small:"px-2 py-1.5 rounded-md gap-1 text-sm",default:"px-3 py-2.5 rounded-md gap-1.5",large:"px-4 py-3 rounded-md gap-2.5 text-lg"},C1e={smaller:12,small:14,default:16,large:20},O1e={default:"bg-primary/5 hover:bg-primary/10 link text-primary/70",primary:"bg-primary hover:bg-primary/80 link text-background",ghost:"bg-transparent hover:bg-primary/5 link text-primary/70",outline:"border border-primary/20 bg-transparent hover:bg-primary/5 link text-primary/80",red:"dark:bg-red-950 dark:hover:bg-red-900 bg-red-100 hover:bg-red-200 link text-primary/70",subtlered:"dark:text-red-700 text-red-700 dark:hover:bg-red-900 dark:hover:text-red-200 bg-transparent hover:bg-red-50 link"},cq=({children:e,size:t,variant:n,IconLeft:r,IconRight:i,iconSize:s=C1e[t??"default"],iconProps:o,labelClassName:a,...c})=>({...c,className:qe("flex flex-row flex-nowrap items-center !font-semibold disabled:opacity-50 cursor-pointer disabled:cursor-not-allowed transition-[opacity,background-color,color,border-color]",_1e[t??"default"],O1e[n??"default"],c.className),children:h.jsxs(h.Fragment,{children:[r&&h.jsx(r,{size:s,...o}),e&&w.Children.count(e)===1?h.jsx("span",{className:qe("leading-none",a),children:e}):e,i&&h.jsx(i,{size:s,...o})]})}),tt=w.forwardRef((e,t)=>h.jsx("button",{type:"button",ref:t,...cq(e)})),WO=w.forwardRef((e,t)=>h.jsx(Ln,{ref:t,href:"#",...cq(e)})),Jn=({Icon:e=void 0,title:t=void 0,description:n="Check back later my friend.",primary:r,secondary:i,className:s,children:o})=>h.jsx("div",{className:qe("flex flex-col h-full w-full justify-center items-center",s),children:h.jsxs("div",{className:"flex flex-col gap-3 items-center max-w-80",children:[e&&h.jsx(e,{size:48,className:"opacity-50",stroke:1}),h.jsxs("div",{className:"flex flex-col gap-1",children:[t&&h.jsx("h3",{className:"text-center text-lg font-bold",children:t}),h.jsx("p",{className:"text-center text-primary/60",children:n})]}),h.jsxs("div",{className:"mt-1.5 flex flex-row gap-2",children:[i&&h.jsx(tt,{variant:"default",...i}),r&&h.jsx(tt,{variant:"primary",...r}),o]})]})}),j1e=e=>h.jsx(Jn,{title:"Not Found",...e}),A1e=e=>h.jsx(Jn,{title:"Not Allowed",...e}),T1e=({what:e,...t})=>h.jsx(Jn,{Icon:pwe,title:"Missing Permission",description:`You're not allowed to access ${e??"this"}.`,...t}),$1e=e=>h.jsx(Jn,{title:"Not Enabled",...e}),bi={NotFound:j1e,NotAllowed:A1e,NotEnabled:$1e,MissingPermission:T1e},ht={data:{root:()=>"/data",entity:{list:e=>`/entity/${e}`,create:e=>`/entity/${e}/create`,edit:(e,t)=>`/entity/${e}/edit/${t}`},schema:{root:()=>"/schema",entity:e=>`/schema/entity/${e}`}},auth:{root:()=>"/auth",users:{list:()=>"/users",edit:e=>`/users/edit/${e}`},roles:{list:()=>"/roles",edit:e=>`/roles/edit/${e}`},settings:()=>"/settings",strategies:()=>"/strategies"},flows:{root:()=>"/flows",flows:{list:()=>"/",edit:e=>`/flow/${e}`}},settings:{root:()=>"/settings",path:e=>`/settings/${e.join("/")}`}};function R1e(e,t){const n=C1(t,{encode:!1});return`${e}?${n}`}function k1e(){const[e]=Bn();return(t,n)=>{e(t(ht),n)}}function Bn(){const[e,t]=Ss(),n=Wc(),{app:r}=ct(),i=r.options.basepath;return[(s,o)=>{(c=>{c()})(()=>{if(o){if("reload"in o){window.location.href=s;return}else if("target"in o){const f=window.location.origin+n.base+s;window.open(f,o.target);return}}const c=o!=null&&o.absolute?`~/${i}${s}`.replace(/\/+/g,"/"):s,u={...o==null?void 0:o.state,referrer:e};t(o!=null&&o.query?R1e(c,o==null?void 0:o.query):c,{replace:o==null?void 0:o.replace,state:u})})},e,s=>{const o=window.history.state;o!=null&&o.referrer?t(o.referrer,{replace:!0}):s!=null&&s.fallback?t(s.fallback,{replace:!0}):window.history.back()}]}function M1e(e="/",t){const{app:n}=ct(),[r]=Bn(),i=document.referrer,s=window.history.length,o=i.length===0,a=o&&s>1||!!o;function c(){o&&s>2?window.history.back():typeof e=="string"?r(e):typeof e=="function"&&e()}return{same:o,canGoBack:a,goBack:c}}const uq=w.createContext(void 0);function I1e({includeSecrets:e=!1,options:t,children:n,fallback:r=null}){const[i,s]=w.useState(e),[o,a]=w.useState(),[c,u]=w.useState(!1),[f,m]=w.useState(),p=w.useRef(!1),y=w.useRef(0),[v,x]=w.useState(0),S=Uo();async function N(){await _(e,{force:!0,fresh:!0})}async function _(k=!1,R){const D=i?2:1;if(y.current===D||i&&(R==null?void 0:R.force)!==!0)return;y.current=D;const z=await S.system.readSchema({config:!0,secrets:k,fresh:R==null?void 0:R.fresh});if(z.ok)f&&m(!1);else if(p.current||(p.current=!0,m(!0),c&&(o!=null&&o.schema)))return;const L=z.ok?z.body:{version:0,mode:"db",schema:rxe(),config:ixe(),permissions:[],fallback:!0};w.startTransition(()=>{(()=>{a(L),s(k),u(!0),x(H=>H+1),y.current=0})()})}async function C(){i||await _(!0)}if(w.useEffect(()=>{o!=null&&o.schema||_(e)},[]),!c||!o)return r;const j=new Qxe(o==null?void 0:o.config,t),A=Kxe({api:S,setSchema:a,reloadSchema:N}),$=i&&!f;return h.jsx(uq.Provider,{value:{...o,actions:A,requireSecrets:C,app:j,options:j.options,hasSecrets:$},children:f?h.jsx(P1e,{}):n},v)}function P1e(){const[e]=Bn();return h.jsx(bi.MissingPermission,{what:"the Admin UI",primary:{children:"Login",onClick:()=>e("/auth/login")}})}function ct({withSecrets:e}={}){const t=w.useContext(uq);return e&&t.requireSecrets(),t}function iS({children:e}){const{readonly:t}=ct();return t?null:e}const D1e={},NP=e=>{let t;const n=new Set,r=(f,m)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const y=t;t=m??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(v=>v(t,y))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(D1e?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,c);return c},C$=e=>e?NP(e):NP;var u_={exports:{}},d_={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _P;function L1e(){if(_P)return d_;_P=1;var e=Qh(),t=CU();function n(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,s=e.useRef,o=e.useEffect,a=e.useMemo,c=e.useDebugValue;return d_.useSyncExternalStoreWithSelector=function(u,f,m,p,y){var v=s(null);if(v.current===null){var x={hasValue:!1,value:null};v.current=x}else x=v.current;v=a(function(){function N($){if(!_){if(_=!0,C=$,$=p($),y!==void 0&&x.hasValue){var k=x.value;if(y(k,$))return j=k}return j=$}if(k=j,r(C,$))return k;var R=p($);return y!==void 0&&y(k,R)?(C=$,k):(C=$,j=R)}var _=!1,C,j,A=m===void 0?null:m;return[function(){return N(f())},A===null?void 0:function(){return N(A())}]},[f,m,p,y]);var S=i(u,v[0],v[1]);return o(function(){x.hasValue=!0,x.value=S},[S]),c(S),S},d_}var CP;function F1e(){return CP||(CP=1,u_.exports=L1e()),u_.exports}var dq=F1e();const fq=so(dq),hq={},{useDebugValue:B1e}=je,{useSyncExternalStoreWithSelector:z1e}=fq;let OP=!1;const V1e=e=>e;function qr(e,t=V1e,n){(hq?"production":void 0)!=="production"&&n&&!OP&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),OP=!0);const r=z1e(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return B1e(r),r}const jP=e=>{(hq?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?C$(e):e,n=(r,i)=>qr(t,r,i);return Object.assign(n,t),n},sS=e=>e?jP(e):jP,U1e={},u0=(e,t)=>(...n)=>Object.assign({},e,t(...n));function q1e(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const ay=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return ay(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ay(r)(n)}}}},H1e=(e,t)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:S=>S,version:0,merge:(S,N)=>({...N,...S}),...t},o=!1;const a=new Set,c=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return e((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...S)},r,i);const f=ay(s.serialize),m=()=>{const S=s.partialize({...r()});let N;const _=f({state:S,version:s.version}).then(C=>u.setItem(s.name,C)).catch(C=>{N=C});if(N)throw N;return _},p=i.setState;i.setState=(S,N)=>{p(S,N),m()};const y=e((...S)=>{n(...S),m()},r,i);let v;const x=()=>{var S;if(!u)return;o=!1,a.forEach(_=>_(r()));const N=((S=s.onRehydrateStorage)==null?void 0:S.call(s,r()))||void 0;return ay(u.getItem.bind(u))(s.name).then(_=>{if(_)return s.deserialize(_)}).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return s.migrate(_.state,_.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return _.state}).then(_=>{var C;return v=s.merge(_,(C=r())!=null?C:y),n(v,!0),m()}).then(()=>{N==null||N(v,void 0),o=!0,c.forEach(_=>_(v))}).catch(_=>{N==null||N(void 0,_)})};return i.persist={setOptions:S=>{s={...s,...S},S.getStorage&&(u=S.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:S=>(a.add(S),()=>{a.delete(S)}),onFinishHydration:S=>(c.add(S),()=>{c.delete(S)})},x(),v||y},W1e=(e,t)=>(n,r,i)=>{let s={storage:q1e(()=>localStorage),partialize:x=>x,version:0,merge:(x,S)=>({...S,...x}),...t},o=!1;const a=new Set,c=new Set;let u=s.storage;if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...x)},r,i);const f=()=>{const x=s.partialize({...r()});return u.setItem(s.name,{state:x,version:s.version})},m=i.setState;i.setState=(x,S)=>{m(x,S),f()};const p=e((...x)=>{n(...x),f()},r,i);i.getInitialState=()=>p;let y;const v=()=>{var x,S;if(!u)return;o=!1,a.forEach(_=>{var C;return _((C=r())!=null?C:p)});const N=((S=s.onRehydrateStorage)==null?void 0:S.call(s,(x=r())!=null?x:p))||void 0;return ay(u.getItem.bind(u))(s.name).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return[!0,s.migrate(_.state,_.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,_.state];return[!1,void 0]}).then(_=>{var C;const[j,A]=_;if(y=s.merge(A,(C=r())!=null?C:p),n(y,!0),j)return f()}).then(()=>{N==null||N(y,void 0),y=r(),o=!0,c.forEach(_=>_(y))}).catch(_=>{N==null||N(void 0,_)})};return i.persist={setOptions:x=>{s={...s,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:x=>(a.add(x),()=>{a.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},s.skipHydration||v(),y||p},G1e=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((U1e?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),H1e(e,t)):W1e(e,t),mq=G1e,pq=["dark","light","system"],AP=sS(mq(u0({theme:null},e=>({setTheme:t=>{pq.includes(t)&&document.startViewTransition(()=>{e({theme:t})})}})),{name:"bknd-admin-theme"}));function al(e="system"){var a;const t=ct(),n=AP(c=>c.theme),r=AP(c=>c.setTheme),i=(a=t==null?void 0:t.options)==null?void 0:a.theme,s=typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches,o=i??n??e;return{theme:o==="system"?s?"dark":"light":o,value:o,themes:pq,setTheme:r,state:n,prefersDark:s,override:i}}function oS({scale:e=.2,fill:t,...n}){const r=al(),i=n.theme??r.theme,s=t||(i==="light"?"black":"white"),o={width:Math.round(578*e),height:Math.round(188*e)};return h.jsx("div",{style:o,children:h.jsxs("svg",{width:o.width,height:o.height,viewBox:"0 0 578 188",fill:s,xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.5 34C37.0817 34 33.5 37.5817 33.5 42V146C33.5 150.418 37.0817 154 41.5 154H158.5C162.918 154 166.5 150.418 166.5 146V42C166.5 37.5817 162.918 34 158.5 34H41.5ZM123.434 113.942C124.126 111.752 124.5 109.42 124.5 107C124.5 94.2975 114.203 84 101.5 84C99.1907 84 96.9608 84.3403 94.8579 84.9736L87.2208 65.1172C90.9181 63.4922 93.5 59.7976 93.5 55.5C93.5 49.701 88.799 45 83 45C77.201 45 72.5 49.701 72.5 55.5C72.5 61.299 77.201 66 83 66C83.4453 66 83.8841 65.9723 84.3148 65.9185L92.0483 86.0256C87.1368 88.2423 83.1434 92.1335 80.7957 96.9714L65.4253 91.1648C65.4746 90.7835 65.5 90.3947 65.5 90C65.5 85.0294 61.4706 81 56.5 81C51.5294 81 47.5 85.0294 47.5 90C47.5 94.9706 51.5294 99 56.5 99C60.0181 99 63.0648 96.9814 64.5449 94.0392L79.6655 99.7514C78.9094 102.03 78.5 104.467 78.5 107C78.5 110.387 79.2321 113.603 80.5466 116.498L69.0273 123.731C67.1012 121.449 64.2199 120 61 120C55.201 120 50.5 124.701 50.5 130.5C50.5 136.299 55.201 141 61 141C66.799 141 71.5 136.299 71.5 130.5C71.5 128.997 71.1844 127.569 70.6158 126.276L81.9667 119.149C86.0275 125.664 93.2574 130 101.5 130C110.722 130 118.677 124.572 122.343 116.737L132.747 120.899C132.585 121.573 132.5 122.276 132.5 123C132.5 127.971 136.529 132 141.5 132C146.471 132 150.5 127.971 150.5 123C150.5 118.029 146.471 114 141.5 114C138.32 114 135.525 115.649 133.925 118.139L123.434 113.942Z"}),h.jsx("path",{d:"M243.9 151.5C240.4 151.5 237 151 233.7 150C230.4 149 227.4 147.65 224.7 145.95C222 144.15 219.75 142.15 217.95 139.95C216.15 137.65 215 135.3 214.5 132.9L219.3 131.1L218.25 149.7H198.15V39H219.45V89.25L215.4 87.6C216 85.2 217.15 82.9 218.85 80.7C220.55 78.4 222.7 76.4 225.3 74.7C227.9 72.9 230.75 71.5 233.85 70.5C236.95 69.5 240.15 69 243.45 69C250.35 69 256.5 70.8 261.9 74.4C267.3 77.9 271.55 82.75 274.65 88.95C277.85 95.15 279.45 102.25 279.45 110.25C279.45 118.25 277.9 125.35 274.8 131.55C271.7 137.75 267.45 142.65 262.05 146.25C256.75 149.75 250.7 151.5 243.9 151.5ZM238.8 133.35C242.8 133.35 246.25 132.4 249.15 130.5C252.15 128.5 254.5 125.8 256.2 122.4C257.9 118.9 258.75 114.85 258.75 110.25C258.75 105.75 257.9 101.75 256.2 98.25C254.6 94.75 252.3 92.05 249.3 90.15C246.3 88.25 242.8 87.3 238.8 87.3C234.8 87.3 231.3 88.25 228.3 90.15C225.3 92.05 222.95 94.75 221.25 98.25C219.55 101.75 218.7 105.75 218.7 110.25C218.7 114.85 219.55 118.9 221.25 122.4C222.95 125.8 225.3 128.5 228.3 130.5C231.3 132.4 234.8 133.35 238.8 133.35ZM308.312 126.15L302.012 108.6L339.512 70.65H367.562L308.312 126.15ZM288.062 150V39H309.362V150H288.062ZM341.762 150L313.262 114.15L328.262 102.15L367.412 150H341.762ZM371.675 150V70.65H392.075L392.675 86.85L388.475 88.65C389.575 85.05 391.525 81.8 394.325 78.9C397.225 75.9 400.675 73.5 404.675 71.7C408.675 69.9 412.875 69 417.275 69C423.275 69 428.275 70.2 432.275 72.6C436.375 75 439.425 78.65 441.425 83.55C443.525 88.35 444.575 94.3 444.575 101.4V150H423.275V103.05C423.275 99.45 422.775 96.45 421.775 94.05C420.775 91.65 419.225 89.9 417.125 88.8C415.125 87.6 412.625 87.1 409.625 87.3C407.225 87.3 404.975 87.7 402.875 88.5C400.875 89.2 399.125 90.25 397.625 91.65C396.225 93.05 395.075 94.65 394.175 96.45C393.375 98.25 392.975 100.2 392.975 102.3V150H382.475C380.175 150 378.125 150 376.325 150C374.525 150 372.975 150 371.675 150ZM488.536 151.5C481.636 151.5 475.436 149.75 469.936 146.25C464.436 142.65 460.086 137.8 456.886 131.7C453.786 125.5 452.236 118.35 452.236 110.25C452.236 102.35 453.786 95.3 456.886 89.1C460.086 82.9 464.386 78 469.786 74.4C475.286 70.8 481.536 69 488.536 69C492.236 69 495.786 69.6 499.186 70.8C502.686 71.9 505.786 73.45 508.486 75.45C511.286 77.45 513.536 79.7 515.236 82.2C516.936 84.6 517.886 87.15 518.086 89.85L512.686 90.75V39H533.986V150H513.886L512.986 131.7L517.186 132.15C516.986 134.65 516.086 137.05 514.486 139.35C512.886 141.65 510.736 143.75 508.036 145.65C505.436 147.45 502.436 148.9 499.036 150C495.736 151 492.236 151.5 488.536 151.5ZM493.336 133.8C497.336 133.8 500.836 132.8 503.836 130.8C506.836 128.8 509.186 126.05 510.886 122.55C512.586 119.05 513.436 114.95 513.436 110.25C513.436 105.65 512.586 101.6 510.886 98.1C509.186 94.5 506.836 91.75 503.836 89.85C500.836 87.85 497.336 86.85 493.336 86.85C489.336 86.85 485.836 87.85 482.836 89.85C479.936 91.75 477.636 94.5 475.936 98.1C474.336 101.6 473.536 105.65 473.536 110.25C473.536 114.95 474.336 119.05 475.936 122.55C477.636 126.05 479.936 128.8 482.836 130.8C485.836 132.8 489.336 133.8 493.336 133.8Z"})]})})}function J1e(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Y1e(e,t){const n=t,r=!1,i=J1e(e),s=w.useRef(0),o=w.useRef(()=>{}),a=Object.assign(w.useCallback((...c)=>{window.clearTimeout(s.current);const u=()=>{s.current!==0&&(s.current=0,i(...c))};o.current=u,a.flush=u,s.current=window.setTimeout(u,n)},[i,n]),{flush:o.current});return w.useEffect(()=>()=>{window.clearTimeout(s.current)},[a,r]),a}const TP=["mousedown","touchstart"];function aS(e,t,n){const r=w.useRef(null);return w.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";n.every(u=>!!u&&!s.composedPath().includes(u))&&!a&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||TP).forEach(s=>document.addEventListener(s,i)),()=>{(t||TP).forEach(s=>document.removeEventListener(s,i))}},[r,e,n]),r}function X1e({timeout:e=2e3}={}){const[t,n]=w.useState(null),[r,i]=w.useState(!1),[s,o]=w.useState(null),a=f=>{window.clearTimeout(s),o(window.setTimeout(()=>i(!1),e)),i(f)};return{copy:f=>{"clipboard"in navigator?navigator.clipboard.writeText(f).then(()=>a(!0)).catch(m=>n(m)):n(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{i(!1),n(null),window.clearTimeout(s)},error:t,copied:r}}const K1e=/input|select|textarea|button|object/,gq="a, input, select, textarea, button, object, [tabindex]";function Q1e(e){return e.style.display==="none"}function Z1e(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(Q1e(n))return!1;n=n.parentNode}return!0}function yq(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function GO(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(yq(e));return(K1e.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&Z1e(e)}function bq(e){const t=yq(e);return(Number.isNaN(t)||t>=0)&&GO(e)}function eSe(e){return Array.from(e.querySelectorAll(gq)).filter(bq)}function tSe(e,t){const n=eSe(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],i=e.getRootNode();let s=r===i.activeElement||e===i.activeElement;const o=i.activeElement;if(o.tagName==="INPUT"&&o.getAttribute("type")==="radio"&&(s=n.filter(f=>f.getAttribute("type")==="radio"&&f.getAttribute("name")===o.getAttribute("name")).includes(r)),!s)return;t.preventDefault();const c=n[t.shiftKey?n.length-1:0];c&&c.focus()}function O$(e=!0){const t=w.useRef(null),n=i=>{let s=i.querySelector("[data-autofocus]");if(!s){const o=Array.from(i.querySelectorAll(gq));s=o.find(bq)||o.find(GO)||null,!s&&GO(i)&&(s=i)}s&&s.focus({preventScroll:!0})},r=w.useCallback(i=>{e&&i!==null&&t.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&n(i)}),t.current=i):t.current=null)},[e]);return w.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>n(t.current));const i=s=>{s.key==="Tab"&&t.current&&tSe(t.current,s)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e]),r}function $P(e,t,n){w.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function vq(e=[!1,!0]){const[[t],n]=w.useReducer((r,i)=>{const s=i instanceof Function?i(r[0]):i,o=Math.abs(r.indexOf(s));return r.slice(o).concat(r.slice(0,o))},e);return[t,n]}const RP={passive:!0};function nSe(){const[e,t]=w.useState({width:0,height:0}),n=w.useCallback(()=>{t({width:window.innerWidth||0,height:window.innerHeight||0})},[]);return $P("resize",n,RP),$P("orientationchange",n,RP),w.useEffect(n,[]),e}const rSe={" ":"space",ArrowLeft:"arrowleft",ArrowRight:"arrowright",ArrowUp:"arrowup",ArrowDown:"arrowdown",Escape:"esc",Esc:"esc",Enter:"enter",Tab:"tab",Backspace:"backspace",Delete:"delete",Insert:"insert",Home:"home",End:"end",PageUp:"pageup",PageDown:"pagedown","+":"plus","-":"minus","*":"asterisk","/":"slash"};function hv(e){const t=e.replace("Key","").toLowerCase();return rSe[e]||t}function iSe(e){const t=e.toLowerCase().split("+").map(s=>s.trim()),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift"),plus:t.includes("[plus]")},r=["alt","ctrl","meta","shift","mod"],i=t.find(s=>!r.includes(s));return{...n,key:i==="[plus]"?"+":i}}function sSe(e,t,n){const{alt:r,ctrl:i,meta:s,mod:o,shift:a,key:c}=e,{altKey:u,ctrlKey:f,metaKey:m,shiftKey:p,key:y,code:v}=t;if(r!==u)return!1;if(o){if(!f&&!m)return!1}else if(i!==f||s!==m)return!1;return a!==p?!1:!!(c&&(n?hv(v)===hv(c):hv(y??v)===hv(c)))}function xq(e,t){return n=>sSe(iSe(e),n,t)}function oSe(e){return t=>{const n="nativeEvent"in t?t.nativeEvent:t;e.forEach(([r,i,s={preventDefault:!0,usePhysicalKeys:!1}])=>{xq(r,s.usePhysicalKeys)(n)&&(s.preventDefault&&t.preventDefault(),i(n))})}}function aSe(e,t,n=!1){return e.target instanceof HTMLElement?(n||!e.target.isContentEditable)&&!t.includes(e.target.tagName):!0}function j$(e,t=["INPUT","TEXTAREA","SELECT"],n=!1){w.useEffect(()=>{const r=i=>{e.forEach(([s,o,a={preventDefault:!0,usePhysicalKeys:!1}])=>{xq(s,a.usePhysicalKeys)(i)&&aSe(i,t,n)&&(a.preventDefault&&i.preventDefault(),o(i))})};return document.documentElement.addEventListener("keydown",r),()=>document.documentElement.removeEventListener("keydown",r)},[e])}function vm(e=!1,t){const{onOpen:n,onClose:r}={},[i,s]=w.useState(e),o=w.useCallback(()=>{s(u=>u||(n==null||n(),!0))},[n]),a=w.useCallback(()=>{s(u=>u&&(r==null||r(),!1))},[r]),c=w.useCallback(()=>{i?a():o()},[a,o,i]);return[i,{open:o,close:a,toggle:c}]}function lSe(){const e=w.useRef(null),[t,n]=w.useState(!1);return{ref:w.useCallback(i=>{var s,o;typeof IntersectionObserver<"u"&&(i&&!e.current?e.current=new IntersectionObserver(a=>n(a.some(c=>c.isIntersecting))):(s=e.current)==null||s.disconnect(),i?(o=e.current)==null||o.observe(i):n(!1))},[]),inViewport:t}}function kP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function wq(...e){return t=>{let n=!1;const r=e.map(i=>{const s=kP(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():kP(e[i],null)}}}}function Gc(...e){return w.useCallback(wq(...e),e)}var Sq=w.forwardRef((e,t)=>{const{children:n,...r}=e,i=w.Children.toArray(n),s=i.find(uSe);if(s){const o=s.props.children,a=i.map(c=>c===s?w.Children.count(o)>1?w.Children.only(null):w.isValidElement(o)?o.props.children:null:c);return h.jsx(JO,{...r,ref:t,children:w.isValidElement(o)?w.cloneElement(o,void 0,a):null})}return h.jsx(JO,{...r,ref:t,children:n})});Sq.displayName="Slot";var JO=w.forwardRef((e,t)=>{const{children:n,...r}=e;if(w.isValidElement(n)){const i=fSe(n),s=dSe(r,n.props);return n.type!==w.Fragment&&(s.ref=t?wq(t,i):i),w.cloneElement(n,s)}return w.Children.count(n)>1?w.Children.only(null):null});JO.displayName="SlotClone";var cSe=({children:e})=>h.jsx(h.Fragment,{children:e});function uSe(e){return w.isValidElement(e)&&e.type===cSe}function dSe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function fSe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var hSe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Cd=hSe.reduce((e,t)=>{const n=w.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Sq:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Eq(e,t=[]){let n=[];function r(s,o){const a=w.createContext(o),c=n.length;n=[...n,o];const u=m=>{var N;const{scope:p,children:y,...v}=m,x=((N=p==null?void 0:p[e])==null?void 0:N[c])||a,S=w.useMemo(()=>v,Object.values(v));return h.jsx(x.Provider,{value:S,children:y})};u.displayName=s+"Provider";function f(m,p){var x;const y=((x=p==null?void 0:p[e])==null?void 0:x[c])||a,v=w.useContext(y);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[u,f]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(a){const c=(a==null?void 0:a[e])||s;return w.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return i.scopeName=e,[r,mSe(i,...t)]}function mSe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const m=c(s)[`__scope${u}`];return{...a,...m}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function xc(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Ca(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function pSe({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=gSe({defaultProp:t,onChange:n}),s=e!==void 0,o=s?e:r,a=Ca(n),c=w.useCallback(u=>{if(s){const m=typeof u=="function"?u(e):u;m!==e&&a(m)}else i(u)},[s,e,i,a]);return[o,c]}function gSe({defaultProp:e,onChange:t}){const n=w.useState(e),[r]=n,i=w.useRef(r),s=Ca(t);return w.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var Gx=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{};function ySe(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var d0=e=>{const{present:t,children:n}=e,r=bSe(t),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),s=Gc(r.ref,vSe(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};d0.displayName="Presence";function bSe(e){const[t,n]=w.useState(),r=w.useRef({}),i=w.useRef(e),s=w.useRef("none"),o=e?"mounted":"unmounted",[a,c]=ySe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=mv(r.current);s.current=a==="mounted"?u:"none"},[a]),Gx(()=>{const u=r.current,f=i.current;if(f!==e){const p=s.current,y=mv(u);e?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&p!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Gx(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,m=y=>{const x=mv(r.current).includes(y.animationName);if(y.target===t&&x&&(c("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},p=y=>{y.target===t&&(s.current=mv(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function mv(e){return(e==null?void 0:e.animationName)||"none"}function vSe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var xSe=w.createContext(void 0);function wSe(e){const t=w.useContext(xSe);return e||t||"ltr"}function SSe(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function ESe(e){const[t,n]=w.useState(void 0);return Gx(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}function NSe(e,[t,n]){return Math.min(n,Math.max(t,e))}function _Se(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var A$="ScrollArea",[Nq,C7e]=Eq(A$),[CSe,Es]=Nq(A$),_q=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=e,[a,c]=w.useState(null),[u,f]=w.useState(null),[m,p]=w.useState(null),[y,v]=w.useState(null),[x,S]=w.useState(null),[N,_]=w.useState(0),[C,j]=w.useState(0),[A,$]=w.useState(!1),[k,R]=w.useState(!1),D=Gc(t,L=>c(L)),z=wSe(i);return h.jsx(CSe,{scope:n,type:r,dir:z,scrollHideDelay:s,scrollArea:a,viewport:u,onViewportChange:f,content:m,onContentChange:p,scrollbarX:y,onScrollbarXChange:v,scrollbarXEnabled:A,onScrollbarXEnabledChange:$,scrollbarY:x,onScrollbarYChange:S,scrollbarYEnabled:k,onScrollbarYEnabledChange:R,onCornerWidthChange:_,onCornerHeightChange:j,children:h.jsx(Cd.div,{dir:z,...o,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});_q.displayName=A$;var Cq="ScrollAreaViewport",Oq=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=e,o=Es(Cq,n),a=w.useRef(null),c=Gc(t,a,o.onViewportChange);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),h.jsx(Cd.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:h.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Oq.displayName=Cq;var qo="ScrollAreaScrollbar",jq=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Es(qo,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return w.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?h.jsx(OSe,{...r,ref:t,forceMount:n}):i.type==="scroll"?h.jsx(jSe,{...r,ref:t,forceMount:n}):i.type==="auto"?h.jsx(Aq,{...r,ref:t,forceMount:n}):i.type==="always"?h.jsx(T$,{...r,ref:t}):null});jq.displayName=qo;var OSe=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Es(qo,e.__scopeScrollArea),[s,o]=w.useState(!1);return w.useEffect(()=>{const a=i.scrollArea;let c=0;if(a){const u=()=>{window.clearTimeout(c),o(!0)},f=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),h.jsx(d0,{present:n||s,children:h.jsx(Aq,{"data-state":s?"visible":"hidden",...r,ref:t})})}),jSe=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Es(qo,e.__scopeScrollArea),s=e.orientation==="horizontal",o=cS(()=>c("SCROLL_END"),100),[a,c]=_Se("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,i.scrollHideDelay,c]),w.useEffect(()=>{const u=i.viewport,f=s?"scrollLeft":"scrollTop";if(u){let m=u[f];const p=()=>{const y=u[f];m!==y&&(c("SCROLL"),o()),m=y};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[i.viewport,s,c,o]),h.jsx(d0,{present:n||a!=="hidden",children:h.jsx(T$,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:xc(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:xc(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Aq=w.forwardRef((e,t)=>{const n=Es(qo,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,o]=w.useState(!1),a=e.orientation==="horizontal",c=cS(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:f)}},10);return Lh(n.viewport,c),Lh(n.content,c),h.jsx(d0,{present:r||s,children:h.jsx(T$,{"data-state":s?"visible":"hidden",...i,ref:t})})}),T$=w.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=Es(qo,e.__scopeScrollArea),s=w.useRef(null),o=w.useRef(0),[a,c]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=kq(a.viewport,a.content),f={...r,sizes:a,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>s.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function m(p,y){return ISe(p,o.current,a,y)}return n==="horizontal"?h.jsx(ASe,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const p=i.viewport.scrollLeft,y=MP(p,a,i.dir);s.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=m(p,i.dir))}}):n==="vertical"?h.jsx(TSe,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const p=i.viewport.scrollTop,y=MP(p,a);s.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=m(p))}}):null}),ASe=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=Es(qo,e.__scopeScrollArea),[o,a]=w.useState(),c=w.useRef(null),u=Gc(t,c,s.onScrollbarXChange);return w.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),h.jsx($q,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":lS(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(s.viewport){const p=s.viewport.scrollLeft+f.deltaX;e.onWheelScroll(p),Iq(p,m)&&f.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Yx(o.paddingLeft),paddingEnd:Yx(o.paddingRight)}})}})}),TSe=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=Es(qo,e.__scopeScrollArea),[o,a]=w.useState(),c=w.useRef(null),u=Gc(t,c,s.onScrollbarYChange);return w.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),h.jsx($q,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":lS(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(s.viewport){const p=s.viewport.scrollTop+f.deltaY;e.onWheelScroll(p),Iq(p,m)&&f.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Yx(o.paddingTop),paddingEnd:Yx(o.paddingBottom)}})}})}),[$Se,Tq]=Nq(qo),$q=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:m,...p}=e,y=Es(qo,n),[v,x]=w.useState(null),S=Gc(t,D=>x(D)),N=w.useRef(null),_=w.useRef(""),C=y.viewport,j=r.content-r.viewport,A=Ca(f),$=Ca(c),k=cS(m,10);function R(D){if(N.current){const z=D.clientX-N.current.left,L=D.clientY-N.current.top;u({x:z,y:L})}}return w.useEffect(()=>{const D=z=>{const L=z.target;(v==null?void 0:v.contains(L))&&A(z,j)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[C,v,j,A]),w.useEffect($,[r,$]),Lh(v,k),Lh(y.content,k),h.jsx($Se,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:Ca(s),onThumbPointerUp:Ca(o),onThumbPositionChange:$,onThumbPointerDown:Ca(a),children:h.jsx(Cd.div,{...p,ref:S,style:{position:"absolute",...p.style},onPointerDown:xc(e.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),N.current=v.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),R(D))}),onPointerMove:xc(e.onPointerMove,R),onPointerUp:xc(e.onPointerUp,D=>{const z=D.target;z.hasPointerCapture(D.pointerId)&&z.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=_.current,y.viewport&&(y.viewport.style.scrollBehavior=""),N.current=null})})})}),Jx="ScrollAreaThumb",Rq=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Tq(Jx,e.__scopeScrollArea);return h.jsx(d0,{present:n||i.hasThumb,children:h.jsx(RSe,{ref:t,...r})})}),RSe=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=Es(Jx,n),o=Tq(Jx,n),{onThumbPositionChange:a}=o,c=Gc(t,m=>o.onThumbChange(m)),u=w.useRef(void 0),f=cS(()=>{u.current&&(u.current(),u.current=void 0)},100);return w.useEffect(()=>{const m=s.viewport;if(m){const p=()=>{if(f(),!u.current){const y=PSe(m,a);u.current=y,a()}};return a(),m.addEventListener("scroll",p),()=>m.removeEventListener("scroll",p)}},[s.viewport,f,a]),h.jsx(Cd.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:xc(e.onPointerDownCapture,m=>{const y=m.target.getBoundingClientRect(),v=m.clientX-y.left,x=m.clientY-y.top;o.onThumbPointerDown({x:v,y:x})}),onPointerUp:xc(e.onPointerUp,o.onThumbPointerUp)})});Rq.displayName=Jx;var $$="ScrollAreaCorner",kSe=w.forwardRef((e,t)=>{const n=Es($$,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?h.jsx(MSe,{...e,ref:t}):null});kSe.displayName=$$;var MSe=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=Es($$,n),[s,o]=w.useState(0),[a,c]=w.useState(0),u=!!(s&&a);return Lh(i.scrollbarX,()=>{var m;const f=((m=i.scrollbarX)==null?void 0:m.offsetHeight)||0;i.onCornerHeightChange(f),c(f)}),Lh(i.scrollbarY,()=>{var m;const f=((m=i.scrollbarY)==null?void 0:m.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),u?h.jsx(Cd.div,{...r,ref:t,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Yx(e){return e?parseInt(e,10):0}function kq(e,t){const n=e/t;return isNaN(n)?0:n}function lS(e){const t=kq(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function ISe(e,t,n,r="ltr"){const i=lS(n),s=i/2,o=t||s,a=i-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,f=n.content-n.viewport,m=r==="ltr"?[0,f]:[f*-1,0];return Mq([c,u],m)(e)}function MP(e,t,n="ltr"){const r=lS(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,c=n==="ltr"?[0,o]:[o*-1,0],u=NSe(e,c);return Mq([0,o],[0,a])(u)}function Mq(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Iq(e,t){return e>0&&e<t}var PSe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function cS(e,t){const n=Ca(e),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Lh(e,t){const n=Ca(t);Gx(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var Pq=_q,Dq=Oq,Xx=jq,Kx=Rq,R$="Switch",[DSe,O7e]=Eq(R$),[LSe,FSe]=DSe(R$),Lq=w.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:c="on",onCheckedChange:u,form:f,...m}=e,[p,y]=w.useState(null),v=Gc(t,C=>y(C)),x=w.useRef(!1),S=p?f||!!p.closest("form"):!0,[N=!1,_]=pSe({prop:i,defaultProp:s,onChange:u});return h.jsxs(LSe,{scope:n,checked:N,disabled:a,children:[h.jsx(Cd.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":zq(N),"data-disabled":a?"":void 0,disabled:a,value:c,...m,ref:v,onClick:xc(e.onClick,C=>{_(j=>!j),S&&(x.current=C.isPropagationStopped(),x.current||C.stopPropagation())})}),S&&h.jsx(BSe,{control:p,bubbles:!x.current,name:r,value:c,checked:N,required:o,disabled:a,form:f,style:{transform:"translateX(-100%)"}})]})});Lq.displayName=R$;var Fq="SwitchThumb",Bq=w.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=FSe(Fq,n);return h.jsx(Cd.span,{"data-state":zq(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});Bq.displayName=Fq;var BSe=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,s=w.useRef(null),o=SSe(n),a=ESe(t);return w.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&m){const p=new Event("click",{bubbles:r});m.call(c,n),c.dispatchEvent(p)}},[o,n,r]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function zq(e){return e?"checked":"unchecked"}var zSe=Lq,VSe=Bq;const USe={xs:{className:"p-0.5",size:13},sm:{className:"p-0.5",size:15},md:{className:"p-1",size:18},lg:{className:"p-1.5",size:22}},yt=w.forwardRef(({Icon:e,size:t,variant:n="ghost",onClick:r,disabled:i,iconProps:s,tabIndex:o,...a},c)=>{const u=USe[t??"md"];return h.jsx(tt,{ref:c,variant:n,iconSize:u.size,iconProps:s,IconLeft:e,className:qe(u.className,a.className),onClick:r,disabled:i,tabIndex:o})});function Vq(e){const t=e.match(/:(\w+)\??/);return(t==null?void 0:t[1])??""}function IP(e,t){return t?e.replace(/:\w+\??/,t):e.replace(/\/:\w+\??/,"")}function k$(e,t){const n=HSe(e??""),r=e??(n==null?void 0:n.path)??"",i=Vq(r),s=_$()[i],[o,a]=w.useState(s===t),c=n?t===n.activeIdentifier:o,[,u]=Ss();function f(m){const p=m??!o;n&&n.setActiveIdentifier(t),r?u(p?IP(r,t):IP(r)):a(p)}return w.useEffect(()=>{!n&&e&&t&&a(s===t)},[s,t,e]),{active:c,toggle:f}}const Uq=w.createContext(void 0);function qSe({children:e,defaultIdentifier:t,path:n}){const r=Vq(n),i=_$()[r],[s,o]=w.useState(i??t);return h.jsx(Uq.Provider,{value:{defaultIdentifier:t,path:n,activeIdentifier:s,setActiveIdentifier:o},children:e})}function HSe(e){const t=w.use(Uq);if(t&&(!e||t.path===e))return t}const qq=w.createContext(void 0);function WSe({children:e}){const{width:t}=nSe(),[n,r]=vm(t>768);return h.jsx(qq.Provider,{value:{sidebar:{open:n,handler:r}},children:e})}function GSe(){return w.useContext(qq)}const Pa=sS(mq(u0({sidebars:{default:{open:!1,width:350}}},e=>({toggleSidebar:t=>()=>e(n=>{const r=n.sidebars[t];return r?{sidebars:{...n.sidebars,[t]:{...r,open:!r.open}}}:n}),closeSidebar:t=>()=>e(n=>{const r=n.sidebars[t];return r?{sidebars:{...n.sidebars,[t]:{...r,open:!1}}}:n}),setSidebarWidth:t=>n=>e(r=>{const i=r.sidebars[t];return i?{sidebars:{...r.sidebars,[t]:{...i,width:n}}}:{sidebars:{...r.sidebars,[t]:{open:!1,width:n}}}}),resetSidebarWidth:t=>e(n=>{const r=n.sidebars[t];return r?{sidebars:{...n.sidebars,[t]:{...r,width:350}}}:n}),setSidebarState:(t,n)=>e(r=>({sidebars:{...r.sidebars,[t]:n}}))})),{name:"appshell",version:1,migrate:()=>({sidebars:{default:{open:!1,width:350}}})}));var Hq={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},PP=je.createContext&&je.createContext(Hq),JSe=["attr","size","title"];function YSe(e,t){if(e==null)return{};var n=XSe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function XSe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qx.apply(this,arguments)}function DP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(n),!0).forEach(function(r){KSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KSe(e,t,n){return t=QSe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QSe(e){var t=ZSe(e,"string");return typeof t=="symbol"?t:t+""}function ZSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wq(e){return e&&e.map((t,n)=>je.createElement(t.tag,Zx({key:n},t.attr),Wq(t.child)))}function Ve(e){return t=>je.createElement(eEe,Qx({attr:Zx({},e.attr)},t),Wq(e.child))}function eEe(e){var t=n=>{var{attr:r,size:i,title:s}=e,o=YSe(e,JSe),a=i||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),je.createElement("svg",Qx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:Zx(Zx({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&je.createElement("title",null,s),e.children)};return PP!==void 0?je.createElement(PP.Consumer,null,n=>t(n)):t(Hq)}function tEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15.079 5.999l.239 .012c1.43 .097 3.434 1.013 4.508 2.586a1 1 0 0 1 -.344 1.44c-.05 .028 -.372 .158 -.497 .217a4.15 4.15 0 0 0 -.722 .431c-.614 .461 -.948 1.009 -.942 1.694c.01 .885 .339 1.454 .907 1.846c.208 .143 .436 .253 .666 .33c.126 .043 .426 .116 .444 .122a1 1 0 0 1 .662 .942c0 2.621 -3.04 6.381 -5.286 6.381c-.79 0 -1.272 -.091 -1.983 -.315l-.098 -.031c-.463 -.146 -.702 -.192 -1.133 -.192c-.52 0 -.863 .06 -1.518 .237l-.197 .053c-.575 .153 -.964 .226 -1.5 .248c-2.749 0 -5.285 -5.093 -5.285 -9.072c0 -3.87 1.786 -6.92 5.286 -6.92c.297 0 .598 .045 .909 .128c.403 .107 .774 .26 1.296 .508c.787 .374 .948 .44 1.009 .44h.016c.03 -.003 .128 -.047 1.056 -.457c1.061 -.467 1.864 -.685 2.746 -.616l-.24 -.012z"},child:[]},{tag:"path",attr:{d:"M14 1a1 1 0 0 1 1 1a3 3 0 0 1 -3 3a1 1 0 0 1 -1 -1a3 3 0 0 1 3 -3z"},child:[]}]})(e)}function nEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14.983 3l.123 .006c2.014 .214 3.527 .672 4.966 1.673a1 1 0 0 1 .371 .488c1.876 5.315 2.373 9.987 1.451 12.28c-1.003 2.005 -2.606 3.553 -4.394 3.553c-.732 0 -1.693 -.968 -2.328 -2.045a21.512 21.512 0 0 0 2.103 -.493a1 1 0 1 0 -.55 -1.924c-3.32 .95 -6.13 .95 -9.45 0a1 1 0 0 0 -.55 1.924c.717 .204 1.416 .37 2.103 .494c-.635 1.075 -1.596 2.044 -2.328 2.044c-1.788 0 -3.391 -1.548 -4.428 -3.629c-.888 -2.217 -.39 -6.89 1.485 -12.204a1 1 0 0 1 .371 -.488c1.439 -1.001 2.952 -1.459 4.966 -1.673a1 1 0 0 1 .935 .435l.063 .107l.651 1.285l.137 -.016a12.97 12.97 0 0 1 2.643 0l.134 .016l.65 -1.284a1 1 0 0 1 .754 -.54l.122 -.009zm-5.983 7a2 2 0 0 0 -1.977 1.697l-.018 .154l-.005 .149l.005 .15a2 2 0 1 0 1.995 -2.15zm6 0a2 2 0 0 0 -1.977 1.697l-.018 .154l-.005 .149l.005 .15a2 2 0 1 0 1.995 -2.15z"},child:[]}]})(e)}function rEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18 2a1 1 0 0 1 .993 .883l.007 .117v4a1 1 0 0 1 -.883 .993l-.117 .007h-3v1h3a1 1 0 0 1 .991 1.131l-.02 .112l-1 4a1 1 0 0 1 -.858 .75l-.113 .007h-2v6a1 1 0 0 1 -.883 .993l-.117 .007h-4a1 1 0 0 1 -.993 -.883l-.007 -.117v-6h-2a1 1 0 0 1 -.993 -.883l-.007 -.117v-4a1 1 0 0 1 .883 -.993l.117 -.007h2v-1a6 6 0 0 1 5.775 -5.996l.225 -.004h3z"},child:[]}]})(e)}function iEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.315 2.1c.791 -.113 1.9 .145 3.333 .966l.272 .161l.16 .1l.397 -.083a13.3 13.3 0 0 1 4.59 -.08l.456 .08l.396 .083l.161 -.1c1.385 -.84 2.487 -1.17 3.322 -1.148l.164 .008l.147 .017l.076 .014l.05 .011l.144 .047a1 1 0 0 1 .53 .514a5.2 5.2 0 0 1 .397 2.91l-.047 .267l-.046 .196l.123 .163c.574 .795 .93 1.728 1.03 2.707l.023 .295l.007 .272c0 3.855 -1.659 5.883 -4.644 6.68l-.245 .061l-.132 .029l.014 .161l.008 .157l.004 .365l-.002 .213l-.003 3.834a1 1 0 0 1 -.883 .993l-.117 .007h-6a1 1 0 0 1 -.993 -.883l-.007 -.117v-.734c-1.818 .26 -3.03 -.424 -4.11 -1.878l-.535 -.766c-.28 -.396 -.455 -.579 -.589 -.644l-.048 -.019a1 1 0 0 1 .564 -1.918c.642 .188 1.074 .568 1.57 1.239l.538 .769c.76 1.079 1.36 1.459 2.609 1.191l.001 -.678l-.018 -.168a5.03 5.03 0 0 1 -.021 -.824l.017 -.185l.019 -.12l-.108 -.024c-2.976 -.71 -4.703 -2.573 -4.875 -6.139l-.01 -.31l-.004 -.292a5.6 5.6 0 0 1 .908 -3.051l.152 -.222l.122 -.163l-.045 -.196a5.2 5.2 0 0 1 .145 -2.642l.1 -.282l.106 -.253a1 1 0 0 1 .529 -.514l.144 -.047l.154 -.03z"},child:[]}]})(e)}function sEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 2a9.96 9.96 0 0 1 6.29 2.226a1 1 0 0 1 .04 1.52l-1.51 1.362a1 1 0 0 1 -1.265 .06a6 6 0 1 0 2.103 6.836l.001 -.004h-3.66a1 1 0 0 1 -.992 -.883l-.007 -.117v-2a1 1 0 0 1 1 -1h6.945a1 1 0 0 1 .994 .89c.04 .367 .061 .737 .061 1.11c0 5.523 -4.477 10 -10 10s-10 -4.477 -10 -10s4.477 -10 10 -10z"},child:[]}]})(e)}function oEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"},child:[]}]})(e)}function aEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M6 4v16a1 1 0 0 0 1.524 .852l13 -8a1 1 0 0 0 0 -1.704l-13 -8a1 1 0 0 0 -1.524 .852z"},child:[]}]})(e)}function lEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18.333 2c1.96 0 3.56 1.537 3.662 3.472l.005 .195v12.666c0 1.96 -1.537 3.56 -3.472 3.662l-.195 .005h-12.666a3.667 3.667 0 0 1 -3.662 -3.472l-.005 -.195v-12.666c0 -1.96 1.537 -3.56 3.472 -3.662l.195 -.005h12.666zm-2.626 7.293a1 1 0 0 0 -1.414 0l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.32 1.497l2 2l.094 .083a1 1 0 0 0 1.32 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"},child:[]}]})(e)}function cEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 10a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"},child:[]},{tag:"path",attr:{d:"M6 4v4"},child:[]},{tag:"path",attr:{d:"M6 12v8"},child:[]},{tag:"path",attr:{d:"M10 16a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"},child:[]},{tag:"path",attr:{d:"M12 4v10"},child:[]},{tag:"path",attr:{d:"M12 18v2"},child:[]},{tag:"path",attr:{d:"M16 7a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"},child:[]},{tag:"path",attr:{d:"M18 4v1"},child:[]},{tag:"path",attr:{d:"M18 9v11"},child:[]}]})(e)}function Gq(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"},child:[]},{tag:"path",attr:{d:"M12 8v4"},child:[]},{tag:"path",attr:{d:"M12 16h.01"},child:[]}]})(e)}function uEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 5l0 14"},child:[]},{tag:"path",attr:{d:"M18 13l-6 6"},child:[]},{tag:"path",attr:{d:"M6 13l6 6"},child:[]}]})(e)}function M$(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l14 0"},child:[]},{tag:"path",attr:{d:"M5 12l6 6"},child:[]},{tag:"path",attr:{d:"M5 12l6 -6"},child:[]}]})(e)}function dEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l14 0"},child:[]},{tag:"path",attr:{d:"M13 18l6 -6"},child:[]},{tag:"path",attr:{d:"M13 6l6 6"},child:[]}]})(e)}function fEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 5l0 14"},child:[]},{tag:"path",attr:{d:"M18 11l-6 -6"},child:[]},{tag:"path",attr:{d:"M6 11l6 -6"},child:[]}]})(e)}function hEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"},child:[]},{tag:"path",attr:{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28"},child:[]}]})(e)}function mEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3l8 4.5l0 9l-8 4.5l-8 -4.5l0 -9l8 -4.5"},child:[]},{tag:"path",attr:{d:"M12 12l8 -4.5"},child:[]},{tag:"path",attr:{d:"M12 12l0 9"},child:[]},{tag:"path",attr:{d:"M12 12l-8 -4.5"},child:[]}]})(e)}function pEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 4a2 2 0 0 0 -2 2v3a2 3 0 0 1 -2 3a2 3 0 0 1 2 3v3a2 2 0 0 0 2 2"},child:[]},{tag:"path",attr:{d:"M17 4a2 2 0 0 1 2 2v3a2 3 0 0 0 2 3a2 3 0 0 0 -2 3v3a2 2 0 0 1 -2 2"},child:[]}]})(e)}function gEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4m0 4a4 4 0 0 1 4 -4h8a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-8a4 4 0 0 1 -4 -4z"},child:[]},{tag:"path",attr:{d:"M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"},child:[]},{tag:"path",attr:{d:"M16.5 7.5l0 .01"},child:[]}]})(e)}function yEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-10 0a10 10 0 1 0 20 0a10 10 0 1 0 -20 0"},child:[]},{tag:"path",attr:{d:"M12.556 6c.65 0 1.235 .373 1.508 .947l2.839 7.848a1.646 1.646 0 0 1 -1.01 2.108a1.673 1.673 0 0 1 -2.068 -.851l-.46 -1.052h-2.73l-.398 .905a1.67 1.67 0 0 1 -1.977 1.045l-.153 -.047a1.647 1.647 0 0 1 -1.056 -1.956l2.824 -7.852a1.664 1.664 0 0 1 1.409 -1.087l1.272 -.008z"},child:[]}]})(e)}function bEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4l11.733 16h4.267l-11.733 -16z"},child:[]},{tag:"path",attr:{d:"M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772"},child:[]}]})(e)}function Jq(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z"},child:[]},{tag:"path",attr:{d:"M16 3v4"},child:[]},{tag:"path",attr:{d:"M8 3v4"},child:[]},{tag:"path",attr:{d:"M4 11h16"},child:[]},{tag:"path",attr:{d:"M11 15h1"},child:[]},{tag:"path",attr:{d:"M12 15v3"},child:[]}]})(e)}function vEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l5 5l10 -10"},child:[]}]})(e)}function Yq(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 9l6 6l6 -6"},child:[]}]})(e)}function xEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 6l-6 6l6 6"},child:[]}]})(e)}function wEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 6l6 6l-6 6"},child:[]}]})(e)}function SEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 15l6 -6l6 6"},child:[]}]})(e)}function EEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 7l-5 5l5 5"},child:[]},{tag:"path",attr:{d:"M17 7l-5 5l5 5"},child:[]}]})(e)}function NEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 7l5 5l-5 5"},child:[]},{tag:"path",attr:{d:"M13 7l5 5l-5 5"},child:[]}]})(e)}function _Ee(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]}]})(e)}function I$(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9.183 6.117a6 6 0 1 0 4.511 3.986"},child:[]},{tag:"path",attr:{d:"M14.813 17.883a6 6 0 1 0 -4.496 -3.954"},child:[]}]})(e)}function CEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 12h.01"},child:[]},{tag:"path",attr:{d:"M12 12h.01"},child:[]},{tag:"path",attr:{d:"M9 12h.01"},child:[]},{tag:"path",attr:{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2"},child:[]},{tag:"path",attr:{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2"},child:[]}]})(e)}function OEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 12h6"},child:[]},{tag:"path",attr:{d:"M12 9v6"},child:[]},{tag:"path",attr:{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2"},child:[]},{tag:"path",attr:{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2"},child:[]}]})(e)}function Xq(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z"},child:[]},{tag:"path",attr:{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1"},child:[]}]})(e)}function Kq(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3"},child:[]},{tag:"path",attr:{d:"M4 6v6c0 1.657 3.582 3 8 3c1.075 0 2.1 -.08 3.037 -.224"},child:[]},{tag:"path",attr:{d:"M20 12v-6"},child:[]},{tag:"path",attr:{d:"M4 12v6c0 1.657 3.582 3 8 3c.166 0 .331 -.002 .495 -.006"},child:[]},{tag:"path",attr:{d:"M16 19h6"},child:[]},{tag:"path",attr:{d:"M19 16v6"},child:[]}]})(e)}function jEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0"},child:[]},{tag:"path",attr:{d:"M4 6v6a8 3 0 0 0 16 0v-6"},child:[]},{tag:"path",attr:{d:"M4 12v6a8 3 0 0 0 16 0v-6"},child:[]}]})(e)}function j7e(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.831 20.413l-5.375 -6.91c-.608 -.783 -.608 -2.223 0 -3l5.375 -6.911a1.457 1.457 0 0 1 2.338 0l5.375 6.91c.608 .783 .608 2.223 0 3l-5.375 6.911a1.457 1.457 0 0 1 -2.338 0z"},child:[]}]})(e)}function AEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(e)}function ll(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(e)}function TEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6"},child:[]},{tag:"path",attr:{d:"M11 13l9 -9"},child:[]},{tag:"path",attr:{d:"M15 4h5v5"},child:[]}]})(e)}function $Ee(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828"},child:[]},{tag:"path",attr:{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87"},child:[]},{tag:"path",attr:{d:"M3 3l18 18"},child:[]}]})(e)}function Qq(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"},child:[]},{tag:"path",attr:{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6"},child:[]}]})(e)}function REe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 3v4a1 1 0 0 0 1 1h4"},child:[]},{tag:"path",attr:{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"},child:[]},{tag:"path",attr:{d:"M9 9l1 0"},child:[]},{tag:"path",attr:{d:"M9 13l6 0"},child:[]},{tag:"path",attr:{d:"M9 17l6 0"},child:[]}]})(e)}function kEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 3v4a1 1 0 0 0 1 1h4"},child:[]},{tag:"path",attr:{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4"},child:[]},{tag:"path",attr:{d:"M7 16.5a1.5 1.5 0 0 0 -3 0v3a1.5 1.5 0 0 0 3 0"},child:[]},{tag:"path",attr:{d:"M10 20.25c0 .414 .336 .75 .75 .75h1.25a1 1 0 0 0 1 -1v-1a1 1 0 0 0 -1 -1h-1a1 1 0 0 1 -1 -1v-1a1 1 0 0 1 1 -1h1.25a.75 .75 0 0 1 .75 .75"},child:[]},{tag:"path",attr:{d:"M16 15l2 6l2 -6"},child:[]}]})(e)}function MEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 3v4a1 1 0 0 0 1 1h4"},child:[]},{tag:"path",attr:{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4"},child:[]},{tag:"path",attr:{d:"M5 18h1.5a1.5 1.5 0 0 0 0 -3h-1.5v6"},child:[]},{tag:"path",attr:{d:"M17 18h2"},child:[]},{tag:"path",attr:{d:"M20 15h-3v6"},child:[]},{tag:"path",attr:{d:"M11 15v6h1a2 2 0 0 0 2 -2v-2a2 2 0 0 0 -2 -2h-1z"},child:[]}]})(e)}function IEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 3v4a1 1 0 0 0 1 1h4"},child:[]},{tag:"path",attr:{d:"M14 3v4a1 1 0 0 0 1 1h4"},child:[]},{tag:"path",attr:{d:"M5 20.25c0 .414 .336 .75 .75 .75h1.25a1 1 0 0 0 1 -1v-1a1 1 0 0 0 -1 -1h-1a1 1 0 0 1 -1 -1v-1a1 1 0 0 1 1 -1h1.25a.75 .75 0 0 1 .75 .75"},child:[]},{tag:"path",attr:{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4"},child:[]},{tag:"path",attr:{d:"M18 15v6h2"},child:[]},{tag:"path",attr:{d:"M13 15a2 2 0 0 1 2 2v2a2 2 0 1 1 -4 0v-2a2 2 0 0 1 2 -2z"},child:[]},{tag:"path",attr:{d:"M14 20l1.5 1.5"},child:[]}]})(e)}function PEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 3v4a1 1 0 0 0 1 1h4"},child:[]},{tag:"path",attr:{d:"M14 3v4a1 1 0 0 0 1 1h4"},child:[]},{tag:"path",attr:{d:"M16.5 15h3"},child:[]},{tag:"path",attr:{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4"},child:[]},{tag:"path",attr:{d:"M4.5 15h3"},child:[]},{tag:"path",attr:{d:"M6 15v6"},child:[]},{tag:"path",attr:{d:"M18 15v6"},child:[]},{tag:"path",attr:{d:"M10 15l4 6"},child:[]},{tag:"path",attr:{d:"M10 21l4 -6"},child:[]}]})(e)}function DEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 3v4a1 1 0 0 0 1 1h4"},child:[]},{tag:"path",attr:{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4"},child:[]},{tag:"path",attr:{d:"M4 15l4 6"},child:[]},{tag:"path",attr:{d:"M4 21l4 -6"},child:[]},{tag:"path",attr:{d:"M19 15v6h3"},child:[]},{tag:"path",attr:{d:"M11 21v-6l2.5 3l2.5 -3v6"},child:[]}]})(e)}function LEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z"},child:[]}]})(e)}function Zq(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18.9 7a8 8 0 0 1 1.1 5v1a6 6 0 0 0 .8 3"},child:[]},{tag:"path",attr:{d:"M8 11a4 4 0 0 1 8 0v1a10 10 0 0 0 2 6"},child:[]},{tag:"path",attr:{d:"M12 11v2a14 14 0 0 0 2.5 8"},child:[]},{tag:"path",attr:{d:"M8 15a18 18 0 0 0 1.8 6"},child:[]},{tag:"path",attr:{d:"M4.9 19a22 22 0 0 1 -.9 -7v-1a8 8 0 0 1 12 -6.95"},child:[]}]})(e)}function FEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(e)}function BEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 3h4v4h-4z"},child:[]},{tag:"path",attr:{d:"M3 17h4v4h-4z"},child:[]},{tag:"path",attr:{d:"M17 17h4v4h-4z"},child:[]},{tag:"path",attr:{d:"M7 17l5 -4l5 4"},child:[]},{tag:"path",attr:{d:"M12 7l0 6"},child:[]}]})(e)}function zEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3.05 11a8.975 8.975 0 0 1 2.54 -5.403m2.314 -1.697a9 9 0 0 1 12.113 12.112m-1.695 2.312a9 9 0 0 1 -14.772 -3.324m-.5 5v-5h5"},child:[]},{tag:"path",attr:{d:"M3 3l18 18"},child:[]}]})(e)}function VEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 8l0 4l2 2"},child:[]},{tag:"path",attr:{d:"M3.05 11a9 9 0 1 1 .5 4m-.5 5v-5h5"},child:[]}]})(e)}function eH(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"},child:[]},{tag:"path",attr:{d:"M12 9h.01"},child:[]},{tag:"path",attr:{d:"M11 12h1v4h1"},child:[]}]})(e)}function UEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 16v-8l3 8v-8"},child:[]},{tag:"path",attr:{d:"M15 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2z"},child:[]},{tag:"path",attr:{d:"M1 8h3v6.5a1.5 1.5 0 0 1 -3 0v-.5"},child:[]},{tag:"path",attr:{d:"M7 15a1 1 0 0 0 1 1h1a1 1 0 0 0 1 -1v-2a1 1 0 0 0 -1 -1h-1a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1h1a1 1 0 0 1 1 1"},child:[]}]})(e)}function A7e(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16.555 3.843l3.602 3.602a2.877 2.877 0 0 1 0 4.069l-2.643 2.643a2.877 2.877 0 0 1 -4.069 0l-.301 -.301l-6.558 6.558a2 2 0 0 1 -1.239 .578l-.175 .008h-1.172a1 1 0 0 1 -.993 -.883l-.007 -.117v-1.172a2 2 0 0 1 .467 -1.284l.119 -.13l.414 -.414h2v-2h2v-2l2.144 -2.144l-.301 -.301a2.877 2.877 0 0 1 0 -4.069l2.643 -2.643a2.877 2.877 0 0 1 4.069 0z"},child:[]},{tag:"path",attr:{d:"M15 9h.01"},child:[]}]})(e)}function qEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 5m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M7 15v-6l2 2l2 -2v6"},child:[]},{tag:"path",attr:{d:"M14 13l2 2l2 -2m-2 2v-6"},child:[]}]})(e)}function HEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 8v-2a2 2 0 0 1 2 -2h2"},child:[]},{tag:"path",attr:{d:"M4 16v2a2 2 0 0 0 2 2h2"},child:[]},{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v2"},child:[]},{tag:"path",attr:{d:"M16 20h2a2 2 0 0 0 2 -2v-2"},child:[]}]})(e)}function WEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 6l16 0"},child:[]},{tag:"path",attr:{d:"M4 12l16 0"},child:[]},{tag:"path",attr:{d:"M4 18l16 0"},child:[]}]})(e)}function GEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l14 0"},child:[]}]})(e)}function JEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"},child:[]},{tag:"path",attr:{d:"M13 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"},child:[]},{tag:"path",attr:{d:"M9 17v-13h10v13"},child:[]},{tag:"path",attr:{d:"M9 8h10"},child:[]}]})(e)}function YEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 10l2 -2v8"},child:[]},{tag:"path",attr:{d:"M9 8h3a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 0 -1 1v2a1 1 0 0 0 1 1h3"},child:[]},{tag:"path",attr:{d:"M17 8h2.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-1.5h1.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-2.5"},child:[]}]})(e)}function f0(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 8h.01"},child:[]},{tag:"path",attr:{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z"},child:[]},{tag:"path",attr:{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5"},child:[]},{tag:"path",attr:{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3"},child:[]}]})(e)}function tH(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 5l0 14"},child:[]},{tag:"path",attr:{d:"M5 12l14 0"},child:[]}]})(e)}function nH(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"},child:[]},{tag:"path",attr:{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"},child:[]}]})(e)}function P$(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 9l4 -4l4 4"},child:[]},{tag:"path",attr:{d:"M16 15l-4 4l-4 -4"},child:[]}]})(e)}function xm(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"},child:[]},{tag:"path",attr:{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"},child:[]}]})(e)}function YO(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 15m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M15 15m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M6 15v-1a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v1"},child:[]},{tag:"path",attr:{d:"M12 9l0 3"},child:[]}]})(e)}function XEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"},child:[]}]})(e)}function LP(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15h16"},child:[]},{tag:"path",attr:{d:"M4 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"},child:[]},{tag:"path",attr:{d:"M4 20h12"},child:[]}]})(e)}function KEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"},child:[]},{tag:"path",attr:{d:"M2 6m0 6a6 6 0 0 1 6 -6h8a6 6 0 0 1 6 6v0a6 6 0 0 1 -6 6h-8a6 6 0 0 1 -6 -6z"},child:[]}]})(e)}function D$(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 7l16 0"},child:[]},{tag:"path",attr:{d:"M10 11l0 6"},child:[]},{tag:"path",attr:{d:"M14 11l0 6"},child:[]},{tag:"path",attr:{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"},child:[]},{tag:"path",attr:{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"},child:[]}]})(e)}function QEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"},child:[]},{tag:"path",attr:{d:"M7 9l5 -5l5 5"},child:[]},{tag:"path",attr:{d:"M12 4l0 12"},child:[]}]})(e)}function ZEe(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0"},child:[]},{tag:"path",attr:{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"},child:[]}]})(e)}function e2e(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 4c-2.5 5 -2.5 10 0 16m14 -16c2.5 5 2.5 10 0 16m-10 -11h1c1 0 1 1 2.016 3.527c.984 2.473 .984 3.473 1.984 3.473h1"},child:[]},{tag:"path",attr:{d:"M8 16c1.5 0 3 -2 4 -3.5s2.5 -3.5 4 -3.5"},child:[]}]})(e)}function t2e(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"},child:[]},{tag:"path",attr:{d:"M3.6 9h16.8"},child:[]},{tag:"path",attr:{d:"M3.6 15h16.8"},child:[]},{tag:"path",attr:{d:"M11.5 3a17 17 0 0 0 0 18"},child:[]},{tag:"path",attr:{d:"M12.5 3a17 17 0 0 1 0 18"},child:[]}]})(e)}function L$(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 6l-12 12"},child:[]},{tag:"path",attr:{d:"M6 6l12 12"},child:[]}]})(e)}function n2e(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 16v-8h2a2 2 0 1 1 0 4h-2"},child:[]},{tag:"path",attr:{d:"M12 8v8"},child:[]},{tag:"path",attr:{d:"M4 8h4l-4 8h4"},child:[]}]})(e)}function $r({children:e,defaultOpen:t=!1,openEvent:n="onClick",position:r="bottom-start",dropdownWrapperProps:i,items:s,title:o,hideOnEmpty:a=!0,onClickItem:c,renderItem:u,itemsClassName:f,className:m}){const[p,y]=w.useState(t),[v,x]=w.useState(r),S=aS(()=>y(!1)),N=s.filter(Boolean),[_,C]=w.useState(0),j=zt((F=50)=>setTimeout(()=>y(H=>!H),typeof F=="number"?F:0)),A=n==="onClick"?F=>{F.stopPropagation(),j()}:void 0,$=zt(F=>{var T;if(n!=="onContextMenu")return;if(F.preventDefault(),p){j(0),setTimeout(()=>{x(r),C(0)},10);return}const H=F.clientX-F.currentTarget.getBoundingClientRect().left,{left:M=0,right:V=0}=((T=S.current)==null?void 0:T.getBoundingClientRect())??{};if(M>0&&V>0){const I=FF(H,M,V);H<(M+V)/2?(x("bottom-start"),C(I)):(x("bottom-end"),C(V-I))}else x(r),C(0);j()}),k=4,R={"bottom-start":{top:"100%",left:_,marginTop:k},"bottom-end":{right:_,top:"100%",marginTop:k},"top-start":{bottom:"100%",marginBottom:k},"top-end":{bottom:"100%",right:_,marginBottom:k}}[v],D=zt(F=>{F.onClick&&F.onClick(),c&&c(F),j(50)});if(N.length===0&&a)return null;const z=N.some(F=>"icon"in F&&F.icon),L=u||((F,{key:H,onClick:M})=>typeof F=="function"?h.jsx(w.Fragment,{children:F()},H):h.jsxs("button",{type:"button",disabled:F.disabled,className:qe("flex flex-row flex-nowrap text-nowrap items-center outline-none cursor-pointer px-2.5 rounded-md link leading-none h-8",f,F.disabled?"opacity-50 cursor-not-allowed":"hover:bg-primary/10",F.destructive&&"text-red-500 hover:bg-red-600 hover:text-white"),onClick:M,title:F.title,children:[z&&h.jsx("div",{className:"size-[16px] text-left mr-1.5 opacity-80",children:F.icon&&h.jsx(F.icon,{className:"size-[16px]"})}),h.jsx("div",{className:"flex flex-grow truncate text-nowrap",children:F.label})]},H));return h.jsxs("div",{role:"dropdown",className:qe("relative flex",m),ref:S,onContextMenu:$,children:[w.cloneElement(e,{onClick:A}),p&&h.jsxs("div",{...i,className:qe("absolute z-30 flex flex-col bg-background border border-muted px-1 py-1 rounded-lg shadow-lg min-w-full",i==null?void 0:i.className),style:R,children:[o&&h.jsx("div",{className:"text-sm font-bold px-2.5 mb-1 mt-1 opacity-50 truncate",children:o}),N.map((F,H)=>L(F,{key:H,onClick:M=>{M.stopPropagation(),D(F)}}))]})]})}const rH=()=>h.jsxs("svg",{fill:"currentColor",fillRule:"evenodd",height:"1em",style:{flex:"none",lineHeight:"1"},viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("title",{children:"ModelContextProtocol"}),h.jsx("path",{d:"M15.688 2.343a2.588 2.588 0 00-3.61 0l-9.626 9.44a.863.863 0 01-1.203 0 .823.823 0 010-1.18l9.626-9.44a4.313 4.313 0 016.016 0 4.116 4.116 0 011.204 3.54 4.3 4.3 0 013.609 1.18l.05.05a4.115 4.115 0 010 5.9l-8.706 8.537a.274.274 0 000 .393l1.788 1.754a.823.823 0 010 1.18.863.863 0 01-1.203 0l-1.788-1.753a1.92 1.92 0 010-2.754l8.706-8.538a2.47 2.47 0 000-3.54l-.05-.049a2.588 2.588 0 00-3.607-.003l-7.172 7.034-.002.002-.098.097a.863.863 0 01-1.204 0 .823.823 0 010-1.18l7.273-7.133a2.47 2.47 0 00-.003-3.537z"}),h.jsx("path",{d:"M14.485 4.703a.823.823 0 000-1.18.863.863 0 00-1.204 0l-7.119 6.982a4.115 4.115 0 000 5.9 4.314 4.314 0 006.016 0l7.12-6.982a.823.823 0 000-1.18.863.863 0 00-1.204 0l-7.119 6.982a2.588 2.588 0 01-3.61 0 2.47 2.47 0 010-3.54l7.12-6.982z"})]});function uS(e,t,n){var c,u,f,m,p;const i=(u=(c=ct().options)==null?void 0:c.entities)==null?void 0:u[e.name],s=((f=i==null?void 0:i.footer)==null?void 0:f.call(i,t,e,n))??null,o=((m=i==null?void 0:i.header)==null?void 0:m.call(i,t,e,n))??null,a=(p=i==null?void 0:i.actions)==null?void 0:p.call(i,t,e,n);return{footer:s,header:o,field:y=>{var v;return(v=i==null?void 0:i.fields)==null?void 0:v[y]},actions:a}}function r2e(){var n;const{options:e}=ct();return{userMenu:((n=e==null?void 0:e.appShell)==null?void 0:n.userMenu)??[]}}function i2e(){const[e,t]=Ss(),n=[{label:"Data",href:"/data",Icon:jEe},{label:"Auth",href:"/auth",Icon:Zq},{label:"Media",href:"/media",Icon:f0},{label:"Flows",href:"/flows",Icon:BEe}],r=n.find(o=>o.exact?e===o.href:e.startsWith(o.href)),i=zt(o=>{t(o.href)}),s=(o,{key:a,onClick:c})=>h.jsx(Sg,{onClick:c,as:"button",className:"rounded-md",children:h.jsxs("div",{"data-active":(r==null?void 0:r.label)===o.label,className:"flex flex-row items-center gap-2.5 data-[active=true]:opacity-50",children:[h.jsx(o.Icon,{size:18}),h.jsx("span",{className:"text-lg",children:o.label})]})},a);return h.jsxs(h.Fragment,{children:[h.jsx("nav",{className:"hidden md:flex flex-row gap-2.5 pl-0 p-2.5 items-center",children:n.map(o=>h.jsx(Sg,{as:Ln,href:o.href,Icon:o.Icon,disabled:o.disabled,children:o.label},o.href))}),h.jsx("nav",{className:"flex md:hidden flex-row items-center",children:r&&h.jsx($r,{items:n,onClickItem:i,renderItem:s,children:h.jsx(Sg,{as:"button",Icon:r.Icon,className:"active pl-6 pr-3.5",children:h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx("span",{className:"text-lg",children:r.label}),h.jsx(P$,{size:18,className:"opacity-70"})]})})})})]})}function s2e({name:e="default"}){const t=Pa(r=>r.toggleSidebar(e)),n=Pa(r=>{var i;return(i=r.sidebars[e])==null?void 0:i.open});return h.jsx(yt,{id:"toggle-sidebar",size:"lg",Icon:n?L$:WEe,onClick:t})}function o2e({hasSidebar:e=!0}){const{app:t}=ct(),{theme:n}=al(),{logo_return_path:r="/"}=t.options;return h.jsxs("header",{id:"header","data-shell":"header",className:"flex flex-row w-full h-16 gap-2.5 border-muted border-b justify-start bg-muted/10",children:[h.jsx(Ln,{href:r,native:r!=="/",className:"max-h-full flex hover:bg-primary/5 link p-2.5 w-[134px] outline-none",children:h.jsx(oS,{theme:n})}),h.jsx(i2e,{}),h.jsx("div",{className:"flex flex-grow"}),h.jsxs("div",{className:"flex md:hidden flex-row items-center pr-2 gap-2",children:[h.jsx(s2e,{name:"default"}),h.jsx(FP,{})]}),h.jsx("div",{className:"hidden md:flex flex-row items-center px-4 gap-2",children:h.jsx(FP,{})})]})}function FP(){var c;const{config:e}=ct(),t=r2e(),n=PU(),[r]=Bn(),{logout_route:i}=eS();async function s(){await n.logout(),r(i,{reload:!0})}async function o(){r("/auth/login")}const a=[...t.userMenu??[],{label:"Settings",onClick:()=>r("/settings"),icon:oy},{label:"OpenAPI",onClick:()=>window.open("/api/system/swagger","_blank"),icon:ewe},{label:"Docs",onClick:()=>window.open("https://docs.bknd.io","_blank"),icon:nwe}];return e.server.mcp.enabled&&a.push({label:"MCP",onClick:()=>r("/tools/mcp"),icon:rH}),e.auth.enabled&&(n.user?a.push({label:"Logout",title:`Logout ${n.user.email}`,onClick:s,icon:hwe}):a.push({label:"Login",onClick:o,icon:xwe})),a.push(()=>h.jsx(a2e,{})),a.push(()=>h.jsx("div",{className:"font-mono leading-none text-xs text-primary/50 text-center pb-1 pt-2 mt-1 border-t border-primary/5",children:Uoe()})),h.jsx(h.Fragment,{children:h.jsx($r,{items:a,position:"bottom-end",children:n.user?h.jsx(tt,{className:"rounded-full w-12 h-12 justify-center p-0 text-lg",children:(c=n.user.email[0])==null?void 0:c.toUpperCase()}):h.jsx(tt,{className:"rounded-full w-12 h-12 justify-center p-0",IconLeft:ZEe})})})}function a2e(){const{value:e,themes:t,setTheme:n}=al();return h.jsx("div",{className:"flex flex-col items-center mt-1 pt-1 border-t border-primary/5",children:h.jsx(zc,{withItemsBorders:!1,className:"w-full",data:t.map(r=>({value:r,label:Wa(r)})),value:e,onChange:n,size:"xs"})})}function iH({children:e}){const t=Pa(r=>r.sidebars),n=Xt(t,r=>r.width);return h.jsx(WSe,{children:h.jsx("div",{id:"app-shell","data-shell":"root",className:"flex flex-1 flex-col select-none h-dvh",style:Object.fromEntries(Object.entries(n).map(([r,i])=>[`--sidebar-width-${r}`,`${i}px`])),children:e})})}const Sg=({children:e,as:t,className:n,Icon:r,disabled:i,...s})=>{const o=t||"a";return h.jsxs(o,{...s,className:qe("px-6 py-2 [&.active]:bg-muted [&.active]:hover:bg-primary/15 hover:bg-primary/5 flex flex-row items-center rounded-full gap-2.5 link transition-colors",i&&"opacity-50 cursor-not-allowed",n),children:[r&&h.jsx(r,{size:18}),typeof e=="string"?h.jsx("span",{className:"text-lg",children:e}):e]})};function sH({children:e,center:t}){return h.jsx("main",{"data-shell":"content",className:qe("flex flex-1 flex-row max-w-screen h-full",t&&"justify-center items-center"),children:e})}function h0({children:e}){const{sidebar:t}=GSe();return h.jsx("div",{"data-shell":"main",className:qe("flex flex-col flex-grow w-1 flex-shrink-1",t.open&&"md:max-w-[calc(100%-var(--sidebar-width))]"),children:e})}function Od({children:e,name:t="default",handle:n="right",minWidth:r,maxWidth:i}){const s=Pa(p=>{var y;return(y=p.sidebars[t])==null?void 0:y.open}),o=Pa(p=>p.closeSidebar(t)),a=Pa(p=>{var y;return((y=p.sidebars[t])==null?void 0:y.width)??350}),c=aS(o,["mouseup","touchend"]),u=w.useRef(null),[f]=Ss(),m=()=>{s&&o()};return w.useEffect(m,[f]),j$([["Escape",m]]),h.jsxs(h.Fragment,{children:[n==="left"&&h.jsx(BP,{name:t,handle:n,sidebarRef:u,minWidth:r,maxWidth:i}),h.jsx("aside",{"data-shell":"sidebar",ref:u,className:"hidden md:flex flex-col flex-shrink-0 flex-grow-0 h-full bg-muted/10",style:{width:a},children:e}),n==="right"&&h.jsx(BP,{name:t,handle:n,sidebarRef:u,minWidth:r,maxWidth:i}),h.jsx("div",{"data-open":s,className:"absolute w-full md:hidden data-[open=true]:translate-x-0 translate-x-[-100%] transition-transform z-10 backdrop-blur-sm max-w-[90%]",children:h.jsx("aside",{ref:c,"data-shell":"sidebar",className:"flex-col w-[var(--sidebar-width)] flex-shrink-0 flex-grow-0 h-full border-muted border-r bg-background",children:h.jsx(c2e,{className:"overflow-y-scroll md:overflow-y-hidden",children:e})})})]})}const BP=({name:e="default",handle:t="right",sidebarRef:n,minWidth:r=250,maxWidth:i=window.innerWidth*.5})=>{var x;const s=Pa(S=>S.setSidebarWidth(e)),[o,a]=w.useState(!1),[c,u]=w.useState(0),[f,m]=w.useState(((x=n.current)==null?void 0:x.offsetWidth)??0),p=S=>{var N;S.preventDefault(),a(!0),u(S.clientX),m(((N=n.current)==null?void 0:N.offsetWidth)??0)},y=S=>{if(!o)return;const N=t==="right"?S.clientX-c:c-S.clientX,_=FF(f+N,r,i);s(_)},v=()=>{a(!1)};return w.useEffect(()=>(o&&(window.addEventListener("mousemove",y),window.addEventListener("mouseup",v)),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",v)}),[o,c,f,r,i]),h.jsx("div",{"data-shell":"sidebar-resize","data-active":o?1:void 0,className:"w-px h-full hidden md:flex bg-muted after:transition-colors relative after:absolute after:inset-0 after:-left-px after:w-[2px] select-none data-[active]:after:bg-sky-400 data-[active]:cursor-col-resize hover:after:bg-sky-400 hover:cursor-col-resize after:z-2",onMouseDown:p,style:{touchAction:"none"}})};function m0({children:e,className:t,...n}){return h.jsx("h2",{...n,className:qe("text-lg dark:font-bold font-semibold select-text",t),children:e})}function Rn({children:e,right:t,className:n,scrollable:r,sticky:i}={}){return h.jsxs("div",{className:qe("flex flex-row h-14 flex-shrink-0 py-2 pl-5 pr-3 border-muted border-b items-center justify-between bg-muted/10",i&&"sticky top-0 bottom-10 z-10",n),children:[h.jsx("div",{className:qe("",r&&"overflow-x-scroll overflow-y-visible app-scrollbar"),children:typeof e=="string"?h.jsx(m0,{children:e}):e}),t&&!r&&h.jsx("div",{className:"flex flex-row gap-2.5",children:t}),t&&r&&h.jsxs("div",{className:"flex flex-row sticky z-10 right-0 h-full",children:[h.jsx("div",{className:"h-full w-5 bg-gradient-to-l from-background"}),h.jsx("div",{className:"flex flex-row gap-2.5 bg-background",children:t})]})]})}const li=({children:e,as:t,className:n,disabled:r=!1,...i})=>{const s=t||"a";return h.jsx(s,{...i,className:qe("flex flex-row px-4 items-center gap-2 h-12",!r&&"cursor-pointer rounded-md [&.active]:bg-primary/10 [&.active]:hover:bg-primary/15 [&.active]:font-medium hover:bg-primary/5 focus:bg-primary/5 link",r&&"opacity-50 cursor-not-allowed pointer-events-none",n),children:e})},l2e=({children:e,as:t,className:n,disabled:r=!1,active:i=!1,badge:s,...o})=>{const a=t||"a";return h.jsxs(a,{...o,className:qe("hover:bg-primary/5 flex flex-row items-center justify-center gap-2.5 px-5 h-12 leading-none font-medium text-primary/80 rounded-tr-lg rounded-tl-lg cursor-pointer border border-transparent border-b-0",i?"bg-background hover:bg-background text-primary border-muted border-b-0":"link opacity-80",s&&"pr-4",n),children:[h.jsx("span",{className:"truncate",children:e}),s?h.jsx("span",{className:"px-3 py-1 rounded-full font-mono bg-primary/5 text-sm leading-none",children:s}):null]})},oH=({title:e,items:t})=>h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute left-0 right-0 bottom-0 z-0 h-px bg-muted"}),h.jsx("div",{className:"overflow-x-scroll app-scrollbar mt-10 border-t border-t-muted",children:h.jsx(Rn,{className:"pl-3 pb-0 items-end ",children:h.jsxs("div",{className:"flex flex-row items-center gap-6 -mb-px",children:[e&&h.jsx(m0,{className:"pl-2 hidden md:block",children:e}),h.jsx("div",{className:"flex flex-row items-center gap-3 pr-3",children:t==null?void 0:t.map(({label:n,...r},i)=>h.jsx(l2e,{...r,className:"relative z-2",children:n},i))})]})})})]});function c2e(e){const t=w.useRef(null),[n,r]=w.useState(0),[i,s]=w.useState(window.innerHeight);function o(){if(t.current){const a=t.current.getBoundingClientRect().top,c=window.innerHeight;r(a),s(c)}}return w.useEffect(()=>{o();const a=zT(o,500);return window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[]),h.jsx("div",{ref:t,style:{height:`${i-n}px`},...e,children:e.children})}function nr({children:e,initialOffset:t=64}){const n=w.useRef(null),[r,i]=w.useState(t);function s(){if(n.current){const o=n.current.getBoundingClientRect().top;i(o)}}return w.useEffect(s,[]),typeof window<"u"&&window.addEventListener("resize",zT(s,500)),h.jsxs(Pq,{style:{height:`calc(100dvh - ${r}px`},ref:n,children:[h.jsx(Dq,{className:"w-full h-full",children:e}),h.jsx(Xx,{forceMount:!0,className:"flex select-none touch-none bg-transparent w-0.5",orientation:"vertical",children:h.jsx(Kx,{className:"flex-1 bg-primary/50"})}),h.jsx(Xx,{forceMount:!0,className:"flex select-none touch-none bg-muted flex-col h-0.5",orientation:"horizontal",children:h.jsx(Kx,{className:"flex-1 bg-primary/50 "})})]})}const F$=({title:e,open:t,toggle:n,ActiveIcon:r=awe,children:i,renderHeaderRight:s})=>h.jsxs("div",{style:{minHeight:49},className:qe("flex flex-col flex-animate overflow-hidden",t?"flex-open border-b border-b-muted":"flex-initial cursor-pointer hover:bg-primary/5"),children:[h.jsxs("div",{className:qe("flex flex-row bg-muted/10 border-muted border-b h-14 py-4 pr-4 pl-2 items-center gap-2"),onClick:n,children:[h.jsx(yt,{Icon:t?r:owe,disabled:t}),h.jsx("h2",{className:"text-lg dark:font-bold font-semibold select-text",children:e}),h.jsx("div",{className:"flex flex-grow"}),s==null?void 0:s({open:t})]}),h.jsx("div",{className:qe("overflow-y-scroll transition-all",t?" flex-grow":"h-0 opacity-0"),children:i})]}),ew=({routePattern:e,identifier:t,...n})=>{const{active:r,toggle:i}=k$(e,t);return h.jsx(F$,{...n,open:r,toggle:i})},XO=({className:e,...t})=>h.jsx("hr",{...t,className:qe("border-muted my-3",e)});function u2e(e){const t=e==="light",n={offset:2,transitionProps:{transition:"pop",duration:75}},r="!bg-muted/40 border-transparent disabled:bg-muted/50 disabled:text-primary/50 focus:!border-zinc-500";return{theme:{components:{Button:id.extend({vars:(i,s)=>({root:{"--button-height":"auto"}}),classNames:(i,s)=>({root:qe("px-3 py-2 rounded-md h-auto")}),defaultProps:{size:"md",variant:t?"filled":"white"}}),Switch:Vc.extend({defaultProps:{size:"md",color:t?"dark":"blue"}}),Select:S1.extend({classNames:(i,s)=>({input:r,dropdown:`bknd-admin ${e} bg-background border-primary/20`}),defaultProps:{checkIconPosition:"right",comboboxProps:n}}),TagsInput:uT.extend({defaultProps:{comboboxProps:n}}),Radio:Mo.extend({defaultProps:{classNames:{body:"items-center"}}}),TextInput:jn.extend({classNames:(i,s)=>({wrapper:"leading-none",input:r})}),NumberInput:v1.extend({classNames:(i,s)=>({wrapper:"leading-none",input:r})}),Textarea:qy.extend({classNames:(i,s)=>({wrapper:"leading-none",input:r})}),Modal:Ui.extend({classNames:(i,s)=>({...s.classNames,root:`bknd-admin ${e} ${s.className??""}`,content:"!bg-background !rounded-lg !select-none",overlay:"!backdrop-blur-sm"})}),Tabs:En.extend({vars:(i,s)=>({root:{"--tabs-color":"border-primary"}})}),Menu:Ri.extend({defaultProps:{offset:2},classNames:(i,s)=>({dropdown:"!rounded-lg !px-1",item:"!rounded-md !text-[14px]"})}),SegmentedControl:zc.extend({classNames:(i,s)=>({root:t?"bg-primary/5":"bg-lightest/60",indicator:t?"bg-background":"bg-primary/15"})}),Notifications:zo.extend({classNames:(i,s)=>({notification:"-top-4 -right-4"})})},primaryColor:"dark",primaryShade:9},forceColorScheme:e}}const d2e="modulepreload",f2e=function(e){return"/"+e},zP={},p0=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(n.map(u=>{if(u=f2e(u),u in zP)return;zP[u]=!0;const f=u.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":d2e,f||(p.as="script"),p.crossOrigin="",p.href=u,c&&p.setAttribute("nonce",c),document.head.appendChild(p),f)return new Promise((y,v)=>{p.addEventListener("load",y),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function Jc(){const{config:e,schema:t,actions:n,app:r}=ct(),i={config:{set:async a=>(console.log("--set",a),await n.set("auth",a,!0)?(await n.reload(),!0):!1)},roles:{add:async(a,c={})=>(console.log("add role",a,c),await n.add("auth",`roles.${a}`,c)),patch:async(a,c)=>(console.log("patch role",a,c),await n.patch("auth",`roles.${a}`,c)),delete:async a=>(console.log("delete role",a),window.confirm(`Are you sure you want to delete the role "${a}"?`)?await n.remove("auth",`roles.${a}`):!1)}},s=["system.access.admin","system.access.api","system.config.read","system.config.read.secrets","system.build"];return{$auth:{roles:{none:Object.keys(e.auth.roles??{}).length===0,minimum_permissions:s,has_admin:Object.entries(e.auth.roles??{}).some(([a,c])=>c.implicit_allow||s.every(u=>{var f;return(f=c.permissions)==null?void 0:f.some(m=>m.permission===m)}))},routes:{settings:r.getSettingsPath(["auth"]),listUsers:r.getAbsolutePath("/data/"+ht.data.entity.list(e.auth.entity_name))}},config:e.auth,schema:t.auth,actions:i}}const h2e=({className:e,...t})=>h.jsx(Gq,{...t,className:qe("dark:text-amber-300 text-amber-700 cursor-help",e)}),m2e=({className:e,...t})=>h.jsx(Gq,{...t,className:qe("dark:text-red-300 text-red-700 cursor-help",e)}),dS={Warning:h2e,Err:m2e};function wr(e=[]){w.useLayoutEffect(()=>{const t="BKND";document.title=[t,...e].join(" / ")})}function p2e({children:e}){const{config:t,$auth:n}=Jc();return h.jsxs(h.Fragment,{children:[h.jsxs(Od,{children:[h.jsx(Rn,{right:h.jsx(Ln,{href:n.routes.settings,children:h.jsx(yt,{Icon:xm})}),children:"Auth"}),h.jsx(nr,{initialOffset:96,children:h.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:h.jsxs("nav",{className:"flex flex-col flex-1 gap-1",children:[h.jsx(li,{as:Ln,href:"/",children:"Overview"}),h.jsxs(li,{as:Ln,href:n.routes.listUsers,disabled:!t.enabled,className:"justify-between",children:["Users",!t.enabled&&h.jsx(Up,{title:"Auth is not enabled."})]}),h.jsxs(li,{as:Ln,href:ht.auth.roles.list(),disabled:!t.enabled,className:"justify-between",children:["Roles & Permissions",t.enabled?n.roles.none?h.jsx(Up,{title:"No roles defined."}):n.roles.has_admin?null:h.jsx(Up,{title:"No admin role defined."}):h.jsx(Up,{title:"Auth is not enabled."})]}),h.jsxs(li,{as:Ln,href:ht.auth.strategies(),disabled:!t.enabled,className:"justify-between",children:["Strategies",!t.enabled&&h.jsx(Up,{title:"Auth is not enabled."})]}),h.jsx(li,{as:Ln,href:ht.auth.settings(),className:"justify-between",children:"Settings"})]})})})]}),h.jsx(h0,{children:e})]})}const Up=({title:e})=>h.jsx(dS.Warning,{title:e,className:"size-5 pointer-events-auto"}),fS=({visible:e=!0,title:t,message:n,className:r,children:i,...s})=>e?h.jsx("div",{...s,className:qe("flex flex-row items-center p-4",r),children:h.jsxs("p",{children:[t&&h.jsxs("b",{children:[t,": "]}),n||i]})}):null,g2e=({className:e,...t})=>h.jsx(fS,{...t,className:qe("bg-warning text-warning-foreground",e)}),y2e=({className:e,...t})=>h.jsx(fS,{...t,className:qe("bg-error text-error-foreground",e)}),b2e=({className:e,...t})=>h.jsx(fS,{...t,className:qe("bg-success text-success-foreground",e)}),v2e=({className:e,...t})=>h.jsx(fS,{...t,className:qe("bg-info text-info-foreground",e)}),Ys={Warning:g2e,Exception:y2e,Success:b2e,Info:v2e};function x2e(){var y;const{app:e}=ct(),{config:{roles:t,strategies:n,entity_name:r,enabled:i}}=Jc(),s=r,a=((y=c0(v=>v.data.count(s),{enabled:i}).data)==null?void 0:y.count)??0,c=Object.keys(t??{}).length??0,u=Object.keys(n??{}).length??0,f=e.getAbsolutePath("/data/"+ht.data.entity.list(s)),m=ht.auth.roles.list(),p=ht.auth.strategies();return h.jsxs(h.Fragment,{children:[h.jsx(Rn,{children:"Overview"}),h.jsxs(nr,{children:[h.jsx(Ys.Warning,{visible:!i,title:"Auth not enabled",message:"To use authentication features, please enable it in the settings."}),h.jsxs("div",{className:"flex flex-col md:flex-row flex-1 p-3 gap-3",children:[h.jsxs("div",{className:"flex flex-col border border-primary/20 self-stretch md:self-start",children:[h.jsxs("div",{className:"flex flex-row gap-3 py-3 px-4 border-b border-b-muted font-medium bg-muted items-center justify-between",children:["Getting started",h.jsx(Zq,{className:"size-5"})]}),h.jsx(pv,{title:"Enable authentication",done:i,to:ht.auth.settings()}),h.jsx(pv,{title:"Create Roles",done:c>0,to:m}),h.jsx(pv,{title:"Create an user",done:a>0,to:f}),h.jsx(pv,{title:"Enable a second strategy",done:u>1,to:p})]}),h.jsxs("div",{className:"grid xs:grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-5 flex-grow",children:[h.jsx(f_,{title:"Users registered",value:i?a:0,actions:[{label:"View all",href:f},{label:"Add new",variant:"default",href:f}]}),h.jsx(f_,{title:"Roles",value:i?c:0,actions:[{label:"View all",href:m},{label:"Manage",variant:"default",href:m}]}),h.jsx(f_,{title:"Strategies enabled",value:i?u:0,actions:[{label:"View all",href:p},{label:"Manage",variant:"default",href:p}]})]})]})]})]})}const f_=({title:e,value:t,actions:n})=>h.jsxs("div",{className:"flex flex-col border border-muted h-auto self-start",children:[h.jsxs("div",{className:"flex flex-col gap-2 px-5 pt-3.5 pb-4 border-b border-b-muted",children:[h.jsx("div",{children:h.jsx("span",{className:"opacity-50",children:e})}),h.jsx("div",{className:"text-4xl font-medium",children:t})]}),h.jsx("div",{className:"flex flex-row gap-3 p-3 justify-between",children:n.map((r,i)=>h.jsx(WO,{size:"small",variant:"ghost",href:"#",...r,children:r.label},i))})]}),pv=({title:e,done:t=!1,to:n})=>{const[r]=Bn();return h.jsx("div",{className:"flex border-b border-b-muted",children:h.jsxs("div",{className:vn("flex flex-1 flex-row gap-3 py-3 px-4",t&&"opacity-50"),children:[h.jsxs("div",{className:"flex flex-row flex-1 gap-3 items-center",children:[t?h.jsx(oEe,{className:"size-5"}):h.jsx(_Ee,{className:"size-5"}),h.jsx("p",{className:vn("font-medium text-primary/80 leading-none",t?"line-through":""),children:e})]}),n&&h.jsx(yt,{Icon:dEe,onClick:()=>r(n)})]})})},B$=w.createContext(null);B$.displayName="@mantine/modals/ModalsContext";function w2e(){const e=w.useContext(B$);if(!e)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return e}function S2e({id:e,cancelProps:t,confirmProps:n,labels:r={cancel:"",confirm:""},closeOnConfirm:i=!0,closeOnCancel:s=!0,groupProps:o,onCancel:a,onConfirm:c,children:u}){const{cancel:f,confirm:m}=r,p=w2e(),y=x=>{typeof(t==null?void 0:t.onClick)=="function"&&(t==null||t.onClick(x)),typeof a=="function"&&a(),s&&p.closeModal(e)},v=x=>{typeof(n==null?void 0:n.onClick)=="function"&&(n==null||n.onClick(x)),typeof c=="function"&&c(),i&&p.closeModal(e)};return h.jsxs(h.Fragment,{children:[u&&h.jsx(Ue,{mb:"md",children:u}),h.jsxs(_A,{mt:u?0:"md",justify:"flex-end",...o,children:[h.jsx(id,{variant:"default",...t,onClick:y,children:(t==null?void 0:t.children)||f}),h.jsx(id,{...n,onClick:v,children:(n==null?void 0:n.children)||m})]})]})}const[E2e,z$]=TZ("mantine-modals"),N2e=e=>{const t=e.modalId||Jf();return z$("openContextModal")({...e,modalId:t}),t},_2e=z$("closeModal"),C2e=z$("closeAllModals"),aH={closeAll:C2e};function VP(e,t){var n,r,i,s;t&&e.type==="confirm"&&((r=(n=e.props).onCancel)==null||r.call(n)),(s=(i=e.props).onClose)==null||s.call(i)}function O2e(e,t){var n;switch(t.type){case"OPEN":return{current:t.modal,modals:[...e.modals,t.modal]};case"CLOSE":{const r=e.modals.find(s=>s.id===t.modalId);if(!r)return e;VP(r,t.canceled);const i=e.modals.filter(s=>s.id!==t.modalId);return{current:i[i.length-1]||e.current,modals:i}}case"CLOSE_ALL":return e.modals.length?(e.modals.concat().reverse().forEach(r=>{VP(r,t.canceled)}),{current:e.current,modals:[]}):e;case"UPDATE":{const{modalId:r,newProps:i}=t,s=e.modals.map(a=>a.id!==r?a:a.type==="content"||a.type==="confirm"?{...a,props:{...a.props,...i}}:a.type==="context"?{...a,props:{...a.props,...i,innerProps:{...a.props.innerProps,...i.innerProps}}}:a),o=((n=e.current)==null?void 0:n.id)===r&&s.find(a=>a.id===r)||e.current;return{...e,modals:s,current:o}}default:return e}}function j2e(e){if(!e)return{confirmProps:{},modalProps:{}};const{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:s,closeOnCancel:o,cancelProps:a,confirmProps:c,groupProps:u,labels:f,...m}=e;return{confirmProps:{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:s,closeOnCancel:o,cancelProps:a,confirmProps:c,groupProps:u,labels:f},modalProps:{id:t,...m}}}function A2e({children:e,modalProps:t,labels:n,modals:r}){const[i,s]=w.useReducer(O2e,{modals:[],current:null}),o=w.useRef(i);o.current=i;const a=w.useCallback(_=>{s({type:"CLOSE_ALL",canceled:_})},[o,s]),c=w.useCallback(({modalId:_,...C})=>{const j=_||Jf();return s({type:"OPEN",modal:{id:j,type:"content",props:C}}),j},[s]),u=w.useCallback(({modalId:_,...C})=>{const j=_||Jf();return s({type:"OPEN",modal:{id:j,type:"confirm",props:C}}),j},[s]),f=w.useCallback((_,{modalId:C,...j})=>{const A=C||Jf();return s({type:"OPEN",modal:{id:A,type:"context",props:j,ctx:_}}),A},[s]),m=w.useCallback((_,C)=>{s({type:"CLOSE",modalId:_,canceled:C})},[o,s]),p=w.useCallback(({modalId:_,...C})=>{s({type:"UPDATE",modalId:_,newProps:C})},[s]),y=w.useCallback(({modalId:_,...C})=>{s({type:"UPDATE",modalId:_,newProps:C})},[s]);E2e({openModal:c,openConfirmModal:u,openContextModal:({modal:_,...C})=>f(_,C),closeModal:m,closeContextModal:m,closeAllModals:a,updateModal:p,updateContextModal:y});const v={modalProps:t||{},modals:i.modals,openModal:c,openConfirmModal:u,openContextModal:f,closeModal:m,closeContextModal:m,closeAll:a,updateModal:p,updateContextModal:y},x=()=>{const _=o.current.current;switch(_==null?void 0:_.type){case"context":{const{innerProps:C,...j}=_.props,A=r[_.ctx];return{modalProps:j,content:h.jsx(A,{innerProps:C,context:v,id:_.id})}}case"confirm":{const{modalProps:C,confirmProps:j}=j2e(_.props);return{modalProps:C,content:h.jsx(S2e,{...j,id:_.id,labels:_.props.labels||n})}}case"content":{const{children:C,...j}=_.props;return{modalProps:j,content:C}}default:return{modalProps:{},content:null}}},{modalProps:S,content:N}=x();return h.jsxs(B$.Provider,{value:v,children:[h.jsx(Ui,{zIndex:oo("modal")+1,...t,...S,opened:i.modals.length>0,onClose:()=>{var _;return m((_=i.current)==null?void 0:_.id)},children:N}),e]})}function V$({context:e,id:t,innerProps:{content:n}}){return n}V$.defaultTitle=void 0;V$.modalProps={withCloseButton:!1,classNames:{size:"md",root:"bknd-admin",content:"text-center justify-center",title:"font-bold !text-md",body:"py-3 px-5 gap-4 flex flex-col"}};const T2e=e=>typeof e=="boolean"||e instanceof Boolean,$2e=e=>typeof e=="number"||e instanceof Number,R2e=e=>typeof e=="bigint"||e instanceof BigInt,lH=e=>!!e&&e instanceof Date,k2e=e=>typeof e=="string"||e instanceof String,M2e=e=>Array.isArray(e),I2e=e=>typeof e=="object"&&e!==null,cH=e=>!!e&&e instanceof Object&&typeof e=="function";function tw(e,t){return t===void 0&&(t=!1),!e||t?`"${e}"`:e}function P2e(e,t,n){return n?JSON.stringify(e):t?`"${e}"`:e}function uH(e){let{field:t,value:n,data:r,lastElement:i,openBracket:s,closeBracket:o,level:a,style:c,shouldExpandNode:u,clickToExpandNode:f,outerRef:m,beforeExpandChange:p}=e;const y=w.useRef(!1),[v,x]=w.useState(()=>u(a,n,t)),S=w.useRef(null);w.useEffect(()=>{y.current?x(u(a,n,t)):y.current=!0},[u]);const N=w.useId();if(r.length===0)return D2e({field:t,openBracket:s,closeBracket:o,lastElement:i,style:c});const _=v?c.collapseIcon:c.expandIcon,C=v?c.ariaLables.collapseJson:c.ariaLables.expandJson,j=a+1,A=r.length-1,$=D=>{v!==D&&(!p||p({level:a,value:n,field:t,newExpandValue:D}))&&x(D)},k=D=>{if(D.key==="ArrowRight"||D.key==="ArrowLeft")D.preventDefault(),$(D.key==="ArrowRight");else if(D.key==="ArrowUp"||D.key==="ArrowDown"){D.preventDefault();const z=D.key==="ArrowUp"?-1:1;if(!m.current)return;const L=m.current.querySelectorAll("[role=button]");let F=-1;for(let M=0;M<L.length;M++)if(L[M].tabIndex===0){F=M;break}if(F<0)return;const H=(F+z+L.length)%L.length;L[F].tabIndex=-1,L[H].tabIndex=0,L[H].focus()}},R=()=>{var D;$(!v);const z=S.current;if(!z)return;const L=(D=m.current)===null||D===void 0?void 0:D.querySelector('[role=button][tabindex="0"]');L&&(L.tabIndex=-1),z.tabIndex=0,z.focus()};return w.createElement("div",{className:c.basicChildStyle,role:"treeitem","aria-expanded":v,"aria-selected":void 0},w.createElement("span",{className:_,onClick:R,onKeyDown:k,role:"button","aria-label":C,"aria-expanded":v,"aria-controls":v?N:void 0,ref:S,tabIndex:a===0?0:-1}),(t||t==="")&&(f?w.createElement("span",{className:c.clickableLabel,onClick:R,onKeyDown:k},tw(t,c.quotesForFieldNames),":"):w.createElement("span",{className:c.label},tw(t,c.quotesForFieldNames),":")),w.createElement("span",{className:c.punctuation},s),v?w.createElement("ul",{id:N,role:"group",className:c.childFieldsContainer},r.map((D,z)=>w.createElement(dH,{key:D[0]||z,field:D[0],value:D[1],style:c,lastElement:z===A,level:j,shouldExpandNode:u,clickToExpandNode:f,outerRef:m}))):w.createElement("span",{className:c.collapsedContent,onClick:R,onKeyDown:k}),w.createElement("span",{className:c.punctuation},o),!i&&w.createElement("span",{className:c.punctuation},","))}function D2e(e){let{field:t,openBracket:n,closeBracket:r,lastElement:i,style:s}=e;return w.createElement("div",{className:s.basicChildStyle,role:"treeitem","aria-selected":void 0},(t||t==="")&&w.createElement("span",{className:s.label},tw(t,s.quotesForFieldNames),":"),w.createElement("span",{className:s.punctuation},n),w.createElement("span",{className:s.punctuation},r),!i&&w.createElement("span",{className:s.punctuation},","))}function L2e(e){let{field:t,value:n,style:r,lastElement:i,shouldExpandNode:s,clickToExpandNode:o,level:a,outerRef:c,beforeExpandChange:u}=e;return uH({field:t,value:n,lastElement:i||!1,level:a,openBracket:"{",closeBracket:"}",style:r,shouldExpandNode:s,clickToExpandNode:o,data:Object.keys(n).map(f=>[f,n[f]]),outerRef:c,beforeExpandChange:u})}function F2e(e){let{field:t,value:n,style:r,lastElement:i,level:s,shouldExpandNode:o,clickToExpandNode:a,outerRef:c,beforeExpandChange:u}=e;return uH({field:t,value:n,lastElement:i||!1,level:s,openBracket:"[",closeBracket:"]",style:r,shouldExpandNode:o,clickToExpandNode:a,data:n.map(f=>[void 0,f]),outerRef:c,beforeExpandChange:u})}function B2e(e){let{field:t,value:n,style:r,lastElement:i}=e,s,o=r.otherValue;return n===null?(s="null",o=r.nullValue):n===void 0?(s="undefined",o=r.undefinedValue):k2e(n)?(s=P2e(n,!r.noQuotesForStringValues,r.stringifyStringValues),o=r.stringValue):T2e(n)?(s=n?"true":"false",o=r.booleanValue):$2e(n)?(s=n.toString(),o=r.numberValue):R2e(n)?(s=`${n.toString()}n`,o=r.numberValue):lH(n)?s=n.toISOString():cH(n)?s="function() { }":s=n.toString(),w.createElement("div",{className:r.basicChildStyle,role:"treeitem","aria-selected":void 0},(t||t==="")&&w.createElement("span",{className:r.label},tw(t,r.quotesForFieldNames),":"),w.createElement("span",{className:o},s),!i&&w.createElement("span",{className:r.punctuation},","))}function dH(e){const t=e.value;return M2e(t)?w.createElement(F2e,Object.assign({},e)):I2e(t)&&!lH(t)&&!cH(t)?w.createElement(L2e,Object.assign({},e)):w.createElement(B2e,Object.assign({},e))}var Ir={"container-light":"_2IvMF _GzYRV","basic-element-style":"_2bkNM","child-fields-container":"_1BXBN","label-light":"_1MGIk","clickable-label-light":"_2YKJg _1MGIk _1MFti","punctuation-light":"_3uHL6 _3eOF8","value-null-light":"_2T6PJ","value-undefined-light":"_1Gho6","value-string-light":"_vGjyY","value-number-light":"_1bQdo","value-boolean-light":"_3zQKs","value-other-light":"_1xvuR","collapse-icon-light":"_oLqym _f10Tu _1MFti _1LId0","expand-icon-light":"_2AXVT _f10Tu _1MFti _1UmXx","collapsed-content-light":"_2KJWg _1pNG9 _1MFti"};const z2e={collapseJson:"collapse JSON",expandJson:"expand JSON"},UP={container:Ir["container-light"],basicChildStyle:Ir["basic-element-style"],childFieldsContainer:Ir["child-fields-container"],label:Ir["label-light"],clickableLabel:Ir["clickable-label-light"],nullValue:Ir["value-null-light"],undefinedValue:Ir["value-undefined-light"],stringValue:Ir["value-string-light"],booleanValue:Ir["value-boolean-light"],numberValue:Ir["value-number-light"],otherValue:Ir["value-other-light"],punctuation:Ir["punctuation-light"],collapseIcon:Ir["collapse-icon-light"],expandIcon:Ir["expand-icon-light"],collapsedContent:Ir["collapsed-content-light"],noQuotesForStringValues:!1,quotesForFieldNames:!1,ariaLables:z2e,stringifyStringValues:!1},V2e=()=>!0,U2e=e=>{let{data:t,style:n=UP,shouldExpandNode:r=V2e,clickToExpandNode:i=!1,beforeExpandChange:s,...o}=e;const a=w.useRef(null);return w.createElement("div",Object.assign({"aria-label":"JSON view"},o,{className:n.container,ref:a,role:"tree"}),w.createElement(dH,{value:t,style:{...UP,...n},lastElement:!0,level:0,shouldExpandNode:r,clickToExpandNode:i,outerRef:a,beforeExpandChange:s}))};let wm=class extends w.Component{constructor(n){super(n);K(this,"resetError",()=>{this.setState({hasError:!1,error:void 0})});this.state={hasError:!1,error:void 0}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){const i=this.props.suppressError?"warn":"error";console[i]("ErrorBoundary caught an error:",n,r)}renderFallback(){var n;return this.props.fallback?typeof this.props.fallback=="function"?this.props.fallback({error:this.state.error,resetError:this.resetError}):h.jsx(qP,{children:this.props.fallback}):h.jsx(qP,{children:((n=this.state.error)==null?void 0:n.message)??"Unknown error"})}render(){if(this.state.hasError)return this.renderFallback();if(this.props.suppressError)try{return this.props.children}catch{return this.renderFallback()}return this.props.children}};const qP=({children:e})=>h.jsx("div",{className:"bg-red-700 text-white py-1 px-2 rounded-md leading-tight font-mono",children:e}),q2e={basicChildStyle:"pl-5 ml-1 border-l border-muted hover:border-primary/20",container:"ml-[-10px]",label:"text-primary/90 font-bold font-mono mr-2",stringValue:"text-emerald-600 dark:text-emerald-500 font-mono select-text text-wrap whitespace-wrap break-words",numberValue:"text-sky-500 dark:text-sky-400 font-mono select-text",nullValue:"text-zinc-400 font-mono",undefinedValue:"text-zinc-400 font-mono",otherValue:"text-zinc-400 font-mono",booleanValue:"text-orange-500 dark:text-orange-400 font-mono",punctuation:"text-zinc-400 font-bold font-mono m-0.5",collapsedContent:"text-zinc-400 font-mono after:content-['...']",collapseIcon:"text-zinc-400 font-mono font-bold text-lg after:content-[''] mr-1.5",expandIcon:"text-zinc-400 font-mono font-bold text-lg after:content-[''] mr-1.5",noQuotesForStringValues:!1},Xr=({json:e,title:t,expand:n=0,showSize:r=!1,showCopy:i=!1,copyIconProps:s={},className:o})=>{const a=r?e?JSON.stringify(e).length:0:void 0,c=O1.fileSize(a??0),u=a||t||i;function f(){var m;(m=navigator.clipboard)==null||m.writeText(JSON.stringify(e,null,2))}return h.jsxs("div",{className:qe("bg-primary/5 py-3 relative overflow-hidden",o),children:[u&&h.jsxs("div",{className:"absolute right-4 top-3 font-mono text-zinc-400 flex flex-row gap-2 items-center",children:[(t||a!==void 0)&&h.jsxs("div",{className:"flex flex-row",children:[t&&h.jsx("span",{children:t})," ",a!==void 0&&h.jsxs("span",{children:["(",c,")"]})]}),i&&h.jsx("div",{children:h.jsx(yt,{Icon:Xq,onClick:f,...s})})]}),h.jsx(wm,{children:h.jsx(U2e,{data:e,shouldExpandNode:m=>m<n,style:q2e})})]})},H2e=w.forwardRef(({tabs:e,...t},n)=>{const r=Object.fromEntries(Object.entries(e).filter(([o,a])=>a.enabled!==!1)),[i,s]=w.useState(t.selected??Object.keys(r)[0]);return w.useImperativeHandle(n,()=>({setSelected:s})),h.jsxs("div",{className:"flex flex-col bg-primary/5 rounded-md flex-shrink-0",children:[h.jsx("div",{className:"flex flex-row gap-4 border-b px-3 border-primary/10 min-w-0",children:Object.keys(r).map(o=>h.jsx("button",{type:"button",className:qe("flex flex-row text-sm cursor-pointer py-3 pt-3.5 px-1 border-b border-transparent -mb-px transition-opacity flex-shrink-0",i===o?"border-primary":"opacity-50 hover:opacity-70"),onClick:()=>s(o),children:h.jsx("span",{className:"font-mono leading-none truncate",children:o})},o))}),h.jsx(Xr,{className:"bg-transparent overflow-x-auto",...t,...r[i],title:void 0})]})}),W2e=w.forwardRef(({classNames:e,children:t,opened:n,closeOnClickOutside:r=!1,...i},s)=>{const[o,{open:a,close:c}]=vm(n);return w.useImperativeHandle(s,()=>({open:a,close:c})),h.jsx(Ui,{withCloseButton:!1,padding:0,size:"xl",opened:o,...i,closeOnClickOutside:r,onClose:c,classNames:{...e,root:"bknd-admin",content:"rounded-lg select-none"},children:t})}),Cu=({path:e,onClose:t})=>h.jsxs("div",{className:"py-3 px-5 font-bold bg-lightest flex flex-row justify-between items-center sticky top-0 left-0 right-0 z-10 border-none",children:[h.jsx("div",{className:"flex flex-row gap-1",children:e.map((n,r)=>{const i=r+1===e.length;return h.jsxs(w.Fragment,{children:[h.jsx("span",{className:qe("",!i&&"opacity-70"),children:n},r),!i&&h.jsx("span",{className:"opacity-40",children:"/"})]},r)})}),h.jsx(yt,{Icon:L$,onClick:t})]}),jd=({children:e,className:t})=>h.jsxs(Pq,{className:qe("flex flex-col min-h-96",t),style:{maxHeight:"calc(80vh)"},children:[h.jsx(Dq,{className:"w-full h-full",children:h.jsx("div",{className:"py-3 px-5 gap-4 flex flex-col",children:e})}),h.jsx(Xx,{forceMount:!0,className:"flex select-none touch-none bg-transparent w-0.5",orientation:"vertical",children:h.jsx(Kx,{className:"flex-1 bg-primary/50"})}),h.jsx(Xx,{forceMount:!0,className:"flex select-none touch-none bg-muted flex-col h-0.5",orientation:"horizontal",children:h.jsx(Kx,{className:"flex-1 bg-primary/50 "})})]}),Ad=({next:e,prev:t,nextLabel:n="Next",prevLabel:r="Back",debug:i})=>{const[s,o]=vm(!1);return h.jsx("div",{className:"flex flex-col border-t border-t-muted",children:h.jsxs("div",{className:"flex flex-row justify-between items-center py-3 px-4",children:[h.jsx("div",{children:i&&h.jsxs(hi,{position:"right-start",shadow:"md",opened:s,classNames:{dropdown:"!px-1 !pr-2.5 !py-2 text-sm"},children:[h.jsx(hi.Target,{children:h.jsx(yt,{onClick:o.toggle,Icon:DU,variant:s?"default":"ghost"})}),h.jsx(hi.Dropdown,{children:h.jsx(Xr,{json:i,expand:6,className:"p-0"})})]})}),h.jsxs("div",{className:"flex flex-row gap-2",children:[h.jsx(tt,{className:"w-24 justify-center",...t,children:r}),h.jsx(tt,{className:"w-24 justify-center",variant:"primary",...e,children:n})]})]})})},fH=w.createContext(void 0);function hH({children:e,initialPath:t=[],initialState:n={},lastBack:r}){const[i,s]=w.useState(n),[o,a]=w.useState(t),c=w.Children.toArray(e).filter(p=>p.props.disabled!==!0);function u(){o.length===0?r==null||r():a(p=>p.slice(0,-1))}const f=p=>()=>{a(y=>[...y,p])},m=c.find(p=>p.props.id===o[o.length-1])||c[0];return h.jsx(fH.Provider,{value:{nextStep:f,stepBack:u,state:i,path:o,setState:s,close:r},children:m})}function Td(){return w.useContext(fH)}function Ou({children:e,disabled:t=!1,path:n=[],id:r,...i}){return h.jsx("div",{...i,children:e})}function qi(){const{config:e,app:t,schema:n,actions:r}=ct(),i=Xt(e.data.entities??{},(a,c)=>i$(c,a)),s={entity:{add:async(a,c)=>{const u=An(n$,c,{skipMark:!0,forceParse:!0});return await r.add("data",`entities.${a}`,u)},patch:a=>{if(!i[a])throw new Error(`Entity "${a}" not found`);return{config:async u=>await r.overwrite("data",`entities.${a}.config`,u),fields:J2e(r,a)}}},relations:{add:async a=>{const c=crypto.randomUUID(),u=An(Pt(r$),a,{skipMark:!0,forceParse:!0});return await r.add("data",`relations.${c}`,u)}}};return{$data:{entity:a=>i[a],modals:G2e,system:a=>{var c;return{any:((c=i[a])==null?void 0:c.type)==="system",users:a===e.auth.entity_name,media:a===e.media.entity_name}}},entities:i,relations:t.relations,config:e.data,schema:n.data,actions:s}}const G2e={createAny:()=>Or.open(Or.ids.dataCreate,{}),createEntity:()=>Or.open(Or.ids.dataCreate,{initialPath:["entities","entity"],initialState:{action:"entity"}}),createRelation:e=>Or.open(Or.ids.dataCreate,{initialPath:["entities","relation"],initialState:{action:"relation",relations:{create:[{source:e,type:"n:1"}]}}}),createMedia:e=>Or.open(Or.ids.dataCreate,{initialPath:["entities","template-media"],initialState:{action:"template-media",initial:{entity:e}}})};function J2e(e,t){return{add:async(n,r)=>{const i=An(t$,r,{skipMark:!0,forceParse:!0});return await e.add("data",`entities.${t}.fields.${n}`,i)},patch:()=>null,set:async n=>{try{const r=An(nU,n,{skipMark:!0,forceParse:!0}),i=await e.overwrite("data",`entities.${t}.fields`,r)}catch(r){console.error("error",r),r instanceof dm?alert("Error updating fields: "+r.firstToString()):alert("An error occured, check console. There will be nice error handling soon.")}}}}function Y2e(){var m,p,y;const{stepBack:e,state:t,close:n}=Td(),[r,i]=w.useState([]),[s,o]=w.useState(!1),a=qi(),c=ct(),u=[];(m=t.entities)!=null&&m.create&&u.push(...t.entities.create.map(v=>({action:"add",Icon:rwe,type:"Entity",name:v.name,json:v,run:async()=>await a.actions.entity.add(v.name,v)}))),(p=t.fields)!=null&&p.create&&u.push(...t.fields.create.map(v=>({action:"add",Icon:v$,type:"Field",name:v.name,json:v,run:async()=>await a.actions.entity.patch(v.entity).fields.add(v.name,v.field)}))),(y=t.relations)!=null&&y.create&&u.push(...t.relations.create.map(v=>({action:"add",Icon:x$,type:"Relation",name:`${v.source} -> ${v.target} (${v.type})`,json:v,run:async()=>await a.actions.relations.add(v)})));async function f(){o(!0);for(const v of u)try{const x=await v.run();if(i(S=>[...S,x]),x!==!0)break}catch(x){i(S=>[...S,x.message])}}return w.useEffect(()=>{console.log("states",r,u,r.length,u.length,r.every(v=>v===!0)),u.length===r.length&&r.every(v=>v===!0)?c.actions.reload().then(n):o(!1)},[r]),h.jsxs(h.Fragment,{children:[h.jsxs(jd,{children:[h.jsx("div",{children:'This is what will be created. Please confirm by clicking "Next".'}),h.jsx("div",{className:"flex flex-col gap-1",children:u.map((v,x)=>h.jsx(X2e,{...v,state:r[x]},x))})]}),h.jsx(Ad,{nextLabel:"Create",next:{onClick:f,disabled:s},prev:{onClick:e,disabled:s},debug:{state:t}})]})}const X2e=({Icon:e,type:t,name:n,json:r,state:i,action:s,initialExpanded:o=!1})=>{const[a,c]=vm(o),u=typeof i<"u"&&i!==!0,f=i===!0;return h.jsxs("div",{className:qe("flex flex-col border border-muted rounded bg-background mb-2",u&&"bg-red-500/20",f&&"bg-green-500/20"),children:[h.jsxs("div",{className:"flex flex-row gap-4 px-2 py-2 items-center",children:[h.jsx("div",{className:"flex flex-row items-center p-1 bg-primary/5 rounded",children:h.jsx(e,{className:"w-6 h-6"})}),h.jsxs("div",{className:"flex flex-row flex-grow gap-5",children:[h.jsx(h_,{type:"action",name:s}),h.jsx(h_,{type:"type",name:t}),h.jsx(h_,{type:"name",name:n})]}),r&&h.jsx(yt,{Icon:LU,variant:a?"default":"ghost",onClick:c.toggle})]}),r&&a&&h.jsx("div",{className:"flex flex-col border-t border-t-muted",children:h.jsx(Xr,{json:r,expand:8,className:"text-sm"})}),u&&typeof i=="string"&&h.jsx("div",{className:"text-sm text-red-500",children:i})]})},h_=({type:e,name:t})=>h.jsxs("div",{className:"flex flex-row text-sm font-mono gap-2",children:[h.jsx("div",{className:"opacity-50",children:Li(e)}),h.jsx("div",{className:"font-semibold",children:t})]});var g0=e=>e.type==="checkbox",Du=e=>e instanceof Date,Hr=e=>e==null;const mH=e=>typeof e=="object";var Fn=e=>!Hr(e)&&!Array.isArray(e)&&mH(e)&&!Du(e),pH=e=>Fn(e)&&e.target?g0(e.target)?e.target.checked:e.target.value:e,K2e=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,gH=(e,t)=>e.has(K2e(t)),Q2e=e=>{const t=e.constructor&&e.constructor.prototype;return Fn(t)&&t.hasOwnProperty("isPrototypeOf")},U$=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function un(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(U$&&(e instanceof Blob||r))&&(n||Fn(e)))if(t=n?[]:{},!n&&!Q2e(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=un(e[i]));else return e;return t}var hS=e=>/^\w*$/.test(e),fn=e=>e===void 0,mS=e=>Array.isArray(e)?e.filter(Boolean):[],q$=e=>mS(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Fe=(e,t,n)=>{if(!t||!Fn(e))return n;const r=(hS(t)?[t]:q$(t)).reduce((i,s)=>Hr(i)?i:i[s],e);return fn(r)||r===e?fn(e[t])?n:e[t]:r},Ai=e=>typeof e=="boolean",Ft=(e,t,n)=>{let r=-1;const i=hS(t)?[t]:q$(t),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let c=n;if(r!==o){const u=e[a];c=Fn(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=c,e=e[a]}};const nw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ss={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},fa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},yH=je.createContext(null);yH.displayName="HookFormContext";const pS=()=>je.useContext(yH);var bH=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==ss.all&&(t._proxyFormState[o]=!r||ss.all),n&&(n[o]=!0),e[o]}});return i};const gS=typeof window<"u"?je.useLayoutEffect:je.useEffect;function Z2e(e){const t=pS(),{control:n=t.control,disabled:r,name:i,exact:s}=e||{},[o,a]=je.useState(n._formState),c=je.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return gS(()=>n._subscribe({name:i,formState:c.current,exact:s,callback:u=>{!r&&a({...n._formState,...u})}}),[i,r,s]),je.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),je.useMemo(()=>bH(o,n,c.current,!1),[o,n])}var Ao=e=>typeof e=="string",vH=(e,t,n,r,i)=>Ao(e)?(r&&t.watch.add(e),Fe(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),Fe(n,s))):(r&&(t.watchAll=!0),n),KO=e=>Hr(e)||!mH(e);function Oa(e,t,n=new WeakSet){if(KO(e)||KO(t))return e===t;if(Du(e)&&Du(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const s of r){const o=e[s];if(!i.includes(s))return!1;if(s!=="ref"){const a=t[s];if(Du(o)&&Du(a)||Fn(o)&&Fn(a)||Array.isArray(o)&&Array.isArray(a)?!Oa(o,a,n):o!==a)return!1}}return!0}function eNe(e){const t=pS(),{control:n=t.control,name:r,defaultValue:i,disabled:s,exact:o,compute:a}=e||{},c=je.useRef(i),u=je.useRef(a),f=je.useRef(void 0);u.current=a;const m=je.useMemo(()=>n._getWatch(r,c.current),[n,r]),[p,y]=je.useState(u.current?u.current(m):m);return gS(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:v=>{if(!s){const x=vH(r,n._names,v.values||n._formValues,!1,c.current);if(u.current){const S=u.current(x);Oa(S,f.current)||(y(S),f.current=S)}else y(x)}}}),[n,s,r,o]),je.useEffect(()=>n._removeUnmounted()),p}function Sm(e){const t=pS(),{name:n,disabled:r,control:i=t.control,shouldUnregister:s,defaultValue:o}=e,a=gH(i._names.array,n),c=je.useMemo(()=>Fe(i._formValues,n,Fe(i._defaultValues,n,o)),[i,n,o]),u=eNe({control:i,name:n,defaultValue:c,exact:!0}),f=Z2e({control:i,name:n,exact:!0}),m=je.useRef(e),p=je.useRef(i.register(n,{...e.rules,value:u,...Ai(e.disabled)?{disabled:e.disabled}:{}}));m.current=e;const y=je.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Fe(f.errors,n)},isDirty:{enumerable:!0,get:()=>!!Fe(f.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Fe(f.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Fe(f.validatingFields,n)},error:{enumerable:!0,get:()=>Fe(f.errors,n)}}),[f,n]),v=je.useCallback(_=>p.current.onChange({target:{value:pH(_),name:n},type:nw.CHANGE}),[n]),x=je.useCallback(()=>p.current.onBlur({target:{value:Fe(i._formValues,n),name:n},type:nw.BLUR}),[n,i._formValues]),S=je.useCallback(_=>{const C=Fe(i._fields,n);C&&_&&(C._f.ref={focus:()=>_.focus&&_.focus(),select:()=>_.select&&_.select(),setCustomValidity:j=>_.setCustomValidity(j),reportValidity:()=>_.reportValidity()})},[i._fields,n]),N=je.useMemo(()=>({name:n,value:u,...Ai(r)||f.disabled?{disabled:f.disabled||r}:{},onChange:v,onBlur:x,ref:S}),[n,r,f.disabled,v,x,S,u]);return je.useEffect(()=>{const _=i._options.shouldUnregister||s;i.register(n,{...m.current.rules,...Ai(m.current.disabled)?{disabled:m.current.disabled}:{}});const C=(j,A)=>{const $=Fe(i._fields,j);$&&$._f&&($._f.mount=A)};if(C(n,!0),_){const j=un(Fe(i._options.defaultValues,n));Ft(i._defaultValues,n,j),fn(Fe(i._formValues,n))&&Ft(i._formValues,n,j)}return!a&&i.register(n),()=>{(a?_&&!i._state.action:_)?i.unregister(n):C(n,!1)}},[n,i,a,s]),je.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),je.useMemo(()=>({field:N,formState:f,fieldState:y}),[N,f,y])}var tNe=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},ui=e=>Array.isArray(e)?e:[e],HP=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},Ur=e=>Fn(e)&&!Object.keys(e).length,H$=e=>e.type==="file",qs=e=>typeof e=="function",rw=e=>{if(!U$)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},xH=e=>e.type==="select-multiple",W$=e=>e.type==="radio",nNe=e=>W$(e)||g0(e),m_=e=>rw(e)&&e.isConnected;function rNe(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=fn(e)?r++:e[t[r++]];return e}function iNe(e){for(const t in e)if(e.hasOwnProperty(t)&&!fn(e[t]))return!1;return!0}function Pn(e,t){const n=Array.isArray(t)?t:hS(t)?[t]:q$(t),r=n.length===1?e:rNe(e,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Fn(r)&&Ur(r)||Array.isArray(r)&&iNe(r))&&Pn(e,n.slice(0,-1)),e}var wH=e=>{for(const t in e)if(qs(e[t]))return!0;return!1};function iw(e,t={}){const n=Array.isArray(e);if(Fn(e)||n)for(const r in e)Array.isArray(e[r])||Fn(e[r])&&!wH(e[r])?(t[r]=Array.isArray(e[r])?[]:{},iw(e[r],t[r])):Hr(e[r])||(t[r]=!0);return t}function SH(e,t,n){const r=Array.isArray(e);if(Fn(e)||r)for(const i in e)Array.isArray(e[i])||Fn(e[i])&&!wH(e[i])?fn(t)||KO(n[i])?n[i]=Array.isArray(e[i])?iw(e[i],[]):{...iw(e[i])}:SH(e[i],Hr(t)?{}:t[i],n[i]):n[i]=!Oa(e[i],t[i]);return n}var qp=(e,t)=>SH(e,t,iw(t));const WP={value:!1,isValid:!1},GP={value:!0,isValid:!0};var EH=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!fn(e[0].attributes.value)?fn(e[0].value)||e[0].value===""?GP:{value:e[0].value,isValid:!0}:GP:WP}return WP},NH=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>fn(e)?e:t?e===""?NaN:e&&+e:n&&Ao(e)?new Date(e):r?r(e):e;const JP={isValid:!1,value:null};var _H=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,JP):JP;function YP(e){const t=e.ref;return H$(t)?t.files:W$(t)?_H(e.refs).value:xH(t)?[...t.selectedOptions].map(({value:n})=>n):g0(t)?EH(e.refs).value:NH(fn(t.value)?e.ref.value:t.value,e)}var sNe=(e,t,n,r)=>{const i={};for(const s of e){const o=Fe(t,s);o&&Ft(i,s,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},sw=e=>e instanceof RegExp,Hp=e=>fn(e)?e:sw(e)?e.source:Fn(e)?sw(e.value)?e.value.source:e.value:e,qf=e=>({isOnSubmit:!e||e===ss.onSubmit,isOnBlur:e===ss.onBlur,isOnChange:e===ss.onChange,isOnAll:e===ss.all,isOnTouch:e===ss.onTouched});const XP="AsyncFunction";var oNe=e=>!!e&&!!e.validate&&!!(qs(e.validate)&&e.validate.constructor.name===XP||Fn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===XP)),aNe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),QO=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Qf=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const s=Fe(e,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(Qf(a,t))break}else if(Fn(a)&&Qf(a,t))break}}};function KP(e,t,n){const r=Fe(e,n);if(r||hS(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Fe(t,s),a=Fe(e,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};if(a&&a.root&&a.root.type)return{name:`${s}.root`,error:a.root};i.pop()}return{name:n}}var lNe=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return Ur(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!r||ss.all))},cNe=(e,t,n)=>!e||!t||e===t||ui(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),uNe=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,dNe=(e,t)=>!mS(Fe(e,t)).length&&Pn(e,t),CH=(e,t,n)=>{const r=ui(Fe(e,n));return Ft(r,"root",t[n]),Ft(e,n,r),e},ex=e=>Ao(e);function QP(e,t,n="validate"){if(ex(e)||Array.isArray(e)&&e.every(ex)||Ai(e)&&!e)return{type:n,message:ex(e)?e:"",ref:t}}var Tf=e=>Fn(e)&&!sw(e)?e:{value:e,message:""},ZO=async(e,t,n,r,i,s)=>{const{ref:o,refs:a,required:c,maxLength:u,minLength:f,min:m,max:p,pattern:y,validate:v,name:x,valueAsNumber:S,mount:N}=e._f,_=Fe(n,x);if(!N||t.has(x))return{};const C=a?a[0]:o,j=F=>{i&&C.reportValidity&&(C.setCustomValidity(Ai(F)?"":F||""),C.reportValidity())},A={},$=W$(o),k=g0(o),R=$||k,D=(S||H$(o))&&fn(o.value)&&fn(_)||rw(o)&&o.value===""||_===""||Array.isArray(_)&&!_.length,z=tNe.bind(null,x,r,A),L=(F,H,M,V=fa.maxLength,T=fa.minLength)=>{const I=F?H:M;A[x]={type:F?V:T,message:I,ref:o,...z(F?V:T,I)}};if(s?!Array.isArray(_)||!_.length:c&&(!R&&(D||Hr(_))||Ai(_)&&!_||k&&!EH(a).isValid||$&&!_H(a).isValid)){const{value:F,message:H}=ex(c)?{value:!!c,message:c}:Tf(c);if(F&&(A[x]={type:fa.required,message:H,ref:C,...z(fa.required,H)},!r))return j(H),A}if(!D&&(!Hr(m)||!Hr(p))){let F,H;const M=Tf(p),V=Tf(m);if(!Hr(_)&&!isNaN(_)){const T=o.valueAsNumber||_&&+_;Hr(M.value)||(F=T>M.value),Hr(V.value)||(H=T<V.value)}else{const T=o.valueAsDate||new Date(_),I=B=>new Date(new Date().toDateString()+" "+B),P=o.type=="time",W=o.type=="week";Ao(M.value)&&_&&(F=P?I(_)>I(M.value):W?_>M.value:T>new Date(M.value)),Ao(V.value)&&_&&(H=P?I(_)<I(V.value):W?_<V.value:T<new Date(V.value))}if((F||H)&&(L(!!F,M.message,V.message,fa.max,fa.min),!r))return j(A[x].message),A}if((u||f)&&!D&&(Ao(_)||s&&Array.isArray(_))){const F=Tf(u),H=Tf(f),M=!Hr(F.value)&&_.length>+F.value,V=!Hr(H.value)&&_.length<+H.value;if((M||V)&&(L(M,F.message,H.message),!r))return j(A[x].message),A}if(y&&!D&&Ao(_)){const{value:F,message:H}=Tf(y);if(sw(F)&&!_.match(F)&&(A[x]={type:fa.pattern,message:H,ref:o,...z(fa.pattern,H)},!r))return j(H),A}if(v){if(qs(v)){const F=await v(_,n),H=QP(F,C);if(H&&(A[x]={...H,...z(fa.validate,H.message)},!r))return j(H.message),A}else if(Fn(v)){let F={};for(const H in v){if(!Ur(F)&&!r)break;const M=QP(await v[H](_,n),C,H);M&&(F={...M,...z(H,M.message)},j(M.message),r&&(A[x]=F))}if(!Ur(F)&&(A[x]={ref:C,...F},!r))return A}}return j(!0),A};const fNe={mode:ss.onSubmit,reValidateMode:ss.onChange,shouldFocusError:!0};function hNe(e={}){let t={...fNe,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:qs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=Fn(t.defaultValues)||Fn(t.values)?un(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:un(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...f};const p={array:HP(),state:HP()},y=t.criteriaMode===ss.all,v=G=>re=>{clearTimeout(u),u=setTimeout(G,re)},x=async G=>{if(!t.disabled&&(f.isValid||m.isValid||G)){const re=t.resolver?Ur((await k()).errors):await D(r,!0);re!==n.isValid&&p.state.next({isValid:re})}},S=(G,re)=>{!t.disabled&&(f.isValidating||f.validatingFields||m.isValidating||m.validatingFields)&&((G||Array.from(a.mount)).forEach(te=>{te&&(re?Ft(n.validatingFields,te,re):Pn(n.validatingFields,te))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Ur(n.validatingFields)}))},N=(G,re=[],te,me,se=!0,ne=!0)=>{if(me&&te&&!t.disabled){if(o.action=!0,ne&&Array.isArray(Fe(r,G))){const le=te(Fe(r,G),me.argA,me.argB);se&&Ft(r,G,le)}if(ne&&Array.isArray(Fe(n.errors,G))){const le=te(Fe(n.errors,G),me.argA,me.argB);se&&Ft(n.errors,G,le),dNe(n.errors,G)}if((f.touchedFields||m.touchedFields)&&ne&&Array.isArray(Fe(n.touchedFields,G))){const le=te(Fe(n.touchedFields,G),me.argA,me.argB);se&&Ft(n.touchedFields,G,le)}(f.dirtyFields||m.dirtyFields)&&(n.dirtyFields=qp(i,s)),p.state.next({name:G,isDirty:L(G,re),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ft(s,G,re)},_=(G,re)=>{Ft(n.errors,G,re),p.state.next({errors:n.errors})},C=G=>{n.errors=G,p.state.next({errors:n.errors,isValid:!1})},j=(G,re,te,me)=>{const se=Fe(r,G);if(se){const ne=Fe(s,G,fn(te)?Fe(i,G):te);fn(ne)||me&&me.defaultChecked||re?Ft(s,G,re?ne:YP(se._f)):M(G,ne),o.mount&&x()}},A=(G,re,te,me,se)=>{let ne=!1,le=!1;const xe={name:G};if(!t.disabled){if(!te||me){(f.isDirty||m.isDirty)&&(le=n.isDirty,n.isDirty=xe.isDirty=L(),ne=le!==xe.isDirty);const Ne=Oa(Fe(i,G),re);le=!!Fe(n.dirtyFields,G),Ne?Pn(n.dirtyFields,G):Ft(n.dirtyFields,G,!0),xe.dirtyFields=n.dirtyFields,ne=ne||(f.dirtyFields||m.dirtyFields)&&le!==!Ne}if(te){const Ne=Fe(n.touchedFields,G);Ne||(Ft(n.touchedFields,G,te),xe.touchedFields=n.touchedFields,ne=ne||(f.touchedFields||m.touchedFields)&&Ne!==te)}ne&&se&&p.state.next(xe)}return ne?xe:{}},$=(G,re,te,me)=>{const se=Fe(n.errors,G),ne=(f.isValid||m.isValid)&&Ai(re)&&n.isValid!==re;if(t.delayError&&te?(c=v(()=>_(G,te)),c(t.delayError)):(clearTimeout(u),c=null,te?Ft(n.errors,G,te):Pn(n.errors,G)),(te?!Oa(se,te):se)||!Ur(me)||ne){const le={...me,...ne&&Ai(re)?{isValid:re}:{},errors:n.errors,name:G};n={...n,...le},p.state.next(le)}},k=async G=>{S(G,!0);const re=await t.resolver(s,t.context,sNe(G||a.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return S(G),re},R=async G=>{const{errors:re}=await k(G);if(G)for(const te of G){const me=Fe(re,te);me?Ft(n.errors,te,me):Pn(n.errors,te)}else n.errors=re;return re},D=async(G,re,te={valid:!0})=>{for(const me in G){const se=G[me];if(se){const{_f:ne,...le}=se;if(ne){const xe=a.array.has(ne.name),Ne=se._f&&oNe(se._f);Ne&&f.validatingFields&&S([me],!0);const Ge=await ZO(se,a.disabled,s,y,t.shouldUseNativeValidation&&!re,xe);if(Ne&&f.validatingFields&&S([me]),Ge[ne.name]&&(te.valid=!1,re))break;!re&&(Fe(Ge,ne.name)?xe?CH(n.errors,Ge,ne.name):Ft(n.errors,ne.name,Ge[ne.name]):Pn(n.errors,ne.name))}!Ur(le)&&await D(le,re,te)}}return te.valid},z=()=>{for(const G of a.unMount){const re=Fe(r,G);re&&(re._f.refs?re._f.refs.every(te=>!m_(te)):!m_(re._f.ref))&&ce(G)}a.unMount=new Set},L=(G,re)=>!t.disabled&&(G&&re&&Ft(s,G,re),!Oa(B(),i)),F=(G,re,te)=>vH(G,a,{...o.mount?s:fn(re)?i:Ao(G)?{[G]:re}:re},te,re),H=G=>mS(Fe(o.mount?s:i,G,t.shouldUnregister?Fe(i,G,[]):[])),M=(G,re,te={})=>{const me=Fe(r,G);let se=re;if(me){const ne=me._f;ne&&(!ne.disabled&&Ft(s,G,NH(re,ne)),se=rw(ne.ref)&&Hr(re)?"":re,xH(ne.ref)?[...ne.ref.options].forEach(le=>le.selected=se.includes(le.value)):ne.refs?g0(ne.ref)?ne.refs.forEach(le=>{(!le.defaultChecked||!le.disabled)&&(Array.isArray(se)?le.checked=!!se.find(xe=>xe===le.value):le.checked=se===le.value||!!se)}):ne.refs.forEach(le=>le.checked=le.value===se):H$(ne.ref)?ne.ref.value="":(ne.ref.value=se,ne.ref.type||p.state.next({name:G,values:un(s)})))}(te.shouldDirty||te.shouldTouch)&&A(G,se,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&W(G)},V=(G,re,te)=>{for(const me in re){if(!re.hasOwnProperty(me))return;const se=re[me],ne=G+"."+me,le=Fe(r,ne);(a.array.has(G)||Fn(se)||le&&!le._f)&&!Du(se)?V(ne,se,te):M(ne,se,te)}},T=(G,re,te={})=>{const me=Fe(r,G),se=a.array.has(G),ne=un(re);Ft(s,G,ne),se?(p.array.next({name:G,values:un(s)}),(f.isDirty||f.dirtyFields||m.isDirty||m.dirtyFields)&&te.shouldDirty&&p.state.next({name:G,dirtyFields:qp(i,s),isDirty:L(G,ne)})):me&&!me._f&&!Hr(ne)?V(G,ne,te):M(G,ne,te),QO(G,a)&&p.state.next({...n,name:G}),p.state.next({name:o.mount?G:void 0,values:un(s)})},I=async G=>{o.mount=!0;const re=G.target;let te=re.name,me=!0;const se=Fe(r,te),ne=Ne=>{me=Number.isNaN(Ne)||Du(Ne)&&isNaN(Ne.getTime())||Oa(Ne,Fe(s,te,Ne))},le=qf(t.mode),xe=qf(t.reValidateMode);if(se){let Ne,Ge;const Ut=re.type?YP(se._f):pH(G),St=G.type===nw.BLUR||G.type===nw.FOCUS_OUT,ho=!aNe(se._f)&&!t.resolver&&!Fe(n.errors,te)&&!se._f.deps||uNe(St,Fe(n.touchedFields,te),n.isSubmitted,xe,le),qt=QO(te,a,St);Ft(s,te,Ut),St?(se._f.onBlur&&se._f.onBlur(G),c&&c(0)):se._f.onChange&&se._f.onChange(G);const pn=A(te,Ut,St),fr=!Ur(pn)||qt;if(!St&&p.state.next({name:te,type:G.type,values:un(s)}),ho)return(f.isValid||m.isValid)&&(t.mode==="onBlur"?St&&x():St||x()),fr&&p.state.next({name:te,...qt?{}:pn});if(!St&&qt&&p.state.next({...n}),t.resolver){const{errors:_s}=await k([te]);if(ne(Ut),me){const Hi=KP(n.errors,r,te),mo=KP(_s,r,Hi.name||te);Ne=mo.error,te=mo.name,Ge=Ur(_s)}}else S([te],!0),Ne=(await ZO(se,a.disabled,s,y,t.shouldUseNativeValidation))[te],S([te]),ne(Ut),me&&(Ne?Ge=!1:(f.isValid||m.isValid)&&(Ge=await D(r,!0)));me&&(se._f.deps&&W(se._f.deps),$(te,Ge,Ne,pn))}},P=(G,re)=>{if(Fe(n.errors,re)&&G.focus)return G.focus(),1},W=async(G,re={})=>{let te,me;const se=ui(G);if(t.resolver){const ne=await R(fn(G)?G:se);te=Ur(ne),me=G?!se.some(le=>Fe(ne,le)):te}else G?(me=(await Promise.all(se.map(async ne=>{const le=Fe(r,ne);return await D(le&&le._f?{[ne]:le}:le)}))).every(Boolean),!(!me&&!n.isValid)&&x()):me=te=await D(r);return p.state.next({...!Ao(G)||(f.isValid||m.isValid)&&te!==n.isValid?{}:{name:G},...t.resolver||!G?{isValid:te}:{},errors:n.errors}),re.shouldFocus&&!me&&Qf(r,P,G?se:a.mount),me},B=G=>{const re={...o.mount?s:i};return fn(G)?re:Ao(G)?Fe(re,G):G.map(te=>Fe(re,te))},q=(G,re)=>({invalid:!!Fe((re||n).errors,G),isDirty:!!Fe((re||n).dirtyFields,G),error:Fe((re||n).errors,G),isValidating:!!Fe(n.validatingFields,G),isTouched:!!Fe((re||n).touchedFields,G)}),X=G=>{G&&ui(G).forEach(re=>Pn(n.errors,re)),p.state.next({errors:G?n.errors:{}})},Q=(G,re,te)=>{const me=(Fe(r,G,{_f:{}})._f||{}).ref,se=Fe(n.errors,G)||{},{ref:ne,message:le,type:xe,...Ne}=se;Ft(n.errors,G,{...Ne,...re,ref:me}),p.state.next({name:G,errors:n.errors,isValid:!1}),te&&te.shouldFocus&&me&&me.focus&&me.focus()},ie=(G,re)=>qs(G)?p.state.subscribe({next:te=>"values"in te&&G(F(void 0,re),te)}):F(G,re,!0),ae=G=>p.state.subscribe({next:re=>{cNe(G.name,re.name,G.exact)&&lNe(re,G.formState||f,Oe,G.reRenderRoot)&&G.callback({values:{...s},...n,...re,defaultValues:i})}}).unsubscribe,fe=G=>(o.mount=!0,m={...m,...G.formState},ae({...G,formState:m})),ce=(G,re={})=>{for(const te of G?ui(G):a.mount)a.mount.delete(te),a.array.delete(te),re.keepValue||(Pn(r,te),Pn(s,te)),!re.keepError&&Pn(n.errors,te),!re.keepDirty&&Pn(n.dirtyFields,te),!re.keepTouched&&Pn(n.touchedFields,te),!re.keepIsValidating&&Pn(n.validatingFields,te),!t.shouldUnregister&&!re.keepDefaultValue&&Pn(i,te);p.state.next({values:un(s)}),p.state.next({...n,...re.keepDirty?{isDirty:L()}:{}}),!re.keepIsValid&&x()},he=({disabled:G,name:re})=>{(Ai(G)&&o.mount||G||a.disabled.has(re))&&(G?a.disabled.add(re):a.disabled.delete(re))},ve=(G,re={})=>{let te=Fe(r,G);const me=Ai(re.disabled)||Ai(t.disabled);return Ft(r,G,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:G}},name:G,mount:!0,...re}}),a.mount.add(G),te?he({disabled:Ai(re.disabled)?re.disabled:t.disabled,name:G}):j(G,!0,re.value),{...me?{disabled:re.disabled||t.disabled}:{},...t.progressive?{required:!!re.required,min:Hp(re.min),max:Hp(re.max),minLength:Hp(re.minLength),maxLength:Hp(re.maxLength),pattern:Hp(re.pattern)}:{},name:G,onChange:I,onBlur:I,ref:se=>{if(se){ve(G,re),te=Fe(r,G);const ne=fn(se.value)&&se.querySelectorAll&&se.querySelectorAll("input,select,textarea")[0]||se,le=nNe(ne),xe=te._f.refs||[];if(le?xe.find(Ne=>Ne===ne):ne===te._f.ref)return;Ft(r,G,{_f:{...te._f,...le?{refs:[...xe.filter(m_),ne,...Array.isArray(Fe(i,G))?[{}]:[]],ref:{type:ne.type,name:G}}:{ref:ne}}}),j(G,!1,void 0,ne)}else te=Fe(r,G,{}),te._f&&(te._f.mount=!1),(t.shouldUnregister||re.shouldUnregister)&&!(gH(a.array,G)&&o.action)&&a.unMount.add(G)}}},Ae=()=>t.shouldFocusError&&Qf(r,P,a.mount),Ce=G=>{Ai(G)&&(p.state.next({disabled:G}),Qf(r,(re,te)=>{const me=Fe(r,te);me&&(re.disabled=me._f.disabled||G,Array.isArray(me._f.refs)&&me._f.refs.forEach(se=>{se.disabled=me._f.disabled||G}))},0,!1))},Ee=(G,re)=>async te=>{let me;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let se=un(s);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:ne,values:le}=await k();n.errors=ne,se=un(le)}else await D(r);if(a.disabled.size)for(const ne of a.disabled)Pn(se,ne);if(Pn(n.errors,"root"),Ur(n.errors)){p.state.next({errors:{}});try{await G(se,te)}catch(ne){me=ne}}else re&&await re({...n.errors},te),Ae(),setTimeout(Ae);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ur(n.errors)&&!me,submitCount:n.submitCount+1,errors:n.errors}),me)throw me},Re=(G,re={})=>{Fe(r,G)&&(fn(re.defaultValue)?T(G,un(Fe(i,G))):(T(G,re.defaultValue),Ft(i,G,un(re.defaultValue))),re.keepTouched||Pn(n.touchedFields,G),re.keepDirty||(Pn(n.dirtyFields,G),n.isDirty=re.defaultValue?L(G,un(Fe(i,G))):L()),re.keepError||(Pn(n.errors,G),f.isValid&&x()),p.state.next({...n}))},ke=(G,re={})=>{const te=G?un(G):i,me=un(te),se=Ur(G),ne=se?i:me;if(re.keepDefaultValues||(i=te),!re.keepValues){if(re.keepDirtyValues){const le=new Set([...a.mount,...Object.keys(qp(i,s))]);for(const xe of Array.from(le))Fe(n.dirtyFields,xe)?Ft(ne,xe,Fe(s,xe)):T(xe,Fe(ne,xe))}else{if(U$&&fn(G))for(const le of a.mount){const xe=Fe(r,le);if(xe&&xe._f){const Ne=Array.isArray(xe._f.refs)?xe._f.refs[0]:xe._f.ref;if(rw(Ne)){const Ge=Ne.closest("form");if(Ge){Ge.reset();break}}}}if(re.keepFieldsRef)for(const le of a.mount)T(le,Fe(ne,le));else r={}}s=t.shouldUnregister?re.keepDefaultValues?un(i):{}:un(ne),p.array.next({values:{...ne}}),p.state.next({values:{...ne}})}a={mount:re.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!re.keepIsValid||!!re.keepDirtyValues,o.watch=!!t.shouldUnregister,p.state.next({submitCount:re.keepSubmitCount?n.submitCount:0,isDirty:se?!1:re.keepDirty?n.isDirty:!!(re.keepDefaultValues&&!Oa(G,i)),isSubmitted:re.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:se?{}:re.keepDirtyValues?re.keepDefaultValues&&s?qp(i,s):n.dirtyFields:re.keepDefaultValues&&G?qp(i,G):re.keepDirty?n.dirtyFields:{},touchedFields:re.keepTouched?n.touchedFields:{},errors:re.keepErrors?n.errors:{},isSubmitSuccessful:re.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},We=(G,re)=>ke(qs(G)?G(s):G,re),et=(G,re={})=>{const te=Fe(r,G),me=te&&te._f;if(me){const se=me.refs?me.refs[0]:me.ref;se.focus&&(se.focus(),re.shouldSelect&&qs(se.select)&&se.select())}},Oe=G=>{n={...n,...G}},Pe={control:{register:ve,unregister:ce,getFieldState:q,handleSubmit:Ee,setError:Q,_subscribe:ae,_runSchema:k,_focusError:Ae,_getWatch:F,_getDirty:L,_setValid:x,_setFieldArray:N,_setDisabledField:he,_setErrors:C,_getFieldArray:H,_reset:ke,_resetDefaultValues:()=>qs(t.defaultValues)&&t.defaultValues().then(G=>{We(G,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:z,_disableForm:Ce,_subjects:p,_proxyFormState:f,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(G){o=G},get _defaultValues(){return i},get _names(){return a},set _names(G){a=G},get _formState(){return n},get _options(){return t},set _options(G){t={...t,...G}}},subscribe:fe,trigger:W,register:ve,handleSubmit:Ee,watch:ie,setValue:T,getValues:B,reset:We,resetField:Re,clearErrors:X,unregister:ce,setError:Q,setFocus:et,getFieldState:q};return{...Pe,formControl:Pe}}var Vl=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(Math.random()*16+e)%16|0;return(t=="x"?n:n&3|8).toString(16)})},p_=(e,t,n={})=>n.shouldFocus||fn(n.shouldFocus)?n.focusName||`${e}.${fn(n.focusIndex)?t:n.focusIndex}.`:"",g_=(e,t)=>[...e,...ui(t)],y_=e=>Array.isArray(e)?e.map(()=>{}):void 0;function b_(e,t,n){return[...e.slice(0,t),...ui(n),...e.slice(t)]}var v_=(e,t,n)=>Array.isArray(e)?(fn(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],x_=(e,t)=>[...ui(t),...ui(e)];function mNe(e,t){let n=0;const r=[...e];for(const i of t)r.splice(i-n,1),n++;return mS(r).length?r:[]}var w_=(e,t)=>fn(t)?[]:mNe(e,ui(t).sort((n,r)=>n-r)),S_=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]},ZP=(e,t,n)=>(e[t]=n,e);function pNe(e){const t=pS(),{control:n=t.control,name:r,keyName:i="id",shouldUnregister:s,rules:o}=e,[a,c]=je.useState(n._getFieldArray(r)),u=je.useRef(n._getFieldArray(r).map(Vl)),f=je.useRef(a),m=je.useRef(!1);f.current=a,n._names.array.add(r),je.useMemo(()=>o&&n.register(r,o),[n,o,r]),gS(()=>n._subjects.array.subscribe({next:({values:A,name:$})=>{if($===r||!$){const k=Fe(A,r);Array.isArray(k)&&(c(k),u.current=k.map(Vl))}}}).unsubscribe,[n,r]);const p=je.useCallback(A=>{m.current=!0,n._setFieldArray(r,A)},[n,r]),y=(A,$)=>{const k=ui(un(A)),R=g_(n._getFieldArray(r),k);n._names.focus=p_(r,R.length-1,$),u.current=g_(u.current,k.map(Vl)),p(R),c(R),n._setFieldArray(r,R,g_,{argA:y_(A)})},v=(A,$)=>{const k=ui(un(A)),R=x_(n._getFieldArray(r),k);n._names.focus=p_(r,0,$),u.current=x_(u.current,k.map(Vl)),p(R),c(R),n._setFieldArray(r,R,x_,{argA:y_(A)})},x=A=>{const $=w_(n._getFieldArray(r),A);u.current=w_(u.current,A),p($),c($),!Array.isArray(Fe(n._fields,r))&&Ft(n._fields,r,void 0),n._setFieldArray(r,$,w_,{argA:A})},S=(A,$,k)=>{const R=ui(un($)),D=b_(n._getFieldArray(r),A,R);n._names.focus=p_(r,A,k),u.current=b_(u.current,A,R.map(Vl)),p(D),c(D),n._setFieldArray(r,D,b_,{argA:A,argB:y_($)})},N=(A,$)=>{const k=n._getFieldArray(r);S_(k,A,$),S_(u.current,A,$),p(k),c(k),n._setFieldArray(r,k,S_,{argA:A,argB:$},!1)},_=(A,$)=>{const k=n._getFieldArray(r);v_(k,A,$),v_(u.current,A,$),p(k),c(k),n._setFieldArray(r,k,v_,{argA:A,argB:$},!1)},C=(A,$)=>{const k=un($),R=ZP(n._getFieldArray(r),A,k);u.current=[...R].map((D,z)=>!D||z===A?Vl():u.current[z]),p(R),c([...R]),n._setFieldArray(r,R,ZP,{argA:A,argB:k},!0,!1)},j=A=>{const $=ui(un(A));u.current=$.map(Vl),p([...$]),c([...$]),n._setFieldArray(r,[...$],k=>k,{},!0,!1)};return je.useEffect(()=>{if(n._state.action=!1,QO(r,n._names)&&n._subjects.state.next({...n._formState}),m.current&&(!qf(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!qf(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([r]).then(A=>{const $=Fe(A.errors,r),k=Fe(n._formState.errors,r);(k?!$&&k.type||$&&(k.type!==$.type||k.message!==$.message):$&&$.type)&&($?Ft(n._formState.errors,r,$):Pn(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const A=Fe(n._fields,r);A&&A._f&&!(qf(n._options.reValidateMode).isOnSubmit&&qf(n._options.mode).isOnSubmit)&&ZO(A,n._names.disabled,n._formValues,n._options.criteriaMode===ss.all,n._options.shouldUseNativeValidation,!0).then($=>!Ur($)&&n._subjects.state.next({errors:CH(n._formState.errors,$,r)}))}n._subjects.state.next({name:r,values:un(n._formValues)}),n._names.focus&&Qf(n._fields,(A,$)=>{if(n._names.focus&&$.startsWith(n._names.focus)&&A.focus)return A.focus(),1}),n._names.focus="",n._setValid(),m.current=!1},[a,r,n]),je.useEffect(()=>(!Fe(n._formValues,r)&&n._setFieldArray(r),()=>{const A=($,k)=>{const R=Fe(n._fields,$);R&&R._f&&(R._f.mount=k)};n._options.shouldUnregister||s?n.unregister(r):A(r,!1)}),[r,n,i,s]),{swap:je.useCallback(N,[p,r,n]),move:je.useCallback(_,[p,r,n]),prepend:je.useCallback(v,[p,r,n]),append:je.useCallback(y,[p,r,n]),remove:je.useCallback(x,[p,r,n]),insert:je.useCallback(S,[p,r,n]),update:je.useCallback(C,[p,r,n]),replace:je.useCallback(j,[p,r,n]),fields:je.useMemo(()=>a.map((A,$)=>({...A,[i]:u.current[$]||Vl()})),[a,i])}}function Yc(e={}){const t=je.useRef(void 0),n=je.useRef(void 0),[r,i]=je.useState({isDirty:!1,isValidating:!1,isLoading:qs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:qs(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!qs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...a}=hNe(e);t.current={...a,formState:r}}const s=t.current.control;return s._options=e,gS(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(a=>({...a,isReady:!0})),s._formState.isReady=!0,o},[s]),je.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),je.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),je.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),je.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),je.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),je.useEffect(()=>{e.values&&!Oa(e.values,n.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=e.values,i(o=>({...o}))):s._resetDefaultValues()},[s,e.values]),je.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=bH(r,s),t.current}const eD=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Fe(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},OH=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?eD(r.ref,n,e):r&&r.refs&&r.refs.forEach(i=>eD(i,n,e))}},gNe=(e,t)=>{t.shouldUseNativeValidation&&OH(e,t);const n={};for(const r in e){const i=Fe(t.fields,r),s=Object.assign(e[r]||{},{ref:i&&i.ref});if(yNe(t.names||Object.keys(e),r)){const o=Object.assign({},Fe(n,r));Ft(o,"root",s),Ft(n,r,o)}else Ft(n,r,s)}return n},yNe=(e,t)=>{const n=tD(t);return e.some(r=>tD(r).match(`^${n}\\.\\d+`))};function tD(e){return e.replace(/\]|\[/g,"")}function bNe(e){var t;if((t=e.path)!=null&&t.length){let n="";for(const r of e.path){const i=typeof r=="object"?r.key:r;if(typeof i=="string"||typeof i=="number")n?n+=`.${i}`:n+=i;else return null}return n}return null}function ej(){return ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ej.apply(null,arguments)}function Xc(e,t){return t===void 0&&(t={}),function(n,r,i){try{var s=function(){if(o.issues){var c=function(u,f){for(var m={},p=0;p<u.length;p++){var y=u[p],v=bNe(y);if(v&&(m[v]||(m[v]={message:y.message,type:""}),f)){var x,S=m[v].types||{};m[v].types=ej({},S,((x={})[Object.keys(S).length]=y.message,x))}}return m}(o.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all");return{values:{},errors:gNe(c,i)}}return i.shouldUseNativeValidation&&OH({},i),{values:t.raw?Object.assign({},n):o.value,errors:{}}},o=e["~standard"].validate(n),a=function(){if(o instanceof Promise)return Promise.resolve(o).then(function(c){o=c})}();return Promise.resolve(a&&a.then?a.then(s):s())}catch(c){return Promise.reject(c)}}}const G$=Me({...n$.properties,name:de()}),vNe=Pt([de({enum:["entity","relation","media"]}),de({pattern:"^template-"})]),xNe=Me({entity:de(),name:de(),field:mn(t$)});He({action:vNe,initial:no().optional(),entities:Me({create:mn(G$).optional()}).optional(),relations:Me({create:mn(Pt(r$)).optional()}).optional(),fields:Me({create:mn(xNe).optional()}).optional()});const wNe=Me({name:de({pattern:/^[a-z][a-zA-Z_]+$/}),config:G$.properties.config.partial().optional()});function SNe(){var m,p,y,v,x,S,N,_,C;const e=O$(),{nextStep:t,stepBack:n,state:r,setState:i}=Td(),{register:s,handleSubmit:o,formState:a,watch:c,control:u}=Yc({mode:"onChange",resolver:Xc(QF(wNe)),defaultValues:((p=(m=r.entities)==null?void 0:m.create)==null?void 0:p[0])??{}});function f(j){console.log("onSubmit",j),i(A=>{var k,R;const $=(R=(k=A.entities)==null?void 0:k.create)==null?void 0:R[0];return $&&$.name!==j.name?{...A,entities:{create:[{...j,fields:$.fields}]}}:{...A,entities:{create:[j]}}}),a.isValid&&(console.log("would go next"),t("entity-fields")())}return h.jsx(h.Fragment,{children:h.jsxs("form",{onSubmit:o(f),ref:e,children:[h.jsxs(jd,{children:[h.jsx("input",{type:"hidden",...s("type"),defaultValue:"regular"}),h.jsx(jn,{"data-autofocus":!0,required:!0,error:(y=a.errors.name)==null?void 0:y.message,...s("name"),placeholder:"posts",size:"md",label:"What's the name of the entity?",description:"Use plural form, and all lowercase. It will be used as the database table."}),h.jsx(jn,{...s("config.name"),error:(x=(v=a.errors.config)==null?void 0:v.name)==null?void 0:x.message,placeholder:"Posts",size:"md",label:"How should it be called?",description:"Use plural form. This will be used to display in the UI."}),h.jsx(jn,{...s("config.name_singular"),error:(N=(S=a.errors.config)==null?void 0:S.name_singular)==null?void 0:N.message,placeholder:"Post",size:"md",label:"What's the singular form of it?"}),h.jsx(qy,{placeholder:"This is a post (optional)",error:(C=(_=a.errors.config)==null?void 0:_.description)==null?void 0:C.message,...s("config.description"),size:"md",label:"Description"})]}),h.jsx(Ad,{next:{type:"submit",disabled:!a.isValid},prev:{onClick:n},debug:{state:r}})]})})}function Da({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i,onChange:s,...o}){var m;const{field:{value:a,onChange:c,...u},fieldState:f}=Sm({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i});return h.jsx(S1,{value:a,onChange:async p=>{await c({...new Event("change",{bubbles:!0,cancelable:!0}),target:{value:p,name:u.name}}),s==null||s(p)},error:(m=f.error)==null?void 0:m.message,...u,...o})}function E_({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i,onChange:s,...o}){var m;const{field:{value:a,onChange:c,...u},fieldState:f}=Sm({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i});return h.jsx(Vc,{value:a,checked:a,onChange:p=>{c(p),s==null||s(p)},error:(m=f.error)==null?void 0:m.message,...u,...o})}const ENe=w.lazy(()=>p0(()=>import("./JsonSchemaForm-BEdm1Ihr.js"),__vite__mapDeps([0,1])).then(e=>({default:e.JsonSchemaForm}))),Em=w.forwardRef((e,t)=>h.jsx(w.Suspense,{children:h.jsx(ENe,{ref:t,...e})}));function Fr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var NNe=typeof Symbol=="function"&&Symbol.observable||"@@observable",nD=NNe,rD=()=>Math.random().toString(36).substring(7).split("").join("."),_Ne={INIT:`@@redux/INIT${rD()}`,REPLACE:`@@redux/REPLACE${rD()}`},iD=_Ne;function CNe(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function jH(e,t,n){if(typeof e!="function")throw new Error(Fr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Fr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Fr(1));return n(jH)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,c=!1;function u(){o===s&&(o=new Map,s.forEach((S,N)=>{o.set(N,S)}))}function f(){if(c)throw new Error(Fr(3));return i}function m(S){if(typeof S!="function")throw new Error(Fr(4));if(c)throw new Error(Fr(5));let N=!0;u();const _=a++;return o.set(_,S),function(){if(N){if(c)throw new Error(Fr(6));N=!1,u(),o.delete(_),s=null}}}function p(S){if(!CNe(S))throw new Error(Fr(7));if(typeof S.type>"u")throw new Error(Fr(8));if(typeof S.type!="string")throw new Error(Fr(17));if(c)throw new Error(Fr(9));try{c=!0,i=r(i,S)}finally{c=!1}return(s=o).forEach(_=>{_()}),S}function y(S){if(typeof S!="function")throw new Error(Fr(10));r=S,p({type:iD.REPLACE})}function v(){const S=m;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Fr(11));function _(){const j=N;j.next&&j.next(f())}return _(),{unsubscribe:S(_)}},[nD](){return this}}}return p({type:iD.INIT}),{dispatch:p,subscribe:m,getState:f,replaceReducer:y,[nD]:v}}function sD(e,t){return function(...n){return t(e.apply(this,n))}}function oD(e,t){if(typeof e=="function")return sD(e,t);if(typeof e!="object"||e===null)throw new Error(Fr(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=sD(i,t))}return n}function AH(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function ONe(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(Fr(15))};const o={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},a=e.map(c=>c(o));return s=AH(...a)(i.dispatch),{...i,dispatch:s}}}var N_={exports:{}},__={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aD;function jNe(){if(aD)return __;aD=1;var e=Qh();function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,o=e.useMemo,a=e.useDebugValue;return __.useSyncExternalStoreWithSelector=function(c,u,f,m,p){var y=i(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=o(function(){function S(A){if(!N){if(N=!0,_=A,A=m(A),p!==void 0&&v.hasValue){var $=v.value;if(p($,A))return C=$}return C=A}if($=C,n(_,A))return $;var k=m(A);return p!==void 0&&p($,k)?(_=A,$):(_=A,C=k)}var N=!1,_,C,j=f===void 0?null:f;return[function(){return S(u())},j===null?void 0:function(){return S(j())}]},[u,f,m,p]);var x=r(c,y[0],y[1]);return s(function(){v.hasValue=!0,v.value=x},[x]),a(x),x},__}var lD;function ANe(){return lD||(lD=1,N_.exports=jNe()),N_.exports}ANe();var TNe=w.version.startsWith("19"),$Ne=Symbol.for(TNe?"react.transitional.element":"react.element"),RNe=Symbol.for("react.portal"),kNe=Symbol.for("react.fragment"),MNe=Symbol.for("react.strict_mode"),INe=Symbol.for("react.profiler"),PNe=Symbol.for("react.consumer"),DNe=Symbol.for("react.context"),TH=Symbol.for("react.forward_ref"),LNe=Symbol.for("react.suspense"),FNe=Symbol.for("react.suspense_list"),J$=Symbol.for("react.memo"),BNe=Symbol.for("react.lazy"),zNe=TH,VNe=J$;function UNe(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case $Ne:switch(e=e.type,e){case kNe:case INe:case MNe:case LNe:case FNe:return e;default:switch(e=e&&e.$$typeof,e){case DNe:case TH:case BNe:case J$:return e;case PNe:return e;default:return t}}case RNe:return t}}}function qNe(e){return UNe(e)===J$}function HNe(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:s,areStatePropsEqual:o}){let a=!1,c,u,f,m,p;function y(_,C){return c=_,u=C,f=e(c,u),m=t(r,u),p=n(f,m,u),a=!0,p}function v(){return f=e(c,u),t.dependsOnOwnProps&&(m=t(r,u)),p=n(f,m,u),p}function x(){return e.dependsOnOwnProps&&(f=e(c,u)),t.dependsOnOwnProps&&(m=t(r,u)),p=n(f,m,u),p}function S(){const _=e(c,u),C=!o(_,f);return f=_,C&&(p=n(f,m,u)),p}function N(_,C){const j=!s(C,u),A=!i(_,c,C,u);return c=_,u=C,j&&A?v():j?x():A?S():p}return function(C,j){return a?N(C,j):y(C,j)}}function WNe(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const s=t(e,i),o=n(e,i),a=r(e,i);return HNe(s,o,a,e,i)}function GNe(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...s)=>t(i(...s)))}return n}function tj(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function cD(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function $H(e,t){return function(r,{displayName:i}){const s=function(a,c){return s.dependsOnOwnProps?s.mapToProps(a,c):s.mapToProps(a,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,c){s.mapToProps=e,s.dependsOnOwnProps=cD(e);let u=s(a,c);return typeof u=="function"&&(s.mapToProps=u,s.dependsOnOwnProps=cD(u),u=s(a,c)),u},s}}function Y$(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function JNe(e){return e&&typeof e=="object"?tj(t=>GNe(e,t)):e?typeof e=="function"?$H(e):Y$(e,"mapDispatchToProps"):tj(t=>({dispatch:t}))}function YNe(e){return e?typeof e=="function"?$H(e):Y$(e,"mapStateToProps"):tj(()=>({}))}function XNe(e,t,n){return{...n,...e,...t}}function KNe(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let s=!1,o;return function(c,u,f){const m=e(c,u,f);return s?i(m,o)||(o=m):(s=!0,o=m),o}}}function QNe(e){return e?typeof e=="function"?KNe(e):Y$(e,"mergeProps"):()=>XNe}function ZNe(e){e()}function e_e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ZNe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var uD={notify(){},get:()=>[]};function RH(e,t){let n,r=uD,i=0,s=!1;function o(x){f();const S=r.subscribe(x);let N=!1;return()=>{N||(N=!0,S(),m())}}function a(){r.notify()}function c(){v.onStateChange&&v.onStateChange()}function u(){return s}function f(){i++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=e_e())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=uD)}function p(){s||(s=!0,f())}function y(){s&&(s=!1,m())}const v={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:u,trySubscribe:p,tryUnsubscribe:y,getListeners:()=>r};return v}var t_e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",n_e=t_e(),r_e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",i_e=r_e(),s_e=()=>n_e||i_e?w.useLayoutEffect:w.useEffect,ow=s_e();function dD(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function C_(e,t){if(dD(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!dD(e[n[i]],t[n[i]]))return!1;return!0}var o_e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a_e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l_e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},kH={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c_e={[zNe]:l_e,[VNe]:kH};function fD(e){return qNe(e)?kH:c_e[e.$$typeof]||o_e}var u_e=Object.defineProperty,d_e=Object.getOwnPropertyNames,hD=Object.getOwnPropertySymbols,f_e=Object.getOwnPropertyDescriptor,h_e=Object.getPrototypeOf,mD=Object.prototype;function nj(e,t){if(typeof t!="string"){if(mD){const s=h_e(t);s&&s!==mD&&nj(e,s)}let n=d_e(t);hD&&(n=n.concat(hD(t)));const r=fD(e),i=fD(t);for(let s=0;s<n.length;++s){const o=n[s];if(!a_e[o]&&!(i&&i[o])&&!(r&&r[o])){const a=f_e(t,o);try{u_e(e,o,a)}catch{}}}}return e}var O_=Symbol.for("react-redux-context"),j_=typeof globalThis<"u"?globalThis:{};function m_e(){if(!w.createContext)return{};const e=j_[O_]??(j_[O_]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var MH=m_e(),p_e=[null,null];function g_e(e,t,n){ow(()=>e(...t),n)}function y_e(e,t,n,r,i,s){e.current=r,n.current=!1,i.current&&(i.current=null,s())}function b_e(e,t,n,r,i,s,o,a,c,u,f){if(!e)return()=>{};let m=!1,p=null;const y=()=>{if(m||!a.current)return;const x=t.getState();let S,N;try{S=r(x,i.current)}catch(_){N=_,p=_}N||(p=null),S===s.current?o.current||u():(s.current=S,c.current=S,o.current=!0,f())};return n.onStateChange=y,n.trySubscribe(),y(),()=>{if(m=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p}}function v_e(e,t){return e===t}function x_e(e,t,n,{pure:r,areStatesEqual:i=v_e,areOwnPropsEqual:s=C_,areStatePropsEqual:o=C_,areMergedPropsEqual:a=C_,forwardRef:c=!1,context:u=MH}={}){const f=u,m=YNe(e),p=JNe(t),y=QNe(n),v=!!e;return S=>{const N=S.displayName||S.name||"Component",_=`Connect(${N})`,C={shouldHandleStateChanges:v,displayName:_,wrappedComponentName:N,WrappedComponent:S,initMapStateToProps:m,initMapDispatchToProps:p,initMergeProps:y,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:s,areMergedPropsEqual:a};function j(k){const[R,D,z]=w.useMemo(()=>{const{reactReduxForwardedRef:Ee,...Re}=k;return[k.context,Ee,Re]},[k]),L=w.useMemo(()=>{let Ee=f;return R!=null&&R.Consumer,Ee},[R,f]),F=w.useContext(L),H=!!k.store&&!!k.store.getState&&!!k.store.dispatch,M=!!F&&!!F.store,V=H?k.store:F.store,T=M?F.getServerState:V.getState,I=w.useMemo(()=>WNe(V.dispatch,C),[V]),[P,W]=w.useMemo(()=>{if(!v)return p_e;const Ee=RH(V,H?void 0:F.subscription),Re=Ee.notifyNestedSubs.bind(Ee);return[Ee,Re]},[V,H,F]),B=w.useMemo(()=>H?F:{...F,subscription:P},[H,F,P]),q=w.useRef(void 0),X=w.useRef(z),Q=w.useRef(void 0),ie=w.useRef(!1),ae=w.useRef(!1),fe=w.useRef(void 0);ow(()=>(ae.current=!0,()=>{ae.current=!1}),[]);const ce=w.useMemo(()=>()=>Q.current&&z===X.current?Q.current:I(V.getState(),z),[V,z]),he=w.useMemo(()=>Re=>P?b_e(v,V,P,I,X,q,ie,ae,Q,W,Re):()=>{},[P]);g_e(y_e,[X,q,ie,z,Q,W]);let ve;try{ve=w.useSyncExternalStore(he,ce,T?()=>I(T(),z):ce)}catch(Ee){throw fe.current&&(Ee.message+=`
The error may be correlated with this previous error:
${fe.current.stack}

`),Ee}ow(()=>{fe.current=void 0,Q.current=void 0,q.current=ve});const Ae=w.useMemo(()=>w.createElement(S,{...ve,ref:D}),[D,S,ve]);return w.useMemo(()=>v?w.createElement(L.Provider,{value:B},Ae):Ae,[L,Ae,B])}const $=w.memo(j);if($.WrappedComponent=S,$.displayName=j.displayName=_,c){const R=w.forwardRef(function(z,L){return w.createElement($,{...z,reactReduxForwardedRef:L})});return R.displayName=_,R.WrappedComponent=S,nj(R,S)}return nj($,S)}}var IH=x_e;function w_e(e){const{children:t,context:n,serverState:r,store:i}=e,s=w.useMemo(()=>{const c=RH(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),o=w.useMemo(()=>i.getState(),[i]);ow(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,o]);const a=n||MH;return w.createElement(a.Provider,{value:s},t)}var S_e=w_e,E_e="Invariant failed";function N_e(e,t){throw new Error(E_e)}var Xs=function(t){var n=t.top,r=t.right,i=t.bottom,s=t.left,o=r-s,a=i-n,c={top:n,right:r,bottom:i,left:s,width:o,height:a,x:s,y:n,center:{x:(r+s)/2,y:(i+n)/2}};return c},X$=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},pD=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},__e=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},A_={top:0,right:0,bottom:0,left:0},K$=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?A_:r,s=t.border,o=s===void 0?A_:s,a=t.padding,c=a===void 0?A_:a,u=Xs(X$(n,i)),f=Xs(pD(n,o)),m=Xs(pD(f,c));return{marginBox:u,borderBox:Xs(n),paddingBox:f,contentBox:m,margin:i,border:o,padding:c}},es=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&N_e(),i},C_e=function(){return{x:window.pageXOffset,y:window.pageYOffset}},aw=function(t,n){var r=t.borderBox,i=t.border,s=t.margin,o=t.padding,a=__e(r,n);return K$({borderBox:a,border:i,margin:s,padding:o})},lw=function(t,n){return n===void 0&&(n=C_e()),aw(t,n)},PH=function(t,n){var r={top:es(n.marginTop),right:es(n.marginRight),bottom:es(n.marginBottom),left:es(n.marginLeft)},i={top:es(n.paddingTop),right:es(n.paddingRight),bottom:es(n.paddingBottom),left:es(n.paddingLeft)},s={top:es(n.borderTopWidth),right:es(n.borderRightWidth),bottom:es(n.borderBottomWidth),left:es(n.borderLeftWidth)};return K$({borderBox:t,margin:r,padding:i,border:s})},DH=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return PH(n,r)},ly=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];n=a,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function LH(e,t){}LH.bind(null,"warn");LH.bind(null,"error");function wc(){}function O_e(e,t){return{...e,...t}}function as(e,t,n){const r=t.map(i=>{const s=O_e(n,i.options);return e.addEventListener(i.eventName,i.fn,s),function(){e.removeEventListener(i.eventName,i.fn,s)}});return function(){r.forEach(s=>{s()})}}const j_e="Invariant failed";class cw extends Error{}cw.prototype.toString=function(){return this.message};function Le(e,t){throw new cw(j_e)}class A_e extends je.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=wc,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof cw&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=as(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof cw){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const T_e=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,uw=e=>e+1,$_e=e=>`
  You have lifted an item in position ${uw(e.source.index)}
`,FH=(e,t)=>{const n=e.droppableId===t.droppableId,r=uw(e.index),i=uw(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},BH=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,R_e=e=>{const t=e.destination;if(t)return FH(e.source,t);const n=e.combine;return n?BH(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},gD=e=>`
  The item has returned to its starting position
  of ${uw(e.index)}
`,k_e=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${gD(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${FH(e.source,t)}
    `:n?`
      You have dropped the item.
      ${BH(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${gD(e.source)}
  `},tx={dragHandleUsageInstructions:T_e,onDragStart:$_e,onDragUpdate:R_e,onDragEnd:k_e};function M_e(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function zH(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!M_e(e[n],t[n]))return!1;return!0}function Tt(e,t){const n=w.useState(()=>({inputs:t,result:e()}))[0],r=w.useRef(!0),i=w.useRef(n),o=r.current||!!(t&&i.current.inputs&&zH(t,i.current.inputs))?i.current:{inputs:t,result:e()};return w.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function it(e,t){return Tt(()=>e,t)}const dr={x:0,y:0},vr=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),ki=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Sc=(e,t)=>e.x===t.x&&e.y===t.y,Nm=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),md=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},cy=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),yD=(e,t)=>Math.min(...t.map(n=>cy(e,n))),VH=e=>t=>({x:e(t.x),y:e(t.y)});var I_e=(e,t)=>{const n=Xs({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const y0=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),bD=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],P_e={top:0,right:0,bottom:0,left:0},D_e=(e,t)=>t?y0(e,t.scroll.diff.displacement):e,L_e=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,F_e=(e,t)=>t&&t.shouldClipSubject?I_e(t.pageMarginBox,e):Xs(e);var Fh=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=D_e(e.marginBox,r),s=L_e(i,n,t),o=F_e(s,r);return{page:e,withPlaceholder:t,active:o}},Q$=(e,t)=>{e.frame||Le();const n=e.frame,r=ki(t,n.scroll.initial),i=Nm(r),s={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=Fh({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s});return{...e,frame:s,subject:o}};function ur(e,t=zH){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const s=e.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){n=null},r}const UH=ur(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),qH=ur(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),yS=ur(e=>Object.values(e)),B_e=ur(e=>Object.values(e));var _m=ur((e,t)=>B_e(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function Z$(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function bS(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var vS=ur((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),z_e=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!Z$(i))return null;function o(y){const v={type:"COMBINE",combine:{draggableId:y,droppableId:n.descriptor.id}};return{...i,at:v}}const a=i.displaced.all,c=a.length?a[0]:null;if(e)return c?o(c):null;const u=vS(t,r);if(!c){if(!u.length)return null;const y=u[u.length-1];return o(y.descriptor.id)}const f=u.findIndex(y=>y.descriptor.id===c);f===-1&&Le();const m=f-1;if(m<0)return null;const p=u[m];return o(p.descriptor.id)},Cm=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const HH={point:dr,value:0},uy={invisible:{},visible:{},all:[]},V_e={displaced:uy,displacedBy:HH,at:null};var ds=(e,t)=>n=>e<=n&&n<=t,WH=e=>{const t=ds(e.top,e.bottom),n=ds(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const s=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(s&&o)return!0;const c=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right;return c&&u?!0:c&&o||u&&s}},U_e=e=>{const t=ds(e.top,e.bottom),n=ds(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const e4={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},GH={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var q_e=e=>t=>{const n=ds(t.top,t.bottom),r=ds(t.left,t.right);return i=>e===e4?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const H_e=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:dr;return y0(e,n)},W_e=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,G_e=(e,t,n)=>n(t)(e),t4=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const s=r?H_e(e,t):e;return W_e(s,t,i)&&G_e(s,n,i)},J_e=e=>t4({...e,isVisibleThroughFrameFn:WH}),JH=e=>t4({...e,isVisibleThroughFrameFn:U_e}),Y_e=e=>t4({...e,isVisibleThroughFrameFn:q_e(e.destination.axis)}),X_e=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const s=i[e];return s?s.shouldAnimate:!0};function K_e(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Xs(X$(n,r))}function dy({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:s}){return e.reduce(function(a,c){const u=K_e(c,n),f=c.descriptor.id;if(a.all.push(f),!J_e({target:u,destination:t,viewport:r,withDroppableDisplacement:!0}))return a.invisible[c.descriptor.id]=!0,a;const p=X_e(f,s,i),y={draggableId:f,shouldAnimate:p};return a.visible[f]=y,a},{all:[],visible:{},invisible:{}})}function Q_e(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function vD({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=Q_e(e,{inHomeList:t});return{displaced:uy,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function dw({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:s,index:o,forceShouldAnimate:a}){const c=Cm(e,n);if(o==null)return vD({insideDestination:t,inHomeList:c,displacedBy:i,destination:n});const u=t.find(v=>v.descriptor.index===o);if(!u)return vD({insideDestination:t,inHomeList:c,displacedBy:i,destination:n});const f=vS(e,t),m=t.indexOf(u),p=f.slice(m);return{displaced:dy({afterDragging:p,destination:n,displacedBy:i,last:s,viewport:r.frame,forceShouldAnimate:a}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function kc(e,t){return!!t.effected[e]}var Z_e=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const s=r.draggableId,a=n[s].descriptor.index;return kc(s,i)?e?a:a-1:e?a+1:a},eCe=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,s=e?i+1:i-1,o=n[0].descriptor.index,a=n[n.length-1].descriptor.index,c=t?a:a+1;return s<o||s>c?null:s},tCe=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:s,previousImpact:o,viewport:a,afterCritical:c})=>{const u=o.at;if(u||Le(),u.type==="REORDER"){const m=eCe({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:s});return m==null?null:dw({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:m})}const f=Z_e({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:u.combine,afterCritical:c});return f==null?null:dw({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:f})},nCe=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return kc(n,t)?i?dr:Nm(r.point):i?r.point:dr},rCe=({afterCritical:e,impact:t,draggables:n})=>{const r=bS(t);r||Le();const i=r.draggableId,s=n[i].page.borderBox.center,o=nCe({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return vr(s,o)};const YH=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,iCe=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,n4=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,xD=({axis:e,moveRelativeTo:t,isMoving:n})=>md(e.line,t.marginBox[e.end]+YH(e,n),n4(e,t.marginBox,n)),wD=({axis:e,moveRelativeTo:t,isMoving:n})=>md(e.line,t.marginBox[e.start]-iCe(e,n),n4(e,t.marginBox,n)),sCe=({axis:e,moveInto:t,isMoving:n})=>md(e.line,t.contentBox[e.start]+YH(e,n),n4(e,t.contentBox,n));var oCe=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const s=_m(r.descriptor.id,n),o=t.page,a=r.axis;if(!s.length)return sCe({axis:a,moveInto:r.page,isMoving:o});const{displaced:c,displacedBy:u}=e,f=c.all[0];if(f){const p=n[f];if(kc(f,i))return wD({axis:a,moveRelativeTo:p.page,isMoving:o});const y=aw(p.page,u.point);return wD({axis:a,moveRelativeTo:y,isMoving:o})}const m=s[s.length-1];if(m.descriptor.id===t.descriptor.id)return o.borderBox.center;if(kc(m.descriptor.id,i)){const p=aw(m.page,Nm(i.displacedBy.point));return xD({axis:a,moveRelativeTo:p,isMoving:o})}return xD({axis:a,moveRelativeTo:m.page,isMoving:o})},rj=(e,t)=>{const n=e.frame;return n?vr(t,n.scroll.diff.displacement):t};const aCe=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const s=t.page.borderBox.center,o=e.at;return!n||!o?s:o.type==="REORDER"?oCe({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):rCe({impact:e,draggables:r,afterCritical:i})};var xS=e=>{const t=aCe(e),n=e.droppable;return n?rj(n,t):t},XH=(e,t)=>{const n=ki(t,e.scroll.initial),r=Nm(n);return{frame:Xs({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function SD(e,t){return e.map(n=>t[n])}function lCe(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var cCe=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const s=XH(t,vr(t.scroll.current,i)),o=n.frame?Q$(n,vr(n.frame.scroll.current,i)):n,a=e.displaced,c=dy({afterDragging:SD(a.all,r),destination:n,displacedBy:e.displacedBy,viewport:s.frame,last:a,forceShouldAnimate:!1}),u=dy({afterDragging:SD(a.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:a,forceShouldAnimate:!1}),f={},m={},p=[a,c,u];return a.all.forEach(v=>{const x=lCe(v,p);if(x){m[v]=x;return}f[v]=!0}),{...e,displaced:{all:a.all,invisible:f,visible:m}}},uCe=(e,t)=>vr(e.scroll.diff.displacement,t),r4=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=uCe(n,e),i=ki(r,t.page.borderBox.center);return vr(t.client.borderBox.center,i)},KH=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:s=!1})=>{const o=ki(n,e.page.borderBox.center),c={target:y0(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return s?Y_e(c):JH(c)},dCe=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:s,previousPageBorderBoxCenter:o,previousClientSelection:a,afterCritical:c})=>{if(!n.isEnabled)return null;const u=_m(n.descriptor.id,r),f=Cm(t,n),m=z_e({isMovingForward:e,draggable:t,destination:n,insideDestination:u,previousImpact:i})||tCe({isMovingForward:e,isInHomeList:f,draggable:t,draggables:r,destination:n,insideDestination:u,previousImpact:i,viewport:s,afterCritical:c});if(!m)return null;const p=xS({impact:m,draggable:t,droppable:n,draggables:r,afterCritical:c});if(KH({draggable:t,destination:n,newPageBorderBoxCenter:p,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:r4({pageBorderBoxCenter:p,draggable:t,viewport:s}),impact:m,scrollJumpRequest:null};const v=ki(p,o),x=cCe({impact:m,viewport:s,destination:n,draggables:r,maxScrollChange:v});return{clientSelection:a,impact:x,scrollJumpRequest:v}};const Pr=e=>{const t=e.subject.active;return t||Le(),t};var fCe=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const s=n.subject.active;if(!s)return null;const o=n.axis,a=ds(s[o.start],s[o.end]),c=yS(r).filter(f=>f!==n).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>WH(i.frame)(Pr(f))).filter(f=>{const m=Pr(f);return e?s[o.crossAxisEnd]<m[o.crossAxisEnd]:m[o.crossAxisStart]<s[o.crossAxisStart]}).filter(f=>{const m=Pr(f),p=ds(m[o.start],m[o.end]);return a(m[o.start])||a(m[o.end])||p(s[o.start])||p(s[o.end])}).sort((f,m)=>{const p=Pr(f)[o.crossAxisStart],y=Pr(m)[o.crossAxisStart];return e?p-y:y-p}).filter((f,m,p)=>Pr(f)[o.crossAxisStart]===Pr(p[0])[o.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const u=c.filter(f=>ds(Pr(f)[o.start],Pr(f)[o.end])(t[o.line]));return u.length===1?u[0]:u.length>1?u.sort((f,m)=>Pr(f)[o.start]-Pr(m)[o.start])[0]:c.sort((f,m)=>{const p=yD(t,bD(Pr(f))),y=yD(t,bD(Pr(m)));return p!==y?p-y:Pr(f)[o.start]-Pr(m)[o.start]})[0]};const ED=(e,t)=>{const n=e.page.borderBox.center;return kc(e.descriptor.id,t)?ki(n,t.displacedBy.point):n},hCe=(e,t)=>{const n=e.page.borderBox;return kc(e.descriptor.id,t)?y0(n,Nm(t.displacedBy.point)):n};var mCe=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>JH({target:hCe(o,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,a)=>{const c=cy(e,rj(n,ED(o,i))),u=cy(e,rj(n,ED(a,i)));return c<u?-1:u<c?1:o.descriptor.index-a.descriptor.index})[0]||null,b0=ur(function(t,n){const r=n[t.line];return{value:r,point:md(t.line,r)}});const pCe=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return md(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],c=_m(e.descriptor.id,n).reduce((u,f)=>u+f.client.marginBox[r.size],0)+t[r.line]-i;return c<=0?null:md(r.line,c)},QH=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),ZH=(e,t,n)=>{const r=e.frame;Cm(t,e)&&Le(),e.subject.withPlaceholder&&Le();const i=b0(e.axis,t.displaceBy).point,s=pCe(e,i,n),o={placeholderSize:i,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const f=Fh({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:f}}const a=s?vr(r.scroll.max,s):r.scroll.max,c=QH(r,a),u=Fh({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:c});return{...e,subject:u,frame:c}},gCe=e=>{const t=e.subject.withPlaceholder;t||Le();const n=e.frame;if(!n){const o=Fh({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||Le();const i=QH(n,r),s=Fh({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:s,frame:i}};var yCe=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:s,viewport:o,afterCritical:a})=>{if(!t){if(n.length)return null;const m={displaced:uy,displacedBy:HH,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},p=xS({impact:m,draggable:r,droppable:s,draggables:i,afterCritical:a}),y=Cm(r,s)?s:ZH(s,r,i);return KH({draggable:r,destination:y,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?m:null}const c=e[s.axis.line]<=t.page.borderBox.center[s.axis.line],u=(()=>{const m=t.descriptor.index;return t.descriptor.id===r.descriptor.id||c?m:m+1})(),f=b0(s.axis,r.displaceBy);return dw({draggable:r,insideDestination:n,destination:s,viewport:o,displacedBy:f,last:uy,index:u})},bCe=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:s,viewport:o,afterCritical:a})=>{const c=fCe({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:s,viewport:o});if(!c)return null;const u=_m(c.descriptor.id,i),f=mCe({pageBorderBoxCenter:t,viewport:o,destination:c,insideDestination:u,afterCritical:a}),m=yCe({previousPageBorderBoxCenter:t,destination:c,draggable:n,draggables:i,moveRelativeTo:f,insideDestination:u,viewport:o,afterCritical:a});if(!m)return null;const p=xS({impact:m,draggable:n,droppable:c,draggables:i,afterCritical:a});return{clientSelection:r4({pageBorderBoxCenter:p,draggable:n,viewport:o}),impact:m,scrollJumpRequest:null}},Ii=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const vCe=(e,t)=>{const n=Ii(e);return n?t[n]:null};var xCe=({state:e,type:t})=>{const n=vCe(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],s=n||i,o=s.axis.direction,a=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(a&&!r)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,{draggables:m,droppables:p}=e.dimensions;return a?dCe({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:u,destination:s,draggables:m,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):bCe({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:u,isOver:s,draggables:m,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function ju(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function eW(e){const t=ds(e.top,e.bottom),n=ds(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function wCe(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function SCe({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(s=>{const o=s.axis,a=md(s.axis.line,e.center[o.line],s.page.borderBox.center[o.crossAxisLine]);return{id:s.descriptor.id,distance:cy(r,a)}}).sort((s,o)=>o.distance-s.distance);return i[0]?i[0].id:null}function ECe({pageBorderBox:e,draggable:t,droppables:n}){const r=yS(n).filter(i=>{if(!i.isEnabled)return!1;const s=i.subject.active;if(!s||!wCe(e,s))return!1;if(eW(s)(e.center))return!0;const o=i.axis,a=s.center[o.crossAxisLine],c=e[o.crossAxisStart],u=e[o.crossAxisEnd],f=ds(s[o.crossAxisStart],s[o.crossAxisEnd]),m=f(c),p=f(u);return!m&&!p?!0:m?c<a:u>a});return r.length?r.length===1?r[0].descriptor.id:SCe({pageBorderBox:e,draggable:t,candidates:r}):null}const tW=(e,t)=>Xs(y0(e,t));var NCe=(e,t)=>{const n=e.frame;return n?tW(t,n.scroll.diff.value):t};function nW({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function _Ce({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var CCe=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:s,afterCritical:o})=>{const a=n.axis,c=b0(n.axis,t.displaceBy),u=c.value,f=e[a.start],m=e[a.end],y=vS(t,r).find(x=>{const S=x.descriptor.id,N=x.page.borderBox.center[a.line],_=kc(S,o),C=nW({displaced:i,id:S});return _?C?m<=N:f<N-u:C?m<=N+u:f<N})||null,v=_Ce({draggable:t,closest:y,inHomeList:Cm(t,n)});return dw({draggable:t,insideDestination:r,destination:n,viewport:s,last:i,displacedBy:c,index:v})};const OCe=4;var jCe=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:s})=>{if(!r.isCombineEnabled)return null;const o=r.axis,a=b0(r.axis,e.displaceBy),c=a.value,u=t[o.start],f=t[o.end],p=vS(e,i).find(v=>{const x=v.descriptor.id,S=v.page.borderBox,_=S[o.size]/OCe,C=kc(x,s),j=nW({displaced:n.displaced,id:x});return C?j?f>S[o.start]+_&&f<S[o.end]-_:u>S[o.start]-c+_&&u<S[o.end]-c-_:j?f>S[o.start]+c+_&&f<S[o.end]+c-_:u>S[o.start]+_&&u<S[o.end]-_});return p?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:r.descriptor.id}}}:null},rW=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:s,afterCritical:o})=>{const a=tW(t.page.borderBox,e),c=ECe({pageBorderBox:a,draggable:t,droppables:r});if(!c)return V_e;const u=r[c],f=_m(u.descriptor.id,n),m=NCe(u,a);return jCe({pageBorderBoxWithDroppableScroll:m,draggable:t,previousImpact:i,destination:u,insideDestination:f,afterCritical:o})||CCe({pageBorderBoxWithDroppableScroll:m,draggable:t,destination:u,insideDestination:f,last:i.displaced,viewport:s,afterCritical:o})},i4=(e,t)=>({...e,[t.descriptor.id]:t});const ACe=({previousImpact:e,impact:t,droppables:n})=>{const r=Ii(e),i=Ii(t);if(!r||r===i)return n;const s=n[r];if(!s.subject.withPlaceholder)return n;const o=gCe(s);return i4(n,o)};var TCe=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const s=ACe({previousImpact:r,impact:i,droppables:n}),o=Ii(i);if(!o)return s;const a=n[o];if(Cm(e,a)||a.subject.withPlaceholder)return s;const c=ZH(a,e,t);return i4(s,c)},Eg=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:s})=>{const o=r||e.viewport,a=n||e.dimensions,c=t||e.current.client.selection,u=ki(c,e.initial.client.selection),f={offset:u,selection:c,borderBoxCenter:vr(e.initial.client.borderBoxCenter,u)},m={selection:vr(f.selection,o.scroll.current),borderBoxCenter:vr(f.borderBoxCenter,o.scroll.current),offset:vr(f.offset,o.scroll.diff.value)},p={client:f,page:m};if(e.phase==="COLLECTING")return{...e,dimensions:a,viewport:o,current:p};const y=a.draggables[e.critical.draggable.id],v=i||rW({pageOffset:m.offset,draggable:y,draggables:a.draggables,droppables:a.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),x=TCe({draggable:y,impact:v,previousImpact:e.impact,draggables:a.draggables,droppables:a.droppables});return{...e,current:p,dimensions:{draggables:a.draggables,droppables:x},impact:v,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function $Ce(e,t){return e.map(n=>t[n])}var iW=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const s=e.displaced,o=$Ce(s.all,n),a=dy({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:s});return{...e,displaced:a}},sW=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:s})=>{const o=xS({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s});return r4({pageBorderBoxCenter:o,draggable:t,viewport:i})},oW=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Le();const r=e.impact,i=n||e.viewport,s=t||e.dimensions,{draggables:o,droppables:a}=s,c=o[e.critical.draggable.id],u=Ii(r);u||Le();const f=a[u],m=iW({impact:r,viewport:i,destination:f,draggables:o}),p=sW({impact:m,draggable:c,droppable:f,draggables:o,viewport:i,afterCritical:e.afterCritical});return Eg({impact:m,clientSelection:p,state:e,dimensions:s,viewport:i})},RCe=e=>({index:e.index,droppableId:e.droppableId}),aW=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=b0(t.axis,e.displaceBy),s=_m(t.descriptor.id,n),o=s.indexOf(e);o===-1&&Le();const a=s.slice(o+1),c=a.reduce((p,y)=>(p[y.descriptor.id]=!0,p),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:c};return{impact:{displaced:dy({afterDragging:a,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:RCe(e.descriptor)}},afterCritical:u}},kCe=(e,t)=>({draggables:e.draggables,droppables:i4(e.droppables,t)}),MCe=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=aw(e.client,t),i=lw(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},ICe=e=>{const t=e.frame;return t||Le(),t},PCe=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const s=i.descriptor.droppableId,o=t[s],c=ICe(o).scroll.diff.value,u=vr(r,c);return MCe({draggable:i,offset:u,initialWindowScroll:n.scroll.initial})})},DCe=({state:e,published:t})=>{const n=t.modified.map(N=>{const _=e.dimensions.droppables[N.droppableId];return Q$(_,N.scroll)}),r={...e.dimensions.droppables,...UH(n)},i=qH(PCe({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),s={...e.dimensions.draggables,...i};t.removals.forEach(N=>{delete s[N]});const o={droppables:r,draggables:s},a=Ii(e.impact),c=a?o.droppables[a]:null,u=o.draggables[e.critical.draggable.id],f=o.droppables[e.critical.droppable.id],{impact:m,afterCritical:p}=aW({draggable:u,home:f,draggables:s,viewport:e.viewport}),y=c&&c.isCombineEnabled?e.impact:m,v=rW({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:y,viewport:e.viewport,afterCritical:p}),x={...e,phase:"DRAGGING",impact:v,onLiftImpact:m,dimensions:o,afterCritical:p,forceShouldAnimate:!1};return e.phase==="COLLECTING"?x:{...x,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const ij=e=>e.movementMode==="SNAP",T_=(e,t,n)=>{const r=kCe(e.dimensions,t);return!ij(e)||n?Eg({state:e,dimensions:r}):oW({state:e,dimensions:r})};function $_(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const ND={phase:"IDLE",completed:null,shouldFlush:!1};var LCe=(e=ND,t)=>{if(t.type==="FLUSH")return{...ND,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Le();const{critical:n,clientSelection:r,viewport:i,dimensions:s,movementMode:o}=t.payload,a=s.draggables[n.draggable.id],c=s.droppables[n.droppable.id],u={selection:r,borderBoxCenter:a.client.borderBox.center,offset:dr},f={client:u,page:{selection:vr(u.selection,i.scroll.initial),borderBoxCenter:vr(u.selection,i.scroll.initial),offset:vr(u.selection,i.scroll.diff.value)}},m=yS(s.droppables).every(x=>!x.isFixedOnPage),{impact:p,afterCritical:y}=aW({draggable:a,home:c,draggables:s.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:s,initial:f,current:f,isWindowScrollAllowed:m,impact:p,afterCritical:y,onLiftImpact:p,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Le(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Le(),DCe({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;ju(e)||Le();const{client:n}=t.payload;return Sc(n,e.current.client.selection)?e:Eg({state:e,clientSelection:n,impact:ij(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return $_(e);ju(e)||Le();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const s=Q$(i,r);return T_(e,s,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;ju(e)||Le();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Le(),i.isEnabled===r&&Le();const s={...i,isEnabled:r};return T_(e,s,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;ju(e)||Le();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Le(),i.isCombineEnabled===r&&Le();const s={...i,isCombineEnabled:r};return T_(e,s,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;ju(e)||Le(),e.isWindowScrollAllowed||Le();const n=t.payload.newScroll;if(Sc(e.viewport.scroll.current,n))return $_(e);const r=XH(e.viewport,n);return ij(e)?oW({state:e,viewport:r}):Eg({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ju(e))return e;const n=t.payload.maxScroll;if(Sc(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Le();const n=xCe({state:e,type:t.type});return n?Eg({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Le(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Le(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Gt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const FCe=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),BCe=e=>({type:"LIFT",payload:e}),zCe=e=>({type:"INITIAL_PUBLISH",payload:e}),VCe=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),UCe=()=>({type:"COLLECTION_STARTING",payload:null}),qCe=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),HCe=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),WCe=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),lW=e=>({type:"MOVE",payload:e}),GCe=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),JCe=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),YCe=()=>({type:"MOVE_UP",payload:null}),XCe=()=>({type:"MOVE_DOWN",payload:null}),KCe=()=>({type:"MOVE_RIGHT",payload:null}),QCe=()=>({type:"MOVE_LEFT",payload:null}),s4=()=>({type:"FLUSH",payload:null}),ZCe=e=>({type:"DROP_ANIMATE",payload:e}),o4=e=>({type:"DROP_COMPLETE",payload:e}),cW=e=>({type:"DROP",payload:e}),eOe=e=>({type:"DROP_PENDING",payload:e}),uW=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var tOe=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Gt(i,"LIFT")){r(i);return}const{id:s,clientSelection:o,movementMode:a}=i.payload,c=t();c.phase==="DROP_ANIMATING"&&n(o4({completed:c.completed})),t().phase!=="IDLE"&&Le(),n(s4()),n(FCe({draggableId:s,movementMode:a}));const f={draggableId:s,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:m,dimensions:p,viewport:y}=e.startPublishing(f);n(zCe({critical:m,dimensions:p,clientSelection:o,movementMode:a,viewport:y}))},nOe=e=>()=>t=>n=>{Gt(n,"INITIAL_PUBLISH")&&e.dragging(),Gt(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Gt(n,"FLUSH")||Gt(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const a4={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},fy={opacity:{drop:0,combining:.7},scale:{drop:.75}},dW={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},wu=`${dW.outOfTheWay}s ${a4.outOfTheWay}`,Ng={fluid:`opacity ${wu}`,snap:`transform ${wu}, opacity ${wu}`,drop:e=>{const t=`${e}s ${a4.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${wu}`,placeholder:`height ${wu}, width ${wu}, margin ${wu}`},_D=e=>Sc(e,dr)?void 0:`translate(${e.x}px, ${e.y}px)`,sj={moveTo:_D,drop:(e,t)=>{const n=_D(e);if(n)return t?`${n} scale(${fy.scale.drop})`:n}},{minDropTime:oj,maxDropTime:fW}=dW,rOe=fW-oj,CD=1500,iOe=.6;var sOe=({current:e,destination:t,reason:n})=>{const r=cy(e,t);if(r<=0)return oj;if(r>=CD)return fW;const i=r/CD,s=oj+rOe*i,o=n==="CANCEL"?s*iOe:s;return Number(o.toFixed(2))},oOe=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:s,droppables:o}=n,a=Ii(e),c=a?o[a]:null,u=o[t.descriptor.droppableId],f=sW({impact:e,draggable:t,draggables:s,afterCritical:i,droppable:c||u,viewport:r});return ki(f,t.client.borderBox.center)},aOe=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:s})=>!n.at||t!=="DROP"?{impact:iW({draggables:e,impact:s,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:uy},didDropInsideDroppable:!0};const lOe=({getState:e,dispatch:t})=>n=>r=>{if(!Gt(r,"DROP")){n(r);return}const i=e(),s=r.payload.reason;if(i.phase==="COLLECTING"){t(eOe({reason:s}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Le(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Le();const a=i.critical,c=i.dimensions,u=c.draggables[i.critical.draggable.id],{impact:f,didDropInsideDroppable:m}=aOe({reason:s,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),p=m?Z$(f):null,y=m?bS(f):null,v={index:a.draggable.index,droppableId:a.droppable.id},x={draggableId:u.descriptor.id,type:u.descriptor.type,source:v,reason:s,mode:i.movementMode,destination:p,combine:y},S=oOe({impact:f,draggable:u,dimensions:c,viewport:i.viewport,afterCritical:i.afterCritical}),N={critical:i.critical,afterCritical:i.afterCritical,result:x,impact:f};if(!(!Sc(i.current.client.offset,S)||!!x.combine)){t(o4({completed:N}));return}const C=sOe({current:i.current.client.offset,destination:S,reason:s});t(ZCe({newHomeClientOffset:S,dropDuration:C,completed:N}))};var hW=()=>({x:window.pageXOffset,y:window.pageYOffset});function cOe(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function uOe({onWindowScroll:e}){function t(){e(hW())}const n=ly(t),r=cOe(n);let i=wc;function s(){return i!==wc}function o(){s()&&Le(),i=as(window,[r])}function a(){s()||Le(),n.cancel(),i(),i=wc}return{start:o,stop:a,isActive:s}}const dOe=e=>Gt(e,"DROP_COMPLETE")||Gt(e,"DROP_ANIMATE")||Gt(e,"FLUSH"),fOe=e=>{const t=uOe({onWindowScroll:n=>{e.dispatch(GCe({newScroll:n}))}});return n=>r=>{!t.isActive()&&Gt(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&dOe(r)&&t.stop(),n(r)}};var hOe=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=s=>{t||n||(t=!0,e(s),clearTimeout(r))};return i.wasCalled=()=>t,i},mOe=()=>{const e=[],t=i=>{const s=e.findIndex(a=>a.timerId===i);s===-1&&Le();const[o]=e.splice(s,1);o.callback()};return{add:i=>{const s=setTimeout(()=>t(s)),o={timerId:s,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const pOe=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,gOe=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,yOe=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Wp=(e,t)=>{t()},gv=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function R_(e,t,n,r){if(!e){n(r(t));return}const i=hOe(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var bOe=(e,t)=>{const n=mOe();let r=null;const i=(m,p)=>{r&&Le(),Wp("onBeforeCapture",()=>{const y=e().onBeforeCapture;y&&y({draggableId:m,mode:p})})},s=(m,p)=>{r&&Le(),Wp("onBeforeDragStart",()=>{const y=e().onBeforeDragStart;y&&y(gv(m,p))})},o=(m,p)=>{r&&Le();const y=gv(m,p);r={mode:p,lastCritical:m,lastLocation:y.source,lastCombine:null},n.add(()=>{Wp("onDragStart",()=>R_(e().onDragStart,y,t,tx.onDragStart))})},a=(m,p)=>{const y=Z$(p),v=bS(p);r||Le();const x=!yOe(m,r.lastCritical);x&&(r.lastCritical=m);const S=!pOe(r.lastLocation,y);S&&(r.lastLocation=y);const N=!gOe(r.lastCombine,v);if(N&&(r.lastCombine=v),!x&&!S&&!N)return;const _={...gv(m,r.mode),combine:v,destination:y};n.add(()=>{Wp("onDragUpdate",()=>R_(e().onDragUpdate,_,t,tx.onDragUpdate))})},c=()=>{r||Le(),n.flush()},u=m=>{r||Le(),r=null,Wp("onDragEnd",()=>R_(e().onDragEnd,m,t,tx.onDragEnd))};return{beforeCapture:i,beforeStart:s,start:o,update:a,flush:c,drop:u,abort:()=>{if(!r)return;const m={...gv(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(m)}}},vOe=(e,t)=>{const n=bOe(e,t);return r=>i=>s=>{if(Gt(s,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(Gt(s,"INITIAL_PUBLISH")){const a=s.payload.critical;n.beforeStart(a,s.payload.movementMode),i(s),n.start(a,s.payload.movementMode);return}if(Gt(s,"DROP_COMPLETE")){const a=s.payload.completed.result;n.flush(),i(s),n.drop(a);return}if(i(s),Gt(s,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const xOe=e=>t=>n=>{if(!Gt(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Le(),e.dispatch(o4({completed:r.completed}))},wOe=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>s=>{if((Gt(s,"FLUSH")||Gt(s,"DROP_COMPLETE")||Gt(s,"DROP_ANIMATION_FINISHED"))&&r(),i(s),!Gt(s,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(uW())}};n=requestAnimationFrame(()=>{n=null,t=as(window,[o])})}};var SOe=e=>()=>t=>n=>{(Gt(n,"DROP_COMPLETE")||Gt(n,"FLUSH")||Gt(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},EOe=e=>{let t=!1;return()=>n=>r=>{if(Gt(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Gt(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Gt(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const NOe=e=>Gt(e,"DROP_COMPLETE")||Gt(e,"DROP_ANIMATE")||Gt(e,"FLUSH");var _Oe=e=>t=>n=>r=>{if(NOe(r)){e.stop(),n(r);return}if(Gt(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&Le(),e.start(i);return}n(r),e.scroll(t.getState())};const COe=e=>t=>n=>{if(t(n),!Gt(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(cW({reason:r.reason})))},OOe=AH;var jOe=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:s})=>jH(LCe,OOe(ONe(nOe(n),SOe(e),tOe(e),lOe,xOe,wOe,COe,_Oe(s),fOe,EOe(t),vOe(r,i))));const k_=()=>({additions:{},removals:{},modified:{}});function AOe({registry:e,callbacks:t}){let n=k_(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:u,modified:f}=n,m=Object.keys(c).map(v=>e.draggable.getById(v).getDimension(dr)).sort((v,x)=>v.descriptor.index-x.descriptor.index),p=Object.keys(f).map(v=>{const S=e.droppable.getById(v).callbacks.getScrollWhileDragging();return{droppableId:v,scroll:S}}),y={additions:m,removals:Object.keys(u),modified:p};n=k_(),t.publish(y)}))};return{add:c=>{const u=c.descriptor.id;n.additions[u]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],i()},remove:c=>{const u=c.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=k_())}}}var mW=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=ki({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},pW=()=>{const e=document.documentElement;return e||Le(),e},gW=()=>{const e=pW();return mW({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},TOe=()=>{const e=hW(),t=gW(),n=e.y,r=e.x,i=pW(),s=i.clientWidth,o=i.clientHeight,a=r+s,c=n+o;return{frame:Xs({top:n,left:r,right:a,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:dr,displacement:dr}}}},$Oe=({critical:e,scrollOptions:t,registry:n})=>{const r=TOe(),i=r.scroll.current,s=e.droppable,o=n.droppable.getAllByType(s.type).map(f=>f.callbacks.getDimensionAndWatchScroll(i,t)),a=n.draggable.getAllByType(e.draggable.type).map(f=>f.getDimension(i));return{dimensions:{draggables:qH(a),droppables:UH(o)},critical:e,viewport:r}};function OD(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var ROe=(e,t)=>{let n=null;const r=AOe({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(p,y)=>{e.droppable.exists(p)||Le(),n&&t.updateDroppableIsEnabled({id:p,isEnabled:y})},s=(p,y)=>{n&&(e.droppable.exists(p)||Le(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:y}))},o=(p,y)=>{n&&(e.droppable.exists(p)||Le(),t.updateDroppableScroll({id:p,newScroll:y}))},a=(p,y)=>{n&&e.droppable.getById(p).callbacks.scroll(y)},c=()=>{if(!n)return;r.stop();const p=n.critical.droppable;e.droppable.getAllByType(p.type).forEach(y=>y.callbacks.dragStopped()),n.unsubscribe(),n=null},u=p=>{n||Le();const y=n.critical.draggable;p.type==="ADDITION"&&OD(e,y,p.value)&&r.add(p.value),p.type==="REMOVAL"&&OD(e,y,p.value)&&r.remove(p.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:a,updateDroppableScroll:o,startPublishing:p=>{n&&Le();const y=e.draggable.getById(p.draggableId),v=e.droppable.getById(y.descriptor.droppableId),x={draggable:y.descriptor,droppable:v.descriptor},S=e.subscribe(u);return n={critical:x,unsubscribe:S},$Oe({critical:x,registry:e,scrollOptions:p.scrollOptions})},stopPublishing:c}},yW=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",kOe=e=>{window.scrollBy(e.x,e.y)};const MOe=ur(e=>yS(e).filter(t=>!(!t.isEnabled||!t.frame))),IOe=(e,t)=>MOe(t).find(r=>(r.frame||Le(),eW(r.frame.pageMarginBox)(e)))||null;var POe=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return IOe(e,n)};const hy={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var DOe=(e,t,n=()=>hy)=>{const r=n(),i=e[t.size]*r.startFromPercentage,s=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:s}},bW=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},l4=1,LOe=(e,t,n=()=>hy)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return l4;const s=1-bW({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(s);return Math.ceil(o)},FOe=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,s=r.durationDampening.stopDampeningAt,o=t,a=s,u=Date.now()-o;if(u>=s)return e;if(u<i)return l4;const f=bW({startOfRange:i,endOfRange:a,current:u}),m=e*r.ease(f);return Math.ceil(m)},jD=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const s=LOe(e,t,i);return s===0?0:r?Math.max(FOe(s,n,i),l4):s},AD=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=DOe(e,r,s);return t[r.end]<t[r.start]?jD({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s}):-1*jD({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s})},BOe=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const zOe=VH(e=>e===0?0:e);var vW=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},a=AD({container:t,distanceToEdges:o,dragStartTime:e,axis:e4,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),c=AD({container:t,distanceToEdges:o,dragStartTime:e,axis:GH,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),u=zOe({x:c,y:a});if(Sc(u,dr))return null;const f=BOe({container:t,subject:n,proposedScroll:u});return f?Sc(f,dr)?null:f:null};const VOe=VH(e=>e===0?0:e>0?1:-1),c4=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=vr(t,r),s={x:e(i.x,n.x),y:e(i.y,n.y)};return Sc(s,dr)?null:s}})(),xW=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=VOe(n),s=c4({max:r,current:t,change:i});return!s||i.x!==0&&s.x===0||i.y!==0&&s.y===0},u4=(e,t)=>xW({current:e.scroll.current,max:e.scroll.max,change:t}),UOe=(e,t)=>{if(!u4(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return c4({current:r,max:n,change:t})},d4=(e,t)=>{const n=e.frame;return n?xW({current:n.scroll.current,max:n.scroll.max,change:t}):!1},qOe=(e,t)=>{const n=e.frame;return!n||!d4(e,t)?null:c4({current:n.scroll.current,max:n.scroll.max,change:t})};var HOe=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=vW({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return o&&u4(e,o)?o:null},WOe=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=e.frame;if(!o)return null;const a=vW({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return a&&d4(e,a)?a:null},TD=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:s})=>{const o=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const m=e.viewport,p=HOe({dragStartTime:t,viewport:m,subject:c,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});if(p){r(p);return}}const u=POe({center:o,destination:Ii(e.impact),droppables:e.dimensions.droppables});if(!u)return;const f=WOe({dragStartTime:t,droppable:u,subject:c,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});f&&i(u.descriptor.id,f)},GOe=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>hy})=>{const r=ly(e),i=ly(t);let s=null;const o=u=>{s||Le();const{shouldUseTimeDampening:f,dragStartTime:m}=s;TD({state:u,scrollWindow:r,scrollDroppable:i,dragStartTime:m,shouldUseTimeDampening:f,getAutoScrollerOptions:n})};return{start:u=>{s&&Le();const f=Date.now();let m=!1;const p=()=>{m=!0};TD({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p,getAutoScrollerOptions:n}),s={dragStartTime:f,shouldUseTimeDampening:m},m&&o(u)},stop:()=>{s&&(r.cancel(),i.cancel(),s=null)},scroll:o}},JOe=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(a,c)=>{const u=vr(a.current.client.selection,c);e({client:u})},i=(a,c)=>{if(!d4(a,c))return c;const u=qOe(a,c);if(!u)return t(a.descriptor.id,c),null;const f=ki(c,u);return t(a.descriptor.id,f),ki(c,f)},s=(a,c,u)=>{if(!a||!u4(c,u))return u;const f=UOe(c,u);if(!f)return n(u),null;const m=ki(u,f);return n(m),ki(u,m)};return a=>{const c=a.scrollJumpRequest;if(!c)return;const u=Ii(a.impact);u||Le();const f=i(a.dimensions.droppables[u],c);if(!f)return;const m=a.viewport,p=s(a.isWindowScrollAllowed,m,f);p&&r(a,p)}},YOe=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=GOe({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),s=JOe({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){i.scroll(c);return}c.scrollJumpRequest&&s(c)}},start:i.start,stop:i.stop}};const Bh="data-rfd",zh=(()=>{const e=`${Bh}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),aj=(()=>{const e=`${Bh}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),XOe=(()=>{const e=`${Bh}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),$D={contextId:`${Bh}-scroll-container-context-id`},KOe=e=>t=>`[${t}="${e}"]`,Gp=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),QOe="pointer-events: none;";var ZOe=e=>{const t=KOe(e),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(zh.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:QOe,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${Ng.outOfTheWay};
    `;return{selector:t(aj.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),i={selector:t(XOe.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Gp(o,"always"),resting:Gp(o,"resting"),dragging:Gp(o,"dragging"),dropAnimating:Gp(o,"dropAnimating"),userCancel:Gp(o,"userCancel")}};const Pi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect,M_=()=>{const e=document.querySelector("head");return e||Le(),e},RD=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function eje(e,t){const n=Tt(()=>ZOe(e),[e]),r=w.useRef(null),i=w.useRef(null),s=it(ur(m=>{const p=i.current;p||Le(),p.textContent=m}),[]),o=it(m=>{const p=r.current;p||Le(),p.textContent=m},[]);Pi(()=>{!r.current&&!i.current||Le();const m=RD(t),p=RD(t);return r.current=m,i.current=p,m.setAttribute(`${Bh}-always`,e),p.setAttribute(`${Bh}-dynamic`,e),M_().appendChild(m),M_().appendChild(p),o(n.always),s(n.resting),()=>{const y=v=>{const x=v.current;x||Le(),M_().removeChild(x),v.current=null};y(r),y(i)}},[t,o,s,n.always,n.resting,e]);const a=it(()=>s(n.dragging),[s,n.dragging]),c=it(m=>{if(m==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),u=it(()=>{i.current&&s(n.resting)},[s,n.resting]);return Tt(()=>({dragging:a,dropping:c,resting:u}),[a,c,u])}function wW(e,t){return Array.from(e.querySelectorAll(t))}var SW=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function wS(e){return e instanceof SW(e).HTMLElement}function tje(e,t){const n=`[${zh.contextId}="${e}"]`,r=wW(document,n);if(!r.length)return null;const i=r.find(s=>s.getAttribute(zh.draggableId)===t);return!i||!wS(i)?null:i}function nje(e){const t=w.useRef({}),n=w.useRef(null),r=w.useRef(null),i=w.useRef(!1),s=it(function(p,y){const v={id:p,focus:y};return t.current[p]=v,function(){const S=t.current;S[p]!==v&&delete S[p]}},[]),o=it(function(p){const y=tje(e,p);y&&y!==document.activeElement&&y.focus()},[e]),a=it(function(p,y){n.current===p&&(n.current=y)},[]),c=it(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const p=n.current;p&&o(p)}))},[o]),u=it(function(p){n.current=null;const y=document.activeElement;y&&y.getAttribute(zh.draggableId)===p&&(n.current=p)},[]);return Pi(()=>(i.current=!0,function(){i.current=!1;const p=r.current;p&&cancelAnimationFrame(p)}),[]),Tt(()=>({register:s,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:a}),[s,u,c,a])}function rje(){const e={draggables:{},droppables:{}},t=[];function n(m){return t.push(m),function(){const y=t.indexOf(m);y!==-1&&t.splice(y,1)}}function r(m){t.length&&t.forEach(p=>p(m))}function i(m){return e.draggables[m]||null}function s(m){const p=i(m);return p||Le(),p}const o={register:m=>{e.draggables[m.descriptor.id]=m,r({type:"ADDITION",value:m})},update:(m,p)=>{const y=e.draggables[p.descriptor.id];y&&y.uniqueId===m.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[m.descriptor.id]=m)},unregister:m=>{const p=m.descriptor.id,y=i(p);y&&m.uniqueId===y.uniqueId&&(delete e.draggables[p],e.droppables[m.descriptor.droppableId]&&r({type:"REMOVAL",value:m}))},getById:s,findById:i,exists:m=>!!i(m),getAllByType:m=>Object.values(e.draggables).filter(p=>p.descriptor.type===m)};function a(m){return e.droppables[m]||null}function c(m){const p=a(m);return p||Le(),p}const u={register:m=>{e.droppables[m.descriptor.id]=m},unregister:m=>{const p=a(m.descriptor.id);p&&m.uniqueId===p.uniqueId&&delete e.droppables[m.descriptor.id]},getById:c,findById:a,exists:m=>!!a(m),getAllByType:m=>Object.values(e.droppables).filter(p=>p.descriptor.type===m)};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:u,subscribe:n,clean:f}}function ije(){const e=Tt(rje,[]);return w.useEffect(()=>function(){e.clean()},[e]),e}var f4=je.createContext(null),fw=()=>{const e=document.body;return e||Le(),e};const sje={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},oje=e=>`rfd-announcement-${e}`;function aje(e){const t=Tt(()=>oje(e),[e]),n=w.useRef(null);return w.useEffect(function(){const s=document.createElement("div");return n.current=s,s.id=t,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),jh(s.style,sje),fw().appendChild(s),function(){setTimeout(function(){const c=fw();c.contains(s)&&c.removeChild(s),s===n.current&&(n.current=null)})}},[t]),it(i=>{const s=n.current;if(s){s.textContent=i;return}},[])}const lje={separator:"::"};function h4(e,t=lje){const n=je.useId();return Tt(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function cje({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function uje({contextId:e,text:t}){const n=h4("hidden-text",{separator:"-"}),r=Tt(()=>cje({contextId:e,uniqueId:n}),[n,e]);return w.useEffect(function(){const s=document.createElement("div");return s.id=r,s.textContent=t,s.style.display="none",fw().appendChild(s),function(){const a=fw();a.contains(s)&&a.removeChild(s)}},[r,t]),r}var SS=je.createContext(null);function EW(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),t}function dje(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&Le();const a={abandon:o};return e=a,a}function i(){e||Le(),e=null}function s(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:s}}function my(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const fje=9,hje=13,m4=27,NW=32,mje=33,pje=34,gje=35,yje=36,bje=37,vje=38,xje=39,wje=40,Sje={[hje]:!0,[fje]:!0};var _W=e=>{Sje[e.keyCode]&&e.preventDefault()};const ES=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),CW=0,kD=5;function Eje(e,t){return Math.abs(t.x-e.x)>=kD||Math.abs(t.y-e.y)>=kD}const MD={type:"IDLE"};function Nje({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:s,clientX:o,clientY:a}=i;if(s!==CW)return;const c={x:o,y:a},u=n();if(u.type==="DRAGGING"){i.preventDefault(),u.actions.move(c);return}u.type!=="PENDING"&&Le();const f=u.point;if(!Eje(f,c))return;i.preventDefault();const m=u.actions.fluidLift(c);r({type:"DRAGGING",actions:m})}},{eventName:"mouseup",fn:i=>{const s=n();if(s.type!=="DRAGGING"){e();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===m4){i.preventDefault(),e();return}_W(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const s=n();if(s.type==="IDLE"&&Le(),s.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:ES,fn:e}]}function _je(e){const t=w.useRef(MD),n=w.useRef(wc),r=Tt(()=>({eventName:"mousedown",fn:function(m){if(m.defaultPrevented||m.button!==CW||m.ctrlKey||m.metaKey||m.shiftKey||m.altKey)return;const p=e.findClosestDraggableId(m);if(!p)return;const y=e.tryGetLock(p,o,{sourceEvent:m});if(!y)return;m.preventDefault();const v={x:m.clientX,y:m.clientY};n.current(),u(y,v)}}),[e]),i=Tt(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const m=e.findClosestDraggableId(f);if(!m)return;const p=e.findOptionsForDraggable(m);p&&(p.shouldRespectForcePress||e.canGetLock(m)&&f.preventDefault())}}),[e]),s=it(function(){const m={passive:!1,capture:!0};n.current=as(window,[i,r],m)},[i,r]),o=it(()=>{t.current.type!=="IDLE"&&(t.current=MD,n.current(),s())},[s]),a=it(()=>{const f=t.current;o(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[o]),c=it(function(){const m={capture:!0,passive:!1},p=Nje({cancel:a,completed:o,getPhase:()=>t.current,setPhase:y=>{t.current=y}});n.current=as(window,p,m)},[a,o]),u=it(function(m,p){t.current.type!=="IDLE"&&Le(),t.current={type:"PENDING",point:p,actions:m},c()},[c]);Pi(function(){return s(),function(){n.current()}},[s])}function Cje(){}const Oje={[pje]:!0,[mje]:!0,[yje]:!0,[gje]:!0};function jje(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===m4){i.preventDefault(),n();return}if(i.keyCode===NW){i.preventDefault(),r();return}if(i.keyCode===wje){i.preventDefault(),e.moveDown();return}if(i.keyCode===vje){i.preventDefault(),e.moveUp();return}if(i.keyCode===xje){i.preventDefault(),e.moveRight();return}if(i.keyCode===bje){i.preventDefault(),e.moveLeft();return}if(Oje[i.keyCode]){i.preventDefault();return}_W(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:ES,fn:n}]}function Aje(e){const t=w.useRef(Cje),n=Tt(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==NW)return;const o=e.findClosestDraggableId(s);if(!o)return;const a=e.tryGetLock(o,f,{sourceEvent:s});if(!a)return;s.preventDefault();let c=!0;const u=a.snapLift();t.current();function f(){c||Le(),c=!1,t.current(),r()}t.current=as(window,jje(u,f),{capture:!0,passive:!1})}}),[e]),r=it(function(){const s={passive:!1,capture:!0};t.current=as(window,[n],s)},[n]);Pi(function(){return r(),function(){t.current()}},[r])}const I_={type:"IDLE"},Tje=120,$je=.15;function Rje({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===m4&&n.preventDefault(),e()}},{eventName:ES,fn:e}]}function kje({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:s,clientY:o}=r.touches[0],a={x:s,y:o};r.preventDefault(),i.actions.move(a)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Le();const s=r.touches[0];if(!s||!(s.force>=$je))return;const a=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){a&&e();return}if(a){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:ES,fn:e}]}function Mje(e){const t=w.useRef(I_),n=w.useRef(wc),r=it(function(){return t.current},[]),i=it(function(y){t.current=y},[]),s=Tt(()=>({eventName:"touchstart",fn:function(y){if(y.defaultPrevented)return;const v=e.findClosestDraggableId(y);if(!v)return;const x=e.tryGetLock(v,a,{sourceEvent:y});if(!x)return;const S=y.touches[0],{clientX:N,clientY:_}=S,C={x:N,y:_};n.current(),m(x,C)}}),[e]),o=it(function(){const y={capture:!0,passive:!1};n.current=as(window,[s],y)},[s]),a=it(()=>{const p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),i(I_),n.current(),o())},[o,i]),c=it(()=>{const p=t.current;a(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[a]),u=it(function(){const y={capture:!0,passive:!1},v={cancel:c,completed:a,getPhase:r},x=as(window,kje(v),y),S=as(window,Rje(v),y);n.current=function(){x(),S()}},[c,r,a]),f=it(function(){const y=r();y.type!=="PENDING"&&Le();const v=y.actions.fluidLift(y.point);i({type:"DRAGGING",actions:v,hasMoved:!1})},[r,i]),m=it(function(y,v){r().type!=="IDLE"&&Le();const x=setTimeout(f,Tje);i({type:"PENDING",point:v,actions:y,longPressTimerId:x}),u()},[u,r,i,f]);Pi(function(){return o(),function(){n.current();const v=r();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),i(I_))}},[r,o,i]),Pi(function(){return as(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Ije=["input","button","textarea","select","option","optgroup","video","audio"];function OW(e,t){if(t==null)return!1;if(Ije.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:OW(e,t.parentElement)}function Pje(e,t){const n=t.target;return wS(n)?OW(e,n):!1}var Dje=e=>Xs(e.getBoundingClientRect()).center;function Lje(e){return e instanceof SW(e).Element}const Fje=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function jW(e,t){return e==null?null:e[Fje](t)?e:jW(e.parentElement,t)}function Bje(e,t){return e.closest?e.closest(t):jW(e,t)}function zje(e){return`[${zh.contextId}="${e}"]`}function Vje(e,t){const n=t.target;if(!Lje(n))return null;const r=zje(e),i=Bje(n,r);return!i||!wS(i)?null:i}function Uje(e,t){const n=Vje(e,t);return n?n.getAttribute(zh.draggableId):null}function qje(e,t){const n=`[${aj.contextId}="${e}"]`,i=wW(document,n).find(s=>s.getAttribute(aj.id)===t);return!i||!wS(i)?null:i}function Hje(e){e.preventDefault()}function yv({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function AW({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!yW(t.getState(),r))}function Wje({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:s,sourceEvent:o}){if(!AW({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const c=r.draggable.getById(i),u=qje(t,c.descriptor.id);if(!u||o&&!c.options.canDragInteractiveElements&&Pje(u,o))return null;const f=e.claim(s||wc);let m="PRE_DRAG";function p(){return c.options.shouldRespectForcePress}function y(){return e.isActive(f)}function v(A,$){yv({expected:A,phase:m,isLockActive:y,shouldWarn:!0})&&n.dispatch($())}const x=v.bind(null,"DRAGGING");function S(A){function $(){e.release(),m="COMPLETED"}m!=="PRE_DRAG"&&($(),Le()),n.dispatch(BCe(A.liftActionArgs)),m="DRAGGING";function k(R,D={shouldBlockNextClick:!1}){if(A.cleanup(),D.shouldBlockNextClick){const z=as(window,[{eventName:"click",fn:Hje,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(z)}$(),n.dispatch(cW({reason:R}))}return{isActive:()=>yv({expected:"DRAGGING",phase:m,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:p,drop:R=>k("DROP",R),cancel:R=>k("CANCEL",R),...A.actions}}function N(A){const $=ly(R=>{x(()=>lW({client:R}))});return{...S({liftActionArgs:{id:i,clientSelection:A,movementMode:"FLUID"},cleanup:()=>$.cancel(),actions:{move:$}}),move:$}}function _(){const A={moveUp:()=>x(YCe),moveRight:()=>x(KCe),moveDown:()=>x(XCe),moveLeft:()=>x(QCe)};return S({liftActionArgs:{id:i,clientSelection:Dje(u),movementMode:"SNAP"},cleanup:wc,actions:A})}function C(){yv({expected:"PRE_DRAG",phase:m,isLockActive:y,shouldWarn:!0})&&e.release()}return{isActive:()=>yv({expected:"PRE_DRAG",phase:m,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:p,fluidLift:N,snapLift:_,abort:C}}const Gje=[_je,Aje,Mje];function Jje({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const s=[...i?Gje:[],...r||[]],o=w.useState(()=>dje())[0],a=it(function(S,N){my(S)&&!my(N)&&o.tryAbandon()},[o]);Pi(function(){let S=t.getState();return t.subscribe(()=>{const _=t.getState();a(S,_),S=_})},[o,t,a]),Pi(()=>o.tryAbandon,[o.tryAbandon]);const c=it(x=>AW({lockAPI:o,registry:n,store:t,draggableId:x}),[o,n,t]),u=it((x,S,N)=>Wje({lockAPI:o,registry:n,contextId:e,store:t,draggableId:x,forceSensorStop:S||null,sourceEvent:N&&N.sourceEvent?N.sourceEvent:null}),[e,o,n,t]),f=it(x=>Uje(e,x),[e]),m=it(x=>{const S=n.draggable.findById(x);return S?S.options:null},[n.draggable]),p=it(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(s4()))},[o,t]),y=it(()=>o.isClaimed(),[o]),v=Tt(()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:f,findOptionsForDraggable:m,tryReleaseLock:p,isLockClaimed:y}),[c,u,f,m,p,y]);for(let x=0;x<s.length;x++)s[x](v)}const Yje=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};By.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Xje=e=>({...hy,...e.autoScrollerOptions,durationDampening:{...hy.durationDampening,...e.autoScrollerOptions}});function Jp(e){return e.current||Le(),e.current}function Kje(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:s}=e,o=w.useRef(null),a=EW(e),c=it(()=>Yje(a.current),[a]),u=it(()=>Xje(a.current),[a]),f=aje(t),m=uje({contextId:t,text:s}),p=eje(t,i),y=it(z=>{Jp(o).dispatch(z)},[]),v=Tt(()=>oD({publishWhileDragging:VCe,updateDroppableScroll:qCe,updateDroppableIsEnabled:HCe,updateDroppableIsCombineEnabled:WCe,collectionStarting:UCe},y),[y]),x=ije(),S=Tt(()=>ROe(x,v),[x,v]),N=Tt(()=>YOe({scrollWindow:kOe,scrollDroppable:S.scrollDroppable,getAutoScrollerOptions:u,...oD({move:lW},y)}),[S.scrollDroppable,y,u]),_=nje(t),C=Tt(()=>jOe({announce:f,autoScroller:N,dimensionMarshal:S,focusMarshal:_,getResponders:c,styleMarshal:p}),[f,N,S,_,c,p]);o.current=C;const j=it(()=>{const z=Jp(o);z.getState().phase!=="IDLE"&&z.dispatch(s4())},[]),A=it(()=>{const z=Jp(o).getState();return z.phase==="DROP_ANIMATING"?!0:z.phase==="IDLE"?!1:z.isDragging},[]),$=Tt(()=>({isDragging:A,tryAbort:j}),[A,j]);n($);const k=it(z=>yW(Jp(o).getState(),z),[]),R=it(()=>ju(Jp(o).getState()),[]),D=Tt(()=>({marshal:S,focus:_,contextId:t,canLift:k,isMovementAllowed:R,dragHandleUsageInstructionsId:m,registry:x}),[t,S,m,_,k,R,x]);return Jje({contextId:t,store:C,registry:x,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),w.useEffect(()=>j,[j]),je.createElement(SS.Provider,{value:D},je.createElement(S_e,{context:f4,store:C},e.children))}function Qje(){return je.useId()}function Zje(e){const t=Qje(),n=e.dragHandleUsageInstructions||tx.dragHandleUsageInstructions;return je.createElement(A_e,null,r=>je.createElement(Kje,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const ID={dragging:5e3,dropAnimating:4500},eAe=(e,t)=>t?Ng.drop(t.duration):e?Ng.snap:Ng.fluid,tAe=(e,t)=>{if(e)return t?fy.opacity.drop:fy.opacity.combining},nAe=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function rAe(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:s}=e,o=!!i,a=nAe(e),c=!!s,u=c?sj.drop(r,o):sj.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:eAe(a,s),transform:u,opacity:tAe(o,c),zIndex:c?ID.dropAnimating:ID.dragging,pointerEvents:"none"}}function iAe(e){return{transform:sj.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function sAe(e){return e.type==="DRAGGING"?rAe(e):iAe(e)}function oAe(e,t,n=dr){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),s=PH(i,r),o=lw(s,n),a={client:s,tagName:t.tagName.toLowerCase(),display:r.display},c={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:e,placeholder:a,displaceBy:c,client:s,page:o}}function aAe(e){const t=h4("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}=e,c=Tt(()=>({canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}),[s,a,o]),u=it(y=>{const v=i();return v||Le(),oAe(n,v,y)},[n,i]),f=Tt(()=>({uniqueId:t,descriptor:n,options:c,getDimension:u}),[n,u,c,t]),m=w.useRef(f),p=w.useRef(!0);Pi(()=>(r.draggable.register(m.current),()=>r.draggable.unregister(m.current)),[r.draggable]),Pi(()=>{if(p.current){p.current=!1;return}const y=m.current;m.current=f,r.draggable.update(f,y)},[f,r.draggable])}var p4=je.createContext(null);function hw(e){const t=w.useContext(e);return t||Le(),t}function lAe(e){e.preventDefault()}const cAe=e=>{const t=w.useRef(null),n=it(($=null)=>{t.current=$},[]),r=it(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:s,registry:o}=hw(SS),{type:a,droppableId:c}=hw(p4),u=Tt(()=>({id:e.draggableId,index:e.index,type:a,droppableId:c}),[e.draggableId,e.index,a,c]),{children:f,draggableId:m,isEnabled:p,shouldRespectForcePress:y,canDragInteractiveElements:v,isClone:x,mapped:S,dropAnimationFinished:N}=e;if(!x){const $=Tt(()=>({descriptor:u,registry:o,getDraggableRef:r,canDragInteractiveElements:v,shouldRespectForcePress:y,isEnabled:p}),[u,o,r,v,y,p]);aAe($)}const _=Tt(()=>p?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":m,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:lAe}:null,[i,s,m,p]),C=it($=>{S.type==="DRAGGING"&&S.dropping&&$.propertyName==="transform"&&By.flushSync(N)},[N,S]),j=Tt(()=>{const $=sAe(S),k=S.type==="DRAGGING"&&S.dropping?C:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":m,style:$,onTransitionEnd:k},dragHandleProps:_}},[i,_,m,S,C,n]),A=Tt(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return je.createElement(je.Fragment,null,f(j,S.snapshot,A))};var TW=(e,t)=>e===t,$W=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const uAe=e=>e.combine?e.combine.draggableId:null,dAe=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function fAe(){const e=ur((i,s)=>({x:i,y:s})),t=ur((i,s,o=null,a=null,c=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!c,dropAnimation:c,mode:i,draggingOver:o,combineWith:a,combineTargetFor:null})),n=ur((i,s,o,a,c=null,u=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:s,offset:i,dimension:o,forceShouldAnimate:f,snapshot:t(s,a,c,u,null)}}));return(i,s)=>{if(my(i)){if(i.critical.draggable.id!==s.draggableId)return null;const o=i.current.client.offset,a=i.dimensions.draggables[s.draggableId],c=Ii(i.impact),u=dAe(i.impact),f=i.forceShouldAnimate;return n(e(o.x,o.y),i.movementMode,a,s.isClone,c,u,f)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==s.draggableId)return null;const a=s.isClone,c=i.dimensions.draggables[s.draggableId],u=o.result,f=u.mode,m=$W(u),p=uAe(u),v={duration:i.dropDuration,curve:a4.drop,moveTo:i.newHomeClientOffset,opacity:p?fy.opacity.drop:null,scale:p?fy.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:c,dropping:v,draggingOver:m,combineWith:p,mode:f,forceShouldAnimate:null,snapshot:t(f,a,m,p,v)}}}return null}}function RW(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const hAe={mapped:{type:"SECONDARY",offset:dr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:RW(null)}};function mAe(){const e=ur((o,a)=>({x:o,y:a})),t=ur(RW),n=ur((o,a=null,c)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:a,shouldAnimateDisplacement:c,snapshot:t(a)}})),r=o=>o?n(dr,o,!0):null,i=(o,a,c,u)=>{const f=c.displaced.visible[o],m=!!(u.inVirtualList&&u.effected[o]),p=bS(c),y=p&&p.draggableId===o?a:null;if(!f){if(!m)return r(y);if(c.displaced.invisible[o])return null;const S=Nm(u.displacedBy.point),N=e(S.x,S.y);return n(N,y,!0)}if(m)return r(y);const v=c.displacedBy.point,x=e(v.x,v.y);return n(x,y,f.shouldAnimate)};return(o,a)=>{if(my(o))return o.critical.draggable.id===a.draggableId?null:i(a.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const c=o.completed;return c.result.draggableId===a.draggableId?null:i(a.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const pAe=()=>{const e=fAe(),t=mAe();return(r,i)=>e(r,i)||t(r,i)||hAe},gAe={dropAnimationFinished:uW},yAe=IH(pAe,gAe,null,{context:f4,areStatePropsEqual:TW})(cAe);function kW(e){return hw(p4).isUsingCloneFor===e.draggableId&&!e.isClone?null:je.createElement(yAe,e)}function bAe(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return je.createElement(kW,jh({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const MW=e=>t=>e===t,vAe=MW("scroll"),xAe=MW("auto"),PD=(e,t)=>t(e.overflowX)||t(e.overflowY),wAe=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return PD(n,vAe)||PD(n,xAe)},SAe=()=>!1,IW=e=>e==null?null:e===document.body?SAe()?e:null:e===document.documentElement?null:wAe(e)?e:IW(e.parentElement);var lj=e=>({x:e.scrollLeft,y:e.scrollTop});const PW=e=>e?window.getComputedStyle(e).position==="fixed"?!0:PW(e.parentElement):!1;var EAe=e=>{const t=IW(e),n=PW(e);return{closestScrollable:t,isFixedOnPage:n}},NAe=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:s,page:o,closest:a})=>{const c=(()=>{if(!a)return null;const{scrollSize:p,client:y}=a,v=mW({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:y,scrollSize:p,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:v,diff:{value:dr,displacement:dr}}}})(),u=i==="vertical"?e4:GH,f=Fh({page:o,withPlaceholder:null,axis:u,frame:c});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:t,client:s,page:o,frame:c,subject:f}};const _Ae=(e,t)=>{const n=DH(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,s=r+t.scrollHeight,o=i+t.scrollWidth,c=X$({top:r,right:o,bottom:s,left:i},n.border);return K$({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var CAe=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:s,isCombineEnabled:o,shouldClipSubject:a})=>{const c=n.closestScrollable,u=_Ae(e,c),f=lw(u,r),m=(()=>{if(!c)return null;const y=DH(c),v={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:y,page:lw(y,r),scroll:lj(c),scrollSize:v,shouldClipSubject:a}})();return NAe({descriptor:t,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:u,page:f,closest:m})};const OAe={passive:!1},jAe={passive:!0};var DD=e=>e.shouldPublishImmediately?OAe:jAe;const bv=e=>e&&e.env.closestScrollable||null;function AAe(e){const t=w.useRef(null),n=hw(SS),r=h4("droppable"),{registry:i,marshal:s}=n,o=EW(e),a=Tt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=w.useRef(a),u=Tt(()=>ur((j,A)=>{t.current||Le();const $={x:j,y:A};s.updateDroppableScroll(a.id,$)}),[a.id,s]),f=it(()=>{const j=t.current;return!j||!j.env.closestScrollable?dr:lj(j.env.closestScrollable)},[]),m=it(()=>{const j=f();u(j.x,j.y)},[f,u]),p=Tt(()=>ly(m),[m]),y=it(()=>{const j=t.current,A=bv(j);if(j&&A||Le(),j.scrollOptions.shouldPublishImmediately){m();return}p()},[p,m]),v=it((j,A)=>{t.current&&Le();const $=o.current,k=$.getDroppableRef();k||Le();const R=EAe(k),D={ref:k,descriptor:a,env:R,scrollOptions:A};t.current=D;const z=CAe({ref:k,descriptor:a,env:R,windowScroll:j,direction:$.direction,isDropDisabled:$.isDropDisabled,isCombineEnabled:$.isCombineEnabled,shouldClipSubject:!$.ignoreContainerClipping}),L=R.closestScrollable;return L&&(L.setAttribute($D.contextId,n.contextId),L.addEventListener("scroll",y,DD(D.scrollOptions))),z},[n.contextId,a,y,o]),x=it(()=>{const j=t.current,A=bv(j);return j&&A||Le(),lj(A)},[]),S=it(()=>{const j=t.current;j||Le();const A=bv(j);t.current=null,A&&(p.cancel(),A.removeAttribute($D.contextId),A.removeEventListener("scroll",y,DD(j.scrollOptions)))},[y,p]),N=it(j=>{const A=t.current;A||Le();const $=bv(A);$||Le(),$.scrollTop+=j.y,$.scrollLeft+=j.x},[]),_=Tt(()=>({getDimensionAndWatchScroll:v,getScrollWhileDragging:x,dragStopped:S,scroll:N}),[S,v,x,N]),C=Tt(()=>({uniqueId:r,descriptor:a,callbacks:_}),[_,a,r]);Pi(()=>(c.current=C.descriptor,i.droppable.register(C),()=>{t.current&&S(),i.droppable.unregister(C)}),[_,a,S,C,s,i.droppable]),Pi(()=>{t.current&&s.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,s]),Pi(()=>{t.current&&s.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,s])}function P_(){}const LD={width:0,height:0,margin:P_e},TAe=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?LD:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},$Ae=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=TAe({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Ng.placeholder:null}},RAe=e=>{const t=w.useRef(null),n=it(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:s,contextId:o}=e,[a,c]=w.useState(e.animate==="open");w.useEffect(()=>a?r!=="open"?(n(),c(!1),P_):t.current?P_:(t.current=setTimeout(()=>{t.current=null,c(!1)}),n):P_,[r,a,n]);const u=it(m=>{m.propertyName==="height"&&(i(),r==="close"&&s())},[r,s,i]),f=$Ae({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return je.createElement(e.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":o,onTransitionEnd:u,ref:e.innerRef})};var kAe=je.memo(RAe);class MAe extends je.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const IAe=e=>{const t=w.useContext(SS);t||Le();const{contextId:n,isMovementAllowed:r}=t,i=w.useRef(null),s=w.useRef(null),{children:o,droppableId:a,type:c,mode:u,direction:f,ignoreContainerClipping:m,isDropDisabled:p,isCombineEnabled:y,snapshot:v,useClone:x,updateViewportMaxScroll:S,getContainerForClone:N}=e,_=it(()=>i.current,[]),C=it((L=null)=>{i.current=L},[]);it(()=>s.current,[]);const j=it((L=null)=>{s.current=L},[]),A=it(()=>{r()&&S({maxScroll:gW()})},[r,S]);AAe({droppableId:a,type:c,mode:u,direction:f,isDropDisabled:p,isCombineEnabled:y,ignoreContainerClipping:m,getDroppableRef:_});const $=Tt(()=>je.createElement(MAe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:L,data:F,animate:H})=>je.createElement(kAe,{placeholder:F,onClose:L,innerRef:j,animate:H,contextId:n,onTransitionEnd:A})),[n,A,e.placeholder,e.shouldAnimatePlaceholder,j]),k=Tt(()=>({innerRef:C,placeholder:$,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,$,C]),R=x?x.dragging.draggableId:null,D=Tt(()=>({droppableId:a,type:c,isUsingCloneFor:R}),[a,R,c]);function z(){if(!x)return null;const{dragging:L,render:F}=x,H=je.createElement(kW,{draggableId:L.draggableId,index:L.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(M,V)=>F(M,V,L));return Ff.createPortal(H,N())}return je.createElement(p4.Provider,{value:D},o(k,v),z())};function PAe(){return document.body||Le(),document.body}const FD={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:PAe},DW=e=>{let t={...e},n;for(n in FD)e[n]===void 0&&(t={...t,[n]:FD[n]});return t},D_=(e,t)=>e===t.droppable.type,BD=(e,t)=>t.draggables[e.draggable.id],DAe=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=ur(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),r=ur((s,o,a,c,u,f)=>{const m=u.descriptor.id;if(u.descriptor.droppableId===s){const v=f?{render:f,dragging:n(u.descriptor)}:null,x={isDraggingOver:a,draggingOverWith:a?m:null,draggingFromThisWith:m,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:x,useClone:v}}if(!o)return t;if(!c)return e;const y={isDraggingOver:a,draggingOverWith:m,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}});return(s,o)=>{const a=DW(o),c=a.droppableId,u=a.type,f=!a.isDropDisabled,m=a.renderClone;if(my(s)){const p=s.critical;if(!D_(u,p))return t;const y=BD(p,s.dimensions),v=Ii(s.impact)===c;return r(c,f,v,v,y,m)}if(s.phase==="DROP_ANIMATING"){const p=s.completed;if(!D_(u,p.critical))return t;const y=BD(p.critical,s.dimensions);return r(c,f,$W(p.result)===c,Ii(p.impact)===c,y,m)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const p=s.completed;if(!D_(u,p.critical))return t;const y=Ii(p.impact)===c,v=!!(p.impact.at&&p.impact.at.type==="COMBINE"),x=p.critical.droppable.id===c;return y?v?e:t:x?e:t}return t}},LAe={updateViewportMaxScroll:JCe},FAe=IH(DAe,LAe,(e,t,n)=>({...DW(n),...e,...t}),{context:f4,areStatePropsEqual:TW})(IAe);function BAe({data:e=[],extractId:t,renderItem:n,dndProps:r={droppableId:"sortable-list",direction:"vertical"},onReordered:i,onChange:s,disableIndices:o=[],...a}){function c({destination:f,source:m}){if(o.includes(m.index)||o.includes(f.index))return;const p={from:m.index,to:(f==null?void 0:f.index)||0};i==null||i(p.from,p.to)}const u=e.map((f,m)=>{const p=t?t(f):w.useId();return h.jsx(bAe,{index:m,draggableId:p,isDragDisabled:o.includes(m),children:(y,v,x)=>n?n({...f,dnd:{provided:y,snapshot:v,rubic:x}},m):h.jsxs("div",{className:"flex flex-row gap-2 p-2 border border-gray-200 rounded-md mb-3 bg-white items-center",ref:y.innerRef,...y.draggableProps,children:[h.jsx("div",{...y.dragHandleProps,children:h.jsx(uwe,{className:"size-5",stroke:1.5})}),h.jsx("p",{children:JSON.stringify(f)})]})},p)});return h.jsx(Zje,{onDragEnd:c,children:h.jsx(FAe,{...r,children:f=>h.jsxs("div",{...a,...f.droppableProps,ref:f.innerRef,children:[u,f.placeholder]})})})}function NS({children:e,target:t,defaultOpen:n=!1,backdrop:r=!1,position:i="bottom-start",overlayProps:s,className:o}){const[a,c]=w.useState(n),u=aS(()=>c(!1)),f=zt((p=50)=>setTimeout(()=>c(y=>!y),typeof p=="number"?p:0)),m={"bottom-start":"mt-1 top-[100%]","bottom-end":"right-0 top-[100%] mt-1","top-start":"bottom-[100%] mb-1","top-end":"bottom-[100%] right-0 mb-1"}[i];return h.jsxs(h.Fragment,{children:[a&&r&&h.jsx("div",{className:"animate-fade-in w-full h-full absolute top-0 bottom-0 right-0 left-0 bg-background/60"}),h.jsxs("div",{role:"dropdown",className:qe("relative flex",o),ref:u,children:[w.cloneElement(e,{onClick:f}),a&&h.jsx("div",{...s,className:qe("animate-fade-in absolute z-20 flex flex-col bg-background border border-muted px-1 py-1 rounded-lg shadow-lg backdrop-blur-sm min-w-full max-w-20",m,s==null?void 0:s.className),children:t({toggle:f})})]})]})}const _S=[{type:"primary",label:"Primary",icon:LP,addable:!1,disabled:["name"],hidden:["virtual"]},{type:"text",label:"Text",icon:LP},{type:"number",label:"Number",icon:YEe},{type:"boolean",label:"Boolean",icon:KEe},{type:"date",label:"Date",icon:Jq},{type:"enum",label:"Enum",icon:P$},{type:"json",label:"JSON",icon:pEe},{type:"jsonschema",label:"JSON Schema",icon:OEe},{type:"relation",label:"Relation",icon:I$,addable:!1,hidden:["virtual"]},{type:"media",label:"Media",icon:f0,addable:!1,hidden:["virtual"]}],zD=()=>{const[e,t]=vq([!1,!0]),n=e?lEe:XEe;return h.jsx("button",{role:"checkbox",type:"button",className:"flex px-3 py-3",onClick:()=>t(),children:h.jsx(n,{size:18})})};function CS({data:e=[],columns:t,checkable:n,onClickRow:r,onClickPage:i,onClickSort:s,total:o,sort:a,page:c=1,perPage:u=10,perPageOptions:f,onClickPerPage:m,classNames:p,renderHeader:y,rowActions:v,renderValue:x,onClickNew:S}){const N=!!o,_=Array.isArray(e)?e.slice(0,u):e;o=o||(_==null?void 0:_.length)||0,c=c||1;const C=t&&t.length>0?t:Object.keys((_==null?void 0:_[0])||{}),j=Math.max(Math.ceil(o/u),1),A=N?j>c:((e==null?void 0:e.length)||0)>u,$=x||OS;return h.jsxs("div",{className:"flex flex-col gap-3",children:[S&&h.jsx("div",{className:"flex flex-row space-between",children:S&&h.jsx(tt,{onClick:S,children:"Create new"})}),h.jsx("div",{className:"border-muted border rounded-md shadow-sm w-full max-w-full overflow-x-scroll overflow-y-hidden",children:h.jsxs("table",{className:"w-full text-md",children:[C.length>0?h.jsx("thead",{className:"sticky top-0 bg-muted/10",children:h.jsxs("tr",{children:[n&&h.jsx("th",{align:"center",className:"w-[40px]",children:h.jsx(zD,{})}),C.map((k,R)=>{const D=(y==null?void 0:y(k))??Li(k);return h.jsx("th",{children:h.jsx("div",{className:"flex flex-row py-1 px-1 font-normal text-primary/55",children:h.jsxs("button",{type:"button",className:qe("py-1.5 rounded-md inline-flex flex-row justify-start items-center gap-1",s?"link hover:bg-primary/5 pl-2.5 pr-1":"px-2.5"),onClick:()=>s==null?void 0:s(k),children:[h.jsx("span",{className:"text-left text-nowrap whitespace-nowrap",children:D}),(s||a&&a.by===k)&&h.jsx(zAe,{sort:a,field:k})]})})},R)}),v&&v.length>0&&h.jsx("th",{className:"w-10"})]})}):null,h.jsx("tbody",{children:!_||!Array.isArray(_)||_.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:C.length+(n?1:0),children:h.jsx("div",{className:"flex flex-col gap-2 p-8 justify-center items-center border-t border-muted",children:h.jsx("i",{className:"opacity-50",children:Array.isArray(_)?"No data to show":_?h.jsx("pre",{children:JSON.stringify(_,null,2)}):"Loading..."})})})}):_.map((k,R)=>{const D=()=>r==null?void 0:r(k);return h.jsxs("tr",{"data-border":R>0,className:"hover:bg-primary/5 active:bg-muted border-muted data-[border]:border-t cursor-pointer transition-colors",children:[n&&h.jsx("td",{align:"center",children:h.jsx(zD,{})}),Object.entries(k).map(([z,L],F)=>h.jsx("td",{onClick:D,children:h.jsx("div",{className:"flex flex-row items-start py-3 px-3.5 font-normal ",children:h.jsx($,{property:z,value:L})})},F)),v&&v.length>0&&h.jsx("td",{children:h.jsx("div",{className:"flex flex-row justify-end pr-2",children:h.jsxs(Ri,{position:"bottom-end",children:[h.jsx(Ri.Target,{children:h.jsx(yt,{Icon:AEe})}),h.jsx(Ri.Dropdown,{children:v.map(z=>h.jsx(Ri.Item,{onClick:()=>z.onClick(k,R),leftSection:z.icon&&h.jsx(z.icon,{}),children:z.label},z.label))})]})})})]},R)})})]})}),h.jsxs("div",{className:"flex flex-row items-center justify-between",children:[h.jsx("div",{className:"hidden md:flex text-primary/40",children:h.jsx(VAe,{perPage:u,page:c,items:(_==null?void 0:_.length)||0,total:N?o:void 0})}),h.jsxs("div",{className:"flex flex-row gap-2 md:gap-10 items-center",children:[f&&h.jsxs("div",{className:"hidden md:flex flex-row items-center gap-2 text-primary/40",children:["Per Page"," ",h.jsx($r,{items:f.map(k=>({label:String(k),perPage:k})),position:"top-end",onClickItem:k=>m==null?void 0:m(k.perPage),children:h.jsx(tt,{children:u})})]}),h.jsxs("div",{className:"text-primary/40",children:["Page ",c,N?h.jsxs(h.Fragment,{children:[" of ",j]}):""]}),i&&h.jsx("div",{className:"flex flex-row gap-1.5",children:h.jsx(UAe,{current:c,total:N?j:c+(A?1:0),onClick:i,hasLast:N})})]})]})]})}const OS=({value:e,property:t})=>{let n=!1;return e!==null&&typeof e=="object"&&(e=JSON.stringify(e),n=!0),e!==null&&typeof e<"u"?h.jsx("span",{className:qe("line-clamp-2",n&&"font-mono break-all"),children:e}):h.jsx("span",{className:"opacity-10 font-mono",children:"null"})},zAe=({sort:e,field:t})=>!e||e.by!==t?h.jsx(P$,{size:18,className:"mt-[1px]"}):e.dir==="asc"?h.jsx(fEe,{size:18,className:"mt-[1px]"}):h.jsx(uEe,{size:18,className:"mt-[1px]"}),VAe=({perPage:e,page:t,items:n,total:r})=>{if(n===0&&t===1)return h.jsx(h.Fragment,{children:"No rows to show"});const i=Math.max(e*(t-1),1);return r?h.jsxs(h.Fragment,{children:["Showing ",i,"-",e*(t-1)+n," of ",r," rows"]}):h.jsxs(h.Fragment,{children:["Showing ",i,"-",e*(t-1)+n]})},UAe=({current:e,total:t,onClick:n,hasLast:r=!0})=>[{enabled:!0,value:1,Icon:EEe,disabled:e===1},{enabled:!0,value:e-1,Icon:xEe,disabled:e===1},{enabled:!0,value:e+1,Icon:wEe,disabled:e===t},{enabled:r,value:t,Icon:NEe,disabled:e===t}].map((s,o)=>s.enabled&&h.jsx("button",{role:"button",type:"button",disabled:s.disabled,className:"px-2 py-2 border-muted border rounded-md enabled:link text-lg enabled:hover:bg-primary/5 text-primary/90 disabled:opacity-50 cursor-pointer disabled:cursor-not-allowed",onClick:()=>{const a=s.value,c=a<1?1:a>t?t:a;n==null||n(c)},children:h.jsx(s.Icon,{})},o)),qAe=({path:e,backTo:t,onBack:n})=>{const[r,i]=Ss(),s=window.location.pathname,o=Array.isArray(e)?e:[e],a=s.split("/").filter(m=>m!==""),c=o.length>1,u=n||zt(()=>{if(t){i(t,{replace:!0});return}const m=a.slice(0,o.length+1).join("/");i(`~/${m}`,{replace:!0})}),f=w.useMemo(()=>o.map((m,p)=>{const y=p===o.length-1,v=a.indexOf(m),x=a.slice(0,v+1).join("/"),S=Gy(m);return{last:y,href:x,string:S}}),[o,a]);return h.jsxs("div",{className:"flex flex-row flex-grow items-center gap-2 text-lg",children:[c&&h.jsx(yt,{onClick:u,Icon:M$,variant:"default",size:"lg",className:"mr-1"}),h.jsx("div",{className:"hidden md:flex gap-2",children:h.jsx(LW,{crumbs:f})}),h.jsx("div",{className:"flex md:hidden gap-2",children:h.jsx(HAe,{crumbs:f})})]})},LW=({crumbs:e})=>e.map((t,n)=>t.last?h.jsx(FW,{...t},n):h.jsx(BW,{...t},n)),HAe=({crumbs:e})=>{const[,t]=Ss();if(e.length<=2)return h.jsx(LW,{crumbs:e});const n=e[0],r=e[e.length-1],i=w.useMemo(()=>e.slice(1,-1).map(o=>({label:o.string,href:o.href})),[e]),s=zt(o=>t(`~/${o.href}`));return h.jsxs(h.Fragment,{children:[h.jsx(BW,{...n}),h.jsx($r,{onClickItem:s,items:i,children:h.jsx(yt,{Icon:ll,variant:"ghost"})}),h.jsx("span",{className:"opacity-25 dark:font-bold font-semibold",children:"/"}),h.jsx(FW,{...r})]})},FW=({string:e})=>h.jsx("span",{className:"text-nowrap dark:font-bold font-semibold",children:e}),BW=({href:e,string:t})=>h.jsxs("div",{className:"opacity-50 flex flex-row gap-2 dark:font-bold font-semibold",children:[h.jsx(rS,{to:`~/${e}`,className:"text-nowrap",children:t}),h.jsx("span",{className:"opacity-50",children:"/"})]});function zW(e,t,n){if(!e.properties)return[{...e.toJSON()},t,{}];const r=JSON.parse(JSON.stringify(e)),i={...r,properties:Fi(r.properties,n)};i.required&&(i.required=i.required.filter(a=>!n.includes(a)));const s={};for(const a of n)s[a]={config:t[a],schema:r.properties[a]};const o=Fi(t,n);return[i,o,s]}const WAe=w.forwardRef((e,t)=>{const[n,r]=w.useState(!!(e.value??e.defaultValue));w.useEffect(()=>{console.log("value change",e.value),r(!!e.value)},[e.value]);function i(s){var o;r(s.target.checked),(o=e.onChange)==null||o.call(e,s.target.checked)}return h.jsx("div",{className:"flex flex-row",children:h.jsx(Vc,{ref:t,checked:n,onChange:i,disabled:e.disabled,id:e.id})})}),ps=({error:e,as:t,...n})=>{const r=t||"div";return h.jsx(r,{...n,"data-role":"group",className:qe("flex flex-col gap-1.5 w-full",t==="fieldset"&&"border border-primary/10 p-3 rounded-md",t==="fieldset"&&e&&"border-red-500",e&&"text-red-500",n.className)})},Mc=({as:e,...t})=>{const n=e||"label";return h.jsx(n,{...t})},GAe=({className:e,...t})=>h.jsx("div",{...t,className:qe("text-sm text-primary/50",e)}),VW=({className:e,...t})=>h.jsx("div",{...t,className:qe("text-sm text-red-500",e)}),Om=({field:e,label:t,...n})=>{const r=e.getDescription(),i=r?s=>h.jsx(ao,{position:"right",label:r,...s}):s=>h.jsx(w.Fragment,{...s});return h.jsx(i,{children:h.jsxs(Mc,{...n,className:"flex flex-row gap-1 items-center self-start",children:[t??e.getLabel(),e.isRequired()&&h.jsx("span",{className:"font-medium opacity-30",children:"*"}),r&&h.jsx(eH,{className:"opacity-50"})]})})},cl=w.forwardRef((e,t)=>{const n=e.disabled||e.readOnly;return h.jsx("input",{type:"text",...e,ref:t,className:qe("bg-muted/40 h-11 rounded-md py-2.5 px-4 outline-none w-full disabled:cursor-not-allowed",n&&"bg-muted/50 text-primary/50",!n&&"focus:bg-muted focus:outline-none focus:ring-2 focus:ring-zinc-500 focus:border-transparent transition-all",e.className)})}),JAe=w.forwardRef((e,t)=>e.type==="password"?h.jsx(UW,{...e,ref:t}):"data-type"in e&&e["data-type"]==="textarea"?h.jsx(qW,{...e,ref:t}):h.jsx(cl,{...e,ref:t})),UW=w.forwardRef((e,t)=>{const[n,r]=w.useState(!1);function i(){r(s=>!s)}return h.jsxs("div",{className:"relative w-full",children:[h.jsx(cl,{...e,type:n?"text":"password",className:"w-full",ref:t}),h.jsx("div",{className:"absolute right-3 top-0 bottom-0 flex items-center",children:h.jsx(yt,{Icon:n?$Ee:Qq,onClick:i,variant:"ghost",className:"opacity-70"})})]})}),qW=w.forwardRef((e,t)=>h.jsx("textarea",{rows:3,...e,ref:t,className:qe("bg-muted/40 min-h-11 rounded-md py-2.5 px-4 focus:bg-muted outline-none focus:outline-none focus:ring-2 focus:ring-zinc-500 focus:border-transparent transition-all disabled:bg-muted/50 disabled:text-primary/50",e.className)})),cj=w.forwardRef((e,t)=>{const n=w.useRef(null),r=Goe();w.useImperativeHandle(t,()=>n.current);const i=zt(()=>{n!=null&&n.current&&(n.current.focus(),["Safari"].includes(r)?n.current.click():n.current.showPicker())});return h.jsxs("div",{className:"relative w-full",children:[h.jsx("div",{className:"absolute h-full right-3 top-0 bottom-0 flex items-center",children:h.jsx(yt,{Icon:Jq,onClick:i})}),h.jsx(cl,{...e,type:e.type??"date",ref:n,className:"w-full appearance-none"})]})}),$7e=w.forwardRef((e,t)=>{const[n,r]=w.useState(!!e.value);w.useEffect(()=>{r(!!e.value)},[e.value]);function i(s){var o;r(s.target.checked),(o=e.onChange)==null||o.call(e,s.target.checked)}return h.jsx("div",{className:"h-11 flex items-center",children:h.jsx("input",{...e,type:"checkbox",ref:t,className:"outline-none focus:outline-none focus:ring-2 focus:ring-zinc-500  transition-all disabled:opacity-70 scale-150 ml-1",checked:n,onChange:i,disabled:e.disabled})})}),VD={xs:{root:"h-5 w-8",thumb:"data-[state=checked]:left-[calc(100%-1rem)]"},sm:{root:"h-6 w-10",thumb:"data-[state=checked]:left-[calc(100%-1.25rem)]"},md:{root:"h-7 w-12",thumb:"data-[state=checked]:left-[calc(100%-1.5rem)]"}},HW=w.forwardRef(({type:e,required:t,...n},r)=>h.jsx(zSe,{className:vn("relative cursor-pointer rounded-full bg-muted border-2 border-transparent outline-none ring-1 dark:ring-primary/10 ring-primary/20 data-[state=checked]:ring-primary/60 data-[state=checked]:bg-primary/60 appearance-none transition-colors hover:bg-muted/80",VD[n.size??"md"].root,n.disabled&&"opacity-50 !cursor-not-allowed"),onCheckedChange:i=>{var s;console.log("setting",i),(s=n.onChange)==null||s.call(n,{target:{value:i}})},...n,checked:typeof n.checked<"u"?n.checked:typeof n.value<"u"?!!n.value:void 0,ref:r,children:h.jsx(VSe,{className:vn("absolute top-0 left-0 h-full aspect-square rounded-full bg-primary/30 data-[state=checked]:bg-background transition-[left,right] duration-100 border border-muted",VD[n.size??"md"].thumb)})})),WW=w.forwardRef(({children:e,options:t,...n},r)=>h.jsxs("div",{className:"flex w-full relative",children:[h.jsx("select",{...n,ref:r,className:qe("bg-muted/40 focus:bg-muted rounded-md py-2.5 px-4 outline-none focus:outline-none focus:ring-2 focus:ring-zinc-500 focus:border-transparent transition-all disabled:bg-muted/50 disabled:text-primary/50","appearance-none h-11 w-full",!n.multiple&&"border-r-8 border-r-transparent",n.className),children:t?h.jsxs(h.Fragment,{children:[!n.required&&h.jsx("option",{value:""}),t.map(i=>typeof i!="object"?{value:i,label:String(i)}:i).map(i=>h.jsx("option",{value:i.value,children:i.label},i.value))]}):e}),!n.multiple&&h.jsx(Yq,{className:"absolute right-3 top-0 bottom-0 h-full opacity-70 pointer-events-none",size:18})]})),YAe=(e,t)=>{switch(e){case"date":return cj;case"boolean":return WAe;case"textarea":return qW;default:return cl}};function GW({open:e=!1,children:t,onClose:n=()=>null,allowBackdropClose:r=!0,className:i,stickToTop:s}){const o=aS(()=>{r&&n()});return h.jsx(h.Fragment,{children:e&&h.jsx("div",{className:qe("w-full h-full fixed bottom-0 top-0 right-0 left-0 bg-background/60 flex justify-center backdrop-blur-sm z-10",s?"items-start":"items-center"),children:h.jsx("div",{className:qe("z-20 flex flex-col bg-background rounded-lg shadow-lg",i),ref:o,children:t})})})}const XAe=({schema:e,uiSchema:t={},anyOfValues:n,path:r,prefixPath:i,generateKey:s})=>{const[o,a]=Ss(),[c,u]=w.useState(e),[f,m]=w.useState(!1),{actions:p,readonly:y}=ct(),[v,{open:x,close:S}]=vm(!1),N=s!==void 0,_=typeof s=="string",[C,j]=w.useState(_?s:""),A=O$(!N),$=w.useRef(null),k="anyOf"in e;function R(F){s&&typeof s=="function"&&D({target:{value:s(F)}}),console.log("form change",F)}function D(F){const H=String(F.target.value);if(H.length>0&&!/^[a-zA-Z_][a-zA-Z0-9_ ]*$/.test(H)){console.log("no match",H);return}j(H.toLowerCase().replace(/ /g,"_").replace(/__+/g,"_"))}async function z(){var F,H,M,V;if((F=$.current)!=null&&F.validateForm()){m(!0);const T=(H=$.current)==null?void 0:H.formData(),[I,...P]=r,W=[...P,C].join(".");await p.add(I,W,T)?setTimeout(()=>{a(i+C,{replace:!0})},500):m(!1)}console.log("valid?",(M=$.current)==null?void 0:M.validateForm()),console.log("data",C,(V=$.current)==null?void 0:V.formData())}const L=k?e.anyOf.map(F=>{var T,I;const H=F.title,M=((T=n==null?void 0:n[H])==null?void 0:T.label)||H,V=(I=n==null?void 0:n[H])==null?void 0:I.icon;return{label:M,icon:V,onClick:()=>{u(F),x()}}}):[];return h.jsxs(h.Fragment,{children:[!y&&h.jsx("div",{className:"flex flex-row",children:k?h.jsx($r,{position:"top-start",items:L,itemsClassName:"gap-3",children:h.jsx(tt,{children:"Add new"})}):h.jsx(tt,{onClick:x,children:"Add new"})}),h.jsx(GW,{open:v,allowBackdropClose:!1,onClose:S,className:"min-w-96 w-6/12 mt-[30px] mb-[20px]",stickToTop:!0,children:h.jsxs("div",{className:"border border-muted rounded-lg flex flex-col overflow-y-scroll font-normal",style:{maxHeight:"calc(100dvh - 100px)"},children:[h.jsx("div",{className:"bg-muted py-2 px-4 text-primary/70 font-mono flex flex-row gap-2 items-center",children:[...r,C].join(".")}),h.jsxs("div",{className:"flex flex-row gap-10 sticky top-0 bg-background z-10 p-4 border-b border-muted",children:[h.jsxs("div",{className:"flex flex-row flex-grow items-center relative",children:[h.jsx(cl,{ref:A,className:"w-full",placeholder:"New unique key...",onChange:D,value:C,disabled:N}),N&&h.jsx("div",{className:"absolute h-full flex items-center z-10 right-3.5 top-0 bottom-0 font-mono font-sm opacity-50",children:"generated"})]}),h.jsxs("div",{className:"flex flex-row gap-2",children:[h.jsx(tt,{onClick:S,disabled:f,children:"Cancel"}),h.jsx(tt,{variant:"primary",onClick:z,disabled:f||C.length===0,children:"Create"})]})]}),h.jsx("div",{className:"flex flex-col p-4",children:h.jsx(Em,{ref:$,schema:kh(c,["title"]),uiSchema:t,onChange:R,className:"legacy hide-required-mark fieldset-alternative mute-root"})})]})})]})},UD=w.forwardRef(({tabs:e,title:t},n)=>{const[r,{open:i,close:s}]=vm(!1),[o,a]=w.useState(0),c=e[o];return w.useImperativeHandle(n,()=>({open:i,close:s,isOpen:r})),c?h.jsx(GW,{open:r,onClose:s,className:"min-w-96 w-9/12 mt-[80px] mb-[20px]",stickToTop:!0,children:h.jsxs("div",{className:"border border-primary rounded-lg flex flex-col overflow-scroll font-normal",style:{maxHeight:"calc(100dvh - 100px)"},children:[t&&h.jsxs("div",{className:"bg-primary py-2 px-4 text-background font-mono flex flex-row gap-2 items-center",children:[h.jsx(e2e,{size:20,className:"opacity-50"}),t]}),h.jsxs("div",{className:"flex flex-row justify-between sticky top-0 bg-background z-10 py-4 px-5",children:[h.jsx("div",{className:"flex flex-row gap-3",children:e.map((u,f)=>h.jsx("button",{onClick:()=>a(f),"data-active":f===o?1:void 0,className:"font-mono data-[active]:font-bold",children:u.title},f))}),h.jsx(yt,{Icon:L$,onClick:s})]}),h.jsx("div",{className:"",children:h.jsx(Xr,{json:c.json,expand:6,showSize:!0,showCopy:!0})})]})}):null});function ci({schema:e,uiSchema:t,config:n,prefix:r="/",options:i,path:s=[],properties:o}){var H,M,V;const[a,c]=w.useState(!1),{actions:u,readonly:f}=ct(),m=w.useRef(null),p=w.useRef(null),y=w.useRef(null),[v,x]=w.useState(!1);j$([["mod+s",T=>(T.preventDefault(),L(),!1)],["e",()=>{v||z()}],["Escape",()=>{v&&z()}]]);const S=w.useMemo(()=>o?Object.entries(o).filter(([,T])=>T.hide||T.extract).map(([T])=>T):[],[o]),N=zt(T=>{const I=window.location.href.split("/").slice(0,-1).join("/");T?window.location.replace(I):window.history.back()}),_=(((H=i==null?void 0:i.allowDelete)==null?void 0:H.call(i,n))??!0)&&!f,C=(((M=i==null?void 0:i.allowEdit)==null?void 0:M.call(i,n))??!0)&&!f,j=((V=i==null?void 0:i.showAlert)==null?void 0:V.call(i,n))??void 0;console.log("--setting",{schema:e,config:n,prefix:r,path:s,exclude:S});const[A,$,k]=zW(e,n,S);console.log({reducedSchema:A,reducedConfig:$,extracted:k});const R=Object.keys(k),D=R.find(T=>window.location.pathname.endsWith(T))??R[0],z=zt(()=>{C&&x(T=>!T)}),L=zt(async()=>{var T,I;if(!(!C||!v)&&(T=m.current)!=null&&T.validateForm()){c(!0);const P=(I=m.current)==null?void 0:I.formData(),[W,...B]=s;let q;console.log("save:data",{module:W,restOfPath:B},P),B.length>0?(console.log("-> patch",{module:W,path:B.join(".")},P),q=await u.patch(W,B.join("."),P)):(console.log("-> set",{module:W},P),q=await u.set(W,P,!0)),console.log("save:success",q),q?i!=null&&i.reloadOnSave&&(await u.reload(),c(!1)):c(!1)}}),F=zt(async()=>{if(!_)return;const[T,...I]=s;window.confirm(`Are you sure you want to delete ${s.join(".")}`)&&await u.remove(T,I.join("."))&&N(!0)});return n?h.jsxs(h.Fragment,{children:[h.jsx(Rn,{className:s.length>1?"pl-3":"",scrollable:!0,right:h.jsxs(h.Fragment,{children:[h.jsx($r,{items:[{label:"Inspect local schema",onClick:()=>{var T;(T=p.current)==null||T.open()}},{label:"Inspect schema",onClick:()=>{var T;(T=y.current)==null||T.open()}},_&&{label:"Delete",destructive:!0,onClick:F}],position:"bottom-end",children:h.jsx(yt,{Icon:xm})}),h.jsx(tt,{onClick:z,disabled:!C,children:v?"Cancel":"Edit"}),v&&h.jsx(tt,{variant:"primary",onClick:L,disabled:a||!C,children:a?"Save...":"Save"})]}),children:h.jsx(qAe,{path:s})}),h.jsxs(nr,{children:[typeof j<"u"&&h.jsx(Ys.Warning,{message:j}),h.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:h.jsx(Em,{ref:m,readonly:!v,schema:kh(A,["title"]),formData:$,uiSchema:t,onChange:console.log,className:"legacy hide-required-mark fieldset-alternative mute-root"})}),R.length>0&&h.jsxs("div",{className:"flex flex-col max-w-full",children:[h.jsx(oH,{items:R.map(T=>{var I;return{as:rS,label:Li(T),href:`${r}/${T}`.replace(/\/+/g,"/"),active:D===T,badge:Object.keys(((I=k[T])==null?void 0:I.config)??{}).length}})}),h.jsx("div",{className:"flex flex-grow flex-col gap-3 p-3",children:h.jsx(at,{path:"/:prop?",component:({params:T})=>{var X,Q,ie,ae;const[,I]=Ss(),P=T.prop??D,W=((X=k[P])==null?void 0:X.config)??{},B=(Q=o==null?void 0:o[P])!=null&&Q.tableValues?(ie=o==null?void 0:o[P])==null?void 0:ie.tableValues(W):Object.entries(W).map(([fe,ce])=>{if(!ce||typeof ce!="object")return{key:fe,value:ce};const he=Object.keys(ce)[0],ve=ce[he],Ae=kh(ce,[he]);return{key:fe,[he]:ve,value:Ae}}),q=(ae=o==null?void 0:o[P])==null?void 0:ae.new;return P?h.jsxs(h.Fragment,{children:[q&&h.jsx(XAe,{schema:q.schema,uiSchema:q.uiSchema,anyOfValues:q.anyOfValues,prefixPath:`/${P}/`,path:[...s,P],generateKey:q.generateKey}),h.jsx(CS,{data:B,onClickRow:fe=>{const ce=Object.values(fe)[0];I(`/${P}/${ce}`)}})]}):h.jsx("div",{className:"h-80 flex justify-center align-center",children:h.jsx(Jn,{title:"No sub-setting selected",description:"Select one from the tab bar"})})}})})]})]},s.join("-")),h.jsx(UD,{ref:p,title:s.join("."),tabs:[{title:"Schema",json:A},{title:"Config",json:$}]}),h.jsx(UD,{ref:y,title:s.join("."),tabs:[{title:"Schema",json:e},{title:"Config",json:n}]})]}):h.jsx(Jn,{title:"Not found",description:`Configuration at path ${s.join(".")} doesn't exist.`,primary:{children:"Go back",onClick:()=>N()}})}const uj={config:{fillable:{"ui:options":{wrap:!0},anyOf:[{},{"ui:widget":"checkboxes"}]},hidden:{"ui:options":{wrap:!0},anyOf:[{},{"ui:widget":"checkboxes"}]},schema:{"ui:field":"JsonField"},ui_schema:{"ui:field":"JsonField"}}},KAe=_S.filter(e=>e.type!=="primary").reduce((e,t)=>(e[t.type]={label:t.label,icon:t.icon},e),{}),QAe={"1:1":{label:"One-to-One"},"n:1":{label:"Many-to-One"},"m:n":{label:"Many-to-Many"},poly:{label:"Polymorphic"}},ZAe=({schema:e,config:t})=>{const{app:n,readonly:r}=ct(),i=n.getAbsolutePath("settings"),s=Object.keys(t.entities??{});function o(a,c="entity"){s.length!==0&&(a.properties&&c in a.properties&&(a.properties[c].enum=s),"anyOf"in a&&a.anyOf.forEach(u=>o(u,c)))}return h.jsx(at,{path:"/data",nest:!0,children:h.jsxs(Xa,{children:[h.jsx(at,{path:"/entities/:entity/fields/:field",component:({params:{entity:a,field:c}})=>{var p,y,v,x,S;const u=(v=(y=(p=t.entities)==null?void 0:p[a])==null?void 0:y.fields)==null?void 0:v[c],f=(S=(x=e.properties.entities.additionalProperties)==null?void 0:x.properties)==null?void 0:S.fields.additionalProperties,m=f.anyOf.find(N=>N.properties.type.const===(u==null?void 0:u.type));return h.jsx(ci,{schema:m??f,config:u,prefix:`${i}/data/entities/${a}/fields/${c}`,path:["data","entities",a,"fields",c],options:{showAlert:N=>{if((N==null?void 0:N.type)==="primary"&&!r)return"Modifying the primary field may result in strange behaviors."}},uiSchema:uj})},nest:!0}),h.jsx(at,{path:"/entities/:entity",component:({params:{entity:a}})=>{var m;const c=e.properties.entities.additionalProperties,u=G1(c);u.properties.type.readOnly=!0;const f={anyOf:u.properties.fields.additionalProperties.anyOf.filter(p=>p.properties.type.const!=="primary")};return h.jsx(ci,{schema:u,config:(m=t.entities)==null?void 0:m[a],options:{showAlert:p=>{if(p.type==="system"&&!r)return"Modifying the system entities may result in strange behaviors."}},properties:{fields:{extract:!0,tableValues:p=>os(p,(y,v,x)=>{var S;y.push({property:x,type:v.type,required:(S=v.config)!=null&&S.required?"Yes":"No"})},[]),new:{schema:f,uiSchema:uj,anyOfValues:KAe}}},path:["data","entities",a],prefix:`${i}/data/entities/${a}`})},nest:!0}),h.jsx(at,{path:"/indices/:index",component:({params:{index:a}})=>{var u;const c=e.properties.indices.additionalProperties;return s.length>0&&o(c,"entity"),h.jsx(ci,{schema:e.properties.indices.additionalProperties,config:(u=t.indices)==null?void 0:u[a],path:["data","indices",a],prefix:`${i}/data/indices/${a}`})},nest:!0}),h.jsx(at,{path:"/relations/:relation",component:({params:{relation:a}})=>{var m;const c=(m=t.relations)==null?void 0:m[a],f=e.properties.relations.additionalProperties.anyOf.find(p=>p.properties.type.const===(c==null?void 0:c.type));return s.length>0&&(o(f,"source"),o(f,"target")),h.jsx(ci,{schema:f,config:c,path:["data","relations",a],prefix:`${i}/data/relations/${a}`})},nest:!0}),h.jsx(at,{path:"/",component:()=>{const a=e.properties.indices.additionalProperties,c=e.properties.relations.additionalProperties;return o(a,"entity"),o(c,"source"),o(c,"target"),h.jsx(ci,{schema:e,config:t,properties:{entities:{extract:!0,tableValues:u=>os(u,(f,m,p)=>{f.push({name:p,type:m.type,fields:Object.keys(m.fields??{}).length})},[]),new:{schema:e.properties.entities.additionalProperties,uiSchema:{fields:{"ui:widget":"hidden"},type:{"ui:widget":"hidden"}}}},relations:{extract:!0,new:{schema:e.properties.relations.additionalProperties,generateKey:u=>{var m,p,y,v;const f=[u.type.replace(":",""),u.source,u.target,(m=u.config)==null?void 0:m.mappedBy,(p=u.config)==null?void 0:p.inversedBy,(y=u.config)==null?void 0:y.connectionTable,(v=u.config)==null?void 0:v.connectionTableMappedName].filter(Boolean);return[...new Set(f)].join("_")},anyOfValues:QAe},tableValues:u=>os(u,(f,m,p)=>{f.push({name:p,type:m.type,source:m.source,target:m.target})},[])},indices:{extract:!0,tableValues:u=>os(u,(f,m,p)=>{f.push({name:p,entity:m.entity,fields:m.fields.join(", "),unique:m.unique?"Yes":"No"})},[]),new:{schema:a,uiSchema:{fields:{"ui:options":{orderable:!1}}},generateKey:u=>["idx",u.entity,u.unique&&"unique",...u.fields.filter(Boolean)].filter(Boolean).join("_")}}},prefix:`${i}/data`,path:["data"]})},nest:!0})]})})},jS=tU,eTe=Pt(Object.values(jS)),tTe=He({name:ld,new:pt({const:!0}).optional(),field:eTe}),nTe=He({fields:mn(tTe)}),rTe=Object.keys(jS);rTe[0];const g4=["label","description","required","fillable","hidden","virtual"];function iTe(e){var t;return Me(Fi((t=jS[e])==null?void 0:t.properties.config.properties,g4))}const JW=w.forwardRef(function({fields:t,sortable:n,additionalFieldTypes:r,routePattern:i,isNew:s,readonly:o,...a},c){const u=Object.entries(t).map(([z,L])=>({name:z,field:L})),{control:f,formState:{isValid:m,errors:p},getValues:y,watch:v,register:x,setValue:S,setError:N,reset:_}=Yc({mode:"all",resolver:Xc(nTe),defaultValues:{fields:u}}),{fields:C,append:j,remove:A,move:$}=pNe({control:f,name:"fields"});function k(z){return Object.fromEntries(z.fields.map(L=>[L.name,Fg(L.field)]))}w.useEffect(()=>{a!=null&&a.onChange&&v(z=>{var L;(L=a==null?void 0:a.onChange)==null||L.call(a,k(z))})},[]),w.useImperativeHandle(c,()=>({reset:_,getValues:()=>y(),getData:()=>k(y()),isValid:()=>m,getErrors:()=>p}));function R(z){var L;j({name:"",new:!0,field:{type:z,config:(L=jS[z])==null?void 0:L.properties.config.template()}})}const D={watch:v,register:x,setValue:S,getValues:y,control:f,setError:N};return h.jsx(h.Fragment,{children:h.jsx("div",{className:"flex flex-col gap-6",children:h.jsx("div",{className:"flex flex-col gap-3",children:h.jsxs("div",{className:"flex flex-col gap-4",children:[n?h.jsx(BAe,{data:C,onReordered:$,extractId:z=>z.id,disableIndices:[0],renderItem:({dnd:z,...L},F)=>h.jsx(oTe,{readonly:o,field:L,index:F,form:D,errors:p,remove:A,dnd:z,routePattern:i,primary:{defaultFormat:L.defaultPrimaryFormat,editable:s}},L.id)},C.length):h.jsx("div",{children:C.map((z,L)=>h.jsx(YW,{readonly:o,field:z,index:L,form:D,errors:p,remove:A,routePattern:i,primary:{defaultFormat:a.defaultPrimaryFormat,editable:s}},z.id))}),h.jsx(iS,{children:h.jsx(NS,{className:"flex flex-col w-full",target:({toggle:z})=>h.jsx(sTe,{additionalFieldTypes:r,onSelected:z,onSelect:L=>{R(L)}}),children:h.jsx(tt,{className:"justify-center",children:"Add Field"})})})]})})})})}),sTe=({onSelect:e,additionalFieldTypes:t=[],onSelected:n})=>{const r=_S.filter(i=>i.addable!==!1);return t&&r.push(...t),h.jsx("div",{className:"flex flex-row gap-2 justify-center flex-wrap",children:r.map(i=>h.jsx(tt,{IconLeft:i.icon,variant:"ghost",onClick:()=>{var s;i.addable!==!1?e(i.type):(s=i.onClick)==null||s.call(i),n==null||n()},children:i.label},i.type))})},oTe=w.memo(YW,(e,t)=>e.field.id!==t.field.id);function YW({field:e,index:t,form:{watch:n,register:r,setValue:i,getValues:s,control:o,setError:a},remove:c,errors:u,dnd:f,routePattern:m,primary:p,readonly:y}){var L,F,H,M,V;const v=`fields.${t}.field`,x=e.field.type,S=n(`fields.${t}.name`),{active:N,toggle:_}=k$(m??"",S),C=_S.find(T=>T.type===x);kh(e.field.config,g4);const j=C.disabled||[],A=C.hidden||[],$=t===0,k=!!((L=u==null?void 0:u.fields)!=null&&L[t]),R=x==="primary";function D(T){return()=>{(S.length===0||window.confirm(`Sure to delete "${S}"?`))&&(c(T),_())}}const z=f?{...f.provided.draggableProps,ref:f.provided.innerRef}:{};return h.jsxs("div",{className:qe("flex flex-col border border-muted rounded bg-background mb-2",N&&"mb-6",k&&"border-red-500 "),...z,children:[h.jsxs("div",{className:"flex flex-row gap-2 px-2 py-2",children:[f?h.jsx("div",{className:"flex items-center",...f.provided.dragHandleProps,children:h.jsx(yt,{Icon:FEe,className:"mt-1",disabled:$})}):null,h.jsxs("div",{className:"flex flex-row flex-grow gap-4 items-center md:mr-6",children:[h.jsx(ao,{label:C.label,children:h.jsx("div",{className:"flex flex-row items-center p-2 bg-primary/5 rounded",children:h.jsx(C.icon,{className:"size-5"})})}),e.new?h.jsx(jn,{error:!!((H=(F=u==null?void 0:u.fields)==null?void 0:F[t])!=null&&H.name.message),placeholder:"Enter a property name...",classNames:{root:"w-full h-full",wrapper:"font-mono h-full",input:"pt-px !h-full"},...r(`fields.${t}.name`),disabled:!e.new}):h.jsxs("div",{className:"font-mono flex-grow flex flex-row gap-3",children:[h.jsx("span",{children:S}),((M=e.field.config)==null?void 0:M.label)&&h.jsx("span",{className:"opacity-50",children:(V=e.field.config)==null?void 0:V.label})]}),h.jsx("div",{className:"flex-col gap-1 hidden md:flex",children:R?h.jsx(h.Fragment,{children:h.jsx(Da,{data:["integer","uuid"],defaultValue:p==null?void 0:p.defaultFormat,disabled:!(p!=null&&p.editable),placeholder:"Select format",name:`${v}.config.format`,allowDeselect:!1,control:o,size:"xs",className:"w-22"})}):h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-xs text-primary/50 leading-none",children:"Required"}),h.jsx(E_,{size:"sm",disabled:y,name:`${v}.config.required`,control:o})]})})]}),h.jsx("div",{className:"flex items-end",children:h.jsx("div",{className:"flex flex-row gap-4",children:h.jsx(yt,{size:"lg",Icon:xm,disabled:R,iconProps:{strokeWidth:1.5},onClick:()=>_(),variant:N?"primary":"ghost"})})})]}),N&&h.jsx("div",{className:"flex flex-col border-t border-t-muted px-3 py-2 bg-lightest/50",children:h.jsxs(En,{defaultValue:"general",children:[h.jsxs(En.List,{className:"flex flex-row",children:[h.jsx(En.Tab,{value:"general",children:"General"}),h.jsx(En.Tab,{value:"specific",children:Gy(x)}),h.jsx(En.Tab,{value:"visibility",disabled:!0,children:"Visiblity"}),h.jsx("div",{className:"flex flex-grow"}),h.jsx(En.Tab,{value:"code",className:"!self-end",children:"Code"})]}),h.jsx(En.Panel,{value:"general",children:h.jsxs("div",{className:"flex flex-col gap-2 pt-3 pb-1",children:[h.jsx("div",{className:"flex flex-row",children:h.jsx(E_,{label:"Required",disabled:y,name:`${v}.config.required`,control:o})}),h.jsx(jn,{label:"Label",placeholder:"Label",disabled:y,...r(`${v}.config.label`)}),h.jsx(qy,{label:"Description",placeholder:"Description",disabled:y,...r(`${v}.config.description`)}),!A.includes("virtual")&&h.jsx(E_,{label:"Virtual",name:`${v}.config.virtual`,control:o,disabled:j.includes("virtual")||y})]},`${v}_${x}`)}),h.jsx(En.Panel,{value:"specific",children:h.jsx("div",{className:"flex flex-col gap-2 pt-3 pb-1",children:h.jsx(wm,{fallback:`Error rendering JSON Schema for ${x}`,children:h.jsx(aTe,{field:e,onChange:T=>{i(`${v}.config`,{...s([`fields.${t}.config`])[0],...T})},readonly:y})})})}),h.jsx(En.Panel,{value:"code",children:(()=>{const{id:T,...I}=e;return h.jsx(Xr,{json:I,expand:4})})()}),!y&&h.jsx("div",{className:"flex flex-row justify-end",children:h.jsx(tt,{IconLeft:D$,onClick:D(t),size:"small",variant:"subtlered",children:"Delete"})})]})})]},e.id)}const aTe=({field:e,onChange:t,readonly:n})=>{var s;const r=e.field.type,i=kh(e.field.config,g4);return h.jsx(Em,{schema:(s=iTe(r))==null?void 0:s.toJSON(),formData:i,uiSchema:uj.config,className:"legacy hide-required-mark fieldset-alternative mute-root",onChange:t,readonly:n},r)},lTe=G$;function cTe(){var C,j;const{nextStep:e,stepBack:t,state:n,setState:r}=Td(),{config:i}=qi(),s=(j=(C=n.entities)==null?void 0:C.create)==null?void 0:j[0],o={id:{type:"primary",name:"id"}},a=w.useRef(null),c=Fg(iye(s,{fields:o,config:{sort_field:"id",sort_dir:"asc"}})),{control:u,formState:{isValid:f,errors:m},getValues:p,handleSubmit:y,watch:v,setValue:x}=Yc({mode:"onTouched",resolver:Xc(lTe),defaultValues:c}),S=v(),N=zt(A=>{x("fields",A)});function _(){var A,$;f&&((A=a.current)!=null&&A.isValid())?(r(k=>{var D,z;return((z=(D=k.entities)==null?void 0:D.create)==null?void 0:z[0])?{...k,entities:{create:[p()]}}:k}),console.log("valid"),e("create")()):console.warn("not valid",($=a.current)==null?void 0:$.getErrors())}return h.jsxs("form",{onSubmit:y(_),children:[h.jsx(jd,{children:h.jsxs("div",{className:"flex flex-col gap-6",children:[h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsxs("p",{children:["Add fields to ",h.jsx("strong",{children:s.name}),":"]}),h.jsx("div",{className:"flex flex-col gap-1",children:h.jsx(JW,{ref:a,fields:c.fields,onChange:N,defaultPrimaryFormat:i==null?void 0:i.default_primary_format,isNew:!0})})]}),h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsx("p",{children:"How should it be sorted by default?"}),h.jsxs("div",{className:"flex flex-row gap-2",children:[h.jsx(Da,{label:"Field",data:Object.keys(S.fields??{}).filter(A=>A.length>0),placeholder:"Select field",name:"config.sort_field",allowDeselect:!1,control:u}),h.jsx(Da,{label:"Direction",data:["asc","desc"],defaultValue:"asc",placeholder:"Select direction",name:"config.sort_dir",allowDeselect:!1,control:u})]})]}),h.jsx("div",{children:Object.entries(m).map(([A,$])=>h.jsxs("p",{children:[A,": ",$.message]},A))})]})}),h.jsx(Ad,{next:{disabled:!f,type:"submit"},prev:{onClick:t},debug:{state:n,values:S}})]})}function mw({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i,onChange:s,...o}){var m;const{field:{value:a,onChange:c,...u},fieldState:f}=Sm({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i});return h.jsx(v1,{value:a,onChange:p=>{c(p),s==null||s(p)},error:(m=f.error)==null?void 0:m.message,...u,...o})}const dj=[{type:Gr.ManyToOne,label:"Many to One",component:fTe},{type:Gr.OneToOne,label:"One to One",component:hTe},{type:Gr.ManyToMany,label:"Many to Many",component:mTe},{type:Gr.Polymorphic,label:"Polymorphic",component:pTe}],uTe=He({type:de({enum:dj.map(e=>e.type)}),source:ld,target:ld,config:Me({})});function dTe(){var N,_,C;const{config:e}=ct(),t=e.data.entities,n=Object.keys(t??{}).length,{nextStep:r,stepBack:i,state:s,path:o,setState:a}=Td(),{register:c,handleSubmit:u,formState:{isValid:f},setValue:m,watch:p,control:y}=Yc({resolver:Xc(uTe),defaultValues:((_=(N=s.relations)==null?void 0:N.create)==null?void 0:_[0])??{}}),v=p();function x(){f&&(a(j=>({...j,relations:{create:[v]}})),console.log("data",v),r("create")())}const S=zt(()=>{const{source:j,target:A}=v;j&&A?(m("source",A),m("target",j)):j?(m("target",j),m("source",null)):(m("source",A),m("target",null))});return h.jsxs(h.Fragment,{children:[n<2&&h.jsx("div",{className:"px-5 py-4 bg-red-100 text-red-900",children:"Not enough entities to create a relation."}),h.jsxs("form",{onSubmit:u(x),children:[h.jsxs(jd,{children:[h.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[h.jsx(Da,{control:y,name:"source",label:"Source",allowDeselect:!1,data:Object.entries(t??{}).map(([j,A])=>{var $;return{value:j,label:(($=A.config)==null?void 0:$.name)??j,disabled:v.target===j}})}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx(Da,{control:y,name:"type",onChange:()=>m("config",{}),label:"Relation Type",data:dj.map(j=>({value:j.type,label:j.label})),allowDeselect:!1}),v.type&&h.jsx("div",{className:"flex justify-center mt-1",children:h.jsx(tt,{size:"small",IconLeft:nH,onClick:S,children:"Flip entities"})})]}),h.jsx(Da,{control:y,allowDeselect:!1,name:"target",label:"Target",data:Object.entries(t??{}).map(([j,A])=>{var $;return{value:j,label:(($=A.config)==null?void 0:$.name)??j,disabled:v.source===j}})})]}),h.jsx("div",{children:v.type&&((C=dj.find(j=>j.type===v.type))==null?void 0:C.component({register:c,control:y,data:v}))})]}),h.jsx(Ad,{next:{type:"submit",disabled:!f,onClick:x},prev:{onClick:i},debug:{state:s,path:o,data:v}})]})]})}const en=({children:e})=>h.jsx("b",{className:"font-mono select-text",children:e}),AS=({children:e})=>h.jsx("div",{className:"bg-primary/5 py-4 px-5 rounded-lg mt-10",children:e});function fTe({register:e,control:t,data:{source:n,target:r,config:i}}){return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsx(jn,{label:"Target mapping",...e("config.mappedBy"),placeholder:r}),h.jsx(mw,{label:"Cardinality",name:"config.sourceCardinality",control:t,placeholder:"n"}),h.jsx(mw,{label:"WITH limit",name:"config.with_limit",control:t,placeholder:String($c.DEFAULTS.with_limit)})]}),h.jsx("div",{}),h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsx(jn,{label:"Source mapping",...e("config.inversedBy"),placeholder:n}),h.jsx(Vc,{label:"Required",...e("config.required")})]})]}),n&&r&&i&&h.jsx(AS,{children:h.jsxs(h.Fragment,{children:[h.jsxs("pre",{className:"mb-2 opacity-70 flex flex-row items-center gap-2",children:[h.jsx(hd,{className:"size-4"}),n,".",i.mappedBy||r,"_id ",""," ",r]}),h.jsxs("p",{children:["Many ",h.jsx(en,{children:n})," will each have one reference to ",h.jsx(en,{children:r}),"."]}),h.jsxs("p",{children:["A property ",h.jsxs(en,{children:[i.mappedBy||r,"_id"]})," will be added to"," ",h.jsx(en,{children:n})," (which references ",h.jsx(en,{children:r}),")."]}),h.jsxs("p",{children:["When creating ",h.jsx(en,{children:n}),", a reference to ",h.jsx(en,{children:r})," is"," ",h.jsx("i",{children:i.required?"required":"optional"}),"."]}),i.sourceCardinality?h.jsxs("p",{children:[h.jsx(en,{children:r})," should not have more than"," ",h.jsx(en,{children:i.sourceCardinality})," referencing entr",i.sourceCardinality===1?"y":"ies"," to ",h.jsx(en,{children:n}),"."]}):null]})})]})}function hTe({register:e,control:t,data:{source:n,target:r,config:{mappedBy:i,required:s}}}){return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsx(jn,{label:"Target mapping",...e("config.mappedBy"),placeholder:r}),h.jsx(Vc,{label:"Required",...e("config.required")})]}),h.jsx("div",{}),h.jsx("div",{className:"flex flex-col gap-4",children:h.jsx(jn,{label:"Source mapping",...e("config.inversedBy"),placeholder:n})})]}),n&&r&&h.jsx(AS,{children:h.jsxs(h.Fragment,{children:[h.jsxs("pre",{className:"mb-2 opacity-70 flex flex-row items-center gap-2",children:[h.jsx(hd,{className:"size-4"}),n,".",i||r,"_id ",""," ",r]}),h.jsxs("p",{children:["A single entry of ",h.jsx(en,{children:n})," will have a reference to"," ",h.jsx(en,{children:r}),"."]}),h.jsxs("p",{children:["A property ",h.jsxs(en,{children:[i||r,"_id"]})," will be added to"," ",h.jsx(en,{children:n})," (which references ",h.jsx(en,{children:r}),")."]}),h.jsxs("p",{children:["When creating ",h.jsx(en,{children:n}),", a reference to ",h.jsx(en,{children:r})," is"," ",h.jsx("i",{children:s?"required":"optional"}),"."]})]})})]})}function mTe({register:e,control:t,data:{source:n,target:r,config:i}}){const s=i.connectionTable?i.connectionTable:n&&r?`${n}_${r}`:"";return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[h.jsx("div",{className:"flex flex-col gap-4"}),h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsx(jn,{label:"Connection Table",...e("config.connectionTable"),placeholder:s}),h.jsx(jn,{label:"Connection Mapping",...e("config.connectionTableMappedName"),placeholder:s})]}),h.jsx("div",{className:"flex flex-col gap-4"})]}),n&&r&&h.jsx(AS,{children:h.jsxs(h.Fragment,{children:[h.jsxs("pre",{className:"mb-2 opacity-70 flex flex-row items-center gap-2",children:[h.jsx(hd,{className:"size-4"}),n," ",""," ",s," ",""," ",r]}),h.jsxs("p",{children:["Many ",h.jsx(en,{children:n})," will have many ",h.jsx(en,{children:r}),"."]}),h.jsxs("p",{children:["A connection table ",h.jsx(en,{children:s})," will be created to store the relations."]})]})})]})}function pTe({register:e,control:t,data:{type:n,source:r,target:i,config:s}}){return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[h.jsx("div",{className:"flex flex-col gap-4",children:h.jsx(jn,{label:"Target mapping",...e("config.mappedBy"),placeholder:i})}),h.jsx("div",{}),h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsx(jn,{label:"Source mapping",...e("config.inversedBy"),placeholder:r}),h.jsx(mw,{label:"Cardinality",name:"config.targetCardinality",control:t,placeholder:"n"})]})]},n),r&&i&&h.jsx(AS,{children:h.jsxs(h.Fragment,{children:[h.jsxs("pre",{className:"mb-2 opacity-70 flex flex-row items-center gap-2",children:[h.jsx(hd,{className:"size-4"}),r," ",""," ",i]}),h.jsxs("p",{children:[h.jsx(en,{children:r})," will have many ",h.jsx(en,{children:i}),"."]}),h.jsxs("p",{children:[h.jsx(en,{children:i})," will get additional properties ",h.jsx(en,{children:"reference"})," and"," ",h.jsx(en,{children:"entity_id"})," to make the (polymorphic) reference."]}),s.targetCardinality?h.jsxs("p",{children:[h.jsx(en,{children:r})," should not have more than"," ",h.jsx(en,{children:s.targetCardinality})," reference",s.targetCardinality===1?"":"s"," to ",h.jsx(en,{children:i}),"."]}):null]})})]})}function y4({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i,onChange:s,...o}){const{field:{value:a,onChange:c,...u}}=Sm({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i});return h.jsx(Mo,{value:a,onChange:f=>{c(f),s==null||s(f)},...u,...o})}function gTe({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i,onChange:s,...o}){var m;const{field:{value:a,onChange:c,...u},fieldState:f}=Sm({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i});return h.jsx(x1,{value:a,onChange:p=>{c(p),s==null||s(p)},error:(m=f.error)==null?void 0:m.message,...u,...o})}y4.Group=gTe;y4.Item=Mo;const qD=Me({entity:ld,cardinality_type:de({enum:["single","multiple"],default:"multiple"}),cardinality:Ct({minimum:1}).optional(),name:ld});function yTe(){var j,A,$,k;const{stepBack:e,setState:t,state:n,path:r,nextStep:i}=Td(),{register:s,handleSubmit:o,formState:{isValid:a,errors:c},watch:u,control:f}=Yc({mode:"onChange",resolver:Xc(qD),defaultValues:qD.template(n.initial??{})}),[m,p]=w.useState(!1),{config:y}=ct(),v=y.media.enabled??!1,x=y.media.entity_name??"media",S=Xt(y.data.entities??{},(R,D)=>D!==x?R:void 0),N=u(),_=Object.keys(((A=(j=y.data.entities)==null?void 0:j[N.entity])==null?void 0:A.fields)??{});w.useEffect(()=>{p(_.includes(N.name))},[_,N.name]);async function C(){if(a&&!m){const{field:R,relation:D}=bTe(x,N);t(z=>({...z,fields:{create:[R]},relations:{create:[D]}})),i("create")()}}return h.jsxs(h.Fragment,{children:[!v&&h.jsx("div",{className:"px-5 py-4 bg-red-100 text-red-900",children:"Media is not enabled in the configuration. Please enable it to use this template."}),h.jsxs("form",{onSubmit:o(C),children:[h.jsx(jd,{children:h.jsxs("div",{className:"flex flex-col gap-6",children:[h.jsx(Da,{name:"entity",allowDeselect:!1,control:f,size:"md",label:"Choose which entity to add media to",required:!0,data:Object.entries(S).map(([R,D])=>{var z;return{value:R,label:((z=D.config)==null?void 0:z.name)??R}})}),h.jsx(y4.Group,{name:"cardinality_type",control:f,label:"How many items can be attached?",size:"md",children:h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx(Mo,{label:"Multiple items",value:"multiple"}),h.jsx(Mo,{label:"Single item",value:"single"})]})}),N.cardinality_type==="multiple"&&h.jsx(mw,{name:"cardinality",control:f,size:"md",label:"How many exactly?",placeholder:"n",description:"Leave empty for unlimited",inputWrapperOrder:["label","input","description","error"]}),h.jsx(jn,{size:"md",label:"Set a name for the property",required:!0,description:`A virtual property will be added to ${N.entity?N.entity:"the entity"}.`,...s("name"),error:($=c.name)!=null&&$.message?(k=c.name)==null?void 0:k.message:m?`Property "${N.name}" already exists on entity ${N.entity}`:void 0})]})}),h.jsx(Ad,{next:{type:"submit",disabled:!a||!v||m},prev:{onClick:e},debug:{state:n,path:r,data:N}})]})]})}function bTe(e,t){const n={name:t.name,entity:t.entity,field:{type:"media",config:{required:!1,fillable:["update"],hidden:!1,mime_types:[],virtual:!0,entity:t.entity}}},r={type:"poly",source:t.entity,target:e,config:{mappedBy:t.name,targetCardinality:t.cardinality_type==="single"?1:void 0}};return t.cardinality_type==="multiple"?t.cardinality&&t.cardinality>1&&(n.field.config.max_items=t.cardinality,r.config.targetCardinality=t.cardinality):(n.field.config.max_items=1,r.config.targetCardinality=1),{field:n,relation:r}}const vTe={id:"template-media",title:"Attach Media",description:"Attach media to an entity",Icon:f0},XW=[[yTe,vTe]];function xTe(){const{nextStep:e,stepBack:t,state:n,path:r,setState:i}=Td(),s=n.action??null;function o(a){if(s===a){e(a)();return}i({action:a})}return h.jsxs(h.Fragment,{children:[h.jsxs(jd,{children:[h.jsx("p",{children:"Choose what type to add."}),h.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[h.jsx(L_,{Icon:mEe,title:"Entity",description:"Create a new entity with fields",onClick:()=>o("entity"),selected:s==="entity"}),h.jsx(L_,{Icon:I$,title:"Relation",description:"Create a new relation between entities",onClick:()=>o("relation"),selected:s==="relation"})]}),h.jsxs("div",{className:"flex flex-col gap-2 mt-3",children:[h.jsx("h3",{className:"font-bold",children:"Quick templates"}),h.jsx("div",{className:"grid grid-cols-2 gap-3",children:XW.map(([,a])=>h.jsx(L_,{compact:!0,Icon:f0,title:a.title,description:a.description,onClick:()=>o(a.id),selected:s===a.id},a.id))})]})]}),h.jsx(Ad,{next:{onClick:s&&e(s),disabled:!s},prev:{onClick:t},prevLabel:"Cancel",debug:{state:n,path:r}})]})}const L_=({Icon:e,title:t,description:n,onClick:r,selected:i,compact:s=!1,disabled:o=!1})=>h.jsxs("div",{onClick:o!==!0?r:void 0,className:qe("flex gap-3 border border-primary/10 rounded cursor-pointer",s?"flex-row p-4 items-center":"flex-col p-5",i?"bg-primary/10 border-primary/50":"hover:bg-primary/5",o&&"opacity-50"),children:[h.jsx(e,{className:"size-10"}),h.jsxs("div",{className:"flex flex-col leading-tight",children:[h.jsx("p",{className:"text-lg font-bold",children:t}),h.jsx("p",{children:n})]})]});function b4({context:e,id:t,innerProps:{initialPath:n=[],initialState:r}}){const[i,s]=w.useState(n);function o(){e.closeModal(t)}return h.jsxs(hH,{path:i,lastBack:o,initialPath:n,initialState:r,children:[h.jsxs(Ou,{id:"select",children:[h.jsx(Cu,{path:["Create New"],onClose:o}),h.jsx(xTe,{})]}),h.jsxs(Ou,{id:"entity",path:["action"],children:[h.jsx(Cu,{path:["Create New","Entity"],onClose:o}),h.jsx(SNe,{})]}),h.jsxs(Ou,{id:"entity-fields",path:["action","entity"],children:[h.jsx(Cu,{path:["Create New","Entity","Fields"],onClose:o}),h.jsx(cTe,{})]}),h.jsxs(Ou,{id:"relation",path:["action"],children:[h.jsx(Cu,{path:["Create New","Relation"],onClose:o}),h.jsx(dTe,{})]}),h.jsxs(Ou,{id:"create",path:["action"],children:[h.jsx(Cu,{path:["Create New","Creation"],onClose:o}),h.jsx(Y2e,{})]}),XW.map(([a,c])=>h.jsxs(Ou,{id:c.id,path:["action"],children:[h.jsx(Cu,{path:["Create New","Template",c.title],onClose:o}),h.jsx(a,{})]},c.id))]})}b4.defaultTitle=void 0;b4.modalProps={withCloseButton:!1,size:"xl",padding:0};function v4({innerProps:e}){const{data:t,...n}=e,r=Xt(t,(o,a)=>typeof o=="object"&&"label"in o?o:{label:h.jsx("span",{className:"font-mono",children:a}),value:o,expand:10,showCopy:!0,...n}),i=Object.keys(r).length;function s({value:o,label:a,className:c,...u}){return h.jsx(Xr,{json:o,className:vn("text-sm",c),...u})}return h.jsx("div",{className:"bg-background",children:i>1?h.jsxs(En,{defaultValue:Object.keys(r)[0],children:[h.jsx("div",{className:"sticky top-0 bg-background z-10",children:h.jsx(En.List,{children:Object.entries(r).map(([o,a])=>h.jsx(En.Tab,{value:o,children:a.label},o))})}),Object.entries(r).map(([o,a])=>h.jsx(En.Panel,{value:o,children:s(a)},o))]}):s({...r[Object.keys(r)[0]],title:r[Object.keys(r)[0]].label})})}v4.defaultTitle=!1;v4.modalProps={withCloseButton:!1,size:"lg",classNames:{body:"!p-0"}};function x4({context:e,id:t,innerProps:{schema:n,uiSchema:r,onSubmit:i,autoCloseAfterSubmit:s}}){const[o,a]=w.useState(!1),c=w.useRef(null),[u,f]=w.useState(!1),m=w.useRef(!1),[p,y]=w.useState();function v(N,_){const C=_();console.log("Data changed",N,C),a(C)}function x(){e.closeModal(t)}async function S(){var N,_;m.current=!0,(N=c.current)!=null&&N.validateForm()&&(f(!0),await(i==null?void 0:i((_=c.current)==null?void 0:_.formData(),{close:x,setError:y})),f(!1),s!==!1&&x())}return h.jsxs(h.Fragment,{children:[p&&h.jsx(Ys.Exception,{message:p}),h.jsxs("div",{className:"pt-3 pb-3 px-4 gap-4 flex flex-col",children:[h.jsx(Em,{tagName:"form",ref:c,schema:JSON.parse(JSON.stringify(n)),uiSchema:r,className:"legacy hide-required-mark fieldset-alternative mute-root",onChange:v,onSubmit:S}),h.jsxs("div",{className:"flex flex-row justify-end gap-2",children:[h.jsx(tt,{onClick:x,children:"Cancel"}),h.jsx(tt,{variant:"primary",onClick:S,disabled:!o||u,children:"Create"})]})]})]})}x4.defaultTitle="JSON Schema Form Modal";x4.modalProps={size:"md",classNames:{root:"bknd-admin",header:"!bg-lightest !py-3 px-5 !h-auto !min-h-px",content:"rounded-lg select-none",title:"!font-bold !text-md",body:"!p-0"}};function w4({context:e,id:t,innerProps:n}){return h.jsxs(h.Fragment,{children:[h.jsx("span",{children:n.modalBody}),h.jsx("button",{onClick:()=>e.closeModal(t),children:"Close modal"})]})}w4.defaultTitle="Test Modal";w4.modalProps={classNames:{size:"md",root:"bknd-admin",header:"!bg-primary/5 border-b border-b-muted !py-3 px-5 !h-auto !min-h-px",content:"rounded-lg select-none",title:"font-bold !text-md",body:"py-3 px-5 gap-4 flex flex-col"}};const wTe={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0.9)"},transitionProperty:"transform, opacity"},STe=e=>{const[t,n]=w.useState(),r=Uo(e==null?void 0:e.baseUrl);return w.useEffect(()=>{(async()=>{const i=await r.auth.strategies();i.res.ok&&n(i.body)})()},[e==null?void 0:e.baseUrl]),{strategies:t==null?void 0:t.strategies,basepath:t==null?void 0:t.basepath,loading:!t}};function KW(e,t){const n=(e==null?void 0:e.tagName.toLowerCase())??"",r=["input","select","textarea"];return!e||!(t!=null&&t.contains(e))||!r.includes(n)||!("name"in e)||e.hasAttribute("data-ignore")||e.closest("[data-ignore]")}function ETe(e){const t=e.currentTarget,n=e.target;return KW(n,t)?null:n}function NTe(e,t){const n=e.querySelectorAll(`[name="${t}"]`);return Array.from(n).filter(r=>KW(r))}function _Te(e,t){if(!e)return t;const n=e.required;if(!(!t&&!n))if(e.type==="number"){const r=Number(t);if(Number.isNaN(r)&&!n)return;const i="min"in e&&e.min.length>0?Number(e.min):void 0,s="max"in e&&e.max.length>0?Number(e.max):void 0,o="step"in e&&e.step.length>0?Number(e.step):void 0;return i&&r<i?i:s&&r>s?s:o&&o!==1?Math.round(r/o)*o:r}else if(e.type==="text"){const r="maxLength"in e&&e.maxLength>-1?Number(e.maxLength):void 0,i="pattern"in e?new RegExp(e.pattern):void 0;return r&&t.length>r?t.slice(0,r):i&&!i.test(t)?"":t}else return e.type==="checkbox"?"checked"in e?!!e.checked:["on","1","true",1,!0].includes(t):t}function fj(e,t){if(!e)return e;const n=[null,void 0,""],r={empty:(t==null?void 0:t.empty)??n,emptyInArray:(t==null?void 0:t.emptyInArray)??n,keepEmptyArray:(t==null?void 0:t.keepEmptyArray)??!1};return Object.entries(e).reduce((i,[s,o])=>{if(o&&Array.isArray(o)&&o.some(a=>typeof a=="object")){const a=o.map(c=>fj(c,r));(a.length>0||r!=null&&r.keepEmptyArray)&&(i[s]=a)}else if(o&&typeof o=="object"&&!Array.isArray(o)){const a=fj(o,r);Object.keys(a).length>0&&(i[s]=a)}else if(Array.isArray(o)){const a=o.filter(c=>!r.emptyInArray.includes(c));(a.length>0||r!=null&&r.keepEmptyArray)&&(i[s]=a)}else r.empty.includes(o)||(i[s]=o);return i},{})}function QW(e,t,n){let r=t;if(typeof r=="string"){const o=a=>a[0]==='"'&&a.at(-1)==='"';r=r.split(/[.\[\]]+/).filter(a=>a).map(a=>Number.isNaN(Number(a))?a:Number(a)).map(a=>typeof a=="string"&&o(a)?a.slice(1,-1):a)}if(r.length===0)throw new Error("The path must have at least one entry in it");const[i,...s]=r;return s.length===0?(e[i]=n,e):(i in e||(e[i]=typeof s[0]=="number"?[]:{}),QW(e[i],s,n),e)}function CTe({children:e,validateOn:t="submit",hiddenSubmit:n=!1,errorFieldSelector:r,reportValidity:i,onSubmit:s,onSubmitInvalid:o,onError:a,clean:c,disableSubmitOnError:u=!0,...f}){const m=w.useRef(null),[p,y]=w.useState([]);w.useEffect(()=>{!m.current||f.noValidate||x()},[]),w.useEffect(()=>{if(!m.current||f.noValidate)return;const j=p.length>0;m.current.querySelectorAll("[type=submit]").forEach(A=>{!A||!("type"in A)||A.type!=="submit"||(A.disabled=j)}),a==null||a(p)},[p]);const v=(j,A)=>{var k;if(f.noValidate||!j||!("name"in j))return;const $=(k=m.current)==null?void 0:k.querySelector((r==null?void 0:r(j.name))??`[data-role="input-error"][data-name="${j.name}"]`);if(j.checkValidity())y(R=>R.filter(D=>D.name!==j.name)),$&&($.textContent="");else{const R={name:j.name,message:j.validationMessage};return y(D=>[...D.filter(z=>z.name!==j.name),R]),A!=null&&A.report&&($?$.textContent=R.message:i&&j.reportValidity()),R}},x=j=>{if(!m.current||f.noValidate)return[];const A=[];return m.current.querySelectorAll("input, select, textarea").forEach($=>{const R=v($,j);R&&A.push(R)}),u&&m.current.querySelectorAll("[type=submit]").forEach($=>{A.length>0?$.setAttribute("disabled","disabled"):$.removeAttribute("disabled")}),A},S=()=>{if(!m.current)return{};const j=new FormData(m.current),A={};return j.forEach(($,k)=>{const R=NTe(m.current,k);if(R.length===0){console.warn(`No target found for key: ${k}`);return}const z=R.length>1;R.forEach((L,F)=>{let H=k;z&&(H=`${k}[${F}]`),QW(A,H,_Te(L,L.value))})}),typeof c>"u"?A:fj(A,c===!0?void 0:c)},N=async j=>{if(!m.current)return;const $=ETe(j);$&&((t==="change"||p.length>0)&&v($,{report:!0}),f.onChange&&await f.onChange(S(),{event:j,key:$.name,value:$.value,errors:p}))},_=async j=>{j.preventDefault();const A=m.current;if(!A)return;const $=x({report:!0});if($.length>0){o==null||o($,{event:j});return}s?await s(S(),{event:j}):A.submit()},C=j=>{m.current&&j.keyCode===13&&p.length>0&&!f.noValidate&&i&&m.current.reportValidity()};return h.jsxs("form",{...f,onChange:N,onSubmit:_,ref:m,onKeyDown:C,children:[e,n&&h.jsx("input",{type:"submit",style:{visibility:"hidden"}})]})}function OTe({label:e,provider:t,icon:n,action:r,method:i="POST",basepath:s="/api/auth",children:o}){const a=[s,t,r].join("/");return h.jsxs("form",{method:i,action:a,className:"w-full",children:[h.jsxs(tt,{type:"submit",size:"large",variant:"outline",className:"justify-center w-full",IconLeft:n,children:["Continue with ",e??Gy(t)]}),o]})}function jTe({formData:e,className:t,method:n="POST",action:r,auth:i,buttonLabel:s=r==="login"?"Sign in":"Sign up",...o}){var m,p;const a=(i==null?void 0:i.basepath)??"/api/auth",c={action:`${a}/password/${r}`,strategy:((m=i==null?void 0:i.strategies)==null?void 0:m.password)??{}},u=os((i==null?void 0:i.strategies)??{},(y,v,x)=>{v.type!=="password"&&(y[x]=v.config)},{}),f=Object.keys(u).length>0;return h.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[f&&h.jsxs(h.Fragment,{children:[h.jsx("div",{children:(p=Object.entries(u))==null?void 0:p.map(([y,v],x)=>h.jsx(OTe,{provider:y,method:n,basepath:a,action:r},x))}),h.jsx(ATe,{})]}),h.jsxs(CTe,{method:n,action:c.action,...o,validateOn:"change",className:vn("flex flex-col gap-3 w-full",t),children:[h.jsxs(ps,{children:[h.jsx(Mc,{htmlFor:"email",children:"Email address"}),h.jsx(cl,{type:"email",name:"email",required:!0})]}),h.jsxs(ps,{children:[h.jsx(Mc,{htmlFor:"password",children:"Password"}),h.jsx(UW,{name:"password",required:!0,minLength:8})]}),h.jsx(tt,{type:"submit",variant:"primary",size:"large",className:"w-full mt-2 justify-center",children:s})]})]})}const ATe=()=>h.jsxs("div",{className:"w-full flex flex-row items-center",children:[h.jsx("div",{className:"relative flex grow",children:h.jsx("div",{className:"h-px bg-primary/10 w-full absolute top-[50%] z-0"})}),h.jsx("div",{className:"mx-5",children:"or"}),h.jsx("div",{className:"relative flex grow",children:h.jsx("div",{className:"h-px bg-primary/10 w-full absolute top-[50%] z-0"})})]});function TTe({method:e="POST",action:t="login",logo:n,intro:r,formOnly:i}){const{strategies:s,basepath:o,loading:a}=STe(),c=h.jsx(jTe,{auth:{basepath:o,strategies:s},method:e,action:t});return i?a?null:c:h.jsx("div",{className:"flex flex-1 flex-col select-none h-dvh w-dvw justify-center items-center bknd-admin",children:!a&&h.jsxs("div",{className:"flex flex-col gap-4 items-center w-96 px-6 py-7",children:[n||null,w.isValidElement(r)?r:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsxs("h1",{className:"text-xl font-bold",children:["Sign ",t==="login"?"in":"up"," to your admin panel"]}),h.jsx("p",{className:"text-primary/50",children:"Enter your credentials below to get access."})]}),c]})})}const ZW={Screen:TTe};function $Te(){const e=w.useRef(0);return e.current++,e.current}const RTe=[".DS_Store","Thumbs.db"];function v0(e,t){const n=kTe(e);if(typeof n.path!="string"){const{webkitRelativePath:r}=e;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function kTe(e){const{name:t}=e,n=t&&t.lastIndexOf(".")!==-1;if(console.log("withMimeType",t,n),n&&!e.type){const r=TF(t);console.log("guessed",r),r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}async function vv(e){return pw(e)&&MTe(e.dataTransfer)?LTe(e.dataTransfer,e.type):ITe(e)?PTe(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?DTe(e):[]}function MTe(e){return pw(e)}function ITe(e){return pw(e)&&pw(e.target)}function pw(e){return typeof e=="object"&&e!==null}function PTe(e){return hj(e.target.files).map(t=>v0(t))}async function DTe(e){return(await Promise.all(e.map(n=>n.getFile()))).map(n=>v0(n))}async function LTe(e,t){if(e.items){const n=hj(e.items).filter(i=>i.kind==="file");if(t!=="drop")return n;const r=await Promise.all(n.map(FTe));return HD(eG(r))}return HD(hj(e.files).map(n=>v0(n)))}function HD(e){return e.filter(t=>RTe.indexOf(t.name)===-1)}function hj(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function FTe(e){if(typeof e.webkitGetAsEntry!="function")return WD(e);const t=e.webkitGetAsEntry();return t!=null&&t.isDirectory?tG(t):WD(e)}function eG(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?eG(n):[n]],[])}function WD(e){const t=e.getAsFile();if(!t)return Promise.reject(`${e} is not a File`);const n=v0(t);return Promise.resolve(n)}async function BTe(e){return e.isDirectory?tG(e):zTe(e)}function tG(e){const t=e.createReader();return new Promise((n,r)=>{const i=[];function s(){t.readEntries(async o=>{if(o.length){const a=Promise.all(o.map(BTe));i.push(a),s()}else try{const a=await Promise.all(i);n(a)}catch(a){r(a)}},o=>{r(o)})}s()})}async function zTe(e){return new Promise((t,n)=>{e.file(r=>{const i=v0(r,e.fullPath);t(i)},r=>{n(r)})})}const mj={enter:["dragenter","dragover","dragstart"],leave:["dragleave","drop"]},GD=[...mj.enter,...mj.leave];function VTe({onDropped:e,onOver:t,onLeave:n}){const[r,i]=w.useState(!1),s=w.useRef(null),o=w.useRef(!1),a=w.useCallback(m=>{m.preventDefault(),m.stopPropagation()},[]),c=w.useCallback(async m=>{const p=mj.enter.includes(m.type);t&&p!==r&&!o.current&&(t(await vv(m),m),o.current=!0),i(p),p===!1&&o.current&&(o.current=!1,n==null||n())},[]),u=w.useCallback(async m=>{const p=await vv(m);e==null||e(p),o.current=!1},[e]),f=w.useCallback(async m=>{const p=await vv(m);e==null||e(p)},[e]);return w.useEffect(()=>{const m=s.current;return GD.forEach(p=>{m.addEventListener(p,a),m.addEventListener(p,c)}),m.addEventListener("drop",u),()=>{GD.forEach(p=>{m.removeEventListener(p,a),m.removeEventListener(p,c)}),m.removeEventListener("drop",u)}},[]),{ref:s,isOver:r,fromEvent:vv,onDropped:e,handleFileInputChange:f}}function UTe(e,t={overrides:{},baseUrl:""}){return{body:`${t.baseUrl}/api/media/file/${e.path}`,path:e.path,name:e.path,size:e.size??0,type:e.mime_type??"",state:"uploaded",progress:0,...t.overrides}}function qTe(e,t={overrides:{},baseUrl:""}){return e.map(n=>UTe(n,t))}function JD({maxItems:e,current:t=0,overwrite:n,added:r}){if(!e)return{reject:!1,to_drop:0};const i=e-t,s=r>i?r:r-i>0?r-i:0;return{reject:n?r>e:i-r<0,to_drop:s}}const HTe=()=>C$(u0({files:[],isOver:!1,isOverAccepted:!1,uploading:!1},(e,t)=>({setFiles:n=>e(({files:r})=>({files:n(r)})),getFilesLength:()=>t().files.length,setIsOver:(n,r)=>e({isOver:n,isOverAccepted:r}),setUploading:n=>e({uploading:n}),setIsOverAccepted:n=>e({isOverAccepted:n}),reset:()=>e({files:[],isOver:!1,isOverAccepted:!1}),addFile:n=>e(r=>({files:[...r.files,n]})),removeFile:n=>e(r=>({files:r.files.filter(i=>i.path!==n)})),removeAllFiles:()=>e({files:[]}),setFileProgress:(n,r)=>e(i=>({files:i.files.map(s=>s.path===n?{...s,progress:r}:s)})),setFileState:(n,r,i)=>e(s=>({files:s.files.map(o=>o.path===n?{...o,state:r,progress:i??o.progress}:o)})),overrideFile:(n,r)=>e(i=>({files:i.files.map(s=>s.path===n?{...s,...r}:s)}))})));function WTe(e){if(e&&e instanceof XMLHttpRequest){const t=JSON.parse(e.responseText);alert(`Upload failed with code ${e.status}: ${t.error}`)}else alert("Upload failed")}function GTe({getUploadInfo:e,handleDelete:t,initialItems:n=[],flow:r="start",allowedMimeTypes:i,maxItems:s,overwrite:o,autoUpload:a,placeholder:c,onRejected:u,onDeleted:f,onUploadedAll:m,onUploaded:p,children:y,onClick:v,footer:x}){const S=w.useRef(HTe()).current,N=qr(S,q=>q.files),_=qr(S,q=>q.setFiles),C=qr(S,q=>q.getFilesLength),j=qr(S,q=>q.setUploading),A=qr(S,q=>q.setIsOver),$=qr(S,q=>q.uploading),k=qr(S,q=>q.setFileState),R=qr(S,q=>q.overrideFile),D=qr(S,q=>q.removeFile),z=w.useRef(null);w.useEffect(()=>{_(()=>n)},[n.length]);function L(q){return(Array.isArray(q)?q:[q]).map(ie=>({kind:"kind"in ie?ie.kind:"file",type:ie.type,size:"size"in ie?ie.size:0})).every(ie=>ie.kind!=="file"?(console.warn("file not accepted: not a file",ie.kind),!1):i&&i.length>0&&!mae(q,i)?(console.warn("file not accepted: not allowed mimetype",ie.type),!1):!0)}const F=w.useCallback(q=>{if(console.log("onDropped",q),!L(q))return;const X=q.length;_(Q=>{let ie=0;if(s){const ve=JD({maxItems:s,overwrite:o,added:X,current:Q.length});if(ve.reject)return u?u(q):console.warn("maxItems reached"),Q;ie=ve.to_drop}const ae=Q.slice(ie),fe=ae.map(ve=>ve.path),ce=q.filter(ve=>!("path"in ve)||ve.path&&!fe.includes(ve.path)).map(ve=>({body:ve,path:"path"in ve?ve.path:ve.name,name:ve.name,size:ve.size,type:ve.type,state:"pending",progress:0})),he=r==="start"?[...ce,...ae]:[...ae,...ce];return a&&ce.length>0&&setTimeout(()=>j(!0),0),he})},[a,r,s,o]),{handleFileInputChange:H,ref:M}=VTe({onDropped:q=>{console.log("onDropped",q),F(q)},onOver:q=>{if(!L(q)){A(!0,!1);return}const X=C(),Q=JD({maxItems:s,overwrite:o,added:q.length,current:X});console.log("--files in onOver",X,Q),A(!0,!Q.reject)},onLeave:()=>{A(!1,!1)}});w.useEffect(()=>{console.log("files updated")},[N]),w.useEffect(()=>{$&&(async()=>{const q=N.filter(X=>X.state==="pending");if(q.length===0){j(!1);return}else{const X=[];for(const Q of q)try{const ie=await V(Q);X.push(ie),p==null||p(ie)}catch(ie){WTe(ie)}j(!1),m==null||m(X)}})()},[$]);function V(q){return new Promise((X,Q)=>{if(q.body){if(q.state!=="pending"){console.error("File is not pending"),Q();return}else if(!(q.body instanceof File)){console.error("File body is not a File instance"),Q();return}}else{console.error("File has no body"),Q();return}const ie=e({path:q.body.path});console.log("dropzone:uploadInfo",ie);const{url:ae,headers:fe,method:ce="POST"}=ie,he=new XMLHttpRequest;console.log("xhr:url",ae);const ve=new URLSearchParams;o&&ve.append("overwrite","1"),he.open(ce,String(ae)+"?"+String(ve),!0),fe&&fe.forEach((Ce,Ee)=>{he.setRequestHeader(Ee,Ce)}),he.upload.addEventListener("progress",Ce=>{if(console.log("progress",Ce.loaded,Ce.total),Ce.lengthComputable){k(q.path,"uploading",Ce.loaded/Ce.total);const Ee=Ce.loaded/Ce.total*100;console.log(`Progress: ${Ee.toFixed(2)}%`)}else console.log("Unable to compute progress information since the total size is unknown")}),he.onload=()=>{if(console.log("onload",q.path,he.status),he.status>=200&&he.status<300){console.log("Upload complete");try{const Ce=JSON.parse(he.responseText);console.log("Response:",q,Ce);const Ee={...Ce.state,progress:1,state:"uploaded"};R(q.path,Ee),X({...Ce,...q,...Ee})}catch(Ce){k(q.path,"uploaded",1),console.error("Error parsing response",Ce),Q(Ce)}}else k(q.path,"failed",1),console.error("Upload failed with status: ",he.status,he.statusText),Q(he)},he.onerror=()=>{console.error("Error during the upload process.")},he.onloadstart=()=>{k(q.path,"uploading",0),console.log("loadstart")},he.setRequestHeader("Accept","application/json");const Ae=new FormData;Ae.append("file",q.body),he.send(Ae)})}const T=w.useCallback(async q=>{switch(console.log("deleteFile",q),q.state){case"uploaded":case"initial":window.confirm("Are you sure you want to delete this file?")&&(console.log('setting state to "deleting"',q),k(q.path,"deleting"),await t(q),D(q.path),f==null||f(q));break}},[]),I=w.useCallback(async q=>{const X=await V(q);m==null||m([X]),p==null||p(X)},[]),P=w.useCallback(()=>{var q;return(q=z.current)==null?void 0:q.click()},[z]),W=w.useMemo(()=>!!((c==null?void 0:c.show)!==!1&&(!s||s&&N.length<s)),[c,s,N.length]),B=w.useMemo(()=>({store:S,wrapperRef:M,inputProps:{ref:z,type:"file",multiple:!s||s>1,onChange:H,accept:i==null?void 0:i.join(",")},showPlaceholder:W,actions:{uploadFile:I,deleteFile:T,openFileInput:P,addFiles:F},dropzoneProps:{maxItems:s,placeholder:c,autoUpload:a,flow:r,allowedMimeTypes:i},onClick:v,footer:x}),[s,N.length,r,c,a,x,i]);return h.jsx(nG.Provider,{value:B,children:y?typeof y=="function"?y(B):y:h.jsx(YTe,{...B})})}const nG=w.createContext(void 0);function S4(){return w.useContext(nG)}const rG=()=>{const{store:e}=S4(),t=qr(e,s=>s.files),n=qr(e,s=>s.isOver),r=qr(e,s=>s.isOverAccepted),i=qr(e,s=>s.uploading);return{files:t,isOver:n,isOverAccepted:r,uploading:i}},x0=(e,t)=>{const{store:n}=S4();return qr(n,r=>{const i=typeof e=="string"?r.files.find(s=>s.path===e):r.files.find(s=>s.path===e.path);return i?t(i):void 0})};function JTe(e){if(e&&e instanceof XMLHttpRequest){const t=JSON.parse(e.responseText);alert(`Upload failed with code ${e.status}: ${t.error}`)}else alert("Upload failed")}const YTe=({wrapperRef:e,inputProps:t,showPlaceholder:n,actions:{uploadFile:r,deleteFile:i,openFileInput:s},dropzoneProps:{placeholder:o,flow:a,maxItems:c,allowedMimeTypes:u},onClick:f,footer:m})=>{const{files:p,isOver:y,isOverAccepted:v}=rG(),x=n&&h.jsx(XTe,{onClick:s,text:o==null?void 0:o.text}),S=w.useCallback(async N=>{try{return await r(N)}catch(_){JTe(_)}},[r]);return h.jsxs("div",{ref:e,className:qe("dropzone w-full h-full align-start flex flex-col select-none",y&&v&&"bg-green-200/10",y&&!v&&"bg-red-200/40 cursor-not-allowed"),children:[h.jsx("div",{className:"hidden",children:h.jsx("input",{...t})}),h.jsx("div",{className:"flex flex-1 flex-col",children:h.jsxs("div",{className:"flex flex-row flex-wrap gap-2 md:gap-3",children:[a==="start"&&x,p.map(N=>h.jsx(QTe,{file:N,handleUpload:S,handleDelete:i,onClick:f},N.path)),a==="end"&&x,m]})})]})},XTe=({onClick:e,text:t="Upload files"})=>h.jsx("div",{className:"w-[49%] aspect-square md:w-60 flex flex-col border-2 border-dashed border-muted relative justify-center items-center text-primary/30 hover:border-primary/30 hover:text-primary/50 hover:cursor-pointer hover:bg-muted/20 transition-colors duration-200",onClick:e,children:h.jsx("span",{className:"",children:t})}),KTe=({file:e,fallback:t,...n})=>e.type.startsWith("image/")?h.jsx(n$e,{...n,file:e}):e.type.startsWith("video/")?h.jsx(r$e,{...n,file:e}):t?t({file:e}):null,iG=w.memo(KTe,(e,t)=>e.file.path===t.file.path),QTe=w.memo(({file:e,handleUpload:t,handleDelete:n,onClick:r})=>{$Te();const i=x0(e,o=>{const{progress:a,...c}=o;return c});if(!i)return null;const s=w.useCallback(()=>{r&&r(i)},[r,i.path]);return h.jsxs("div",{className:qe("w-[49%] md:w-60 aspect-square flex flex-col border border-muted relative hover:bg-primary/5 cursor-pointer transition-colors",i.state==="failed"&&"border-red-500 bg-red-200/20",i.state==="deleting"&&"opacity-70"),onClick:s,children:[h.jsx("div",{className:"absolute top-2 right-2",children:h.jsx(e$e,{file:i,handleDelete:n,handleUpload:t})}),h.jsx(ZTe,{file:i}),h.jsx("div",{className:"flex bg-primary/5 aspect-[1/0.78] overflow-hidden items-center justify-center",children:h.jsx(iG,{file:i,fallback:s$e,className:"max-w-full max-h-full"})}),h.jsxs("div",{className:"flex flex-col px-1.5 py-1",children:[h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx("p",{className:"truncate select-text w-[calc(100%-10px)]",children:i.name}),h.jsx(t$e,{file:i})]}),h.jsxs("div",{className:"flex flex-row justify-between text-xs md:text-sm font-mono opacity-50 text-nowrap gap-2",children:[h.jsx("span",{className:"truncate select-text",children:i.type}),h.jsx("span",{className:"whitespace-nowrap",children:O1.fileSize(i.size)})]})]})]})},(e,t)=>e.file.path===t.file.path&&e.file.state===t.file.state),ZTe=({file:e})=>{const t=x0(e.path,n=>({state:n.state,progress:n.progress}));return!t||t.state!=="uploading"?null:h.jsx("div",{className:"absolute w-full top-0 left-0 right-0 h-1",children:h.jsx("div",{className:"bg-blue-600 h-1 transition-all duration-75",style:{width:(t.progress*100).toFixed(0)+"%"}})})},e$e=w.memo(({file:e,handleDelete:t,handleUpload:n})=>{const r=x0(e.path,s=>{const{progress:o,...a}=s;return a});if(!r)return null;const i=w.useMemo(()=>[r.state==="uploaded"&&typeof r.body=="string"&&{label:"Open",icon:TEe,onClick:()=>{window.open(r.body,"_blank")}},["initial","uploaded"].includes(r.state)&&{label:"Delete",destructive:!0,icon:D$,onClick:()=>t(r)},["initial","pending"].includes(r.state)&&{label:"Upload",icon:QEe,onClick:()=>n(r)}],[r,t,n]);return h.jsx($r,{items:i,position:"bottom-end",children:h.jsx(yt,{Icon:ll})})},(e,t)=>e.file.path===t.file.path),t$e=({file:e})=>{const t=x0(e.path,r=>r.state);if(!t||t==="uploaded")return null;const n={failed:"bg-red-500",deleting:"bg-orange-500 animate-pulse",uploading:"bg-blue-500 animate-pulse"}[t]??"bg-primary/50";return h.jsx("div",{className:"w-2 h-2 rounded-full mt-px "+n,title:t})},n$e=({file:e,...t})=>{const n=typeof e.body=="string"?e.body:URL.createObjectURL(e.body);return h.jsx("img",{...t,src:n})},r$e=({file:e,...t})=>{const n=typeof e.body=="string"?e.body:URL.createObjectURL(e.body);return h.jsx("video",{...t,src:n})},i$e=[{mime:"text/plain",Icon:PEe},{mime:"text/csv",Icon:kEe},{mime:/(text|application)\/xml/,Icon:DEe},{mime:"text/markdown",Icon:qEe},{mime:/^text\/.*$/,Icon:REe},{mime:"application/json",Icon:UEe},{mime:"application/pdf",Icon:MEe},{mime:/^audio\/.*$/,Icon:JEe},{mime:"application/zip",Icon:n2e},{mime:"application/sql",Icon:IEe}],s$e=({file:e})=>{const t=i$e.find(n=>n.mime instanceof RegExp?n.mime.test(e.type):n.mime===e.type);return t?h.jsx(t.Icon,{className:"size-10 text-gray-400"}):h.jsx("div",{className:"text-xs text-primary/50 text-center font-mono leading-none max-w-[90%] truncate",children:e.type})};function o$e({initialItems:e,media:t,entity:n,query:r,randomFilename:i,infinite:s=!1,...o}){var k,R;const a=w.useId(),c=Uo(),u=b$(),f=c.baseUrl,m=(r==null?void 0:r.limit)??o.maxItems??50,p=D=>({limit:m,offset:D*m}),y=(t==null?void 0:t.entity_name)??"media",v=(D,z=0)=>n?D.data.readManyByReference(n.name,n.id,n.field,{...p(z),...r}):D.data.readMany(y,{...p(z),...r}),x=s?Wxe(v,{pageSize:m}):c0(v,{enabled:e!==!1&&!e,revalidateOnFocus:!1}),S=zt(D=>({url:n?c.media.getEntityUploadUrl(n.name,n.id,n.field):c.media.getFileUploadUrl(i?void 0:D),headers:c.media.getUploadHeaders(),method:"POST"}));zt(async()=>{await u(x.promise.key({search:!1}))});const N=zt(async D=>c.media.deleteFile(D.path)),_=e??(Array.isArray(x.data)?x.data:[])??[],C=qTe(_,{baseUrl:f}),j=a+JSON.stringify(e),A="_data"in x?(R=(k=x._data)==null?void 0:k[0])==null?void 0:R.body.meta.count:void 0;let $=0;return s&&"setSize"in x&&($=typeof A=="number"?A:x.endReached?C.length:C.length+m,!A&&!x.isValidating&&m*x.size>=$&&($=C.length)),h.jsx(h.Fragment,{children:h.jsx(GTe,{getUploadInfo:S,handleDelete:N,autoUpload:!0,initialItems:C,footer:s&&"setSize"in x&&h.jsx(a$e,{items:C.length,length:$,onFirstVisible:()=>x.setSize(x.size+1)}),...o},j)})}const a$e=({items:e=0,length:t=0,onFirstVisible:n})=>{const{ref:r,inViewport:i}=lSe(),[s,o]=w.useState(0),a=w.useRef(-1);return w.useEffect(()=>{i&&e>a.current&&(a.current=e,o(u=>u+1),n())},[i]),t-e<=0?null:new Array(Math.max(t-e,0)).fill(0).map((u,f)=>h.jsx("div",{ref:f===0?r:void 0,className:"w-[49%] md:w-60 bg-muted aspect-square"},f))},E4={Dropzone:o$e,Preview:iG,useDropzone:S4,useDropzoneState:rG,useDropzoneFileState:x0};function sG(){const{config:e,schema:t,actions:n}=ct(),r={config:{patch:async s=>await n.set("media",s,!0)?(await n.reload(),!0):!1}};return{$media:{},config:e.media,schema:t.media,actions:r}}const ag={},YD=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,XD=e=>"init"in e,F_=e=>!!e.write,KD=e=>"v"in e||"e"in e,xv=e=>{if("e"in e)throw e.e;if((ag?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v},gw=new WeakMap,QD=e=>{var t;return yw(e)&&!!((t=gw.get(e))!=null&&t[0])},l$e=e=>{const t=gw.get(e);t!=null&&t[0]&&(t[0]=!1,t[1].forEach(n=>n()))},oG=(e,t)=>{let n=gw.get(e);if(!n){n=[!0,new Set],gw.set(e,n);const r=()=>{n[0]=!1};e.then(r,r)}n[1].add(t)},yw=e=>typeof(e==null?void 0:e.then)=="function",aG=(e,t,n)=>{n.p.has(e)||(n.p.add(e),t.then(()=>{n.p.delete(e)},()=>{n.p.delete(e)}))},B_=(e,t,n)=>{const r=n(e),i="v"in r,s=r.v;if(yw(t))for(const o of r.d.keys())aG(e,t,n(o));r.v=t,delete r.e,(!i||!Object.is(s,r.v))&&(++r.n,yw(s)&&l$e(s))},ZD=(e,t,n)=>{var r;const i=new Set;for(const s of((r=n.get(e))==null?void 0:r.t)||[])n.has(s)&&i.add(s);for(const s of t.p)i.add(s);return i},c$e=()=>{const e=new Set,t=()=>{e.forEach(n=>n())};return t.add=n=>(e.add(n),()=>{e.delete(n)}),t},z_=()=>{const e={},t=new WeakMap,n=r=>{var i,s;(i=t.get(e))==null||i.forEach(o=>o(r)),(s=t.get(r))==null||s.forEach(o=>o())};return n.add=(r,i)=>{const s=r||e,o=(t.has(s)?t:t.set(s,new Set)).get(s);return o.add(i),()=>{o==null||o.delete(i),o.size||t.delete(s)}},n},u$e=e=>(e.c||(e.c=z_()),e.m||(e.m=z_()),e.u||(e.u=z_()),e.f||(e.f=c$e()),e),d$e=Symbol(),f$e=(e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new Set,i=new Set,s=new Set,o={},a=(p,...y)=>p.read(...y),c=(p,...y)=>p.write(...y),u=(p,y)=>{var v;return(v=p.unstable_onInit)==null?void 0:v.call(p,y)},f=(p,y)=>{var v;return(v=p.onMount)==null?void 0:v.call(p,y)},...m)=>{const p=m[0]||(k=>{if((ag?"production":void 0)!=="production"&&!k)throw new Error("Atom is undefined or null");let R=e.get(k);return R||(R={d:new Map,p:new Set,n:0},e.set(k,R),u==null||u(k,$)),R}),y=m[1]||(()=>{const k=[],R=D=>{try{D()}catch(z){k.push(z)}};do{o.f&&R(o.f);const D=new Set,z=D.add.bind(D);r.forEach(L=>{var F;return(F=t.get(L))==null?void 0:F.l.forEach(z)}),r.clear(),s.forEach(z),s.clear(),i.forEach(z),i.clear(),D.forEach(R),r.size&&v()}while(r.size||s.size||i.size);if(k.length)throw new AggregateError(k)}),v=m[2]||(()=>{const k=[],R=new WeakSet,D=new WeakSet,z=Array.from(r);for(;z.length;){const L=z[z.length-1],F=p(L);if(D.has(L)){z.pop();continue}if(R.has(L)){if(n.get(L)===F.n)k.push([L,F]);else if((ag?"production":void 0)!=="production"&&n.has(L))throw new Error("[Bug] invalidated atom exists");D.add(L),z.pop();continue}R.add(L);for(const H of ZD(L,F,t))R.has(H)||z.push(H)}for(let L=k.length-1;L>=0;--L){const[F,H]=k[L];let M=!1;for(const V of H.d.keys())if(V!==F&&r.has(V)){M=!0;break}M&&(x(F),_(F)),n.delete(F)}}),x=m[3]||(k=>{var R;const D=p(k);if(KD(D)&&(t.has(k)&&n.get(k)!==D.n||Array.from(D.d).every(([I,P])=>x(I).n===P)))return D;D.d.clear();let z=!0;const L=()=>{t.has(k)&&(_(k),v(),y())},F=I=>{var P;if(YD(k,I)){const B=p(I);if(!KD(B))if(XD(I))B_(I,I.init,p);else throw new Error("no atom init");return xv(B)}const W=x(I);try{return xv(W)}finally{D.d.set(I,W.n),QD(D.v)&&aG(k,D.v,W),(P=t.get(I))==null||P.t.add(k),z||L()}};let H,M;const V={get signal(){return H||(H=new AbortController),H.signal},get setSelf(){return(ag?"production":void 0)!=="production"&&!F_(k)&&console.warn("setSelf function cannot be used with read-only atom"),!M&&F_(k)&&(M=(...I)=>{if((ag?"production":void 0)!=="production"&&z&&console.warn("setSelf function cannot be called in sync"),!z)try{return N(k,...I)}finally{v(),y()}}),M}},T=D.n;try{const I=a(k,F,V);return B_(k,I,p),yw(I)&&(oG(I,()=>H==null?void 0:H.abort()),I.then(L,L)),D}catch(I){return delete D.v,D.e=I,++D.n,D}finally{z=!1,T!==D.n&&n.get(k)===T&&(n.set(k,D.n),r.add(k),(R=o.c)==null||R.call(o,k))}}),S=m[4]||(k=>{const R=[k];for(;R.length;){const D=R.pop(),z=p(D);for(const L of ZD(D,z,t)){const F=p(L);n.set(L,F.n),R.push(L)}}}),N=m[5]||((k,...R)=>{let D=!0;const z=F=>xv(x(F)),L=(F,...H)=>{var M;const V=p(F);try{if(YD(k,F)){if(!XD(F))throw new Error("atom not writable");const T=V.n,I=H[0];B_(F,I,p),_(F),T!==V.n&&(r.add(F),(M=o.c)==null||M.call(o,F),S(F));return}else return N(F,...H)}finally{D||(v(),y())}};try{return c(k,z,L,...R)}finally{D=!1}}),_=m[6]||(k=>{var R;const D=p(k),z=t.get(k);if(z&&!QD(D.v)){for(const[L,F]of D.d)if(!z.d.has(L)){const H=p(L);C(L).t.add(k),z.d.add(L),F!==H.n&&(r.add(L),(R=o.c)==null||R.call(o,L),S(L))}for(const L of z.d||[])if(!D.d.has(L)){z.d.delete(L);const F=j(L);F==null||F.t.delete(k)}}}),C=m[7]||(k=>{var R;const D=p(k);let z=t.get(k);if(!z){x(k);for(const L of D.d.keys())C(L).t.add(k);if(z={l:new Set,d:new Set(D.d.keys()),t:new Set},t.set(k,z),(R=o.m)==null||R.call(o,k),F_(k)){const L=()=>{let F=!0;const H=(...M)=>{try{return N(k,...M)}finally{F||(v(),y())}};try{const M=f(k,H);M&&(z.u=()=>{F=!0;try{M()}finally{F=!1}})}finally{F=!1}};i.add(L)}}return z}),j=m[8]||(k=>{var R;const D=p(k);let z=t.get(k);if(z&&!z.l.size&&!Array.from(z.t).some(L=>{var F;return(F=t.get(L))==null?void 0:F.d.has(k)})){z.u&&s.add(z.u),z=void 0,t.delete(k),(R=o.u)==null||R.call(o,k);for(const L of D.d.keys()){const F=j(L);F==null||F.t.delete(k)}return}return z}),A=[e,t,n,r,i,s,o,a,c,u,f,p,y,v,x,S,N,_,C,j],$={get:k=>xv(x(k)),set:(k,...R)=>{try{return N(k,...R)}finally{v(),y()}},sub:(k,R)=>{const z=C(k).l;return z.add(R),y(),()=>{z.delete(R),j(k),y()}}};return Object.defineProperty($,d$e,{value:A}),$},lG=f$e,h$e=u$e,e9=oG,N4={};let m$e=0;function Vh(e,t){const n=`atom${++m$e}`,r={toString(){return(N4?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof e=="function"?r.read=e:(r.init=e,r.read=p$e,r.write=g$e),t&&(r.write=t),r}function p$e(e){return e(this)}function g$e(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}const y$e=()=>{let e=0;const t=h$e({}),n=new WeakMap,r=new WeakMap,i=lG(n,r,void 0,void 0,void 0,void 0,t,void 0,(a,c,u,...f)=>e?u(a,...f):a.write(c,u,...f)),s=new Set;return t.m.add(void 0,a=>{s.add(a);const c=n.get(a);c.m=r.get(a)}),t.u.add(void 0,a=>{s.delete(a);const c=n.get(a);delete c.m}),Object.assign(i,{dev4_get_internal_weak_map:()=>n,dev4_get_mounted_atoms:()=>s,dev4_restore_atoms:a=>{const c={read:()=>null,write:(u,f)=>{++e;try{for(const[m,p]of a)"init"in m&&f(m,p)}finally{--e}}};i.set(c)}})};function b$e(){return(N4?"production":void 0)!=="production"?y$e():lG()}let Yp;function cG(){return Yp||(Yp=b$e(),(N4?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Yp),globalThis.__JOTAI_DEFAULT_STORE__!==Yp&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Yp}const v$e={},x$e=w.createContext(void 0);function uG(e){return w.useContext(x$e)||cG()}const dG=e=>typeof(e==null?void 0:e.then)=="function",w$e=e=>{e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t})},S$e=je.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(w$e(e),e)}),V_=new WeakMap,E$e=(e,t)=>{let n=V_.get(e);return n||(n=new Promise((r,i)=>{let s=e;const o=u=>f=>{s===u&&r(f)},a=u=>f=>{s===u&&i(f)},c=()=>{try{const u=t();dG(u)?(V_.set(u,n),s=u,u.then(o(u),a(u)),e9(u,c)):r(u)}catch(u){i(u)}};e.then(o(e),a(e)),e9(e,c)}),V_.set(e,n)),n};function _4(e,t){const n=uG(),[[r,i,s],o]=w.useReducer(u=>{const f=n.get(e);return Object.is(u[0],f)&&u[1]===n&&u[2]===e?u:[f,n,e]},void 0,()=>[n.get(e),n,e]);let a=r;if((i!==n||s!==e)&&(o(),a=n.get(e)),w.useEffect(()=>{const u=n.sub(e,()=>{o()});return o(),u},[n,e,void 0]),w.useDebugValue(a),dG(a)){const u=E$e(a,()=>n.get(e));return S$e(u)}return a}function C4(e,t){const n=uG();return w.useCallback((...i)=>{if((v$e?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...i)},[n,e])}function jm(e,t){return[_4(e),C4(e)]}const O4={},N$e=Symbol((O4?"production":void 0)!=="production"?"RESET":""),U_=(e,t,n)=>(t.has(n)?t:t.set(n,e())).get(n),_$e=new WeakMap,C$e=(e,t,n,r)=>{const i=U_(()=>new WeakMap,_$e,t),s=U_(()=>new WeakMap,i,n);return U_(e,s,r)};function w0(e,t,n=Object.is){return C$e(()=>{const r=Symbol(),i=([o,a])=>{if(a===r)return t(o);const c=t(o,a);return n(a,c)?a:c},s=Vh(o=>{const a=o(s),c=o(e);return i([c,a])});return s.init=r,s},e,t,n)}const O$e=e=>typeof(e==null?void 0:e.then)=="function";function j$e(e=()=>{try{return window.localStorage}catch(n){(O4?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},t){var n;let r,i;const s={getItem:(c,u)=>{var f,m;const p=v=>{if(v=v||"",r!==v){try{i=JSON.parse(v,t==null?void 0:t.reviver)}catch{return u}r=v}return i},y=(m=(f=e())==null?void 0:f.getItem(c))!=null?m:null;return O$e(y)?y.then(p):p(y)},setItem:(c,u)=>{var f;return(f=e())==null?void 0:f.setItem(c,JSON.stringify(u,void 0))},removeItem:c=>{var u;return(u=e())==null?void 0:u.removeItem(c)}},o=c=>(u,f,m)=>c(u,p=>{let y;try{y=JSON.parse(p||"")}catch{y=m}f(y)});let a;try{a=(n=e())==null?void 0:n.subscribe}catch{}return!a&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(a=(c,u)=>{if(!(e()instanceof window.Storage))return()=>{};const f=m=>{m.storageArea===e()&&m.key===c&&u(m.newValue)};return window.addEventListener("storage",f),()=>{window.removeEventListener("storage",f)}}),a&&(s.subscribe=o(a)),s}const A$e=j$e();function T$e(e,t,n=A$e,r){const i=Vh(t);return(O4?"production":void 0)!=="production"&&(i.debugPrivate=!0),i.onMount=o=>{o(n.getItem(e,t));let a;return n.subscribe&&(a=n.subscribe(e,o,t)),a},Vh(o=>o(i),(o,a,c)=>{const u=typeof c=="function"?c(o(i)):c;return u===N$e?(a(i,t),n.removeItem(e)):u instanceof Promise?u.then(f=>(a(i,f),n.setItem(e,f))):(a(i,u),n.setItem(e,u))})}const $$e={AdditionalItemsError:"Array at `{{pointer}}` may not have an additional item `{{key}}`",AdditionalPropertiesError:"Additional property `{{property}}` on `{{pointer}}` does not match schema `{{schema}}`",AllOfError:"Value `{{value}}` at `{{pointer}}` does not match schema of `{{allOf}}`",AnyOfError:"Value `{{value}}` at `{{pointer}}` does not match any schema of `{{anyOf}}`",ConstError:"Expected value at `{{pointer}}` to be `{{expected}}`, but value given is `{{value}}`",containsAnyError:"The array at `{{pointer}}` must contain at least one item",ContainsArrayError:"The property at `{{pointer}}` must not be an array",ContainsError:"The array at `{{pointer}}` must contain an element that matches `{{schema}}`",ContainsMinError:"The array at `{{pointer}}` contains {{delta}} too few items matching `{{schema}}`",ContainsMaxError:"The array at `{{pointer}}` contains {{delta}} too many items matching `{{schema}}`",EnumError:"Expected given value `{{value}}` in `{{pointer}}` to be one of `{{values}}`",ForbiddenPropertyError:"Property name `{{property}}` at `{{pointer}}` is not allowed",FormatDateError:"Value `{{value}}` at `{{pointer}}` is not a valid date",FormatDateTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid date-time",FormatDurationError:"Value `{{value}}` at `{{pointer}}` is not a valid duration",FormatEmailError:"Value `{{value}}` at `{{pointer}}` is not a valid email",FormatHostnameError:"Value `{{value}}` at `{{pointer}}` is not a valid hostname",FormatIPV4Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv4 address",FormatIPV4LeadingZeroError:"IPv4 addresses starting with zero are invalid, since they are interpreted as octals",FormatIPV6Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv6 address",FormatIPV6LeadingZeroError:"IPv6 addresses starting with zero are invalid, since they are interpreted as octals",FormatJsonPointerError:"Value `{{value}}` at `{{pointer}}` is not a valid json-pointer",FormatRegExError:"Value `{{value}}` at `{{pointer}}` is not a valid regular expression",FormatTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid time",FormatURIError:"Value `{{value}}` at `{{pointer}}` is not a valid uri",FormatURIReferenceError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-reference",FormatURITemplateError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-template",FormatURLError:"Value `{{value}}` at `{{pointer}}` is not a valid url",FormatUUIDError:"Value `{{value}}` at `{{pointer}}` is not a valid uuid",InvalidDataError:"No value may be specified in `{{pointer}}`",InvalidPropertyNameError:"Invalid property name `{{property}}` at `{{pointer}}`",MaximumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{maximum}}` at maximum",MaxItemsError:"Too many items in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MaxLengthError:"Value `{{pointer}}` should have a maximum length of `{{maxLength}}`, but got `{{length}}`.",MaxPropertiesError:"Too many properties in `{{pointer}}`, should be `{{maxProperties}}` at most, but got `{{length}}`",MinimumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{minimum}}` at minimum",MinItemsError:"Too few items in `{{pointer}}`, should be at least `{{minItems}}`, but got `{{length}}`",MinItemsOneError:"At least one item is required in `{{pointer}}`",MinLengthError:"Value `{{pointer}}` should have a minimum length of `{{minLength}}`, but got `{{length}}`.",MinLengthOneError:"A value is required in `{{pointer}}`",MinPropertiesError:"Too few properties in `{{pointer}}`, should be at least `{{minProperties}}`, but got `{{length}}`",MissingDependencyError:"The required propery '{{missingProperty}}' in `{{pointer}}` is missing",MissingOneOfPropertyError:"Value at `{{pointer}}` property: `{{property}}`",MultipleOfError:"Expected `{{value}}` in `{{pointer}}` to be multiple of `{{multipleOf}}`",MultipleOneOfError:"Value `{{value}}` should not match multiple schemas in oneOf `{{matches}}`",NoAdditionalPropertiesError:"Additional property `{{property}}` in `{{pointer}}` is not allowed",NotError:"Value `{{value}}` at pointer should not match schema `{{not}}`",OneOfError:"Value `{{value}}` in `{{pointer}}` does not match any given oneof schema",OneOfPropertyError:"Failed finding a matching oneOfProperty schema in `{{pointer}}` where `{{property}}` matches `{{value}}`",PatternError:"Value in `{{pointer}}` should match `{{description}}`, but received `{{received}}`",PatternPropertiesError:"Property `{{key}}` does not match any patterns in `{{pointer}}`. Valid patterns are: {{patterns}}",RequiredPropertyError:"The required property `{{key}}` is missing at `{{pointer}}`",SchemaWarning:"Failed retrieving a schema from '{{pointer}}' to key '{{key}}'",TypeError:"Expected `{{value}}` ({{received}}) in `{{pointer}}` to be of type `{{expected}}`",UndefinedValueError:"Value must not be undefined in `{{pointer}}`",UnevaluatedPropertyError:"Invalid unevaluated property `{{pointer}}`",UnevaluatedItemsError:"Invalid unevaluated item `{{pointer}}`",UniqueItemsError:"Items in array must be unique. Value `{{value}}` in `{{pointer}}` is a duplicate of {{duplicatePointer}}.",UnknownPropertyError:"Could not find a valid schema for property `{{pointer}}` within object",ValueNotEmptyError:"A value for `{{property}}` is required at `{{pointer}}`"},R$e=Object.prototype.toString;function Rt(e){const t=R$e.call(e).match(/\s([^\]]+)\]/).pop().toLowerCase();return t==="file"?"object":t}const k$e="object",M$e="array";function I$e(e,t={}){return e.replace(/\{\{\w+\}\}/g,n=>{const r=n.replace(/[{}]/g,""),i=t[r],s=Rt(i);return s===k$e||s===M$e?JSON.stringify(i):i})}function P$e(e,t,n=e){var r;const i=(r=$$e[e])!==null&&r!==void 0?r:n;return I$e(i,t)}function D$e(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function L$e(e,t){return{type:"error",name:e,code:D$e(e),message:P$e(e,t),data:t}}function Ze(e){return L$e.bind(null,e)}function py(e,t=[]){for(let n=0;n<e.length;n+=1){const r=e[n];Array.isArray(r)?py(r,t):t.push(r)}return t}const S0={DECLARATOR_ONEOF:"oneOfProperty",GET_TEMPLATE_RECURSION_LIMIT:1,propertyBlacklist:["_id"],templateDefaultOptions:{addOptionalProps:!1,removeInvalidData:!1,extendDefaults:!0}};function Wn(e){return(e==null?void 0:e.type)==="error"}function F$e(e){return e instanceof Promise}function bw(e){return Wn(e)||F$e(e)}function Bt(e){return Rt(e)==="object"}const{DECLARATOR_ONEOF:Zf}=S0;function _g(e,t){Bt(e)&&(e.__oneOfIndex=t)}function B$e(e,t){const{schema:n,draft:r,pointer:i}=e;if(t!=null&&n[Zf]){const a=[],c=n[Zf],u=t[n[Zf]];if(u===void 0)return r.errors.missingOneOfPropertyError({property:c,pointer:i,schema:n,value:t});for(let f=0;f<n.oneOf.length;f+=1){const m=e.next(n.oneOf[f]).resolveRef(),p=r.step(m,c,t);if(Wn(p))return p;let y=py(r.validate(p,u));if(y=y.filter(bw),y.length>0)a.push(...y);else return _g(m.schema,f),p.next(m.schema)}return r.errors.oneOfPropertyError({property:c,value:u,pointer:i,schema:n,errors:a})}const s=[],o=[];for(let a=0;a<n.oneOf.length;a+=1){const c=r.resolveRef(e.next(n.oneOf[a]));let u=py(r.validate(c,t));u=u.filter(bw),u.length>0?o.push(...u):s.push({index:a,schema:c.schema})}return s.length===1?(_g(s[0].schema,s[0].index),e.next(s[0].schema)):s.length>1?r.errors.multipleOneOfError({value:t,pointer:i,schema:n,matches:s}):r.errors.oneOfError({value:JSON.stringify(t),pointer:i,schema:n,oneOf:n.oneOf,errors:o})}function z$e(e,t){const{draft:n,schema:r,pointer:i}=e;if(t==null||r.properties==null)return-1;let s=0;const o=Object.keys(r.properties);for(let a=0;a<o.length;a+=1){const c=o[a];t[c]&&n.isValid(t[c],r.properties[c],i)&&(s+=1)}return s}function j4(e,t){const{schema:n,pointer:r,draft:i}=e;if(!Array.isArray(n.oneOf))throw new Error("not a oneof schema");if(t!=null&&n[Zf]){const o=[],a=n[Zf],c=t[n[Zf]];if(c===void 0)return i.errors.missingOneOfPropertyError({property:a,pointer:r,schema:n,value:t});for(let u=0;u<n.oneOf.length;u+=1){const f=i.resolveRef(e.next(n.oneOf[u])),m=i.step(f,a,t);if(Wn(m))return m;let p=py(i.validate(m,c));if(p=p.filter(bw),p.length>0)o.push(...p);else return _g(f.schema,u),m.next(f.schema)}return i.errors.oneOfPropertyError({property:a,value:c,pointer:r,schema:n,errors:o})}const s=[];for(let o=0;o<n.oneOf.length;o+=1){const c=i.resolveRef(e.next(n.oneOf[o])).schema;i.isValid(t,c,r)&&s.push({schema:c,index:o})}if(s.length===1)return _g(s[0].schema,s[0].index),e.next(s[0].schema);if(Bt(t)){let o,a=-1,c=0;for(let u=0;u<n.oneOf.length;u+=1){const f=i.resolveRef(e.next(n.oneOf[u])),m=z$e(f,t);c<m&&(c=m,o=f.schema,a=u)}return o===void 0?i.errors.oneOfError({value:JSON.stringify(t),pointer:r,schema:n,oneOf:n.oneOf}):(_g(o,a),e.next(o))}return s.length>1?i.errors.multipleOneOfError({matches:s,pointer:r,schema:n,value:t}):i.errors.oneOfError({value:JSON.stringify(t),pointer:r,schema:n,oneOf:n.oneOf})}const V$e=(e,t)=>{if(Array.isArray(e.schema.oneOf)){const n=e.draft.resolveOneOf(e,t);if(Wn(n))return n}};function ai(e,t,...n){if((t==null?void 0:t.type)==="error")return t;if((e==null?void 0:e.type)==="error")return e;const r=Rt(e),i=Rt(t);if(r!==i)return e;const s=nx(e,t);for(let o=0;o<n.length;o+=1)delete s[n[o]];return s}function nx(e,t,n){var r;if(Bt(e)&&Bt(t)){const i={};return[...Object.keys(e),...Object.keys(t)].filter((s,o,a)=>a.indexOf(s)===o).forEach(s=>i[s]=nx(e[s],t[s],s)),i}if(Array.isArray(e)&&Array.isArray(t)){if(n==="required")return e.concat(t).filter((o,a,c)=>c.indexOf(o)===a);if(n==="items"){const o=[];for(let a=0;a<t.length;a+=1)Bt(e[a])&&Bt(t[a])&&e[a].type===t[a].type?o[a]=nx(e[a],t[a]):o.push((r=t[a])!==null&&r!==void 0?r:e[a]);return o}const i=[],s=[];for(let o=0;o<Math.max(e.length,t.length);o+=1)Bt(e[o])&&Bt(t[o])?i[o]=nx(e[o],t[o]):e[o]!==void 0&&t[o]!==void 0?(i[o]=e[o],s.push(t[o])):e[o]!==void 0?i[o]=e[o]:t[o]!==void 0&&s.push(t[o]);return[...i,...s].filter((o,a,c)=>c.indexOf(o)===a)}return Array.isArray(t)?t:Array.isArray(e)?e:t!==void 0?t:e}function pj(e,...t){const n={};return Object.keys(e).forEach(r=>{t.includes(r)||(n[r]=e[r])}),n}function TS(e,t){if(e.schema.if!=null){if(e.schema.if===!1)return e.next(e.schema.else);if(e.schema.if&&(e.schema.then||e.schema.else)){const n=e.draft.resolveRef(e.next(e.schema.if)),r=e.draft.validate(n,t);if(r.length===0&&e.schema.then){const i=e.next(e.schema.then);return e.draft.resolveRef(i)}if(r.length!==0&&e.schema.else){const i=e.next(e.schema.else);return e.draft.resolveRef(i)}}}}const U$e=(e,t)=>{const n=TS(e,t);if(n)return e.draft.validate(n,t)};function fG(e){return{...e}}function hG(e,t){const n=TS(e,t);if(n)return n;const r=fG(e.schema);return e.next(pj(r,"if","then","else"))}function q$e(e,t){const{schema:n}=e;let r=fG(n);for(let i=0;i<n.allOf.length;i+=1){const s=e.next(n.allOf[i]).resolveRef(),o=hG(s,t).schema;r=ai(r,o)}return delete r.allOf,e.next(r)}function mG(e,t){const{allOf:n}=t;if(!Array.isArray(n)||n.length===0)return;let r={};return n.forEach(i=>{if(i==null)return;const s=e.createNode(i).resolveRef();r=ai(r,s.schema)}),r}const H$e=(e,t)=>{const{draft:n,schema:r}=e,{allOf:i}=r;if(!Array.isArray(i)||i.length===0)return;const s=[];return r.allOf.forEach(o=>{s.push(...n.validate(e.next(o),t))}),s};function W$e(e,...t){if(e==null)throw new Error("undefined schema");const n=this,r=ai(n.schema,e,...t);return{...n,schema:r,path:[...n.path,[n.pointer,n.schema]]}}function G$e(){const e=this;return e.draft.resolveRef(e)}function J$e(e,t){if(Wn(e))return e;if(e==null)throw new Error("undefined schema");if(!Bt(e)&&Rt(e)!=="boolean")throw new Error(`bad schema type ${Rt(e)}`);const n=this;return{...n,pointer:t?`${n.pointer}/${t}`:n.pointer,schema:e,path:[...n.path,[n.pointer,n.schema]]}}function Zs(e){return Bt(e)&&e.next&&e.path&&e.draft}function Y$e(e,t,n="#"){return{draft:e,pointer:n,schema:t,path:[],next:J$e,merge:W$e,resolveRef:G$e}}function X$e(e){const t=e.path;let n=0;for(let i=t.length-1;i>=0;i--){const s=t[i][1];if(s.$id&&/^https?:\/\//.test(s.$id)&&s.$recursiveAnchor!==!0){n=i;break}}const r=t.find((i,s)=>s>=n&&i[1].$recursiveAnchor===!0);if(r)return e.next(r[1]);for(let i=t.length-1;i>=0;i--){const s=t[i][1];if(s.$id)return e.next(s)}return e.next(e.draft.rootSchema)}function pG(e){if(!Zs(e))throw new Error("expected node");if(e.schema==null)return e;if(e.schema.$recursiveRef)return pG(X$e(e));if(e.schema.$ref==null)return e;const t=e.draft.rootSchema.getRef(e.schema);return t===!1?e.next(t):e.merge(t,"$ref")}function K$e(e){return e.filter((t,n)=>e.indexOf(t)===n)}function gG(e,t){var n;const{schema:r}=e,i=(n=r.dependencies)!==null&&n!==void 0?n:r.dependentSchemas;if(!Bt(i)||!Bt(t))return;let s=!1,o={required:[]};if(Object.keys(i).forEach(a=>{var c,u;if(t[a]==null&&!(!((c=r.required)===null||c===void 0)&&c.includes(a)||!((u=o.required)===null||u===void 0)&&u.includes(a)))return;const f=i[a];if(Array.isArray(f)){s=!0,o.required.push(...f);return}if(Bt(f)){s=!0;const m=e.next(f).resolveRef();o=ai(o,m.schema);return}}),s)return o.required=K$e(o.required),o}const Q$e=(e,t)=>{const{draft:n,schema:r,pointer:i}=e,s=r.dependentRequired;if(!Bt(s))return;const o=[];return Object.keys(t).forEach(a=>{const c=s[a];if(c!==!0){if(c===!1){o.push(n.errors.missingDependencyError({pointer:i,schema:r,value:t}));return}if(Array.isArray(c))for(let u=0,f=c.length;u<f;u+=1)t[c[u]]===void 0&&o.push(n.errors.missingDependencyError({missingProperty:c[u],pointer:i,schema:r,value:t}))}}),o},Z$e=(e,t)=>{const{draft:n,schema:r,pointer:i}=e,s=r.dependentSchemas;if(!Bt(s))return;const o=[];return Object.keys(t).forEach(a=>{const c=s[a];if(c!==!0){if(c===!1){o.push(n.errors.missingDependencyError({pointer:i,schema:r,value:t}));return}Bt(c)&&n.validate(e.next(c),t).map(u=>o.push(u))}}),o},e4e=(e,t)=>{const{draft:n,schema:r,pointer:i}=e,s=r.dependencies;if(!Bt(s))return;const o=[];return Object.keys(t).forEach(a=>{if(s[a]===void 0||s[a]===!0)return;if(s[a]===!1){o.push(n.errors.missingDependencyError({pointer:i,schema:r,value:t}));return}let c;const u=Rt(s[a]),f=s[a];if(Array.isArray(f))c=f.filter(m=>t[m]===void 0).map(m=>n.errors.missingDependencyError({missingProperty:m,pointer:i,schema:r,value:t}));else if(u==="object")c=n.validate(e.next(s[a]),t);else throw new Error(`Invalid dependency definition for ${i}/${a}. Must be string[] or schema`);o.push(...c)}),o.length>0?o:void 0};function yG(e,t){const{draft:n,schema:r}=e;if(!Array.isArray(r.anyOf)||r.anyOf.length===0)return;let i;if(r.anyOf.forEach(s=>{const o=n.resolveRef(e.next(s));n.validate(o,t).length===0&&(i=i?ai(i,o.schema):o.schema)}),i)return e.next(i)}function t4e(e,t){const{anyOf:n}=e.schema;if(!Array.isArray(n)||n.length===0)return e;const r=yG(e,t);if(r){const{pointer:i,schema:s}=e;return e.draft.errors.anyOfError({pointer:i,schema:s,value:t,anyOf:JSON.stringify(n)})}return e.merge(r.schema,"anyOf")}const n4e=(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!(!Array.isArray(r.anyOf)||r.anyOf.length===0)){for(let s=0;s<r.anyOf.length;s+=1){const o=n.resolveRef(e.next(r.anyOf[s]));if(n.validate(o,t).length===0)return}return n.errors.anyOfError({pointer:i,schema:r,value:t,anyOf:r.anyOf})}},t9=["allOf","anyOf","oneOf","dependencies","if","then","else"],r4e=["allOf","anyOf","oneOf","dependencies","if"];function i4e(e){const t=Object.keys(e);return r4e.findIndex(n=>t.includes(n))!==-1}function gj(e,t){let n,r;const i=e.draft.resolveRef(e),{draft:s}=i,o=Zs(i)?i.schema:i;if(o.oneOf){const p=j4(i,t);Wn(p)?r=p:p&&(n=ai(n??{},p.schema))}if(Array.isArray(o.allOf)){const p=o.allOf.map(y=>{if(i4e(y)){const v=gj(i.next(y),t);if(v==null||Wn(v))return v;const x=ai(y,v.schema);return pj(x,...t9)}return y});if(p.length>0){const y=mG(s,{allOf:p});n=ai(n??{},y)}}const a=yG(i,t);a&&a.schema&&(n=ai(n??{},a.schema));const c=gG(i,t);c&&(n=ai(n??{},c));const u=TS(i,t);if(Zs(u)&&(n=ai(n??{},u.schema)),n==null)return r;if(Wn(n))return n;const f=gj(i.next(n),t);Zs(f)&&(n=ai(n,f.schema));const m=pj(n,...t9);return i.next(m)}const s4e=["allOf","anyOf","oneOf","dependencies","if","then","else"];function vw(e,t){const n=gj(e,t);return Zs(n)?e.merge(n.schema,...s4e):n||e}var o4e=Function.prototype.toString,q_=Object.create,a4e=Object.prototype.toString,l4e=function(){function e(){this._keys=[],this._values=[]}return e.prototype.has=function(t){return!!~this._keys.indexOf(t)},e.prototype.get=function(t){return this._values[this._keys.indexOf(t)]},e.prototype.set=function(t,n){this._keys.push(t),this._values.push(n)},e}();function c4e(){return new l4e}function u4e(){return new WeakMap}var d4e=typeof WeakMap<"u"?u4e:c4e;function A4(e){if(!e)return q_(null);var t=e.constructor;if(t===Object)return e===Object.prototype?{}:q_(e);if(t&&~o4e.call(t).indexOf("[native code]"))try{return new t}catch{}return q_(e)}function f4e(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}function h4e(e){return e.flags}var m4e=/test/g.flags==="g"?h4e:f4e;function bG(e){var t=a4e.call(e);return t.substring(8,t.length-1)}function p4e(e){return e[Symbol.toStringTag]||bG(e)}var g4e=typeof Symbol<"u"?p4e:bG,y4e=Object.defineProperty,b4e=Object.getOwnPropertyDescriptor,vG=Object.getOwnPropertyNames,T4=Object.getOwnPropertySymbols,xG=Object.prototype,wG=xG.hasOwnProperty,v4e=xG.propertyIsEnumerable,SG=typeof T4=="function";function x4e(e){return vG(e).concat(T4(e))}var w4e=SG?x4e:vG;function $S(e,t,n){for(var r=w4e(e),i=0,s=r.length,o=void 0,a=void 0;i<s;++i)if(o=r[i],!(o==="callee"||o==="caller")){if(a=b4e(e,o),!a){t[o]=n.copier(e[o],n);continue}!a.get&&!a.set&&(a.value=n.copier(a.value,n));try{y4e(t,o,a)}catch{t[o]=a.value}}return t}function S4e(e,t){var n=new t.Constructor;t.cache.set(e,n);for(var r=0,i=e.length;r<i;++r)n[r]=t.copier(e[r],t);return n}function E4e(e,t){var n=new t.Constructor;return t.cache.set(e,n),$S(e,n,t)}function EG(e,t){return e.slice(0)}function N4e(e,t){return e.slice(0,e.size,e.type)}function _4e(e,t){return new t.Constructor(EG(e.buffer))}function C4e(e,t){return new t.Constructor(e.getTime())}function NG(e,t){var n=new t.Constructor;return t.cache.set(e,n),e.forEach(function(r,i){n.set(i,t.copier(r,t))}),n}function O4e(e,t){return $S(e,NG(e,t),t)}function j4e(e,t){var n=A4(t.prototype);t.cache.set(e,n);for(var r in e)wG.call(e,r)&&(n[r]=t.copier(e[r],t));return n}function A4e(e,t){var n=A4(t.prototype);t.cache.set(e,n);for(var r in e)wG.call(e,r)&&(n[r]=t.copier(e[r],t));for(var i=T4(e),s=0,o=i.length,a=void 0;s<o;++s)a=i[s],v4e.call(e,a)&&(n[a]=t.copier(e[a],t));return n}var T4e=SG?A4e:j4e;function $4e(e,t){var n=A4(t.prototype);return t.cache.set(e,n),$S(e,n,t)}function H_(e,t){return new t.Constructor(e.valueOf())}function R4e(e,t){var n=new t.Constructor(e.source,m4e(e));return n.lastIndex=e.lastIndex,n}function rx(e,t){return e}function _G(e,t){var n=new t.Constructor;return t.cache.set(e,n),e.forEach(function(r){n.add(t.copier(r,t))}),n}function k4e(e,t){return $S(e,_G(e,t),t)}var M4e=Array.isArray,$4=Object.assign,I4e=Object.getPrototypeOf||function(e){return e.__proto__},CG={array:S4e,arrayBuffer:EG,blob:N4e,dataView:_4e,date:C4e,error:rx,map:NG,object:T4e,regExp:R4e,set:_G},P4e=$4({},CG,{array:E4e,map:O4e,object:$4e,set:k4e});function D4e(e){return{Arguments:e.object,Array:e.array,ArrayBuffer:e.arrayBuffer,Blob:e.blob,Boolean:H_,DataView:e.dataView,Date:e.date,Error:e.error,Float32Array:e.arrayBuffer,Float64Array:e.arrayBuffer,Int8Array:e.arrayBuffer,Int16Array:e.arrayBuffer,Int32Array:e.arrayBuffer,Map:e.map,Number:H_,Object:e.object,Promise:rx,RegExp:e.regExp,Set:e.set,String:H_,WeakMap:rx,WeakSet:rx,Uint8Array:e.arrayBuffer,Uint8ClampedArray:e.arrayBuffer,Uint16Array:e.arrayBuffer,Uint32Array:e.arrayBuffer,Uint64Array:e.arrayBuffer}}function OG(e){var t=$4({},CG,e),n=D4e(t),r=n.Array,i=n.Object;function s(o,a){if(a.prototype=a.Constructor=void 0,!o||typeof o!="object")return o;if(a.cache.has(o))return a.cache.get(o);if(a.prototype=I4e(o),a.Constructor=a.prototype&&a.prototype.constructor,!a.Constructor||a.Constructor===Object)return i(o,a);if(M4e(o))return r(o,a);var c=n[g4e(o)];return c?c(o,a):typeof o.then=="function"?o:i(o,a)}return function(a){return s(a,{Constructor:void 0,cache:d4e(),copier:s,prototype:void 0})}}function L4e(e){return OG($4({},P4e,e))}L4e({});var yj=OG({});class F4e{constructor(t,n){this.remotes={},this.errors={},this.typeKeywords={},this.validateKeyword={},this.validateType={},this.validateFormat={},this.config=t,this.typeKeywords=yj(t.typeKeywords),this.validateKeyword=Object.assign({},t.validateKeyword),this.validateType=Object.assign({},t.validateType),this.validateFormat=Object.assign({},t.validateFormat),this.errors=Object.assign({},t.errors),this.setSchema(n)}get rootSchema(){return this.__rootSchema}set rootSchema(t){t!=null&&(this.__rootSchema=this.config.compileSchema(this,t))}addRemoteSchema(t,n){this.config.addRemoteSchema(this,t,n)}compileSchema(t){var n;return this.config.compileSchema(this,t,(n=this.rootSchema)!==null&&n!==void 0?n:t)}createSchemaOf(t){return this.config.createSchemaOf(t)}each(t,n,r,i){const s=this.createNode(r??this.rootSchema,i);return this.config.each(s,t,n)}eachSchema(t,n=this.rootSchema){return this.config.eachSchema(n,t)}getChildSchemaSelection(t,n){return this.config.getChildSchemaSelection(this,t,n)}getSchema(t){const n=this.getSchemaNode(t);return Zs(n)?n.schema:n}getSchemaNode(t){return this.config.getSchema(this,t)}getTemplate(t,n,r=this.config.templateDefaultOptions){return this.config.getTemplate(this,t,n,r)}isValid(t,n,r){return this.config.isValid(this,t,n,r)}createNode(t,n="#"){return this.config.createNode(this,t,n)}resolveAnyOf(t,n){return this.config.resolveAnyOf(t,n)}resolveAllOf(t,n){return this.config.resolveAllOf(t,n)}resolveRef(t){return this.config.resolveRef(t)}resolveOneOf(t,n){return this.config.resolveOneOf(t,n)}setSchema(t){this.rootSchema=t}step(t,n,r){return this.config.step(t,n,r)}validate(t,n=this.rootSchema,r){if(Zs(t)){const s=n,o=t;return this.config.validate(o,s)}if(Wn(t))return[t];const i=this.createNode(n,r);return this.config.validate(i,t)}}function Lf(e,t,n,r){const i=t[e];Bt(i)&&Object.keys(i).forEach(s=>{Array.isArray(i[s])||(s==="$defs"?Lf("$defs",i[s],n,`${r}/${e}/$defs`):Fs(i[s],n,`${r}/${e}/${s}`))})}function wv(e,t,n,r){const i=t[e];Array.isArray(i)&&i.forEach((s,o)=>Fs(s,n,`${r}/${e}/${o}`))}function Fs(e,t,n=""){e!==void 0&&t(e,n)!==!0&&Bt(e)&&(Lf("properties",e,t,n),Lf("patternProperties",e,t,n),Fs(e.not,t,`${n}/not`),Fs(e.additionalProperties,t,`${n}/additionalProperties`),Lf("dependencies",e,t,n),Bt(e.items)&&Fs(e.items,t,`${n}/items`),wv("items",e,t,n),Fs(e.additionalItems,t,`${n}/additionalItems`),wv("allOf",e,t,n),wv("anyOf",e,t,n),wv("oneOf",e,t,n),Fs(e.if,t,`${n}/if`),Fs(e.then,t,`${n}/then`),Fs(e.else,t,`${n}/else`),Lf("definitions",e,t,n),Lf("$defs",e,t,n))}const B4e=/(#)+$/,W_=/#$/,n9=/^[#/]+/,r9=/^[^:]+:\/\/[^/]+\//,z4e=/\/[^/]*$/,V4e=/#.*$/,U4e=/^urn:uuid:[0-9A-Fa-f]/;function i9(e,t){return e==null&&t==null?"#":t==null?e.replace(W_,""):U4e.test(t)?t:e==null||e===""||e==="#"?t.replace(W_,""):t[0]==="#"?`${e.replace(V4e,"")}${t.replace(B4e,"")}`:r9.test(t)?t.replace(W_,""):r9.test(e)&&t.startsWith("/")?`${e.replace(/(^[^:]+:\/\/[^/]+)(.*)/,"$1")}/${t.replace(n9,"")}`:`${e.replace(z4e,"")}/${t.replace(n9,"")}`}var ix={exports:{}},q4e=ix.exports,s9;function H4e(){return s9||(s9=1,function(e,t){(function(n,r){e.exports=r()})(typeof self<"u"?self:q4e,()=>(()=>{var n={d:(L,F)=>{for(var H in F)n.o(F,H)&&!n.o(L,H)&&Object.defineProperty(L,H,{enumerable:!0,get:F[H]})},o:(L,F)=>Object.prototype.hasOwnProperty.call(L,F),r:L=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(L,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(L,"__esModule",{value:!0})}},r={};function i(L){return L==="#"||L===""||Array.isArray(L)&&L.length===0||!1}n.r(r),n.d(r,{default:()=>z,get:()=>m,isRoot:()=>i,join:()=>R,remove:()=>j,removeUndefinedItems:()=>C,set:()=>S,split:()=>f,splitLast:()=>D});const s=/~1/g,o=/~0/g,a=/(^#?\/?)/g;function c(L){return L.replace(s,"/").replace(o,"~")}function u(L){return c(decodeURIComponent(L))}function f(L){if(L==null||typeof L!="string"||i(L))return Array.isArray(L)?L:[];const F=L.indexOf("#")>=0?u:c,H=(L=L.replace(a,"")).split("/");for(let M=0,V=H.length;M<V;M+=1)H[M]=F(H[M]);return H}function m(L,F,H=void 0){if(F==null||L==null)return H;if(i(F))return L;const M=p(L,f(F));return M===void 0?H:M}function p(L,F){const H=F.shift();if(L!==void 0)return H!==void 0?p(L[H],F):L}const y=/^\[.*\]$/,v=/^\[(.+)\]$/;function x(L,F){return L==="__proto__"||L=="constructor"&&F.length>0&&F[0]=="prototype"}function S(L,F,H){if(F==null)return L;const M=f(F);if(M.length===0)return L;L==null&&(L=y.test(M[0])?[]:{});let V,T,I=L;for(;M.length>1;)V=M.shift(),T=y.test(M[0]),x(V,M)||(I=_(I,V,T));return V=M.pop(),N(I,V,H),L}function N(L,F,H){let M;const V=F.match(v);F==="[]"&&Array.isArray(L)?L.push(H):V?(M=V.pop(),L[M]=H):L[F]=H}function _(L,F,H){var M,V;const T=(V=(M=F.match(v))===null||M===void 0?void 0:M.pop())!==null&&V!==void 0?V:F;if(L[T]!=null)return L[T];const I=H?[]:{};return N(L,F,I),I}function C(L){let F=0,H=0;for(;F+H<L.length;)L[F+H]===void 0&&(H+=1),L[F]=L[F+H],F+=1;return L.length=L.length-H,L}function j(L,F,H){const M=f(F),V=M.pop(),T=m(L,M);return T&&delete T[V],Array.isArray(T)&&H!==!0&&C(T),L}const A=/~/g,$=/\//g;function k(L,F){if(L.length===0)return F?"#":"";for(let H=0,M=L.length;H<M;H+=1)L[H]=L[H].replace(A,"~0").replace($,"~1"),F&&(L[H]=encodeURIComponent(L[H]));return(F?"#/":"/")+L.join("/")}function R(L,...F){const H=[];if(Array.isArray(L))return k(L,arguments[1]===!0);const M=arguments[arguments.length-1],V=typeof M=="boolean"?M:L&&L[0]==="#";for(let I=0,P=arguments.length;I<P;I+=1)H.push.apply(H,f(arguments[I]));const T=[];for(let I=0,P=H.length;I<P;I+=1)if(H[I]===".."){if(T.length===0)return V?"#":"";T.pop()}else T.push(H[I]);return k(T,V)}function D(L){const F=f(L);if(F.length===0)return typeof L=="string"&&L[0]==="#"?["#",F[0]]:["",void 0];if(F.length===1)return L[0]==="#"?["#",F[0]]:["",F[0]];const H=F.pop();return[R(F,L[0]==="#"),H]}const z={get:m,set:S,remove:j,join:R,split:f,splitLast:D,isRoot:i,removeUndefinedItems:C};return r})())}(ix)),ix.exports}var Ru=H4e();const W4e=so(Ru),G_=/(#)+$/g,G4e=["",null,"#"];function J4e(e){if(G4e.includes(e))return[];if(e=e.replace(G_,""),e.indexOf("#")===-1)return[e.replace(/(#|\/)+$/g,"")];if(e.indexOf("#")===0)return[e.replace(G_,"")];const t=e.split("#");return t[0]=t[0].replace(/(#|\/)+$/g,""),t[1]=`#${t[1].replace(G_,"")}`,t}const Y4e=/(#)+$/g,X4e=e=>Rt(e)==="object";function ga(e,t,n){var r,i,s,o,a;let c;if(X4e(n)?c=n.__ref||n.$ref:c=n,c==null)return t;let u;const f=c.replace(Y4e,"");if(e.remotes[f]!=null)return u=e.remotes[f],u&&u.$ref?ga(e,u,u):u;const m=(r=e.anchors)===null||r===void 0?void 0:r[c];if(m)return Ru.get(t,m);if(e.ids[c]!=null)return u=Ru.get(t,e.ids[c]),u&&u.$ref?ga(e,t,u):u;const p=c,y=J4e(c);if(y.length===0)return t;if(y.length===1){if(c=y[0],e.remotes[c]&&(u=e.remotes[c],u&&u.$ref))return ga(e,t,u);if(e.ids[c])return u=Ru.get(t,e.ids[c]),u&&u.$ref?ga(e,t,u):u;const v=(i=t.getContext)===null||i===void 0?void 0:i.call(t).ids[c];if(v)return ga(e,t,v)}if(y.length===2){const v=y[0];c=y[1];const x=(s=e.remotes[v])!==null&&s!==void 0?s:e.remotes[`${v}/`];if(x)return x.getContext&&x.getContext().anchors[p]!=null?x.getRef(p):x.getRef?x.getRef(c):ga(e,x,c);const S=(o=e.ids[v])!==null&&o!==void 0?o:e.ids[`${v}/`];if(S)return ga(e,Ru.get(t,S),c)}return u=Ru.get(t,(a=e.ids[c])!==null&&a!==void 0?a:c),u&&u.$ref?ga(e,t,u):u}function ja(e){if(e===void 0)return;const t={type:Rt(e)};return t.type==="object"&&Bt(e)&&(t.properties={},Object.keys(e).forEach(n=>t.properties[n]=ja(e[n]))),t.type==="array"&&Array.isArray(e)&&(e.length===1?t.items=ja(e[0]):t.items=e.map(ja)),t}const K4e={additionalItemsError:Ze("AdditionalItemsError"),additionalPropertiesError:Ze("AdditionalPropertiesError"),allOfError:Ze("AllOfError"),anyOfError:Ze("AnyOfError"),constError:Ze("ConstError"),containsAnyError:Ze("ContainsAnyError"),containsArrayError:Ze("ContainsArrayError"),containsError:Ze("ContainsError"),containsMaxError:Ze("ContainsMaxError"),containsMinError:Ze("ContainsMinError"),enumError:Ze("EnumError"),forbiddenPropertyError:Ze("ForbiddenPropertyError"),formatDateError:Ze("FormatDateError"),formatDateTimeError:Ze("FormatDateTimeError"),formatDurationError:Ze("FormatDurationError"),formatEmailError:Ze("FormatEmailError"),formatHostnameError:Ze("FormatHostnameError"),formatIPV4Error:Ze("FormatIPV4Error"),formatIPV4LeadingZeroError:Ze("FormatIPV4LeadingZeroError"),formatIPV6Error:Ze("FormatIPV6Error"),formatIPV6LeadingZeroError:Ze("FormatIPV6LeadingZeroError"),formatJsonPointerError:Ze("FormatJsonPointerError"),formatRegExError:Ze("FormatRegExError"),formatTimeError:Ze("FormatTimeError"),formatURIError:Ze("FormatURIError"),formatURIReferenceError:Ze("FormatURIReferenceError"),formatURITemplateError:Ze("FormatURITemplateError"),formatURLError:Ze("FormatURLError"),formatUUIDError:Ze("FormatUUIDError"),invalidDataError:Ze("InvalidDataError"),invalidPropertyNameError:Ze("InvalidPropertyNameError"),invalidSchemaError:Ze("InvalidSchemaError"),invalidTypeError:Ze("InvalidTypeError"),maximumError:Ze("MaximumError"),maxItemsError:Ze("MaxItemsError"),maxLengthError:Ze("MaxLengthError"),maxPropertiesError:Ze("MaxPropertiesError"),minimumError:Ze("MinimumError"),minItemsError:Ze("MinItemsError"),minItemsOneError:Ze("MinItemsOneError"),minLengthError:Ze("MinLengthError"),minLengthOneError:Ze("MinLengthOneError"),minPropertiesError:Ze("MinPropertiesError"),missingDependencyError:Ze("MissingDependencyError"),missingOneOfPropertyError:Ze("MissingOneOfPropertyError"),multipleOfError:Ze("MultipleOfError"),multipleOneOfError:Ze("MultipleOneOfError"),noAdditionalPropertiesError:Ze("NoAdditionalPropertiesError"),notError:Ze("NotError"),oneOfError:Ze("OneOfError"),oneOfPropertyError:Ze("OneOfPropertyError"),patternError:Ze("PatternError"),patternPropertiesError:Ze("PatternPropertiesError"),requiredPropertyError:Ze("RequiredPropertyError"),schemaWarning:Ze("SchemaWarning"),typeError:Ze("TypeError"),undefinedValueError:Ze("UndefinedValueError"),unevaluatedItemsError:Ze("UnevaluatedItemsError"),unevaluatedPropertyError:Ze("UnevaluatedPropertyError"),uniqueItemsError:Ze("UniqueItemsError"),unknownPropertyError:Ze("UnknownPropertyError"),valueNotEmptyError:Ze("ValueNotEmptyError")};var J_={exports:{}},o9;function Q4e(){return o9||(o9=1,function(e){(function(t){t.exports.is_uri=r,t.exports.is_http_uri=i,t.exports.is_https_uri=s,t.exports.is_web_uri=o,t.exports.isUri=r,t.exports.isHttpUri=i,t.exports.isHttpsUri=s,t.exports.isWebUri=o;var n=function(a){var c=a.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return c};function r(a){if(a&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(a)&&!/%[^0-9a-f]/i.test(a)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(a)){var c=[],u="",f="",m="",p="",y="",v="";if(c=n(a),u=c[1],f=c[2],m=c[3],p=c[4],y=c[5],!!(u&&u.length&&m.length>=0)){if(f&&f.length){if(!(m.length===0||/^\//.test(m)))return}else if(/^\/\//.test(m))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(u.toLowerCase()))return v+=u+":",f&&f.length&&(v+="//"+f),v+=m,p&&p.length&&(v+="?"+p),y&&y.length&&(v+="#"+y),v}}}function i(a,c){if(r(a)){var u=[],f="",m="",p="",y="",v="",x="",S="";if(u=n(a),f=u[1],m=u[2],p=u[3],v=u[4],x=u[5],!!f){if(c){if(f.toLowerCase()!="https")return}else if(f.toLowerCase()!="http")return;if(m)return/:(\d+)$/.test(m)&&(y=m.match(/:(\d+)$/)[0],m=m.replace(/:\d+$/,"")),S+=f+":",S+="//"+m,y&&(S+=y),S+=p,v&&v.length&&(S+="?"+v),x&&x.length&&(S+="#"+x),S}}}function s(a){return i(a,!0)}function o(a){return i(a)||s(a)}})(e)}(J_)),J_.exports}var Z4e=Q4e();const a9=so(Z4e);var Dr={},sx={exports:{}},e3e=sx.exports,l9;function t3e(){return l9||(l9=1,function(e){(function(t,n){e.exports?e.exports=n():t.nearley=n()})(e3e,function(){function t(u,f,m){return this.id=++t.highestId,this.name=u,this.symbols=f,this.postprocess=m,this}t.highestId=0,t.prototype.toString=function(u){var f=typeof u>"u"?this.symbols.map(c).join(" "):this.symbols.slice(0,u).map(c).join(" ")+"  "+this.symbols.slice(u).map(c).join(" ");return this.name+"  "+f};function n(u,f,m,p){this.rule=u,this.dot=f,this.reference=m,this.data=[],this.wantedBy=p,this.isComplete=this.dot===u.symbols.length}n.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},n.prototype.nextState=function(u){var f=new n(this.rule,this.dot+1,this.reference,this.wantedBy);return f.left=this,f.right=u,f.isComplete&&(f.data=f.build(),f.right=void 0),f},n.prototype.build=function(){var u=[],f=this;do u.push(f.right.data),f=f.left;while(f.left);return u.reverse(),u},n.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,o.fail))};function r(u,f){this.grammar=u,this.index=f,this.states=[],this.wants={},this.scannable=[],this.completed={}}r.prototype.process=function(u){for(var f=this.states,m=this.wants,p=this.completed,y=0;y<f.length;y++){var v=f[y];if(v.isComplete){if(v.finish(),v.data!==o.fail){for(var x=v.wantedBy,S=x.length;S--;){var N=x[S];this.complete(N,v)}if(v.reference===this.index){var _=v.rule.name;(this.completed[_]=this.completed[_]||[]).push(v)}}}else{var _=v.rule.symbols[v.dot];if(typeof _!="string"){this.scannable.push(v);continue}if(m[_]){if(m[_].push(v),p.hasOwnProperty(_))for(var C=p[_],S=0;S<C.length;S++){var j=C[S];this.complete(v,j)}}else m[_]=[v],this.predict(_)}}},r.prototype.predict=function(u){for(var f=this.grammar.byName[u]||[],m=0;m<f.length;m++){var p=f[m],y=this.wants[u],v=new n(p,0,this.index,y);this.states.push(v)}},r.prototype.complete=function(u,f){var m=u.nextState(f);this.states.push(m)};function i(u,f){this.rules=u,this.start=f||this.rules[0].name;var m=this.byName={};this.rules.forEach(function(p){m.hasOwnProperty(p.name)||(m[p.name]=[]),m[p.name].push(p)})}i.fromCompiled=function(p,f){var m=p.Lexer;p.ParserStart&&(f=p.ParserStart,p=p.ParserRules);var p=p.map(function(v){return new t(v.name,v.symbols,v.postprocess)}),y=new i(p,f);return y.lexer=m,y};function s(){this.reset("")}s.prototype.reset=function(u,f){this.buffer=u,this.index=0,this.line=f?f.line:1,this.lastLineBreak=f?-f.col:0},s.prototype.next=function(){if(this.index<this.buffer.length){var u=this.buffer[this.index++];return u===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:u}}},s.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},s.prototype.formatError=function(u,f){var m=this.buffer;if(typeof m=="string"){var p=m.split(`
`).slice(Math.max(0,this.line-5),this.line),y=m.indexOf(`
`,this.index);y===-1&&(y=m.length);var v=this.index-this.lastLineBreak,x=String(this.line).length;return f+=" at line "+this.line+" col "+v+`:

`,f+=p.map(function(N,_){return S(this.line-p.length+_+1,x)+" "+N},this).join(`
`),f+=`
`+S("",x+v)+`^
`,f}else return f+" at index "+(this.index-1);function S(N,_){var C=String(N);return Array(_-C.length+1).join(" ")+C}};function o(u,f,m){if(u instanceof i)var p=u,m=f;else var p=i.fromCompiled(u,f);this.grammar=p,this.options={keepHistory:!1,lexer:p.lexer||new s};for(var y in m||{})this.options[y]=m[y];this.lexer=this.options.lexer,this.lexerState=void 0;var v=new r(p,0);this.table=[v],v.wants[p.start]=[],v.predict(p.start),v.process(),this.current=0}o.fail={},o.prototype.feed=function(u){var f=this.lexer;f.reset(u,this.lexerState);for(var m;;){try{if(m=f.next(),!m)break}catch(k){var x=new r(this.grammar,this.current+1);this.table.push(x);var p=new Error(this.reportLexerError(k));throw p.offset=this.current,p.token=k.token,p}var y=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var v=this.current+1,x=new r(this.grammar,v);this.table.push(x);for(var S=m.text!==void 0?m.text:m.value,N=f.constructor===s?m.value:m,_=y.scannable,C=_.length;C--;){var j=_[C],A=j.rule.symbols[j.dot];if(A.test?A.test(N):A.type?A.type===m.type:A.literal===S){var $=j.nextState({data:N,token:m,isToken:!0,reference:v-1});x.states.push($)}}if(x.process(),x.states.length===0){var p=new Error(this.reportError(m));throw p.offset=this.current,p.token=m,p}this.options.keepHistory&&(y.lexerState=f.save()),this.current++}return y&&(this.lexerState=f.save()),this.results=this.finish(),this},o.prototype.reportLexerError=function(u){var f,m,p=u.token;return p?(f="input "+JSON.stringify(p.text[0])+" (lexer error)",m=this.lexer.formatError(p,"Syntax error")):(f="input (lexer error)",m=u.message),this.reportErrorCommon(m,f)},o.prototype.reportError=function(u){var f=(u.type?u.type+" token: ":"")+JSON.stringify(u.value!==void 0?u.value:u),m=this.lexer.formatError(u,"Syntax error");return this.reportErrorCommon(m,f)},o.prototype.reportErrorCommon=function(u,f){var m=[];m.push(u);var p=this.table.length-2,y=this.table[p],v=y.states.filter(function(S){var N=S.rule.symbols[S.dot];return N&&typeof N!="string"});if(v.length===0)m.push("Unexpected "+f+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(y.states,m);else{m.push("Unexpected "+f+`. Instead, I was expecting to see one of the following:
`);var x=v.map(function(S){return this.buildFirstStateStack(S,[])||[S]},this);x.forEach(function(S){var N=S[0],_=N.rule.symbols[N.dot],C=this.getSymbolDisplay(_);m.push("A "+C+" based on:"),this.displayStateStack(S,m)},this)}return m.push(""),m.join(`
`)},o.prototype.displayStateStack=function(u,f){for(var m,p=0,y=0;y<u.length;y++){var v=u[y],x=v.rule.toString(v.dot);x===m?p++:(p>0&&f.push("    ^ "+p+" more lines identical to this"),p=0,f.push("    "+x)),m=x}},o.prototype.getSymbolDisplay=function(u){return a(u)},o.prototype.buildFirstStateStack=function(u,f){if(f.indexOf(u)!==-1)return null;if(u.wantedBy.length===0)return[u];var m=u.wantedBy[0],p=[u].concat(f),y=this.buildFirstStateStack(m,p);return y===null?null:[u].concat(y)},o.prototype.save=function(){var u=this.table[this.current];return u.lexerState=this.lexerState,u},o.prototype.restore=function(u){var f=u.index;this.current=f,this.table[f]=u,this.table.splice(f+1),this.lexerState=u.lexerState,this.results=this.finish()},o.prototype.rewind=function(u){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[u])},o.prototype.finish=function(){var u=[],f=this.grammar.start,m=this.table[this.table.length-1];return m.states.forEach(function(p){p.rule.name===f&&p.dot===p.rule.symbols.length&&p.reference===0&&p.data!==o.fail&&u.push(p)}),u.map(function(p){return p.data})};function a(u){var f=typeof u;if(f==="string")return u;if(f==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return"character matching "+u;if(u.type)return u.type+" token";if(u.test)return"token matching "+String(u.test);throw new Error("Unknown symbol type: "+u)}}function c(u){var f=typeof u;if(f==="string")return u;if(f==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return u.toString();if(u.type)return"%"+u.type;if(u.test)return"<"+String(u.test)+">";throw new Error("Unknown symbol type: "+u)}}return{Parser:o,Grammar:i,Rule:t}})}(sx)),sx.exports}var Sv={},c9;function n3e(){if(c9)return Sv;c9=1,Object.defineProperty(Sv,"__esModule",{value:!0});function e(i){return i[0]}const t=i=>[].concat(...i.map(s=>Array.isArray(s)?t(s):s));function n(i){return i?Array.isArray(i)?t(i).join(""):i:""}const r={Lexer:void 0,ParserRules:[{name:"Reverse_path",symbols:["Path"]},{name:"Reverse_path$string$1",symbols:[{literal:"<"},{literal:">"}],postprocess:i=>i.join("")},{name:"Reverse_path",symbols:["Reverse_path$string$1"]},{name:"Forward_path$subexpression$1$subexpression$1",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:"@"}],postprocess:function(i){return i.join("")}},{name:"Forward_path$subexpression$1",symbols:["Forward_path$subexpression$1$subexpression$1","Domain",{literal:">"}]},{name:"Forward_path",symbols:["Forward_path$subexpression$1"]},{name:"Forward_path$subexpression$2",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:">"}],postprocess:function(i){return i.join("")}},{name:"Forward_path",symbols:["Forward_path$subexpression$2"]},{name:"Forward_path",symbols:["Path"]},{name:"Path$ebnf$1$subexpression$1",symbols:["A_d_l",{literal:":"}]},{name:"Path$ebnf$1",symbols:["Path$ebnf$1$subexpression$1"],postprocess:e},{name:"Path$ebnf$1",symbols:[],postprocess:()=>null},{name:"Path",symbols:[{literal:"<"},"Path$ebnf$1","Mailbox",{literal:">"}]},{name:"A_d_l$ebnf$1",symbols:[]},{name:"A_d_l$ebnf$1$subexpression$1",symbols:[{literal:","},"At_domain"]},{name:"A_d_l$ebnf$1",symbols:["A_d_l$ebnf$1","A_d_l$ebnf$1$subexpression$1"],postprocess:i=>i[0].concat([i[1]])},{name:"A_d_l",symbols:["At_domain","A_d_l$ebnf$1"]},{name:"At_domain",symbols:[{literal:"@"},"Domain"]},{name:"Domain$ebnf$1",symbols:[]},{name:"Domain$ebnf$1$subexpression$1",symbols:[{literal:"."},"sub_domain"]},{name:"Domain$ebnf$1",symbols:["Domain$ebnf$1","Domain$ebnf$1$subexpression$1"],postprocess:i=>i[0].concat([i[1]])},{name:"Domain",symbols:["sub_domain","Domain$ebnf$1"]},{name:"sub_domain",symbols:["U_label"]},{name:"Let_dig",symbols:["ALPHA_DIGIT"],postprocess:e},{name:"Ldh_str$ebnf$1",symbols:[]},{name:"Ldh_str$ebnf$1",symbols:["Ldh_str$ebnf$1","ALPHA_DIG_DASH"],postprocess:i=>i[0].concat([i[1]])},{name:"Ldh_str",symbols:["Ldh_str$ebnf$1","Let_dig"]},{name:"U_Let_dig",symbols:["ALPHA_DIGIT_U"],postprocess:e},{name:"U_Ldh_str$ebnf$1",symbols:[]},{name:"U_Ldh_str$ebnf$1",symbols:["U_Ldh_str$ebnf$1","ALPHA_DIG_DASH_U"],postprocess:i=>i[0].concat([i[1]])},{name:"U_Ldh_str",symbols:["U_Ldh_str$ebnf$1","U_Let_dig"]},{name:"U_label$ebnf$1$subexpression$1",symbols:["U_Ldh_str"]},{name:"U_label$ebnf$1",symbols:["U_label$ebnf$1$subexpression$1"],postprocess:e},{name:"U_label$ebnf$1",symbols:[],postprocess:()=>null},{name:"U_label",symbols:["U_Let_dig","U_label$ebnf$1"]},{name:"address_literal$subexpression$1",symbols:["IPv4_address_literal"]},{name:"address_literal$subexpression$1",symbols:["IPv6_address_literal"]},{name:"address_literal$subexpression$1",symbols:["General_address_literal"]},{name:"address_literal",symbols:[{literal:"["},"address_literal$subexpression$1",{literal:"]"}]},{name:"non_local_part",symbols:["Domain"],postprocess:function(i){return{DomainName:n(i[0])}}},{name:"non_local_part",symbols:["address_literal"],postprocess:function(i){return{AddressLiteral:n(i[0])}}},{name:"Mailbox",symbols:["Local_part",{literal:"@"},"non_local_part"],postprocess:function(i){return{localPart:n(i[0]),domainPart:n(i[2])}}},{name:"Local_part",symbols:["Dot_string"],postprocess:function(i){return{DotString:n(i[0])}}},{name:"Local_part",symbols:["Quoted_string"],postprocess:function(i){return{QuotedString:n(i[0])}}},{name:"Dot_string$ebnf$1",symbols:[]},{name:"Dot_string$ebnf$1$subexpression$1",symbols:[{literal:"."},"Atom"]},{name:"Dot_string$ebnf$1",symbols:["Dot_string$ebnf$1","Dot_string$ebnf$1$subexpression$1"],postprocess:i=>i[0].concat([i[1]])},{name:"Dot_string",symbols:["Atom","Dot_string$ebnf$1"]},{name:"Atom$ebnf$1",symbols:[/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/]},{name:"Atom$ebnf$1",symbols:["Atom$ebnf$1",/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/],postprocess:i=>i[0].concat([i[1]])},{name:"Atom",symbols:["Atom$ebnf$1"]},{name:"Quoted_string$ebnf$1",symbols:[]},{name:"Quoted_string$ebnf$1",symbols:["Quoted_string$ebnf$1","QcontentSMTP"],postprocess:i=>i[0].concat([i[1]])},{name:"Quoted_string",symbols:["DQUOTE","Quoted_string$ebnf$1","DQUOTE"]},{name:"QcontentSMTP",symbols:["qtextSMTP"]},{name:"QcontentSMTP",symbols:["quoted_pairSMTP"]},{name:"quoted_pairSMTP",symbols:[{literal:"\\"},/[\x20-\x7e]/]},{name:"qtextSMTP",symbols:[/[\x20-\x21\x23-\x5b\x5d-\x7e\u0080-\uFFFF]/],postprocess:e},{name:"IPv4_address_literal$macrocall$2",symbols:[{literal:"."},"Snum"]},{name:"IPv4_address_literal$macrocall$1",symbols:["IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2"]},{name:"IPv4_address_literal",symbols:["Snum","IPv4_address_literal$macrocall$1"]},{name:"IPv6_address_literal$subexpression$1",symbols:[/[iI]/,/[pP]/,/[vV]/,{literal:"6"},{literal:":"}],postprocess:function(i){return i.join("")}},{name:"IPv6_address_literal",symbols:["IPv6_address_literal$subexpression$1","IPv6_addr"]},{name:"General_address_literal$ebnf$1",symbols:["dcontent"]},{name:"General_address_literal$ebnf$1",symbols:["General_address_literal$ebnf$1","dcontent"],postprocess:i=>i[0].concat([i[1]])},{name:"General_address_literal",symbols:["Standardized_tag",{literal:":"},"General_address_literal$ebnf$1"]},{name:"Standardized_tag",symbols:["Ldh_str"]},{name:"dcontent",symbols:[/[\x21-\x5a\x5e-\x7e]/],postprocess:e},{name:"Snum",symbols:["DIGIT"]},{name:"Snum$subexpression$1",symbols:[/[1-9]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$1"]},{name:"Snum$subexpression$2",symbols:[{literal:"1"},"DIGIT","DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$2"]},{name:"Snum$subexpression$3",symbols:[{literal:"2"},/[0-4]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$3"]},{name:"Snum$subexpression$4",symbols:[{literal:"2"},{literal:"5"},/[0-5]/]},{name:"Snum",symbols:["Snum$subexpression$4"]},{name:"IPv6_addr",symbols:["IPv6_full"]},{name:"IPv6_addr",symbols:["IPv6_comp"]},{name:"IPv6_addr",symbols:["IPv6v4_full"]},{name:"IPv6_addr",symbols:["IPv6v4_comp"]},{name:"IPv6_hex",symbols:["HEXDIG"]},{name:"IPv6_hex$subexpression$1",symbols:["HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$1"]},{name:"IPv6_hex$subexpression$2",symbols:["HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$2"]},{name:"IPv6_hex$subexpression$3",symbols:["HEXDIG","HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$3"]},{name:"IPv6_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_full$macrocall$1",symbols:["IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2"]},{name:"IPv6_full",symbols:["IPv6_hex","IPv6_full$macrocall$1"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$1",symbols:["IPv6_comp$ebnf$1$subexpression$1"],postprocess:e},{name:"IPv6_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:i=>i.join("")},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$2$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$2",symbols:["IPv6_comp$ebnf$2$subexpression$1"],postprocess:e},{name:"IPv6_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6_comp",symbols:["IPv6_comp$ebnf$1","IPv6_comp$string$1","IPv6_comp$ebnf$2"]},{name:"IPv6v4_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_full$macrocall$1",symbols:["IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2"]},{name:"IPv6v4_full",symbols:["IPv6_hex","IPv6v4_full$macrocall$1",{literal:":"},"IPv4_address_literal"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6v4_comp$ebnf$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1"],postprocess:e},{name:"IPv6v4_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:i=>i.join("")},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",{literal:":"}]},{name:"IPv6v4_comp$ebnf$2",symbols:["IPv6v4_comp$ebnf$2$subexpression$1"],postprocess:e},{name:"IPv6v4_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp",symbols:["IPv6v4_comp$ebnf$1","IPv6v4_comp$string$1","IPv6v4_comp$ebnf$2","IPv4_address_literal"]},{name:"DIGIT",symbols:[/[0-9]/],postprocess:e},{name:"ALPHA_DIGIT_U",symbols:[/[0-9A-Za-z\u0080-\uFFFF]/],postprocess:e},{name:"ALPHA_DIGIT",symbols:[/[0-9A-Za-z]/],postprocess:e},{name:"ALPHA_DIG_DASH",symbols:[/[-0-9A-Za-z]/],postprocess:e},{name:"ALPHA_DIG_DASH_U",symbols:[/[-0-9A-Za-z\u0080-\uFFFF]/],postprocess:e},{name:"HEXDIG",symbols:[/[0-9A-Fa-f]/],postprocess:e},{name:"DQUOTE",symbols:[{literal:'"'}],postprocess:e}],ParserStart:"Reverse_path"};return Sv.default=r,Sv}var u9;function r3e(){if(u9)return Dr;u9=1;var e=Dr&&Dr.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.canonicalize=Dr.canonicalize_quoted_string=Dr.normalize=Dr.normalize_dot_string=Dr.parse=void 0;const t=t3e(),n=e(n3e());n.default.ParserStart="Mailbox";const r=t.Grammar.fromCompiled(n.default);function i(u){const f=new t.Parser(r);if(f.feed(u),f.results.length!==1)throw new Error("address parsing failed: ambiguous grammar");return f.results[0]}Dr.parse=i;function s(u){return function(){const p=u.indexOf("+");return p===-1?u:u.substr(0,p)}().replace(/\./g,"").toLowerCase()}Dr.normalize_dot_string=s;function o(u){var f,m;const p=i(u),y=(f=p.domainPart.AddressLiteral)!==null&&f!==void 0?f:p.domainPart.DomainName.toLowerCase();return`${(m=p.localPart.QuotedString)!==null&&m!==void 0?m:s(p.localPart.DotString)}@${y}`}Dr.normalize=o;function a(u){return`"${u.substr(1).substr(0,u.length-2).replace(/(?:\\(.))/g,"$1").replace(/(?:(["\\]))/g,"\\$1")}"`}Dr.canonicalize_quoted_string=a;function c(u){var f;const m=i(u),p=(f=m.domainPart.AddressLiteral)!==null&&f!==void 0?f:m.domainPart.DomainName.toLowerCase();return`${m.localPart.QuotedString?a(m.localPart.QuotedString):m.localPart.DotString}@${p}`}return Dr.canonicalize=c,Dr}var i3e=r3e();const s3e=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,o3e=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,a3e=/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,l3e=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,c3e=/^(?<time>(?:([0-1]\d|2[0-3]):[0-5]\d:(?<second>[0-5]\d|60)))(?:\.\d+)?(?<offset>(?:z|[+-]([0-1]\d|2[0-3])(?::?[0-5]\d)?))$/i,u3e=[0,31,28,31,30,31,30,31,31,30,31,30,31],d3e=/^(?:\/(?:[^~/]|~0|~1)*)*$/,f3e=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,h3e=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,m3e=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,p3e=/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,bj={date:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(typeof t!="string"||t==="")return;const s=t.match(l3e);if(!s)return n.errors.formatDateTimeError({value:t,pointer:i,schema:r});const o=+s[1],a=+s[2],c=+s[3],u=o%4===0&&(o%100!==0||o%400===0);if(!(a>=1&&a<=12&&c>=1&&c<=(a==2&&u?29:u3e[a])))return n.errors.formatDateError({value:t,pointer:i,schema:r})},"date-time":(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(typeof t!="string"||t==="")return;const s=t.split(/t/i);if(s.length===2){const o=bj.date(e,s[0])===void 0,a=bj.time(e,s[1])===void 0;if(o&&a)return}return n.errors.formatDateTimeError({value:t,pointer:i,schema:r})},duration:(e,t)=>{if(Rt(t)!=="string")return;const r=/(\d+M)(\d+W)|(\d+Y)(\d+W)/;if(!p3e.test(t)||r.test(t))return e.draft.errors.formatDurationError({value:t,pointer:e.pointer,schema:e.schema})},email:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(typeof t!="string"||t==="")return;if(t[0]==='"')return n.errors.formatEmailError({value:t,pointer:i,schema:r});const[s,o,...a]=t.split("@");if(!s||!o||a.length!==0||s.length>64||o.length>253)return n.errors.formatEmailError({value:t,pointer:i,schema:r});if(s[0]==="."||s.endsWith(".")||s.includes(".."))return n.errors.formatEmailError({value:t,pointer:i,schema:r});if(!/^[a-z0-9.-]+$/i.test(o)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(s))return n.errors.formatEmailError({value:t,pointer:i,schema:r});if(!o.split(".").every(c=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(c)))return n.errors.formatEmailError({value:t,pointer:i,schema:r})},"idn-email":(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!(typeof t!="string"||t===""))try{i3e.parse(t);return}catch{return n.errors.formatEmailError({value:t,pointer:i,schema:r})}},hostname:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(typeof t=="string"&&!(t===""||a3e.test(t)))return n.errors.formatHostnameError({value:t,pointer:i,schema:r})},ipv4:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!(typeof t!="string"||t==="")){if(t&&t[0]==="0")return n.errors.formatIPV4LeadingZeroError({value:t,pointer:i,schema:r});if(!(t.length<=15&&s3e.test(t)))return n.errors.formatIPV4Error({value:t,pointer:i,schema:r})}},ipv6:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!(typeof t!="string"||t==="")){if(t&&t[0]==="0")return n.errors.formatIPV6LeadingZeroError({value:t,pointer:i,schema:r});if(!(t.length<=45&&o3e.test(t)))return n.errors.formatIPV6Error({value:t,pointer:i,schema:r})}},"json-pointer":(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!(typeof t!="string"||t==="")&&!d3e.test(t))return n.errors.formatJsonPointerError({value:t,pointer:i,schema:r})},"relative-json-pointer":(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(typeof t=="string"&&!f3e.test(t))return n.errors.formatJsonPointerError({value:t,pointer:i,schema:r})},regex:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(typeof t=="string"&&/\\Z$/.test(t)===!1){try{new RegExp(t);return}catch{}return n.errors.formatRegExError({value:t,pointer:i,schema:r})}if(!(typeof t=="object"||typeof t=="number"||Array.isArray(t)))return n.errors.formatRegExError({value:t,pointer:i,schema:r})},time:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(typeof t!="string"||t==="")return;const s=t.match(c3e);if(!s)return n.errors.formatDateTimeError({value:t,pointer:i,schema:r});if(s.groups.second==="60"){if(/23:59:60(z|\+00:00)/i.test(t))return;const o=s.groups.time.match(/(\d+):(\d+):/),a=s.groups.offset.match(/(\d+):(\d+)/);if(a){const c=parseInt(o[1]),u=parseInt(a[1]),f=parseInt(o[2]),m=parseInt(a[2]);let p;/^-/.test(s.groups.offset)?p=(c+u)*60+(f+m):p=(24+c-u)*60+(f-m);const y=Math.floor(p/60),v=y%24,x=p-y*60;if(v===23&&x===59)return}return n.errors.formatDateTimeError({value:t,pointer:i,schema:r})}},uri:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!(typeof t!="string"||t==="")&&!a9.isUri(t))return n.errors.formatURIError({value:t,pointer:i,schema:r})},"uri-reference":(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!(typeof t!="string"||t==="")&&!h3e.test(t))return n.errors.formatURIReferenceError({value:t,pointer:i,schema:r})},"uri-template":(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!(typeof t!="string"||t==="")&&!m3e.test(t))return n.errors.formatURITemplateError({value:t,pointer:i,schema:r})},url:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!(t===""||a9.isWebUri(t)))return n.errors.formatURLError({value:t,pointer:i,schema:r})},uuid:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!(typeof t!="string"||t==="")&&!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))return n.errors.formatUUIDError({value:t,pointer:i,schema:r})}};function g3e(e,t,n=e.rootSchema){var r;if(n.oneOf)return n.oneOf.map(s=>e.createNode(s).resolveRef().schema);if(!((r=n.items)===null||r===void 0)&&r.oneOf)return n.items.oneOf.map(s=>e.createNode(s).resolveRef().schema);if(Array.isArray(n.items)&&n.items.length>+t)return[e.step(e.createNode(n),t,{}).schema];if(n.additionalItems&&!Bt(n.items)){const s=n.additionalItems===!0?{type:"string"}:n.additionalItems;return[e.createNode(s).resolveRef().schema]}if(Array.isArray(n.items)&&n.items.length<=+t)return[];const i=e.step(e.createNode(n),t,{});return Wn(i)?i:[i.schema]}const jG={};function y3e(e,t=jG){const{pointer:n="#",data:r,schema:i=e.rootSchema,withSchemaWarning:s=!1}=t,o=W4e.split(n),a=e.createNode(i).resolveRef(),c=AG(a,o,r);return!s&&Wn(c)&&c.code==="schema-warning"?e.createNode(void 0):c}function AG(e,t,n=jG){if(t.length===0)return e.resolveRef();const r=t.shift(),i=e.draft.step(e,r,n);return Wn(i)?i:(n=n[r],AG(i,t,n))}var Y_,d9;function b3e(){if(d9)return Y_;d9=1;var e=function(_){return t(_)&&!n(_)};function t(N){return!!N&&typeof N=="object"}function n(N){var _=Object.prototype.toString.call(N);return _==="[object RegExp]"||_==="[object Date]"||s(N)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function s(N){return N.$$typeof===i}function o(N){return Array.isArray(N)?[]:{}}function a(N,_){return _.clone!==!1&&_.isMergeableObject(N)?x(o(N),N,_):N}function c(N,_,C){return N.concat(_).map(function(j){return a(j,C)})}function u(N,_){if(!_.customMerge)return x;var C=_.customMerge(N);return typeof C=="function"?C:x}function f(N){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(N).filter(function(_){return Object.propertyIsEnumerable.call(N,_)}):[]}function m(N){return Object.keys(N).concat(f(N))}function p(N,_){try{return _ in N}catch{return!1}}function y(N,_){return p(N,_)&&!(Object.hasOwnProperty.call(N,_)&&Object.propertyIsEnumerable.call(N,_))}function v(N,_,C){var j={};return C.isMergeableObject(N)&&m(N).forEach(function(A){j[A]=a(N[A],C)}),m(_).forEach(function(A){y(N,A)||(p(N,A)&&C.isMergeableObject(_[A])?j[A]=u(A,C)(N[A],_[A],C):j[A]=a(_[A],C))}),j}function x(N,_,C){C=C||{},C.arrayMerge=C.arrayMerge||c,C.isMergeableObject=C.isMergeableObject||e,C.cloneUnlessOtherwiseSpecified=a;var j=Array.isArray(_),A=Array.isArray(N),$=j===A;return $?j?C.arrayMerge(N,_,C):v(N,_,C):a(_,C)}x.all=function(_,C){if(!Array.isArray(_))throw new Error("first argument should be an array");return _.reduce(function(j,A){return x(j,A,C)},{})};var S=x;return Y_=S,Y_}var v3e=b3e();const x3e=so(v3e),w3e=(e,t)=>t,TG=(e,t)=>x3e(e,t,{arrayMerge:w3e});function S3e(e){switch(Rt(e)){case"string":case"array":return(e==null?void 0:e.length)===0;case"null":case"undefined":return!0;case"object":return Object.keys(e).length===0;default:return!1}}const f9=S0.templateDefaultOptions;let Aa;function X_(e,t){const{$ref:n}=e;return n==null?!0:(Aa[t]==null||Aa[t][n]==null?0:Aa[t][n])<S0.GET_TEMPLATE_RECURSION_LIMIT}function h9(e,t,n){const{$ref:r}=t;return r==null?t:(Aa[n]=Aa[n]||{},Aa[n][r]=Aa[n][r]||0,Aa[n][r]+=1,e.createNode(t,n).resolveRef().schema)}function E3e(e,t){if(e==="string")return JSON.stringify(t);if(typeof t!="string")return null;try{if(t=JSON.parse(t),typeof t===e)return t}catch{}return null}function $G(e,t,n,r,i){if(Rt(t)!=="object")return Object.assign({pointer:r},t);if(X_(t,r)===!1&&n==null)return!1;let s=yj(h9(e,t,r));if(Array.isArray(t.anyOf)&&t.anyOf.length>0){if(X_(t.anyOf[0],`${r}/anyOf/0`)){const o=h9(e,t.anyOf[0],`${r}/anyOf/0`);s=TG(s,o),s.pointer=t.anyOf[0].$ref||s.pointer}delete s.anyOf}if(Array.isArray(t.allOf)&&t.allOf.map((a,c)=>X_(a,`${r}/allOf/${c}`)).reduceRight((a,c)=>a&&c,!0)){const a=[];let c=yj(n);for(let f=0;f<t.allOf.length;f+=1){const m=e.createNode(t.allOf[f],r);a.push(hG(m,c).schema),c=Oi(e,c,{type:t.type,...a[f]},`${r}/allOf/${f}`,i)}const u=mG(e,{allOf:a});u&&(s=ai(s,u))}return s.pointer=s.pointer||t.$ref||r,s}const m9=e=>e&&typeof e=="object";function Oi(e,t,n,r,i){var s;if(n==null)throw new Error(`getTemplate: missing schema for data: ${JSON.stringify(t)}`);if(r==null)throw new Error("Missing pointer");let o=$G(e,n,t,r,i);if(!m9(o))return;if(r=o.pointer,o!=null&&o.const)return o.const;if(Array.isArray(o.oneOf))if(S3e(t)){const f=o.oneOf[0].type||o.type||o.const&&typeof o.const||Rt(t);o={...o.oneOf[0],type:f}}else{const f=e.createNode(o,r),m=j4(f,t);if(Wn(m)){if(t!=null&&i.removeInvalidData!==!0)return t;o=o.oneOf[0],t=void 0}else{const p=m.schema;p.type=(s=p.type)!==null&&s!==void 0?s:o.type,o=p}}if(!m9(o)||o.type==null)return;if(t instanceof File)return t;const a=Array.isArray(o.type)?N3e(o.type,t,o.default):o.type,c=Rt(t);return t!=null&&c!==a&&!(c==="number"&&a==="integer")&&(t=E3e(a,t)),p9[a]==null?i.removeInvalidData?void 0:t:p9[a](e,o,t,r,i)}function N3e(e,t,n){if(t==null){if(n!=null){const i=Rt(n);if(e.includes(i))return i}return e[0]}const r=Rt(t);return e.includes(r)?r:e[0]}const p9={null:(e,t,n)=>Xp(t,n,null),string:(e,t,n)=>Xp(t,n,""),number:(e,t,n)=>Xp(t,n,0),integer:(e,t,n)=>Xp(t,n,0),boolean:(e,t,n)=>Xp(t,n,!1),object:(e,t,n,r,i)=>{var s;const o=t.default===void 0?{}:t.default,a={},c=i.extendDefaults===!1&&t.default!==void 0?[]:(s=t.required)!==null&&s!==void 0?s:[];t.properties&&Object.keys(t.properties).forEach(y=>{const v=n==null||n[y]==null?o[y]:n[y],x=c.includes(y);(v!=null||x||i.addOptionalProps)&&(a[y]=Oi(e,v,t.properties[y],`${r}/properties/${y}`,i))});const u=e.createNode(t,r);let f=gG(u,a);if(f){f=ai(t,f),delete f.dependencies;const y=Oi(e,n,f,`${r}/dependencies`,i);Object.assign(a,y)}n&&(i.removeInvalidData===!0&&(t.additionalProperties===!1||Rt(t.additionalProperties)==="object")?Rt(t.additionalProperties)==="object"&&Object.keys(n).forEach(y=>{a[y]==null&&e.isValid(n[y],t.additionalProperties)&&(a[y]=n[y])}):Object.keys(n).forEach(y=>a[y]==null&&(a[y]=n[y])));const m=e.createNode(t,r),p=TS(m,a);if(Zs(p)){const y=Oi(e,a,{type:"object",...p.schema},r,i);Object.assign(a,y)}return a},array:(e,t,n,r,i)=>{var s,o,a;const c=t.default===void 0?[]:t.default,u=n||c,f=i.extendDefaults===!1&&t.default!==void 0?0:(s=t.minItems)!==null&&s!==void 0?s:0;if(t.items==null){if(t.additionalItems){const p=Math.max(f,u.length);for(let y=0;y<p;y+=1)u[y]=Oi(e,u[y],t.additionalItems,`${r}/additionalItems`,i)}return n||[]}if(Array.isArray(t.items)){const p=Math.max(f??0,(a=(o=t.items)===null||o===void 0?void 0:o.length)!==null&&a!==void 0?a:0);for(let y=0;y<p;y+=1)t.items[y]?u[y]=Oi(e,u[y]==null?c[y]:u[y],t.items[y],`${r}/items/${y}`,i):t.additionalItems&&(u[y]=Oi(e,u[y]==null?c[y]:u[y],t.additionalItems,`${r}/additionalItems`,i));return u}if(Rt(t.items)!=="object")return u;const m=$G(e,t.items,n,r,i);if(m===!1)return u;if(r=m.pointer||r,m.oneOf&&u.length===0){const p=m.oneOf[0];for(let y=0;y<f;y+=1)u[y]=Oi(e,u[y]==null?c[y]:u[y],p,`${r}/oneOf/0`,i);return u}if(m.oneOf&&u.length>0){const p=Math.max(f,u.length);for(let y=0;y<p;y+=1){let v=u[y]==null?c[y]:u[y];const x=e.createNode(m,r);let S=j4(x,v);S==null||Wn(S)?v!=null&&i.removeInvalidData!==!0?u[y]=v:(v=void 0,S=m.oneOf[0],u[y]=Oi(e,v,S,`${r}/oneOf/${y}`,i)):u[y]=Oi(e,v,S.schema,`${r}/oneOf/${y}`,i)}return u}if(m.type){for(let p=0,y=Math.max(f,u.length);p<y;p+=1)u[p]=Oi(e,u[p]==null?c[p]:u[p],m,`${r}/items`,i);return u}return u}};function Xp(e,t,n){return t??(e.const?e.const:e.default===void 0&&Array.isArray(e.enum)?e.enum[0]:e.default===void 0?n:e.default)}const _3e=(e,t,n=e.rootSchema,r)=>(Aa={},r?Oi(e,t,n,"#",{...f9,...r}):Oi(e,t,n,"#",f9));function C3e(e,t,n=e.rootSchema,r="#"){const i=e.createNode(n,r);return e.validate(i,t).length===0}function g9(e){const t=[];let n=0;const r=e.length;for(;n<r;){const i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=e.charCodeAt(n++);(s&64512)==56320?t.push(((i&1023)<<10)+(s&1023)+65536):(t.push(i),n--)}else t.push(i)}return t}function y9(e){const t=`${e}`;if(t.includes("e-"))return parseInt(t.replace(/.*e-/,""));const n=t.indexOf(".");return n===-1?0:t.length-(n+1)}var K_,b9;function O3e(){return b9||(b9=1,K_=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),K_}var j3e=O3e();const RG=so(j3e),A3e=Object.prototype.hasOwnProperty,v9=(e,t)=>!(e[t]===void 0||!A3e.call(e,t)),T3e={additionalProperties:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(r.additionalProperties===!0||r.additionalProperties==null||Rt(r.patternProperties)==="object"&&r.additionalProperties===!1)return;const s=[];let o=Object.keys(t).filter(c=>S0.propertyBlacklist.includes(c)===!1);const a=Object.keys(r.properties||{});if(Rt(r.patternProperties)==="object"){const c=Object.keys(r.patternProperties).map(u=>new RegExp(u));o=o.filter(u=>{for(let f=0;f<c.length;f+=1)if(c[f].test(u))return!1;return!0})}for(let c=0,u=o.length;c<u;c+=1){const f=o[c];if(a.indexOf(f)===-1){const m=Bt(r.additionalProperties);if(m&&Array.isArray(r.additionalProperties.oneOf)){const p=n.resolveOneOf(e.next(r.additionalProperties),t[f]);Wn(p)?s.push(n.errors.additionalPropertiesError({pointer:i,schema:r.additionalProperties,value:t,property:o[c],properties:a,errors:p.data.errors})):s.push(...n.validate(e.next(p,f),t[f]))}else if(m){const p=n.validate(e.next(r.additionalProperties,f),t[f]);s.push(...p)}else s.push(n.errors.noAdditionalPropertiesError({pointer:i,schema:r,value:t,property:o[c],properties:a}))}}return s},allOf:H$e,anyOf:n4e,dependencies:e4e,enum:(e,t)=>{const{draft:n,schema:r,pointer:i}=e,s=Rt(t);if(s==="object"||s==="array"){const o=JSON.stringify(t);for(let a=0;a<r.enum.length;a+=1)if(JSON.stringify(r.enum[a])===o)return}else if(r.enum.includes(t))return;return n.errors.enumError({pointer:i,schema:r,value:t,values:r.enum})},format:(e,t)=>{const{draft:n,schema:r}=e;if(n.validateFormat[r.format])return n.validateFormat[r.format](e,t)},items:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(r.items===!1)return Array.isArray(t)&&t.length===0?void 0:n.errors.invalidDataError({pointer:i,value:t,schema:r});const s=[];for(let o=0;o<t.length;o+=1){const a=t[o],c=n.step(e.next(r),o,t);if(Wn(c))return[c];const u=n.validate(c,a);s.push(...u)}return s},maximum:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!isNaN(r.maximum)){if(r.maximum&&r.maximum<t)return n.errors.maximumError({maximum:r.maximum,length:t,value:t,pointer:i,schema:r});if(r.maximum&&r.exclusiveMaximum===!0&&r.maximum===t)return n.errors.maximumError({maximum:r.maximum,length:t,pointer:i,schema:r,value:t})}},maxItems:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!isNaN(r.maxItems)&&r.maxItems<t.length)return n.errors.maxItemsError({maximum:r.maxItems,length:t.length,schema:r,value:t,pointer:i})},maxLength:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(isNaN(r.maxLength))return;const s=g9(t).length;if(r.maxLength<s)return n.errors.maxLengthError({maxLength:r.maxLength,length:s,pointer:i,schema:r,value:t})},maxProperties:(e,t)=>{const{draft:n,schema:r,pointer:i}=e,s=Object.keys(t).length;if(isNaN(r.maxProperties)===!1&&r.maxProperties<s)return n.errors.maxPropertiesError({maxProperties:r.maxProperties,length:s,pointer:i,schema:r,value:t})},minLength:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(isNaN(r.minLength))return;const s=g9(t).length;if(r.minLength>s)return r.minLength===1?n.errors.minLengthOneError({minLength:r.minLength,length:s,pointer:i,schema:r,value:t}):n.errors.minLengthError({minLength:r.minLength,length:s,pointer:i,schema:r,value:t})},minimum:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!isNaN(r.minimum)){if(r.minimum>t)return n.errors.minimumError({minimum:r.minimum,length:t,pointer:i,schema:r,value:t});if(r.exclusiveMinimum===!0&&r.minimum===t)return n.errors.minimumError({minimum:r.minimum,length:t,pointer:i,schema:r,value:t})}},minItems:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!isNaN(r.minItems)&&r.minItems>t.length)return r.minItems===1?n.errors.minItemsOneError({minItems:r.minItems,length:t.length,pointer:i,schema:r,value:t}):n.errors.minItemsError({minItems:r.minItems,length:t.length,pointer:i,schema:r,value:t})},minProperties:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(isNaN(r.minProperties))return;const s=Object.keys(t).length;if(r.minProperties>s)return n.errors.minPropertiesError({minProperties:r.minProperties,length:s,pointer:i,schema:r,value:t})},multipleOf:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(isNaN(r.multipleOf)||typeof t!="number")return;const s=y9(t),o=y9(r.multipleOf);if(s>o)return n.errors.multipleOfError({multipleOf:r.multipleOf,value:t,pointer:i,schema:r});const a=Math.pow(10,o),c=Math.round(t*a),u=Math.round(r.multipleOf*a);if(c%u/a!==0)return n.errors.multipleOfError({multipleOf:r.multipleOf,value:t,pointer:i,schema:r})},not:(e,t)=>{const{draft:n,schema:r,pointer:i}=e,s=[];return n.validate(e.next(r.not),t).length===0&&s.push(n.errors.notError({value:t,not:r.not,pointer:i,schema:r})),s},oneOf:V$e,pattern:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(new RegExp(r.pattern,"u").test(t)===!1)return n.errors.patternError({pattern:r.pattern,description:r.patternExample||r.pattern,received:t,schema:r,value:t,pointer:i})},patternProperties:(e,t)=>{const{draft:n,schema:r,pointer:i}=e,s=r.properties||{},o=r.patternProperties;if(Rt(o)!=="object")return;const a=[],c=Object.keys(t),u=Object.keys(o).map(f=>({regex:new RegExp(f),patternSchema:o[f]}));return c.forEach(f=>{let m=!1;for(let p=0,y=u.length;p<y;p+=1)if(u[p].regex.test(f)){m=!0;const v=n.validate(e.next(u[p].patternSchema,f),t[f]);v&&v.length>0&&a.push(...v)}s[f]||m===!1&&r.additionalProperties===!1&&a.push(n.errors.patternPropertiesError({key:f,pointer:i,schema:r,value:t,patterns:Object.keys(o).join(",")}))}),a},properties:(e,t)=>{const{draft:n,schema:r}=e,i=[],s=Object.keys(r.properties||{});for(let o=0;o<s.length;o+=1){const a=s[o];if(v9(t,a)){const c=n.step(e,a,t);if(Wn(c))i.push(c);else{const u=n.validate(c,t[a]);i.push(...u)}}}return i},propertiesRequired:(e,t)=>{const{draft:n,schema:r,pointer:i}=e,s=[],o=Object.keys(r.properties||{});for(let a=0;a<o.length;a+=1){const c=o[a];if(t[c]===void 0)s.push(n.errors.requiredPropertyError({key:c,pointer:i,schema:r,value:t}));else{const u=n.step(e,c,t),f=n.validate(u,t[c]);s.push(...f)}}return s},required:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(Array.isArray(r.required)!==!1)return r.required.map(s=>{if(!v9(t,s))return n.errors.requiredPropertyError({key:s,pointer:i,schema:r,value:t})})},requiredNotEmpty:(e,t)=>{const{schema:n}=e;if(Array.isArray(n.required)!==!1)return n.required.map(r=>{const{draft:i,schema:s,pointer:o}=e;if(t[r]==null||t[r]==="")return i.errors.valueNotEmptyError({property:r,pointer:`${o}/${r}`,schema:s,value:t})})},uniqueItems:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if((Array.isArray(t)&&r.uniqueItems)===!1)return;const s=[],o=[];return t.forEach((a,c)=>{for(let u=c+1;u<t.length;u+=1)RG(a,t[u])&&!s.includes(u)&&(o.push(n.errors.uniqueItemsError({pointer:`${i}/${u}`,duplicatePointer:`${i}/${c}`,arrayPointer:i,value:JSON.stringify(a),schema:r})),s.push(u))}),o}},$3e={array:(e,t,n)=>{const{draft:r,schema:i,pointer:s}=e,o=n==null?void 0:n[t],a=Rt(i.items);if(a==="object")return vw(e.next(i.items,t),o);if(a==="array"){if(i.items[t]===!0)return e.next(ja(o),t);if(i.items[t]===!1)return r.errors.invalidDataError({key:t,value:o,pointer:s,schema:i});if(i.items[t])return r.resolveRef(e.next(i.items[t],t));if(i.additionalItems===!1)return r.errors.additionalItemsError({key:t,value:o,pointer:s,schema:i});if(i.additionalItems===!0||i.additionalItems===void 0)return e.next(ja(o),t);if(Rt(i.additionalItems)==="object")return e.next(i.additionalItems,t);throw new Error(`Invalid schema ${JSON.stringify(i,null,2)} for ${JSON.stringify(n,null,2)}`)}return i.additionalItems!==!1&&o?e.next(ja(o),t):new Error(`Invalid array schema for ${t} at ${s}`)},object:(e,t,n)=>{var r,i;const{draft:s,pointer:o}=e,a=vw(e,n),c=(r=a.schema)!==null&&r!==void 0?r:a,u=(i=c==null?void 0:c.properties)===null||i===void 0?void 0:i[t];if(u!==void 0){if(u===!1)return s.errors.forbiddenPropertyError({property:t,value:n,pointer:o,schema:c});if(u===!0)return e.next(ja(n==null?void 0:n[t]),t);const p=s.resolveRef(e.next(u,t));if(Wn(p))return p;if(p&&Array.isArray(p.schema.oneOf)){const y=e.next(p.schema,t),v=s.resolveOneOf(y,n[t]);return Wn(v)?v:y.merge(v.schema,"oneOf")}if(p)return p}const{patternProperties:f}=c;if(Rt(f)==="object"){let p;const y=Object.keys(f);for(let v=0,x=y.length;v<x;v+=1)if(p=new RegExp(y[v]),p.test(t))return e.next(f[y[v]],t)}const{additionalProperties:m}=c;if(Rt(m)==="object")return e.next(c.additionalProperties,t);if(n&&(m===void 0||m===!0)){const p=ja(n[t]);return p?e.next(p,t):void 0}return s.errors.unknownPropertyError({property:t,value:n,pointer:`${o}`,schema:c})}};function R3e(e,t,n){var r;const{draft:i,schema:s,pointer:o}=e,a=Rt(n);let c=(r=s.type)!==null&&r!==void 0?r:a;if(Array.isArray(c)){if(!c.includes(a))return i.errors.typeError({value:n,pointer:o,expected:s.type,received:a,schema:s});c=a}const u=$3e[c];if(u){const f=u(e,`${t}`,n);return f===void 0?i.errors.schemaWarning({pointer:o,value:n,schema:s,key:t}):f}return new Error(`Unsupported schema type ${s.type} for key ${t}`)}const k3e={array:(e,t)=>e.draft.typeKeywords.array.filter(n=>e.schema&&e.schema[n]!=null).map(n=>e.draft.validateKeyword[n](e,t)),object:(e,t)=>e.draft.typeKeywords.object.filter(n=>e.schema&&e.schema[n]!=null).map(n=>e.draft.validateKeyword[n](e,t)),string:(e,t)=>e.draft.typeKeywords.string.filter(n=>e.schema&&e.schema[n]!=null).map(n=>e.draft.validateKeyword[n](e,t)),integer:(e,t)=>e.draft.typeKeywords.number.filter(n=>e.schema&&e.schema[n]!=null).map(n=>e.draft.validateKeyword[n](e,t)),number:(e,t)=>e.draft.typeKeywords.number.filter(n=>e.schema&&e.schema[n]!=null).map(n=>e.draft.validateKeyword[n](e,t)),boolean:(e,t)=>e.draft.typeKeywords.boolean.filter(n=>e.schema&&e.schema[n]!=null).map(n=>e.draft.validateKeyword[n](e,t)),null:(e,t)=>e.draft.typeKeywords.null.filter(n=>e.schema&&e.schema[n]!=null).map(n=>e.draft.validateKeyword[n](e,t))};function M3e(e,t){const n=Rt(e);return n==="number"&&(t==="integer"||Array.isArray(t)&&t.includes("integer"))?Number.isInteger(e)||isNaN(e)?"integer":"number":n}function I3e(e,t){if(!Zs(e))throw new Error("node expected");const{draft:n,pointer:r}=e;e=e.resolveRef();const i=e.schema;if(i==null)throw new Error("missing schema");if(Rt(i)==="boolean")return i?[]:[n.errors.invalidDataError({pointer:r,schema:i,value:t})];if(Wn(i))return[i];if(i.const!==void 0)return RG(i.const,t)?[]:[n.errors.constError({pointer:r,schema:i,value:t,expected:i.const})];const s=M3e(t,i.type),o=i.type||s;return s!==o&&(!Array.isArray(o)||!o.includes(s))?[n.errors.typeError({pointer:r,schema:i,value:t,received:s,expected:o})]:n.validateType[s]==null?[n.errors.invalidTypeError({pointer:r,schema:i,value:t,receivedType:s})]:py(n.validateType[s](e,t)).filter(bw)}function vj(e,t,n){const r=e.resolveRef(),{draft:i,schema:s,pointer:o}=r;n(s,t,o);const a=Rt(t);a==="object"?Object.keys(t).forEach(c=>{const u=i.step(r,c,t);Zs(u)&&vj(u,t[c],n)}):a==="array"&&t.forEach((c,u)=>{const f=i.step(r,u,t);Zs(f)&&vj(f,t[u],n)})}function P3e(e,t,n){n.$id=n.$id||t,e.remotes[t]=e.compileSchema(n)}const x9="__compiled",w9="__ref",D3e="getRef",L3e="getRoot",F3e="getContext",B3e=/(#|\/)+$/g;function z3e(e,t,n=t,r=!1){if(t===!0||t===!1||t===void 0||t[x9]!==void 0)return t;const i={ids:{},anchors:{},remotes:e.remotes},s=JSON.stringify(t),o=JSON.parse(s);if(Object.defineProperties(o,{[x9]:{enumerable:!1,value:!0},[F3e]:{enumerable:!1,value:()=>i},[D3e]:{enumerable:!1,value:ga.bind(null,i,o)}}),r===!1&&s.includes("$ref")===!1)return o;o!==n&&Object.defineProperty(o,"$defs",{enumerable:!0,value:Object.assign({},n.definitions,n.$defs,o.definitions,o.$defs)});const a={},c=()=>o;return Fs(o,(u,f)=>{var m;if(u.$id){if(u.$id.startsWith("http")&&/(allOf|anyOf|oneOf|if)\/\d+$/.test(f)){const S=f.replace(/\/(allOf|anyOf|oneOf|if)\/\d+$/,""),N=Ru.get(o,S);u.$id=(m=N.$id)!==null&&m!==void 0?m:u.$id}i.ids[u.$id.replace(B3e,"")]=f}f=`#${f}`.replace(/##+/,"#");const p=f.replace(/\/[^/]+$/,""),y=f.replace(/\/[^/]+\/[^/]+$/,""),v=a[p]||a[y],x=i9(v,u.$id);a[f]=x,i.ids[x]==null&&(i.ids[x]=f),u.$anchor&&(i.anchors[`${x}#${u.$anchor}`]=f),u.$ref&&!u[w9]&&(Object.defineProperty(u,w9,{enumerable:!1,value:i9(x,u.$ref)}),Object.defineProperty(u,L3e,{enumerable:!1,value:c}))}),o}const V3e={...T3e,contains:(e,t)=>{var n,r;const{draft:i,schema:s,pointer:o}=e;if(s.contains===!1)return i.errors.containsArrayError({pointer:o,value:t,schema:s});if(s.contains===!0)return Array.isArray(t)&&t.length===0?i.errors.containsAnyError({pointer:o,value:t,schema:s}):void 0;if(Rt(s.contains)!=="object")return;let a=0;for(let f=0;f<t.length;f+=1)i.validate(e.next(s.contains,f),t[f]).length===0&&a++;const c=(n=s.maxContains)!==null&&n!==void 0?n:1/0,u=(r=s.minContains)!==null&&r!==void 0?r:1;if(!(c>=a&&u<=a))return c<a?i.errors.containsMaxError({pointer:o,schema:s,delta:a-c,value:t}):u>a?i.errors.containsMinError({pointer:o,schema:s,delta:u-a,value:t}):i.errors.containsError({pointer:o,schema:s,value:t})},exclusiveMaximum:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!isNaN(r.exclusiveMaximum)&&r.exclusiveMaximum<=t)return n.errors.maximumError({maximum:r.exclusiveMaximum,length:t,pointer:i,schema:r,value:t})},exclusiveMinimum:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!isNaN(r.exclusiveMinimum)&&r.exclusiveMinimum>=t)return n.errors.minimumError({minimum:r.exclusiveMinimum,length:t,pointer:i,schema:r,value:t})},if:U$e,maximum:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!isNaN(r.maximum)&&r.maximum&&r.maximum<t)return n.errors.maximumError({maximum:r.maximum,length:t,pointer:i,schema:r,value:t})},minimum:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!isNaN(r.minimum)&&r.minimum>t)return n.errors.minimumError({minimum:r.minimum,length:t,pointer:i,schema:r,value:t})},patternProperties:(e,t)=>{const{draft:n,schema:r,pointer:i}=e,s=r.properties||{},o=r.patternProperties;if(Rt(o)!=="object")return;const a=[],c=Object.keys(t),u=Object.keys(o).map(f=>({regex:new RegExp(f),patternSchema:o[f]}));return c.forEach(f=>{let m=!1;for(let p=0,y=u.length;p<y;p+=1)if(u[p].regex.test(f)){if(m=!0,u[p].patternSchema===!1){a.push(n.errors.patternPropertiesError({key:f,pointer:i,patterns:Object.keys(o).join(","),schema:r,value:t}));return}const v=n.validate(e.next(u[p].patternSchema,f),t[f]);v&&v.length>0&&a.push(...v)}s[f]||m===!1&&r.additionalProperties===!1&&a.push(n.errors.patternPropertiesError({key:f,pointer:i,patterns:Object.keys(o).join(","),schema:r,value:t}))}),a},propertyNames:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(r.propertyNames===!1)return Object.keys(t).length===0?void 0:n.errors.invalidPropertyNameError({property:Object.keys(t),pointer:i,value:t,schema:r});if(r.propertyNames===!0||Rt(r.propertyNames)!=="object")return;const s=[],o=Object.keys(t),a={...r.propertyNames,type:"string"};return o.forEach(c=>{const u=e.next(a,c),f=n.validate(u,c);f.length>0&&s.push(n.errors.invalidPropertyNameError({property:c,pointer:i,validationError:f[0],value:t[c],schema:r}))}),s}},kG=e=>Bt(e)?Object.keys(e).map(t=>new RegExp(t)):[];function U3e(e,t,n){var r,i;const s=e.draft.resolveRef(e),{schema:o}=s;if(o.additionalProperties===!0)return!0;if(!((r=o.properties)===null||r===void 0)&&r[t]){const c=(i=o.properties)===null||i===void 0?void 0:i[t];if(s.draft.isValid(n,c))return!0}if(kG(o.patternProperties).find(c=>c.test(t)))return!0;if(Bt(o.additionalProperties)){const c=o.additionalProperties;return s.draft.validate(s.next(c),n)}return!1}const q3e={...V3e,dependencies:void 0,dependentSchemas:Z$e,dependentRequired:Q$e,unevaluatedProperties:(e,t)=>{var n;const{draft:r,schema:i,pointer:s}=e;if(!Bt(t)||i.unevaluatedProperties==null)return;let o=Object.keys(t);if(o.length===0)return;const a=vw(e,t),c=(n=a.schema)!==null&&n!==void 0?n:a;if(c.unevaluatedProperties===!0)return;const u=kG(c.patternProperties);if(o=o.filter(m=>{var p;return!(!((p=c.properties)===null||p===void 0)&&p[m]||Bt(i.if)&&U3e(e.next({type:"object",...i.if}),m,t[m])||u.find(y=>y.test(m))||c.additionalProperties)}),o.length===0)return;const f=[];return c.unevaluatedProperties===!1?(o.forEach(m=>{f.push(r.errors.unevaluatedPropertyError({pointer:`${s}/${m}`,value:JSON.stringify(t[m]),schema:i}))}),f):(o.forEach(m=>{if(Bt(c.unevaluatedProperties)){const p=r.validate(e.next(c.unevaluatedProperties,m),t[m]);f.push(...p)}}),f)},unevaluatedItems:(e,t)=>{var n;const{draft:r,schema:i,pointer:s}=e;if(!Array.isArray(t)||t.length===0||i.unevaluatedItems==null||i.unevaluatedItems===!0)return;const o=vw(r.resolveRef(e),t),a=(n=o.schema)!==null&&n!==void 0?n:o;if(a.unevaluatedItems===!0||a.additionalItems===!0)return;if(Bt(i.if)){const u={type:"array",...i.if};if(r.isValid(t,u)&&Array.isArray(u.items)&&u.items.length===t.length)return}if(Bt(a.items)){const u={...a,unevaluatedItems:void 0};return r.validate(e.next(u),t).map(m=>r.errors.unevaluatedItemsError({...m.data}))}if(Array.isArray(a.items)){const u=[];for(let f=a.items.length;f<t.length;f+=1)f<a.items.length?r.validate(e.next(a.items[f],f),t[f]).length>0&&u.push({index:f,value:t[f]}):u.push({index:f,value:t[f]});return u.map(f=>r.errors.unevaluatedItemsError({pointer:`${s}/${f.index}`,value:JSON.stringify(f.value),schema:a.unevaluatedItems}))}if(Bt(a.unevaluatedItems))return t.map((u,f)=>{if(!r.isValid(u,a.unevaluatedItems))return r.errors.unevaluatedItemsError({pointer:`${s}/${f}`,value:JSON.stringify(u),schema:a.unevaluatedItems})});const c=[];return t.forEach((u,f)=>{c.push(r.errors.unevaluatedItemsError({pointer:`${s}/${f}`,value:JSON.stringify(u),schema:i}))}),c}},H3e={typeKeywords:{array:["allOf","anyOf","contains","enum","if","items","maxItems","minItems","not","oneOf","unevaluatedItems","uniqueItems"],boolean:["allOf","anyOf","enum","not","oneOf"],object:["additionalProperties","allOf","anyOf","dependentSchemas","dependentRequired","enum","format","if","maxProperties","minProperties","not","oneOf","patternProperties","properties","propertyNames","required","unevaluatedProperties"],string:["allOf","anyOf","enum","format","if","maxLength","minLength","not","oneOf","pattern"],number:["allOf","anyOf","enum","exclusiveMaximum","exclusiveMinimum","format","if","maximum","minimum","multipleOf","not","oneOf"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:q3e,validateType:k3e,validateFormat:bj,errors:K4e,createNode:Y$e,addRemoteSchema:P3e,compileSchema:z3e,createSchemaOf:ja,each:vj,eachSchema:Fs,getChildSchemaSelection:g3e,getSchema:y3e,getTemplate:_3e,isValid:C3e,resolveAllOf:q$e,resolveAnyOf:t4e,resolveOneOf:B$e,resolveRef:pG,step:R3e,validate:I3e,templateDefaultOptions:S0.templateDefaultOptions};class R4 extends F4e{constructor(t,n={}){super(TG(H3e,n),t)}}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function S9(e){return Object.prototype.toString.call(e)==="[object Object]"}function E9(e){var t,n;return S9(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(S9(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}var ox={exports:{}},W3e=ox.exports,N9;function G3e(){return N9||(N9=1,function(e){(function(t,n){e.exports=n()})(W3e,function(){var t=Object.prototype.toString;function n(m,p){return m==null?!1:Object.prototype.hasOwnProperty.call(m,p)}function r(m){if(!m||o(m)&&m.length===0)return!0;if(typeof m!="string"){for(var p in m)if(n(m,p))return!1;return!0}return!1}function i(m){return t.call(m)}function s(m){return typeof m=="object"&&i(m)==="[object Object]"}var o=Array.isArray||function(m){return t.call(m)==="[object Array]"};function a(m){return typeof m=="boolean"||i(m)==="[object Boolean]"}function c(m){var p=parseInt(m);return p.toString()===m?p:m}function u(m){m=m||{};var p=function(N){return Object.keys(p).reduce(function(_,C){return C==="create"||typeof p[C]=="function"&&(_[C]=p[C].bind(p,N)),_},{})},y;m.includeInheritedProps?y=function(){return!0}:y=function(N,_){return typeof _=="number"&&Array.isArray(N)||n(N,_)};function v(N,_){if(y(N,_))return N[_]}var x;m.includeInheritedProps?x=function(N,_){typeof _!="string"&&typeof _!="number"&&(_=String(_));var C=v(N,_);if(_==="__proto__"||_==="prototype"||_==="constructor"&&typeof C=="function")throw new Error("For security reasons, object's magic properties cannot be set");return C}:x=function(N,_){return v(N,_)};function S(N,_,C,j){if(typeof _=="number"&&(_=[_]),!_||_.length===0)return N;if(typeof _=="string")return S(N,_.split(".").map(c),C,j);var A=_[0],$=x(N,A);return _.length===1?(($===void 0||!j)&&(N[A]=C),$):($===void 0&&(typeof _[1]=="number"?N[A]=[]:N[A]={}),S(N[A],_.slice(1),C,j))}return p.has=function(N,_){if(typeof _=="number"?_=[_]:typeof _=="string"&&(_=_.split(".")),!_||_.length===0)return!!N;for(var C=0;C<_.length;C++){var j=c(_[C]);if(typeof j=="number"&&o(N)&&j<N.length||(m.includeInheritedProps?j in Object(N):n(N,j)))N=N[j];else return!1}return!0},p.ensureExists=function(N,_,C){return S(N,_,C,!0)},p.set=function(N,_,C,j){return S(N,_,C,j)},p.insert=function(N,_,C,j){var A=p.get(N,_);j=~~j,o(A)||(A=[],p.set(N,_,A)),A.splice(j,0,C)},p.empty=function(N,_){if(!r(_)&&N!=null){var C,j;if(C=p.get(N,_)){if(typeof C=="string")return p.set(N,_,"");if(a(C))return p.set(N,_,!1);if(typeof C=="number")return p.set(N,_,0);if(o(C))C.length=0;else if(s(C))for(j in C)y(C,j)&&delete C[j];else return p.set(N,_,null)}}},p.push=function(N,_){var C=p.get(N,_);o(C)||(C=[],p.set(N,_,C)),C.push.apply(C,Array.prototype.slice.call(arguments,2))},p.coalesce=function(N,_,C){for(var j,A=0,$=_.length;A<$;A++)if((j=p.get(N,_[A]))!==void 0)return j;return C},p.get=function(N,_,C){if(typeof _=="number"&&(_=[_]),!_||_.length===0)return N;if(N==null)return C;if(typeof _=="string")return p.get(N,_.split("."),C);var j=c(_[0]),A=x(N,j);return A===void 0?C:_.length===1?A:p.get(N[j],_.slice(1),C)},p.del=function(_,C){if(typeof C=="number"&&(C=[C]),_==null||r(C))return _;if(typeof C=="string")return p.del(_,C.split("."));var j=c(C[0]);if(x(_,j),!y(_,j))return _;if(C.length===1)o(_)?_.splice(j,1):delete _[j];else return p.del(_[j],C.slice(1));return _},p}var f=u();return f.create=u,f.withInheritedProps=u({includeInheritedProps:!0}),f})}(ox)),ox.exports}var J3e=G3e();const Y3e=so(J3e);var eh=Object.prototype.hasOwnProperty;function Lo(e){if(xj(e))return!1;if(!e||Uh(e)&&e.length===0)return!0;if(!MG(e)){for(var t in e)if(eh.call(e,t))return!1;return!0}return!1}function xj(e){return typeof e=="number"}function MG(e){return typeof e=="string"}function Uh(e){return Array.isArray(e)}function wj(e,t){for(var n in t)eh.call(t,n)&&(e[n]=t[n]);return e}function X3e(e){var t=parseInt(e);return t.toString()===e?t:e}function xw(e,t,n){return e==null?t?n?[]:{}:e:Uh(e)?e.slice():wj({},e)}function ww(e,t){if(e!==t&&E9(e)&&E9(t)){var n={};for(var r in e)eh.call(e,r)&&(eh.call(t,r)?n[r]=ww(e[r],t[r]):n[r]=e[r]);for(r in t)eh.call(t,r)&&(n[r]=ww(e[r],t[r]));return n}return t}function Ka(e,t,n,r){if(xj(n)&&(n=[n]),Lo(n))return t;if(MG(n))return Ka(e,t,n.split(".").map(X3e),r);var i=n[0];return(!e||e===t)&&(e=xw(t,!0,xj(i))),n.length===1?r(e,i):(t!=null&&(t=t[i]),e[i]=Ka(e[i],t,n.slice(1),r),e)}var vi={};vi.set=function(t,n,r,i){return Lo(r)?i:Ka(t,n,r,function(s,o){return s[o]=i,s})};vi.update=function(t,n,r,i){return Lo(r)?i(xw(n)):Ka(t,n,r,function(s,o){return s[o]=i(s[o]),s})};vi.push=function(t,n,r){var i=Array.prototype.slice.call(arguments,3);return Lo(r)?Uh(n)?n.concat(i):i:Ka(t,n,r,function(s,o){return Uh(s[o])?s[o]=s[o].concat(i):s[o]=i,s})};vi.insert=function(t,n,r,i,s){if(s=~~s,Lo(r)){if(!Uh(n))return[i];var o=n.slice(0,s);return o.push(i),o.concat(n.slice(s))}return Ka(t,n,r,function(a,c){var u=a[c];if(!Uh(u)){if(u!=null&&typeof u<"u")throw new Error("Expected "+r+"to be an array. Instead got "+typeof r);u=[]}var f=u.slice(0,s);return f.push(i),a[c]=f.concat(u.slice(s)),a})};vi.del=function(t,n,r){if(!Lo(r))return Ka(t,n,r,function(i,s){return Array.isArray(i)?i[s]!==void 0&&i.splice(s,1):eh.call(i,s)&&delete i[s],i})};vi.assign=function(t,n,r,i){return Lo(r)?Lo(i)?n:wj(xw(n),i):Ka(t,n,r,function(s,o){i=Object(i);var a=xw(s[o],!0);return wj(a,i),s[o]=a,s})};vi.merge=function(t,n,r,i){return Lo(r)?Lo(i)?n:ww(n,i):Ka(t,n,r,function(s,o){return i=Object(i),s[o]=ww(s[o],i),s})};var K3e=vi.set.bind(null,null);vi.update.bind(null,null);vi.push.bind(null,null);vi.insert.bind(null,null);var Q3e=vi.del.bind(null,null);vi.assign.bind(null,null);vi.merge.bind(null,null);Y3e.get;function Z3e(e){return e==null||e===""}function e5e(e,t,n){if(!(Z3e(e)&&typeof(n==null?void 0:n.required)=="boolean"&&!n.required)){switch(t.type){case"string":return String(e);case"integer":case"number":return Number(e);case"boolean":return["true","1",1,"on",!0].includes(e);case"null":return null}return e}}const k4=e=>typeof e<"u"&&e!==null&&e!=="";function Sw(e){return"#"+(e.includes(".")?e.split("."):[e]).filter(k4).map(n=>"/"+n).join("")}function M4(e="",t=""){const n=e.includes(".")?e.split("."):[e];return[t,...n].filter(k4).join(".")}function IG(e="",t=""){return[...e.includes(".")?e.split("."):[e],t].filter(k4).join(".")}function t5e(e){return e.substring(0,e.lastIndexOf("/"))}function n5e(e,t,n,r){var i;try{if(t==="#/"||!n)return!1;try{const u=e.getSchema({pointer:t,data:r,schema:n});if(typeof u=="object"&&"const"in u)return!0}catch{return!1}const s=t5e(t),o=e.getSchema({pointer:s,data:r}),a=t.split("/").pop();return!!((i=o==null?void 0:o.required)==null?void 0:i.includes(a))}catch(s){return console.warn("isRequired",{pointer:t,schema:n,data:r,e:s}),!1}}function Lu(e,t){if(!e||!t)return!1;const n=Array.isArray(e)?e:[e];return(Array.isArray(t)?t:[t]).some(i=>n.includes(i))}function PG(e,t){if(typeof t=="object"&&"title"in t)return t.title;if(!e)return"";const n=e.includes(".")?e.split(".").pop()??"":e;return Wa(n)}function I4(e){if(!(!e||typeof e!="object"))return e.anyOf??e.oneOf}function DG(e,t){const n=I4(e);if(!n)return[-1,[],void 0];const r=n.findIndex(i=>new R4(i).validate(t,i).length===0);return r===-1?[-1,n,void 0]:[r,n,n[r]]}function r5e(e,t,n){if(typeof e!="object"||!("properties"in e)||t.length===0)return[e,n];const r=JSON.parse(JSON.stringify(e)),i=n?JSON.parse(JSON.stringify(n)):void 0,s={...r,properties:Fi(r.properties,t)};s.required&&(s.required=s.required.filter(a=>!t.includes(a)));const o=Fi(i,t);return[s,o]}function LG(e){return typeof e=="object"&&"type"in e&&!Lu(e.type,"error")}function i5e(...e){for(const t of e)if(typeof t<"u")return t}const RS=w.createContext(void 0);RS.displayName="FormContext";function E0({schema:e,initialValues:t,initialOpts:n,children:r,onChange:i,onSubmit:s,onInvalidSubmit:o,validateOn:a="submit",hiddenSubmit:c=!0,beforeSubmit:u,ignoreKeys:f=[],options:m={},readOnly:p=!1,...y}){const[v,x]=r5e(e,f,t),S=w.useMemo(()=>new R4(v),[JSON.stringify(v)]),N=x??S.getTemplate(void 0,v,n),_=w.useMemo(()=>Vh({dirty:!1,submitting:!1,errors:[],data:N}),[N]),C=C4(_),j=w.useRef(null);w.useEffect(()=>{N&&a==="change"&&z()},[N]);async function A(F){const{data:H,errors:M}=z();if(s){F.preventDefault(),C(V=>({...V,submitting:!0}));try{M.length===0?await s(H):(console.error("form: invalid",{data:H,errors:M}),o==null||o(M,H))}catch(V){console.warn(V)}return C(V=>({...V,submitting:!1})),!1}else if(M.length>0)return F.preventDefault(),o==null||o(M,H),!1}const $=zt((F,H)=>{C(M=>{const V=M.data,T=K3e(V,F,H);return i==null||i(T,F,H,L),{...M,data:T}}),D()}),k=zt(F=>{C(H=>{const M=H.data,V=Q3e(M,F);return i==null||i(V,F,void 0,L),{...H,data:V}}),D()}),R=zt(()=>cG().get(_)),D=zt(()=>{var H;const F=R();C(M=>({...M,dirty:!Ma(N,F.data)})),(a==="change"||((H=F==null?void 0:F.errors)==null?void 0:H.length)>0)&&z()}),z=zt(F=>{var T;const M=(u??(I=>I))(F??((T=R())==null?void 0:T.data)),V=S.validate(M,v);return C(I=>({...I,errors:V})),{data:M,errors:V}}),L=w.useMemo(()=>({_formStateAtom:_,setValue:$,deleteValue:k,schema:v,lib:S,options:m,root:"",path:"",readOnly:p}),[v,N,m,p]);return h.jsxs("form",{...y,ref:j,onSubmit:A,children:[h.jsxs(RS.Provider,{value:L,children:[r||h.jsx(Rr,{name:""}),(m==null?void 0:m.debug)&&h.jsx(_0,{})]}),c&&h.jsx("button",{style:{visibility:"hidden"},type:"submit",children:"Submit"})]})}function ul(){return w.useContext(RS)}function N0({children:e,overrideData:t,prefix:n,...r}){const i=ul(),s={};n&&(s.root=n);const o={...i,...r,...s};return h.jsx(RS.Provider,{value:o,children:e})}function Kc(e,t){const{_formStateAtom:n,root:r}=ul();if((typeof e!="string"||e.length===0)&&(t==null?void 0:t.strict)===!0)return{value:void 0,errors:[]};const i=w0(n,w.useCallback(s=>{const o=M4(e,r),a=Sw(o);return{value:Hn(s.data,o),errors:s.errors.filter(c=>c.data.pointer.startsWith(a))}},[e]),Ma);return jm(i)[0]}function Am(e,t){const{_formStateAtom:n,root:r}=ul(),i=w0(n,w.useCallback(s=>{const o=M4(e,r),a=Sw(o);return s.errors.filter(c=>t!=null&&t.strict?c.data.pointer===a:c.data.pointer.startsWith(a))},[e]),Ma);return jm(i)[0]}function FG(e,t=[]){const{_formStateAtom:n}=ul(),r=w0(n,w.useCallback(e,t),Ma);return jm(r)[0]}function Ns(e,t,n){const{_formStateAtom:r,root:i,lib:s,...o}=ul(),a=o.schema,c=w0(r,w.useCallback(u=>{const f=Sw(e),m=M4(e,i),p=Sw(m),y=Hn(u.data,m),v=f==="#/"?a:s.getSchema({pointer:f,data:y,schema:a}),x=n5e(s,p,a,u.data),S={...o,path:m,root:i,schema:v,pointer:f,required:x},N=t==null?void 0:t({...S,_formStateAtom:r,lib:s,value:y});return{...S,value:N}},[e,a??{},i]),Ma);return{..._4(c),_formStateAtom:r,lib:s}}function Tm({children:e,selector:t}){return e(FG(t??(n=>n)))}function _0({force:e=!1}){const{options:t}=ul();if((t==null?void 0:t.debug)!==!0&&e!==!0)return null;const n=FG(r=>r);return h.jsx(Xr,{json:n,expand:99,showCopy:!0})}function gy({name:e,label:t,required:n,schema:r,wrapper:i,hidden:s,errorPlacement:o="bottom",descriptionPlacement:a="bottom",children:c,fieldId:u,className:f,...m}){const p=Am(e,{strict:!0}),y=(r==null?void 0:r.examples)||[],v=`${e}-examples`,x=(m==null?void 0:m.description)??(r==null?void 0:r.description),S=typeof t<"u"?t:r?PG(e,r):e,N=p.length>0&&h.jsx(VW,{children:p.map(C=>C.message).join(", ")}),_=x?["top","bottom"].includes(a)?h.jsx(GAe,{className:a==="top"?"-mt-1 mb-1":"mb-2",children:x}):h.jsx(ao,{label:x,children:h.jsx(LU,{className:"size-4 opacity-50"})}):null;return h.jsxs(ps,{error:p.length>0,as:i==="fieldset"?"fieldset":"div",className:qe(s?"hidden":"relative",f),children:[o==="top"&&N,h.jsx(s5e,{name:e,schema:r,required:n}),S&&h.jsxs(Mc,{as:i==="fieldset"?"legend":"label",htmlFor:u,className:"self-start flex flex-row gap-1 items-center",children:[S," ",n&&h.jsx("span",{className:"font-medium opacity-30",children:"*"}),a==="label"&&_]}),a==="top"&&_,h.jsx("div",{className:"flex flex-row flex-grow gap-2",children:h.jsxs("div",{className:"flex flex-1 flex-col gap-3",children:[w.Children.count(c)===1&&w.isValidElement(c)?w.cloneElement(c,{list:y.length>0?v:void 0}):c,y.length>0&&h.jsx("datalist",{id:v,children:y.map((C,j)=>h.jsx("option",{value:C},j))})]})}),a==="bottom"&&_,o==="bottom"&&N]})}const s5e=({name:e,schema:t,required:n})=>{const{options:r}=ul();if(!(r!=null&&r.debug))return null;const{value:i}=Kc(e),s=Am(e,{strict:!0});return h.jsx("div",{className:"absolute top-0 right-0",children:h.jsx(NS,{overlayProps:{className:"max-w-none"},position:"bottom-end",target:({toggle:o})=>h.jsx(Xr,{className:"bg-background pr-3 text-sm",json:{name:e,value:i,required:n,schema:t,errors:s},expand:6}),children:h.jsx(yt,{Icon:DU,size:"xs",className:"opacity-30",tabIndex:-1})})})},o5e=({path:e="",labelAdd:t="Add",wrapperProps:n={wrapper:"fieldset"}})=>{const{setValue:r,pointer:i,required:s,schema:o,...a}=Ns(e);return!o||typeof o>"u"?`ArrayField(${e}): no schema ${i}`:o.uniqueItems&&typeof o.items=="object"&&"enum"in o.items?h.jsx(gy,{...n,name:e,schema:o,children:h.jsx(D4,{required:!0,name:e,schema:o.items,multiple:!0,className:"h-auto",onChange:c=>{const u=Array.from(c.target.selectedOptions).map(f=>f.value);r(a.path,u)}})}):h.jsxs(gy,{...n,name:e,schema:o,children:[h.jsx(c5e,{name:e,children:({value:c})=>c==null?void 0:c.map((u,f)=>h.jsx(a5e,{path:e,index:f,schema:o},f))}),h.jsx("div",{className:"flex flex-row",children:h.jsx(u5e,{path:e,schema:o,label:t})})]})},a5e=w.memo(({path:e,index:t,schema:n})=>{const{value:r,path:i,...s}=Ns(e,m=>{var p;return(p=m.value)==null?void 0:p[t]}),o=IG(i,t);let a=n.items;if(I4(n.items)){const[,,m]=DG(n.items,r);a=m}const u=zt(m=>{s.deleteValue(m)}),f=w.useMemo(()=>h.jsx(yt,{Icon:BU,onClick:()=>u(o),size:"sm"}),[o]);return h.jsx(N0,{prefix:o,schema:a,children:h.jsxs("div",{className:"flex flex-row gap-2 w-full",children:[h.jsx(l5e,{label:!1}),f]})})},Ma),l5e=e=>{const{value:t}=Kc(""),n={value:["string","number","boolean"].includes(typeof t)?t:void 0};return h.jsx(Rr,{name:"",label:!1,...e,inputProps:n})},c5e=w.memo(({name:e,children:t})=>t(Kc(e)),(e,t)=>{var n,r;return((n=e.value)==null?void 0:n.length)===((r=t.value)==null?void 0:r.length)}),u5e=({schema:e,path:t,label:n="Add"})=>{const{setValue:r,value:{currentIndex:i},path:s,...o}=Ns(t,f=>{var m;return{currentIndex:((m=f.value)==null?void 0:m.length)??0}}),a=I4(e.items),c={addOptionalProps:!0};function u(f){const m=IG(s,i);r(m,f??o.lib.getTemplate(void 0,e.items,c))}return a?h.jsx($r,{dropdownWrapperProps:{className:"min-w-0"},items:a.map((f,m)=>({label:f.title??`Option ${m+1}`,onClick:()=>u(o.lib.getTemplate(void 0,f,c))})),onClickItem:console.log,children:h.jsx(tt,{IconLeft:mwe,children:n})}):h.jsx(tt,{onClick:()=>u(),children:n})},BG=w.createContext(void 0),P4=()=>w.useContext(BG),d5e=Vh(null),f5e=({path:e="",children:t})=>{const{setValue:n,lib:r,pointer:i,value:{matchedIndex:s,schemas:o},schema:a}=Ns(e,x=>{const[S,N=[]]=DG(x.schema,x.value);return{matchedIndex:S,schemas:N}}),c=Am(e,{strict:!0});if(!a)return`AnyOfField(${e}): no schema ${i}`;const[u,f]=jm(d5e),{options:{anyOfNoneSelectedMode:m}}=ul(),p=u!==null?u:s>-1?s:m==="first"?0:null,y=zt(x=>{n(e,x!==null?r.getTemplate(void 0,o[x]):void 0),f(x)}),v=w.useMemo(()=>{const x=o.map((_,C)=>_.title??`Option ${C+1}`),S={type:"string",enum:x},N=p!==null?o[p]:void 0;return{options:x,selectSchema:S,selectedSchema:N,schema:a,schemas:o,selected:p}},[p]);return h.jsx(BG.Provider,{value:{...v,select:y,path:e,errors:c},children:t},p)},h5e=()=>{const{selected:e,select:t,path:n,schema:r,options:i,selectSchema:s}=P4(),o=zt(c=>{const u=c.target.value?Number(c.target.value):null;t(u)}),a=w.useMemo(()=>i.map((c,u)=>({label:c,value:u})),[]);return h.jsxs(h.Fragment,{children:[h.jsx(Mc,{children:PG(n,r)}),h.jsx(D4,{schema:s,options:a,onChange:o,value:e??void 0,className:"h-8 py-1"})]})},m5e=({name:e,label:t,...n})=>{const{selected:r,selectedSchema:i,path:s,errors:o}=P4();return r===null?null:h.jsx(N0,{prefix:s,schema:i,children:h.jsx("div",{className:qe(o.length>0&&"bg-red-500/10"),children:h.jsx(p5e,{label:!1,...n},`${s}_${r}`)})})},p5e=e=>{const{value:t}=Kc(""),n={value:["string","number","boolean"].includes(typeof t)?t:void 0};return h.jsx(Rr,{name:"",label:!1,...e,inputProps:n})},Cg={Root:f5e,Select:h5e,Field:m5e,useContext:P4},g5e=e=>h.jsx("fieldset",{children:h.jsxs(Cg.Root,{...e,children:[h.jsx("legend",{className:"flex flex-row gap-2 items-center py-2",children:h.jsx(Cg.Select,{})}),h.jsx(Cg.Field,{})]})}),y5e=w.lazy(()=>p0(()=>import("./CodeEditor-BURt1AmN.js"),[]));function zG({editable:e,className:t,value:n,onChange:r,onBlur:i,emptyAs:s=void 0,onInvalid:o,...a}){const[c,u]=w.useState(n?JSON.stringify(n,null,2):s),[f,m]=w.useState(!1),p=Y1e(v=>{try{m(!1),r==null||r(v?JSON.parse(v):s)}catch(x){o==null||o(x),m(!0)}},250),y=v=>{try{const x=JSON.stringify(n,null,2);u(x)}catch{}i==null||i(v)};return w.useEffect(()=>{c||u(n?JSON.stringify(n,null,2):s)},[n]),h.jsx(w.Suspense,{fallback:null,children:h.jsx(y5e,{className:qe("flex w-full border border-muted",!e&&"opacity-70",f&&"border-red-500",t),editable:e,_extensions:{json:!0},value:c??void 0,onChange:p,onBlur:y,...a})})}const kS=({path:e="",label:t,wrapperProps:n={}})=>{const{schema:r}=Ns(e);if(!LG(r))return`ObjectField "${e}": no schema`;const i=Object.entries(r.properties??{});return h.jsx(gy,{name:e,schema:{...r,description:void 0},wrapper:"fieldset",errorPlacement:"top",...n,children:i.length===0?h.jsx(Sj,{path:e}):i.map(([s,o])=>{const a=[e,s].filter(Boolean).join(".");if(!(typeof o>"u"||typeof o=="boolean"))return o.anyOf||o.oneOf?h.jsx(g5e,{path:a},a):h.jsx(Rr,{name:a},a)})})},Sj=({path:e})=>{const{value:t}=Kc(e),{setValue:n,path:r}=Ns(e);return h.jsx(zG,{value:t,onChange:i=>n(r,i)})},Rr=e=>h.jsx(wm,{fallback:b5e(e),children:h.jsx(v5e,{...e})}),VG=({as:e="div",className:t,...n})=>{const r=e;return h.jsx(r,{className:[t,"hidden"].filter(Boolean).join(" "),children:h.jsx(Rr,{...n})})},b5e=({name:e})=>({error:t})=>h.jsxs(UG,{children:['Field "',e,'" error: ',t.message]}),v5e=({name:e,onChange:t,placeholder:n,required:r,inputProps:i,...s})=>{const{path:o,setValue:a,schema:c,...u}=Ns(e),f=`${e}-${w.useId()}`,m=typeof r=="boolean"?r:u.required;if(!c)return h.jsxs(UG,{children:["[Field] ",o," has no schema (",JSON.stringify(c),")"]});if(Lu(c.type,"object"))return h.jsx(kS,{path:e,wrapperProps:s});if(Lu(c.type,"array"))return h.jsx(o5e,{path:e});w.useEffect(()=>{i!=null&&i.defaultValue&&a(o,i.defaultValue)},[i==null?void 0:i.defaultValue]);const p=i5e(u.readOnly,i==null?void 0:i.disabled,s.disabled,c.readOnly,"const"in c,!1),y=zt(v=>{var S;const x=e5e(v.target.value,c,{required:m});typeof x>"u"&&!m&&((S=u.options)==null?void 0:S.keepEmpty)!==!0?u.deleteValue(o):a(o,x)});return h.jsx(gy,{name:e,required:m,schema:c,fieldId:f,...s,children:h.jsx(D4,{placeholder:n,...i,id:f,schema:c,name:e,required:m,disabled:p,onChange:t??y})})},UG=({children:e})=>h.jsx("pre",{className:"dark:bg-red-950 bg-red-100 rounded-md px-3 py-1.5 text-wrap whitespace-break-spaces  break-all",children:e}),D4=({schema:e,render:t,...n})=>{const{value:r}=Kc(n.name,{strict:!0});if(!LG(e))return null;const i={...n,value:typeof n.value<"u"?n.value:r,placeholder:n.placeholder?n.placeholder:typeof e.default<"u"?String(e.default):""};if(t)return t({schema:e,...i});if(e.enum)return h.jsx(WW,{options:e.enum,...i});if(Lu(e.type,["number","integer"])){const o={min:e.minimum,max:e.maximum,step:e.multipleOf};return h.jsx(cl,{type:"number",...i,value:i.value??"",...o})}if(Lu(e.type,"boolean"))return h.jsx(HW,{...i,checked:r===!0});if(Lu(e.type,"string")&&e.format==="date-time"){const o=i.value?new Date(i.value).toISOString().slice(0,16):"";return h.jsx(cj,{...i,value:o,type:"datetime-local",onChange:a=>{var u;const c=new Date(a.target.value);(u=i.onChange)==null||u.call(i,{target:{value:c.toISOString()}})}})}if(Lu(e.type,"string")&&e.format==="date")return h.jsx(cj,{...i,value:i.value??""});const s={maxLength:e.maxLength,minLength:e.minLength,pattern:e.pattern};return e.format&&["password","hidden","url","email","tel"].includes(e.format)&&(s.type=e.format),h.jsx(JAe,{...i,value:i.value??"",...s})};function x5e({path:e,valueStrict:t=!0,deriveFn:n,children:r}){const i=Ns(e,n),s=Kc(e,{strict:t});return r({...i,...s,setValue:a=>i.setValue(i.path,a),_setValue:i.setValue})}function L4({context:e,id:t,innerProps:{file:n}}){var p;const{config:{entity_name:r,basepath:i}}=sG(),s=tS(r,void 0,{where:{path:n.path}}),o=()=>e.closeModal(t),a=(p=s.data)==null?void 0:p[0],c=window.location.origin,u=a!=null&&a.reference?a==null?void 0:a.reference.split(".")[0]:void 0,f=u?"/data"+ht.data.entity.edit(u,a==null?void 0:a.entity_id):void 0,m=a!=null&&a.path?"/data"+ht.data.entity.edit(r,a==null?void 0:a.id):void 0;return h.jsxs("div",{className:"flex flex-col md:flex-row",children:[h.jsx("div",{className:"flex w-full md:w-[calc(100%-300px)] justify-center items-center bg-lightest min-w-50",children:h.jsx(S5e,{file:n})}),h.jsxs("div",{className:"w-full md:!w-[300px] flex flex-col",children:[h.jsx(Ul,{title:"ID",value:a==null?void 0:a.id,copyValue:c+m,first:!0,children:m&&h.jsxs(WO,{href:m,size:"small",className:"py-1.5 px-2 !leading-none font-mono",onClick:o,children:["#",String(a==null?void 0:a.id)]})}),h.jsx(Ul,{title:"Path",value:a==null?void 0:a.path}),h.jsx(Ul,{title:"Mime Type",value:a==null?void 0:a.mime_type}),h.jsx(Ul,{title:"Size",value:(a==null?void 0:a.size)&&O1.fileSize(a.size,1),copyValue:a==null?void 0:a.size}),h.jsx(Ul,{title:"Etag",value:a==null?void 0:a.etag}),h.jsx(Ul,{title:"Entity",copyValue:c+f,children:f&&h.jsxs(WO,{href:f,size:"small",className:"py-1.5 px-2 !leading-none font-mono",onClick:o,children:[a==null?void 0:a.reference," #",a==null?void 0:a.entity_id]})}),h.jsx(Ul,{title:"Modified At",value:(a==null?void 0:a.modified_at)&&xF(a==null?void 0:a.modified_at),copyValue:a==null?void 0:a.modified_at}),h.jsx(Ul,{title:"Metadata",value:a==null?void 0:a.metadata,copyable:!1,children:(a==null?void 0:a.metadata)&&h.jsx(Xr,{json:a==null?void 0:a.metadata,expand:2,showCopy:!0,className:"w-full text-sm bg-primary/2 pt-2.5 rounded-lg",copyIconProps:{className:"size-6 opacity-20 group-hover:opacity-100 transition-all"}})})]})]})}const Ul=({title:e,children:t,value:n,first:r,copyable:i=!0,copyValue:s})=>{const o=X1e(),a=!t&&(n===null||typeof n>"u"),c=i&&!a&&o.copy!==void 0,u=n?typeof n=="object"&&!a?JSON.stringify(n):String(n):void 0;return h.jsxs("div",{className:qe("flex flex-col gap-1 py-3 pl-5 pr-3 group",!r&&"border-t border-muted"),children:[h.jsx("div",{className:"text-sm font-bold opacity-50",children:Wa(e)}),h.jsxs("div",{className:"flex flex-row gap-1 justify-between items-center",children:[t??h.jsx("div",{className:qe("font-mono truncate",a&&"opacity-30"),children:a?"null":u}),c&&h.jsx(yt,{Icon:o.copied?vEe:Xq,className:qe("size-6 opacity-20 group-hover:opacity-100 transition-all",o.copied&&"text-success-foreground opacity-100"),onClick:()=>o.copy(s||n)})]})]})},w5e=[/^text\/.*$/,/application\/(x\-)?(json|json|yaml|javascript|xml|rtf|sql)/],S5e=({file:e})=>{const t=typeof e.body=="string"?e.body:URL.createObjectURL(e.body);return e.type.startsWith("image/")||e.type.startsWith("video/")?h.jsx(E4.Preview,{file:e,className:"max-h-[70dvh]",controls:!0,muted:!0}):e.type==="application/pdf"?h.jsx("iframe",{title:"PDF preview",src:`${t}#view=fitH&zoom=page-width&toolbar=1`,className:"w-250 max-w-[80dvw] h-[80dvh]"}):w5e.some(n=>n.test(e.type))?h.jsx(E5e,{file:e}):e.type.startsWith("audio/")?h.jsx("div",{className:"p-5",children:h.jsx("audio",{src:t,controls:!0})}):h.jsx("div",{className:"min-w-96 min-h-48 flex justify-center items-center h-full max-h-[70dvh]",children:h.jsx("span",{className:"opacity-50 font-mono",children:"No Preview Available"})})},E5e=({file:e})=>{const[t,n]=w.useState(""),r=typeof e.body=="string"?e.body:URL.createObjectURL(e.body),i=1024*256,s=e.size>i;return w.useEffect(()=>{let o=!1;return e?fetch(r,{headers:s?{Range:`bytes=0-${i-1}`}:void 0}).then(a=>a.text()).then(a=>{o||n(a)}):n(""),()=>{o=!0}},[e,s]),h.jsxs("pre",{className:"text-sm font-mono whitespace-pre-wrap break-all overflow-y-scroll w-250 md:max-w-[80dvw] h-[60dvh] md:h-[80dvh] py-4 px-6",children:[t,s&&h.jsxs("div",{className:"mt-3 opacity-50 text-xs text-center",children:["Showing first ",O1.fileSize(i)]})]})};L4.defaultTitle=void 0;L4.modalProps={withCloseButton:!1,size:"auto",centered:!0,styles:{content:{overflowY:"initial !important"}},classNames:{root:"bknd-admin w-full max-w-xl",content:"overflow-hidden",title:"font-bold !text-md",body:"max-h-inherit !p-0"}};const Ew={test:w4,debug:v4,form:x4,overlay:V$,dataCreate:b4,mediaInfo:L4};function N5e({children:e}){return h.jsx(A2e,{modals:Ew,children:e})}function _5e(e,t,{title:n,...r}={}){const i=n??Ew[e].defaultTitle??void 0,s=Ew[e].modalProps??{},o={title:i,...r,...s,modal:e,innerProps:t};return N2e({transitionProps:{transition:wTe,duration:300},...o}),{close:()=>qG(e),closeAll:aH.closeAll}}function qG(e){return _2e(e)}const Or={ids:Object.fromEntries(Object.keys(Ew).map(e=>[e,e])),open:_5e,close:qG,closeAll:aH.closeAll};function C5e(e){wr(["Auth","Roles"]);const{hasSecrets:t}=ct({withSecrets:!0});return t?h.jsx(O5e,{...e}):h.jsx(bi.MissingPermission,{what:"Auth Roles"})}function O5e(){const[e]=Bn(),{config:t,actions:n}=Jc(),{readonly:r}=ct(),i=Object.values(Xt(t.roles??{},(a,c)=>{var u,f;return{role:c,permissions:(u=a.permissions)==null?void 0:u.map(m=>m.permission),policies:(f=a.permissions)==null?void 0:f.flatMap(m=>{var p;return((p=m.policies)==null?void 0:p.length)??0}).reduce((m,p)=>m+p,0),is_default:a.is_default??!1,implicit_allow:a.implicit_allow??!1}}));function s(a){e(ht.auth.roles.edit(a.role))}function o(){r||Or.open("form",{schema:He({name:ld}),uiSchema:{name:{"ui:title":"Role name"}},onSubmit:async a=>{a.name.length>0&&await n.roles.add(a.name)&&e(ht.auth.roles.edit(a.name))}},{title:"New Role"})}return h.jsxs(h.Fragment,{children:[h.jsx(Rn,{right:!r&&h.jsx(tt,{variant:"primary",onClick:o,children:"Create new"}),children:"Roles & Permissions"}),h.jsxs(nr,{children:[h.jsx(Ys.Warning,{visible:!t.enabled,title:"Auth not enabled",message:"To use authentication features, please enable it in the settings."}),h.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:h.jsx(CS,{data:i,renderValue:j5e,renderHeader:Gy,onClickRow:s})})]})]})}const j5e=({value:e,property:t})=>{if(["is_default","implicit_allow"].includes(t))return e?h.jsx("span",{children:"Yes"}):h.jsx("span",{className:"opacity-50",children:"No"});if(t==="policies")return e?h.jsx("span",{children:e}):h.jsx("span",{className:"opacity-50",children:"0"});if(t==="permissions"){let r=e||[];const i=r.length;return i>3&&(r=[...r.slice(0,3),`+${i-3}`]),h.jsx("div",{className:"flex flex-row gap-1",children:r.map((s,o)=>h.jsx("span",{className:"inline-block px-2 py-1.5 text-sm bg-primary/5 rounded font-mono leading-none",children:s},o))})}return h.jsx(OS,{value:e,property:t})},MS=({path:e,backTo:t,onBack:n})=>{const[,,r]=Bn(),i=Array.isArray(e)?e:[e],s=i.length>1,o=n||(()=>r({fallback:t})),a=w.useMemo(()=>i.map((c,u)=>({last:u===i.length-1,...c})),[i]);return h.jsxs("div",{className:"flex flex-row flex-grow items-center gap-2 text-lg",children:[s&&h.jsx(yt,{onClick:o,Icon:M$,variant:"default",size:"lg",className:"mr-1"}),h.jsx("div",{className:"hidden md:flex gap-1.5",children:h.jsx(HG,{crumbs:a})}),h.jsx("div",{className:"flex md:hidden gap-2",children:h.jsx(A5e,{crumbs:a})})]})},HG=({crumbs:e})=>e.map((t,n)=>t.last?h.jsx(WG,{...t},n):h.jsx(GG,{...t},n)),A5e=({crumbs:e})=>{const[,t]=Ss();if(e.length<=2)return h.jsx(HG,{crumbs:e});const n=e[0],r=e[e.length-1],i=w.useMemo(()=>e.slice(1,-1).map(o=>({label:o.string,href:o.href})),[e]),s=zt(o=>t(`~/${o.href}`));return h.jsxs(h.Fragment,{children:[h.jsx(GG,{...n}),h.jsx($r,{onClickItem:s,items:i,children:h.jsx(yt,{Icon:ll,variant:"ghost"})}),h.jsx("span",{className:"opacity-25 dark:font-bold font-semibold",children:"/"}),h.jsx(WG,{...r})]})},WG=({label:e})=>h.jsx("span",{className:"text-nowrap dark:font-bold font-semibold",children:e}),GG=({href:e,label:t})=>h.jsxs("div",{className:"opacity-50 flex flex-row gap-1.5 dark:font-bold font-semibold",children:[h.jsx(rS,{to:e,className:"text-nowrap",children:t}),h.jsx("span",{className:"opacity-50",children:"/"})]});function th(...e){return qe(e)}async function T5e(e,t){if(!window[e]){const n=document.createElement("script");n.type="module",n.async=!0,n.textContent=`import * as ${e} from '${t}';window.${e} = ${e};`,document.head.appendChild(n);const r=50;let i=0;for(;!window[e]&&i<r;)await new Promise(s=>setTimeout(s,100)),i++;if(!window[e])throw new Error(`Browser module "${e}" failed to load`)}return window[e]}const $5e=({code:e,className:t,lang:n="typescript",theme:r,enabled:i=!0})=>{const[s,o]=w.useState(null),a=al(),c=r??a.theme==="dark"?"github-dark":"github-light";return w.useEffect(()=>{if(!i)return;let u=!1;o(null);async function f(){try{const{codeToHtml:m}=await T5e("shiki","https://esm.sh/shiki@3.13.0");if(u)return;const p=await m(e,{lang:n,theme:c,structure:"inline"});if(u)return;o(p)}catch(m){console.error("Failed to load Shiki:",m),u||o(e)}}return f(),()=>{u=!0}},[e,i]),s?h.jsx("pre",{className:th("select-text cursor-text",t),dangerouslySetInnerHTML:{__html:s}}):h.jsx("pre",{className:th("select-text cursor-text",t),children:e})};function R5e(e){wr(["Auth","Roles",e.params.role]);const{hasSecrets:t}=ct({withSecrets:!0});return t?h.jsx(I5e,{...e}):h.jsx(bi.MissingPermission,{what:"Roles & Permissions"})}function k5e(e){const t=e.properties.roles.additionalProperties;return{...t,properties:{...t.properties,permissions:{...t.properties.permissions.anyOf[1]}}}}const M5e={options:{debug:xr()}};function I5e({params:e}){var x;const[t]=Bn(),{config:n,schema:r,actions:i}=Jc(),[s,o]=w.useState(),a=e.role,c=(x=n.roles)==null?void 0:x[a],{readonly:u,permissions:f}=ct(),m=k5e(r),p={...c,permissions:f.map(S=>{var N;return(N=c==null?void 0:c.permissions)==null?void 0:N.find(_=>_.permission===S.name)})};async function y(){await i.roles.delete(a)&&t(ht.auth.roles.list())}async function v(S){o(void 0),await i.roles.patch(a,S)}return h.jsxs(E0,{schema:m,initialValues:p,...M5e,beforeSubmit:S=>({...S,permissions:[...Object.values(S.permissions).filter(Boolean)]}),onSubmit:v,onInvalidSubmit:S=>{o(S)},children:[h.jsx(Rn,{right:h.jsxs(h.Fragment,{children:[h.jsx($r,{items:[{label:"Advanced Settings",onClick:()=>t(ht.settings.path(["auth","roles",a]),{absolute:!0})},!u&&{label:"Delete",onClick:y,destructive:!0}],position:"bottom-end",children:h.jsx(yt,{Icon:ll})}),!u&&h.jsx(Tm,{selector:S=>({dirty:S.dirty,errors:S.errors.length>0,submitting:S.submitting}),children:({dirty:S,errors:N,submitting:_})=>h.jsx(tt,{variant:"primary",type:"submit",disabled:!S||N||_,children:"Update"})})]}),className:"pl-3",children:h.jsx(MS,{path:[{label:"Roles & Permissions",href:ht.auth.roles.list()},{label:a}]})}),h.jsxs(nr,{children:[s&&h.jsx(Ys.Exception,{message:"Invalid form data"}),h.jsxs("div",{className:"flex flex-col flex-grow px-5 py-5 gap-8",children:[h.jsx("div",{className:"flex flex-col gap-2",children:h.jsx(P5e,{})}),h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsx(Rr,{label:"Should this role be the default?",name:"is_default",description:"In case an user is not assigned any role, this role will be assigned by default.",descriptionPlacement:"top"}),h.jsx(Rr,{label:"Implicit allow missing permissions?",name:"implicit_allow",description:"This should be only used for admins. If a permission is not explicitly denied, it will be allowed.",descriptionPlacement:"top"})]})]}),h.jsx(_0,{})]})]})}const P5e=()=>{const{permissions:e}=ct(),t=e.reduce((n,r,i)=>{const[s,o]=r.name.split(".");return n[s]||(n[s]=[]),n[s].push({index:i,permission:r}),n},{});return h.jsx("div",{className:"flex flex-col gap-10",children:Object.entries(t).map(([n,r])=>h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("h3",{className:"font-semibold",children:[Li(n)," Permissions"]}),h.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-3 items-start",children:r.map(({index:i,permission:s})=>h.jsx(D5e,{permission:s,index:i},s.name))})]},n))})},D5e=({permission:e,index:t})=>{const n=`permissions.${t}`,{value:r}=Ns("permissions",m=>{var v;const p=m.value;if(!Array.isArray(p))return;const y=p.find(x=>x&&x.permission===e.name);return{set:!!y,policies:((v=y==null?void 0:y.policies)==null?void 0:v.length)??0}}),{setValue:i}=ul(),[s,o]=w.useState(!1),a=(r==null?void 0:r.policies)??0,c=(r==null?void 0:r.set)??!1;async function u(){c?(i(n,void 0),o(!1)):i(n,{permission:e.name,policies:[],effect:"allow"})}function f(){o(m=>!m)}return h.jsx(h.Fragment,{children:h.jsxs("div",{className:th("flex flex-col border border-muted",s&&"border-primary/20"),children:[h.jsxs("div",{className:th("flex flex-row gap-2 justify-between",s&&"bg-primary/5"),children:[h.jsxs("div",{className:"py-4 px-4 font-mono leading-none flex flex-row gap-2 items-center",children:[e.name,e.filterable&&h.jsx(ao,{label:"Permission supports filtering",children:h.jsx(LEe,{className:"opacity-50"})})]}),h.jsx("div",{className:"flex flex-grow"}),h.jsxs("div",{className:"flex flex-row gap-1 items-center px-2",children:[h.jsxs("div",{className:"relative flex flex-row gap-1 items-center",children:[a>0&&h.jsx("div",{className:"bg-primary/80 text-background rounded-full size-5 flex items-center justify-center text-sm font-bold pointer-events-none",children:a}),h.jsx(yt,{size:"md",variant:"ghost",disabled:!c,Icon:cEe,className:th("disabled:opacity-20"),onClick:f})]}),h.jsx(HW,{size:"sm",checked:c,onChange:u})]})]}),s&&h.jsx("div",{className:"px-3.5 py-3.5",children:h.jsx(L5e,{path:`permissions.${t}.policies`,permission:e})})]},e.name)})},L5e=({path:e,permission:t})=>{const{setValue:n,schema:r,lib:i,deleteValue:s,value:o}=Ns(e,({value:f})=>({policies:(f==null?void 0:f.length)??0})),a=(o==null?void 0:o.policies)??0;function c(){n(`${e}.${a}`,i.getTemplate(void 0,r.items,{addOptionalProps:!0}))}function u(f){s(`${e}.${f}`)}return h.jsxs("div",{className:th("flex flex-col",a>0&&"gap-8"),children:[h.jsx("div",{className:"flex flex-col gap-5",children:a>0&&Array.from({length:a}).map((f,m)=>h.jsxs(N0,{prefix:`${e}.${m}`,schema:r.items,children:[m>0&&h.jsx("div",{className:"h-px bg-muted"}),h.jsxs("div",{className:"flex flex-row gap-2 items-start",children:[h.jsx("div",{className:"flex flex-col flex-grow w-full",children:h.jsx(z5e,{permission:t})}),h.jsx(yt,{Icon:D$,onClick:()=>u(m),size:"sm"})]})]},m))}),h.jsx("div",{className:"flex flex-row justify-center",children:h.jsx(tt,{onClick:c,children:"Add Policy"})})]})},F5e=(...e)=>Nce(e.filter(Boolean).map(Vs));function B5e(e,t){return!sd(e)||!Array.isArray(t)||t.length===0?e:Xt(e,(n,r)=>r==="properties"?Xt(n,(i,s)=>s==="entity"&&i.type==="string"?{...i,enum:t}:i):n)}const z5e=({permission:e})=>{const{value:t}=Ns("",({value:o})=>({effect:(o==null?void 0:o.effect)??"allow"})),n=ct(),r=c0(o=>o.system.permissions(),{use:[Gxe]}),i=Object.keys(n.config.data.entities??{}),s=r.data?F5e(r.data.context,B5e(e.context??null,i)):void 0;return h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx(Rr,{name:"description"}),h.jsx(_9,{name:"condition",label:"Condition",description:"The condition that must be met for the policy to be applied.",schema:s&&{name:"Context",content:p6(s,"Context")},children:h.jsx(Sj,{path:"condition"})}),h.jsx(x5e,{path:"effect",children:({value:o,setValue:a})=>h.jsx(gy,{name:"effect",label:"Effect",descriptionPlacement:"label",description:"The effect of the policy to take effect on met condition.",children:h.jsx(zc,{className:"border border-muted",defaultValue:o,onChange:c=>a(c),data:["allow","deny",e.filterable?"filter":void 0].filter(Boolean).map(c=>({label:Li(c??""),value:c}))})})}),(t==null?void 0:t.effect)==="filter"&&h.jsx(_9,{name:"filter",label:"Filter",description:"Filter to apply to all queries on met condition.",schema:s&&{name:"Variables",content:p6(s,"Variables")},children:h.jsx(Sj,{path:"filter"})})]})},_9=({children:e,name:t,label:n,description:r,schema:i})=>{const s=Am(t,{strict:!0}),o=s.length>0&&h.jsx(VW,{children:s.map(a=>a.message).join(", ")});return h.jsxs(ps,{as:"div",children:[h.jsxs(Mc,{as:"label",htmlFor:t,className:"flex flex-row gap-1 justify-between items-center",children:[h.jsxs("div",{className:"flex flex-row gap-1 items-center",children:[n,r&&h.jsx(ao,{label:r,children:h.jsx(eH,{className:"size-4 opacity-50"})})]}),i&&h.jsx("div",{children:h.jsx(NS,{overlayProps:{className:"max-w-none"},position:"bottom-end",target:()=>typeof i.content=="object"?h.jsx(Xr,{className:"w-auto max-w-120 bg-background pr-3 text-sm",json:i.content,title:i.name,expand:5}):h.jsx($5e,{code:i.content,lang:"typescript",className:"w-auto max-w-120 bg-background p-3 text-sm"}),children:h.jsx(tt,{variant:"ghost",size:"smaller",IconLeft:CEe,children:Wa(i.name)})})})]}),e,o]})},JG=sS(u0({advanced:[]},e=>({toggleAdvanced:t=>e(n=>({advanced:n.advanced.includes(t)?n.advanced.filter(r=>r!==t):[...n.advanced,t]}))})));function V5e(e){wr(["Auth","Settings"]);const{hasSecrets:t}=ct({withSecrets:!0});return t?h.jsx(q5e,{...e}):h.jsx(bi.MissingPermission,{what:"Auth Settings"})}const U5e={ignoreKeys:["roles","strategies"],options:{keepEmpty:!0,debug:xr()}};function q5e(){const{config:e,schema:t,actions:n,$auth:r}=Jc(),{readonly:i}=ct(),s=JSON.parse(JSON.stringify(t));s.properties.jwt.required=["alg"];async function o(a){await n.config.set(a)}return h.jsxs(E0,{schema:s,initialValues:e,onSubmit:o,...U5e,readOnly:i,children:[h.jsx(Tm,{selector:a=>({dirty:a.dirty,errors:a.errors.length>0,submitting:a.submitting}),children:({dirty:a,errors:c,submitting:u})=>h.jsx(Rn,{className:"pl-4",right:!i&&h.jsx(tt,{variant:"primary",type:"submit",disabled:!a||c||u,children:"Update"}),children:"Settings"})}),h.jsxs(nr,{children:[h.jsxs(Q_,{className:"pt-4 pl-0 pb-0",children:[h.jsx("div",{className:"pl-4",children:h.jsx(ii,{name:"enabled",label:"Authentication Enabled",description:"Only after enabling authentication, all settings below will take effect.",descriptionPlacement:"top"})}),h.jsxs("div",{className:"flex flex-col gap-6 relative pl-4 pb-2",children:[h.jsx(O9,{}),h.jsx(ii,{name:"guard.enabled",label:h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx("span",{children:"Guard Enabled"}),!r.roles.has_admin&&h.jsx(dS.Warning,{title:"No admin roles defined. Enabling the guard will likely block all requests."})]}),disabled:r.roles.none,description:"When enabled, enforces permissions on all routes. Make sure to create roles first.",descriptionPlacement:"top"}),h.jsx(ii,{name:"allow_register",label:"Allow User Registration",description:"When enabled, allows users to register autonomously. New users use the default role.",descriptionPlacement:"top"})]})]}),h.jsxs("div",{className:"flex flex-col gap-3 relative mt-3 pb-4",children:[h.jsx(O9,{}),h.jsx(XO,{}),h.jsxs(Q_,{title:"JWT",children:[h.jsx(ii,{name:"jwt.issuer"}),h.jsx(ii,{name:"jwt.secret",description:"The secret used to sign the JWT token. If not set, a random key will be generated after enabling authentication.",advanced:"jwt",inputProps:{type:"password"}}),h.jsx(ii,{name:"jwt.alg",advanced:"jwt"}),h.jsx(ii,{name:"jwt.expires",advanced:"jwt"}),h.jsx(C9,{which:"jwt"})]}),h.jsx(XO,{}),h.jsxs(Q_,{title:"Cookie",children:[h.jsx(ii,{name:"cookie.path",advanced:"cookie"}),h.jsx(ii,{name:"cookie.sameSite",advanced:"cookie"}),h.jsx(ii,{name:"cookie.secure",advanced:"cookie"}),h.jsx(ii,{name:"cookie.expires",advanced:"cookie"}),h.jsx(ii,{name:"cookie.renew",label:"Renew Cookie",description:"Automatically renew users cookie on every request.",descriptionPlacement:"top"}),h.jsx(ii,{name:"cookie.pathSuccess",advanced:"cookie"}),h.jsx(ii,{name:"cookie.pathLoggedOut"}),h.jsx(C9,{which:"cookie"})]})]}),h.jsx(_0,{})]})]})}const C9=({which:e})=>{const{advanced:t,toggleAdvanced:n}=JG(),r=t.includes(e);return h.jsx(tt,{IconLeft:r?SEe:Yq,onClick:()=>n(e),variant:r?"default":"ghost",className:"self-start",size:"small",children:r?"Hide advanced settings":"Show advanced settings"})},O9=()=>h.jsx(Tm,{selector:e=>({enabled:e.data.enabled}),children:({enabled:e})=>!e&&h.jsx("div",{className:"absolute w-full h-full z-50 inset-0 bg-background opacity-90"})});function Q_(e){const{children:t,title:n,className:r}=e;return h.jsx(h.Fragment,{children:h.jsxs("div",{className:vn("flex flex-col gap-6 px-4",n&&"pt-0",r),children:[n&&h.jsx("h3",{className:"text-lg font-bold",children:n}),t]})})}function ii(e){const{advanced:t,...n}=e,r=JG(i=>i.advanced);return t&&!r.includes(t)?null:h.jsx(Rr,{...n})}const H5e=({className:e,...t})=>h.jsx("div",{className:qe("flex flex-col gap-2 max-w-4xl",e),...t}),W5e=({className:e,hasError:t,disabled:n,...r})=>h.jsx("div",{className:qe("flex flex-col border border-muted rounded bg-background",t&&"border-error",e),...r}),G5e=({className:e,left:t,right:n,children:r,...i})=>h.jsxs("div",{...i,className:qe("flex flex-row justify-between p-3 gap-3 items-center",e),children:[t&&h.jsx("div",{className:"flex flex-row items-center p-2 bg-primary/5 rounded",children:t}),h.jsx("div",{className:"font-mono flex-grow flex flex-row gap-3",children:r}),n&&h.jsx("div",{className:"flex flex-row gap-4 items-center",children:n})]}),J5e=({className:e,open:t,...n})=>t&&h.jsx("div",{...n,className:qe("flex flex-col border-t border-t-muted px-4 pt-3 pb-4 bg-lightest/50 gap-4",e)}),ax={Root:H5e,Item:W5e,Preview:G5e,Detail:J5e};function Y5e(e){wr(["Auth","Strategies"]);const{hasSecrets:t,config:{auth:{enabled:n}}}=ct({withSecrets:!0});if(t){if(!n)return h.jsx(bi.NotEnabled,{description:"Enable Auth first."})}else return h.jsx(bi.MissingPermission,{what:"Auth Strategies"});return h.jsx(K5e,{...e})}const X5e={keepEmpty:!0,debug:xr()};function K5e(){var s,o;const{readonly:e}=ct(),t=Jc(),n=t.config.strategies,r=t.schema.properties.strategies;Object.fromEntries((o=(s=t.schema.properties.strategies)==null?void 0:s.additionalProperties)==null?void 0:o.anyOf.map(a=>[a.properties.type.const,a]));async function i(a){await t.actions.config.set({strategies:a})}return h.jsxs(E0,{schema:r,initialValues:n,onSubmit:i,options:X5e,readOnly:e,children:[h.jsx(Tm,{selector:a=>({dirty:a.dirty,errors:a.errors.length>0,submitting:a.submitting}),children:({dirty:a,errors:c,submitting:u})=>h.jsx(Rn,{className:"pl-4",right:!e&&h.jsx(tt,{variant:"primary",type:"submit",disabled:!a||c||u,children:"Update"}),children:"Strategies"})}),h.jsxs(nr,{children:[h.jsxs("div",{className:"flex flex-col p-4 gap-4",children:[h.jsx("p",{className:"opacity-70",children:"Allow users to sign in or sign up using different strategies."}),h.jsxs(ax.Root,{children:[h.jsx(ql,{type:"password",name:"password"}),h.jsx(ql,{type:"oauth",name:"google"}),h.jsx(ql,{type:"oauth",name:"github"}),h.jsx(ql,{type:"oauth",name:"facebook",unavailable:!0}),h.jsx(ql,{type:"oauth",name:"x",unavailable:!0}),h.jsx(ql,{type:"oauth",name:"instagram",unavailable:!0}),h.jsx(ql,{type:"oauth",name:"apple",unavailable:!0}),h.jsx(ql,{type:"oauth",name:"discord",unavailable:!0})]})]}),h.jsx(_0,{})]})]})}const ql=({type:e,name:t,unavailable:n})=>{const r=Am(t,{strict:!0}),i=Jc(),o=Object.fromEntries(i.schema.properties.strategies.additionalProperties.anyOf.map(u=>[u.properties.type.const,u]))[e],{active:a,toggle:c}=k$("/strategies/:strategy?",t);return o?h.jsx(N0,{schema:o,prefix:t,children:h.jsxs(ax.Item,{hasError:r.length>0,className:n?"opacity-20 pointer-events-none cursor-not-allowed":void 0,children:[h.jsx(ax.Preview,{left:h.jsx(Z5e,{type:e,provider:t}),right:h.jsxs(h.Fragment,{children:[h.jsx(Q5e,{type:e}),h.jsx(yt,{Icon:xm,size:"lg",iconProps:{strokeWidth:1.5},variant:a?"primary":"ghost",onClick:()=>c(!a)})]}),children:h.jsx("span",{className:"leading-none",children:Wa(t)})}),h.jsx(ax.Detail,{open:a,children:h.jsx(eRe,{type:e,name:t})})]})}):null},Q5e=({type:e})=>{const t=Ns(""),{value:n}=Kc("");function r(i){const s=i.target.value,o=Object.keys(n??{}),a=o.length===0||o.length===1&&o[0]==="enabled";!s&&a?t.deleteValue(t.path):t.setValue([t.path,"enabled"].join("."),s)}return h.jsx(Rr,{name:"enabled",label:!1,required:!0,onChange:r})},Z5e=({type:e,provider:t})=>{if(e==="password")return h.jsx(hEe,{className:"size-5"});if(t&&t in j9){const n=j9[t];return h.jsx(n,{className:"size-5"})}return h.jsx(yEe,{className:"size-5"})},j9={google:sEe,github:iEe,facebook:rEe,x:bEe,instagram:gEe,apple:tEe,discord:nEe},eRe=({type:e,name:t})=>{let n=r=>h.jsx(kS,{path:"",wrapperProps:{wrapper:"group",label:!1}});switch(e){case"password":n=tRe;break;case"oauth":n=nRe;break}return h.jsxs(h.Fragment,{children:[h.jsx(VG,{name:"type",inputProps:{disabled:!0,defaultValue:e}}),h.jsx(n,{type:e,name:t})]})},tRe=()=>h.jsx(kS,{path:"config",wrapperProps:{wrapper:"group",label:!1}}),nRe=({type:e,name:t})=>h.jsxs(h.Fragment,{children:[h.jsx(VG,{name:"config.name",inputProps:{disabled:!0,defaultValue:t}}),h.jsx(Rr,{name:"config.client.client_id",required:!0,inputProps:{type:"password"}}),h.jsx(Rr,{name:"config.client.client_secret",required:!0,inputProps:{type:"password"}})]});function rRe(){return null}function iRe(){return h.jsxs(p2e,{children:[h.jsx(at,{path:"/",component:x2e}),h.jsx(at,{path:"/users",component:rRe}),h.jsx(at,{path:"/roles",component:C5e}),h.jsx(at,{path:"/roles/edit/:role",component:R5e}),h.jsx(at,{path:"/strategies/:strategy?",component:Y5e}),h.jsx(at,{path:"/settings",component:V5e})]})}function sRe(){return wr(["Login"]),h.jsx(ZW.Screen,{action:"login",logo:h.jsx(Ln,{href:"/",className:"link",children:h.jsx(oS,{scale:.25})})})}const YG={data:{btnCreateEntity:"data-btns-create-entity"},media:{switchEnabled:"media-switch-enabled"}};function oRe({children:e}){const{entities:t,$data:n}=qi(),r={regular:[],generated:[],system:[]},[i]=Bn(),s=window.location.href.match(/\/schema/)?"schema":"data";for(const a of Object.values(t))r[a.getType()].push(a);function o(a){var u;if(!a)return;const c=((u=window.location.href.match(/\/entity\/([^/]+)/))==null?void 0:u[1])||null;switch(a){case"data":c?i(ht.data.entity.list(c)):i(ht.data.root(),{absolute:!0});break;case"schema":i(c?ht.data.schema.entity(c):ht.data.schema.root());break}}return h.jsxs(h.Fragment,{children:[h.jsxs(Od,{children:[h.jsx(Rn,{right:h.jsxs(h.Fragment,{children:[h.jsx(zc,{data:[{value:"data",label:"Data"},{value:"schema",label:"Schema"}],value:s,onChange:o}),h.jsx(iS,{children:h.jsx(ao,{label:"New Entity",children:h.jsx(yt,{Icon:Kq,onClick:n.modals.createEntity})})})]}),children:"Entities"}),h.jsx(nr,{initialOffset:96,children:h.jsxs("div",{className:"flex flex-col flex-grow py-3 gap-3",children:[h.jsx(Z_,{entities:r.regular,context:s,suggestCreate:!0}),h.jsx(Z_,{entities:r.system,context:s,title:"System"}),h.jsx(Z_,{entities:r.generated,context:s,title:"Generated"})]})})]}),h.jsx(h0,{children:e})]})}const Z_=({entities:e,title:t,context:n,suggestCreate:r=!1})=>{const{$data:i}=qi(),{readonly:s}=ct(),o=k1e();if(e.length===0)return r?s?h.jsx(Jn,{className:"py-10",description:"No entities created."}):h.jsx(Jn,{className:"py-10",description:"Create your first entity to get started.",secondary:{children:"Create entity",onClick:()=>i.modals.createEntity()}}):null;function a(c){return u=>{switch(u.stopPropagation(),u.preventDefault(),n){case"schema":o(f=>f.data.entity.list(c.name));break;case"data":o(f=>f.data.schema.entity(c.name));break}}}return h.jsxs("nav",{className:qe("flex flex-col flex-1 gap-1 px-3",t&&"border-t border-primary/10 pt-2"),children:[t&&h.jsx("div",{className:"text-sm text-primary/50 ml-3.5 mb-1",children:t}),e.map(c=>{const u=n==="data"?ht.data.entity.list(c.name):ht.data.schema.entity(c.name);return h.jsx(aRe,{entity:c,children:h.jsxs(li,{as:Ln,href:u,className:"justify-between items-center",children:[h.jsx("span",{className:"truncate",children:c.label}),N1e(u)&&h.jsx(tt,{IconLeft:vwe,size:"small",onClick:a(c),children:n==="schema"?"Data":"Fields"})]})},c.name)})]})},aRe=({entity:e,children:t,enabled:n=!0})=>{if(!n)return t;const[r]=Bn(),{$data:i}=qi(),s=t.props.href,o=()=>h.jsx("div",{className:"h-px my-1 w-full bg-primary/5"});return h.jsx($r,{className:"flex flex-col w-full",dropdownWrapperProps:{className:"min-w-fit"},title:e.label+" Actions",items:[s&&{icon:cwe,label:"Open in tab",onClick:()=>{r(s,{target:"_blank",absolute:!0})}},o,!i.system(e.name).any&&{icon:w$,label:"Create new",onClick:()=>r(ht.data.entity.create(e.name))},{icon:hd,label:"List entries",onClick:()=>r(ht.data.entity.list(e.name))},o,{icon:v$,label:"Manage fields",onClick:()=>r(ht.data.schema.entity(e.name))},{icon:x$,label:"Add relation",onClick:()=>i.modals.createRelation(e.name)},!i.system(e.name).media&&{icon:FU,label:"Add media",onClick:()=>i.modals.createMedia(e.name)},o,{icon:oy,label:"Advanced",onClick:()=>r(ht.settings.path(["data","entities",e.name]),{absolute:!0})}],openEvent:"onContextMenu",position:"bottom-start",children:t})};function lRe(){wr(["Data"]);const[e]=Bn(),{$data:t}=qi(),{readonly:n}=ct();function r(){e(ht.data.schema.root())}return n?h.jsx(Jn,{Icon:hd,title:"No entity selected",description:"Please select an entity from the left sidebar.",primary:{children:"Go to schema",onClick:r}}):h.jsx(Jn,{Icon:hd,title:"No entity selected",description:"Please select an entity from the left sidebar or create a new one to continue.",secondary:{children:"Go to schema",onClick:r},primary:{children:"Create entity","data-testid":YG.data.btnCreateEntity,onClick:t.modals.createEntity}})}const nh=new WeakMap,lx=new WeakMap,Nw={current:[]};let eC=!1,Og=0;const lg=new Set,Ev=new Map;function XG(e){const t=Array.from(e).sort((n,r)=>n instanceof La&&n.options.deps.includes(r)?1:r instanceof La&&r.options.deps.includes(n)?-1:0);for(const n of t){if(Nw.current.includes(n))continue;Nw.current.push(n),n.recompute();const r=lx.get(n);if(r)for(const i of r){const s=nh.get(i);s&&XG(s)}}}function cRe(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function uRe(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function KG(e){if(Og>0&&!Ev.has(e)&&Ev.set(e,e.prevState),lg.add(e),!(Og>0)&&!eC)try{for(eC=!0;lg.size>0;){const t=Array.from(lg);lg.clear();for(const n of t){const r=Ev.get(n)??n.prevState;n.prevState=r,cRe(n)}for(const n of t){const r=nh.get(n);r&&(Nw.current.push(n),XG(r))}for(const n of t){const r=nh.get(n);if(r)for(const i of r)uRe(i)}}}finally{eC=!1,Nw.current=[],Ev.clear()}}function Jl(e){Og++;try{e()}finally{if(Og--,Og===0){const t=Array.from(lg)[0];t&&KG(t)}}}class Ej{constructor(t,n){this.listeners=new Set,this.subscribe=r=>{var i,s;this.listeners.add(r);const o=(s=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:s.call(i,r,this);return()=>{this.listeners.delete(r),o==null||o()}},this.setState=r=>{var i,s,o;this.prevState=this.state,this.state=(i=this.options)!=null&&i.updateFn?this.options.updateFn(this.prevState)(r):r(this.prevState),(o=(s=this.options)==null?void 0:s.onUpdate)==null||o.call(s),KG(this)},this.prevState=t,this.state=t,this.options=n}}class La{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=[],r=[];for(const i of this.options.deps)n.push(i.prevState),r.push(i.state);return this.lastSeenDepValues=r,{prevDepVals:n,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,r;this.prevState=this.state;const{prevDepVals:i,currDepVals:s,prevVal:o}=this.getDepVals();this.state=this.options.fn({prevDepVals:i,currDepVals:s,prevVal:o}),(r=(n=this.options).onUpdate)==null||r.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const s of this.options.deps)s instanceof La&&s.checkIfRecalculationNeededDeeply();let n=!1;const r=this.lastSeenDepValues,{currDepVals:i}=this.getDepVals();for(let s=0;s<i.length;s++)if(i[s]!==r[s]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var r,i;this.listeners.add(n);const s=(i=(r=this.options).onSubscribe)==null?void 0:i.call(r,n,this);return()=>{this.listeners.delete(n),s==null||s()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(const n of t)if(n instanceof La)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof Ej){let r=nh.get(n);r||(r=new Set,nh.set(n,r)),r.add(this);let i=lx.get(this);i||(i=new Set,lx.set(this,i)),i.add(n)}}unregisterFromGraph(t=this.options.deps){for(const n of t)if(n instanceof La)this.unregisterFromGraph(n.options.deps);else if(n instanceof Ej){const r=nh.get(n);r&&r.delete(this);const i=lx.get(this);i&&i.delete(n)}}}function IS(e,t=n=>n){return dq.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,dRe)}function dRe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!t.has(r)||!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}function fRe({fieldApi:e,field:t,data:n,disabled:r,...i}){function s(a){r||e.setValue(a)}const o=n==null?void 0:n[t.name];return h.jsxs(ps,{children:[h.jsx(Om,{htmlFor:e.name,field:t}),h.jsx("div",{"data-disabled":r?1:void 0,className:"data-[disabled]:opacity-70 data-[disabled]:pointer-events-none",children:h.jsx(Em,{schema:t.getJsonSchema(),onChange:s,direction:"horizontal",formData:o,uiSchema:{"ui:globalOptions":{flexDirection:"row"},...t.getJsonUiSchema()}})})]})}function F4({entity:e,select:t,...n}){const r=t??e.getSelect(),i=e.getFields();function s(c){return i.find(u=>u.name===c)}function o(c){try{return s(c).getLabel()}catch(u){return console.warn("Couldn't render header",{entity:e,select:t,...n},u),c}}function a({value:c,property:u}){let f=c;try{f=s(u).getValue(c,"table")}catch(m){console.warn("Couldn't render value",{value:c,property:u,entity:e,select:t,columns:r,...n},m)}return h.jsx(wm,{fallback:String(f),children:h.jsx(OS,{value:f,property:u})})}return h.jsx(CS,{...n,columns:r,renderHeader:o,renderValue:a})}function hRe({fieldApi:e,field:t,data:n,disabled:r,tabIndex:i}){const{app:s}=ct(),o=s.entity(t.target()),[a,c]=w.useState({limit:10,page:1,perPage:10,select:o.getSelect(void 0,"table")});Ss();const u=w.useRef(null),f=tS(t.target(),void 0,{select:a.select,limit:a.limit+1,offset:(a.page-1)*a.limit}),[m,p]=w.useState(),y=n==null?void 0:n[t.reference()],v=n==null?void 0:n[t.name];w.useEffect(()=>{const S=n==null?void 0:n[t.reference()];p(S)},[y]),w.useEffect(()=>{(async()=>{if(!t.target()||!v)return;const N=await f.api.readOne(t.target(),v);N.ok&&N.data&&p(N.data)})()},[v]),w.useEffect(()=>{var S;if(t.isRequired()&&!e.state.value){const N=(S=f.data)==null?void 0:S[0];if(!N)return;console.warn("setting first value because field is required",t.name,N.id),e.setValue(N.id),p(N)}},[f.data]);const x=f.isLoading||f.isValidating;return h.jsxs(ps,{children:[h.jsx(Om,{htmlFor:e.name,field:t,label:t.getLabel({fallback:!1})??o.label}),h.jsx("div",{"data-disabled":x||r?1:void 0,className:"data-[disabled]:opacity-70 data-[disabled]:pointer-events-none",children:h.jsx(NS,{backdrop:!0,className:"",target:({toggle:S})=>h.jsx(mRe,{container:f.data,entity:o,query:a,toggle:S,onClickRow:N=>{e.setValue(N.id),p(N),S()},onClickPage:N=>{console.log("setting page",N),c(_=>({..._,page:N}))}}),children:h.jsx("div",{ref:u,className:"bg-muted/40 w-full h-11 focus:bg-muted rounded-md items-center px-2.5 outline-none focus:outline-none focus:ring-2 focus:ring-zinc-500 focus:border-transparent transition-all disabled:bg-muted/50 disabled:text-primary/50 cursor-pointer active:bg-muted/80 hover:bg-muted/60 flex flex-row gap-2",tabIndex:i,onKeyDown:oSe([["Enter",()=>{var S;(S=u.current)==null||S.click()}]]),children:m?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"flex bg-primary/10 px-2 leading-none py-1.5 rounded-lg font-mono text-sm",children:Li(o.name)}),h.jsx("div",{className:"flex flex-row gap-3 overflow-clip w-1 flex-grow",children:m&&Object.entries(m).map(([S,N])=>{const _=o.getField(S);if(_.isHidden("table"))return null;const C=_.getValue(N,"table");return h.jsxs("div",{className:"flex flex-row gap-1 items-center flex-nowrap",children:[h.jsxs("span",{className:"opacity-60 text-nowrap",children:[_.getLabel(),":"]})," ",C!==null&&typeof C<"u"?h.jsx(wm,{fallback:JSON.stringify(C),suppressError:!0,children:h.jsx("span",{className:"text-nowrap truncate",children:C})}):h.jsx("span",{className:"opacity-30 text-nowrap font-mono mt-0.5",children:"null"})]},S)})}),h.jsx(Ln,{to:ht.data.entity.edit(o.name,m.id),children:h.jsx(tt,{IconLeft:Qq,size:"small",children:"View"})})]}):h.jsx("div",{className:"pl-2",children:"- Select -"})})})}),h.jsx(cl,{type:"hidden",name:e.name,id:e.name,value:e.state.value??"",onChange:console.log,tabIndex:-1})]})}const mRe=({container:e,entity:t,query:n,toggle:r,onClickRow:i,onClickPage:s})=>{var c;function o(){var u;n.limit*n.page<((u=e.meta)==null?void 0:u.count)&&(s==null||s(n.page+1))}function a(){n.page>1&&(s==null||s(n.page-1))}return j$([["ArrowRight",o],["ArrowLeft",a],["Escape",r]]),h.jsx("div",{children:h.jsx(F4,{classNames:{value:"line-clamp-1 truncate max-w-52 text-nowrap"},data:e??[],entity:t,select:n.select,total:(c=e.body.meta)==null?void 0:c.count,page:n.page,onClickRow:i,onClickPage:s})})};function QG({entity:e,entityId:t,handleSubmit:n,fieldsDisabled:r,Form:i,data:s,className:o,action:a}){const c=e.getFillableFields(a,!0),u=uS(e,a);return h.jsxs("form",{onSubmit:n,children:[h.jsx(i.Subscribe,{selector:f=>[f.canSubmit,f.isValid,f.errors],children:([f,m,p])=>!m&&h.jsxs("div",{className:"flex flex-col dark:bg-red-950 bg-red-100 p-4",children:[h.jsx("p",{children:"Form is invalid."}),Array.isArray(p)&&h.jsx("ul",{className:"list-disc",children:p.map((y,v)=>h.jsx("li",{className:"ml-6",children:y},v))})]})}),h.jsx("div",{className:o,children:c.map((f,m)=>{if(f instanceof Qg)return h.jsx(gRe,{entity:e,entityId:t,formApi:i,field:f},f.name+m);if(!f.isFillable(a))return;const p=`${e.name}-${f.name}-${m}`;return h.jsx(wm,{fallback:h.jsxs(Ys.Exception,{className:"font-mono",children:["Field error: ",f.name]}),children:h.jsx(i.Field,{name:f.name,children:y=>{const v=u.field(f.name);if(v!=null&&v.render){const x=v.render(a,e,f,{handleChange:y.handleChange,value:y.state.value,data:s});if(x)return x}if(!f.isHidden(a))return h.jsx(pRe,{field:f,fieldApi:y,disabled:r,tabIndex:m+1,action:a,data:s})}})},p)})}),h.jsx("div",{className:"hidden",children:h.jsx("button",{type:"submit"})})]})}function pRe({fieldApi:e,field:t,action:n,data:r,...i}){const s=zt(u=>{typeof u=="object"&&"target"in u?e.handleChange(u.target.value):e.handleChange(u)});if(t.type==="relation")return h.jsx(hRe,{fieldApi:e,field:t,data:r,disabled:i.disabled,tabIndex:i.tabIndex});if(t.type==="json")return h.jsx(yRe,{fieldApi:e,field:t,...i});if(t.type==="jsonschema")return h.jsx(fRe,{fieldApi:e,field:t,data:r,disabled:i.disabled,tabIndex:i.tabIndex,...i});if(t.type==="enum")return h.jsx(bRe,{fieldApi:e,field:t,...i});const o=t.getHtmlConfig().element,a=t.getHtmlConfig().props,c=YAe(o??"input");return h.jsxs(ps,{children:[h.jsx(Om,{htmlFor:e.name,field:t}),h.jsx(c,{...a,name:e.name,id:e.name,value:e.state.value,onBlur:e.handleBlur,onChange:s,required:t.isRequired(),...i})]})}function gRe({formApi:e,field:t,entity:n,entityId:r,disabled:i}){if(!r)return;const s=50,o=t.getMaxItems(),a=o===1,c=a?1:o&&o>s?s:o,u=IS(e.store,p=>{const y=p.values[t.name];return!y||typeof y>"u"?[]:Array.isArray(y)?y:[y]}),f=JSON.stringify([n,r,t.name,u.length]),m=p=>{Or.open(Or.ids.mediaInfo,{file:p})};return h.jsxs(ps,{children:[h.jsx(Om,{field:t}),h.jsx(E4.Dropzone,{maxItems:o,allowedMimeTypes:t.getAllowedMimeTypes(),initialItems:a?u:void 0,onClick:m,entity:{name:n.name,id:r,field:t.name},query:{sort:"-id",limit:c}},f)]})}function yRe({fieldApi:e,field:t,...n}){const[r,i]=w.useState(null),s=zt(o=>{i(null),e.handleChange(o)});return h.jsxs(ps,{error:!!r,children:[h.jsx(Om,{htmlFor:e.name,field:t}),h.jsx(w.Suspense,{children:h.jsx(zG,{id:e.name,value:e.state.value,onChange:s,onBlur:e.handleBlur,onInvalid:i,minHeight:"100",...n})})]})}function bRe({fieldApi:e,field:t,...n}){const r=zt(i=>{e.handleChange(i.target.value)});return h.jsxs(ps,{children:[h.jsx(Om,{htmlFor:e.name,field:t}),h.jsxs(WW,{name:e.name,id:e.name,value:e.state.value,onBlur:e.handleBlur,onChange:r,required:t.isRequired(),...n,children:[!t.isRequired()&&h.jsx("option",{value:"",children:"- Select -"}),t.getOptions().map((i,s)=>h.jsx("option",{value:i.value,children:i.label},`${i.value}-${s}`))]})]})}function PS(e,t){return typeof e=="function"?e(t):e}function ZG(e,t){return B4(t).reduce((r,i)=>{if(r===null)return null;if(typeof r<"u")return r[i]},e)}function tC(e,t,n){const r=B4(t);function i(s){if(!r.length)return PS(n,s);const o=r.shift();if(typeof o=="string"||typeof o=="number"&&!Array.isArray(s))return typeof s=="object"?(s===null&&(s={}),{...s,[o]:i(s[o])}):{[o]:i()};if(Array.isArray(s)&&typeof o=="number"){const a=s.slice(0,o);return[...a.length?a:new Array(o),i(s[o]),...s.slice(o+1)]}return[...new Array(o),i()]}return i(e)}function vRe(e,t){const n=B4(t);function r(i){if(!i)return;if(n.length===1){const o=n[0];if(Array.isArray(i)&&typeof o=="number")return i.filter((u,f)=>f!==o);const{[o]:a,...c}=i;return c}const s=n.shift();if(typeof s=="string"&&typeof i=="object")return{...i,[s]:r(i[s])};if(typeof s=="number"&&Array.isArray(i)){if(s>=i.length)return i;const o=i.slice(0,s);return[...o.length?o:new Array(s),r(i[s]),...i.slice(s+1)]}throw new Error("It seems we have created an infinite loop in deleteBy. ")}return r(e)}const xRe=/^(\d*)$/gm,wRe=/\.(\d*)\./gm,SRe=/^(\d*)\./gm,ERe=/\.(\d*$)/gm,NRe=/\.{2,}/gm,Nj="__int__",Nv=`${Nj}$1`;function B4(e){if(Array.isArray(e))return[...e];if(typeof e!="string")throw new Error("Path must be a string.");return e.replace(/\[/g,".").replace(/\]/g,"").replace(xRe,Nv).replace(wRe,`.${Nv}.`).replace(SRe,`${Nv}.`).replace(ERe,`.${Nv}`).replace(NRe,".").split(".").map(t=>t.indexOf(Nj)===0?parseInt(t.substring(Nj.length),10):t)}function _Re(e){return!(Array.isArray(e)&&e.length===0)}function _j(e,t){const{asyncDebounceMs:n}=t,{onChangeAsync:r,onBlurAsync:i,onSubmitAsync:s,onBlurAsyncDebounceMs:o,onChangeAsyncDebounceMs:a}=t.validators||{},c=n??0,u={cause:"change",validate:r,debounceMs:a??c},f={cause:"blur",validate:i,debounceMs:o??c},m={cause:"submit",validate:s,debounceMs:0},p=y=>({...y,debounceMs:0});switch(e){case"submit":return[p(u),p(f),m];case"blur":return[f];case"change":return[u];case"server":default:return[]}}function Cj(e,t){const{onChange:n,onBlur:r,onSubmit:i,onMount:s}=t.validators||{},o={cause:"change",validate:n},a={cause:"blur",validate:r},c={cause:"submit",validate:i},u={cause:"mount",validate:s},f={cause:"server",validate:()=>{}};switch(e){case"mount":return[u];case"submit":return[o,a,c,f];case"server":return[f];case"blur":return[a,f];case"change":default:return[o,f]}}const eJ=e=>!!e&&typeof e=="object"&&"fields"in e;function nC(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!t.has(r)||!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}function CRe(e){const t=new Map;for(const n of e){const r=[...n.path??[]].map(i=>{const s=typeof i=="object"?i.key:i;return typeof s=="number"?`[${s}]`:s}).join(".").replace(/\.\[/g,"[");t.set(r,(t.get(r)??[]).concat(n))}return Object.fromEntries(t)}const ORe=e=>e,jRe=e=>{const t=CRe(e);return{form:t,fields:t}},A9=(e,t)=>e==="form"?jRe(t):ORe(t),tJ={validate({value:e,validationSource:t},n){const r=n["~standard"].validate(e);if(r instanceof Promise)throw new Error("async function passed to sync validator");if(r.issues)return A9(t,r.issues)},async validateAsync({value:e,validationSource:t},n){const r=await n["~standard"].validate(e);if(r.issues)return A9(t,r.issues)}},nJ=e=>!!e&&"~standard"in e;function _v(e){function t(m,p,y,v){const x=r(m,p,y,v);({insert:()=>a(x,m,p),remove:()=>c(x),swap:()=>v!==void 0&&f(x,m,p,v),move:()=>v!==void 0&&u(x,m,p,v)})[y]()}function n(m,p){return`${m}[${p}]`}function r(m,p,y,v){const x=[n(m,p)];if(y==="swap")x.push(n(m,v));else if(y==="move"){const[S,N]=[Math.min(p,v),Math.max(p,v)];for(let _=S;_<=N;_++)x.push(n(m,_))}else{const S=e.getFieldValue(m),N=Array.isArray(S)?S.length:0;for(let _=p+1;_<N;_++)x.push(n(m,_))}return Object.keys(e.fieldInfo).filter(S=>x.some(N=>S.startsWith(N)))}function i(m,p){return m.replace(/\[(\d+)\]/,(y,v)=>{const x=parseInt(v,10);return`[${p==="up"?x+1:Math.max(0,x-1)}]`})}function s(m,p){(p==="up"?m:[...m].reverse()).forEach(v=>{const x=i(v.toString(),p),S=e.getFieldMeta(x);S?e.setFieldMeta(v,S):e.setFieldMeta(v,o())})}const o=()=>({isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,errors:[],errorMap:{}}),a=(m,p,y)=>{s(m,"down"),m.forEach(v=>{v.toString().startsWith(n(p,y))&&e.setFieldMeta(v,o())})},c=m=>{s(m,"up")},u=(m,p,y,v)=>{const x=new Map(Object.keys(e.fieldInfo).filter(S=>S.startsWith(n(p,y))).map(S=>[S,e.getFieldMeta(S)]));s(m,y<v?"up":"down"),Object.keys(e.fieldInfo).filter(S=>S.startsWith(n(p,v))).forEach(S=>{const N=S.replace(n(p,v),n(p,y)),_=x.get(N);_&&e.setFieldMeta(S,_)})},f=(m,p,y,v)=>{m.forEach(x=>{if(!x.toString().startsWith(n(p,y)))return;const S=x.toString().replace(n(p,y),n(p,v)),[N,_]=[e.getFieldMeta(x),e.getFieldMeta(S)];N&&e.setFieldMeta(S,N),_&&e.setFieldMeta(x,_)})};return{handleArrayFieldMetaShift:t}}function rC(e){return{values:e.values??{},errorMap:e.errorMap??{},fieldMetaBase:e.fieldMetaBase??{},isSubmitted:e.isSubmitted??!1,isSubmitting:e.isSubmitting??!1,isValidating:e.isValidating??!1,submissionAttempts:e.submissionAttempts??0,isSubmitSuccessful:e.isSubmitSuccessful??!1,validationMetaMap:e.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}}}class ARe{constructor(t){var n;this.options={},this.fieldInfo={},this.prevTransformArray=[],this.cumulativeFieldsErrorMap={},this.mount=()=>{const r=this.fieldMetaDerived.mount(),i=this.store.mount(),s=()=>{r(),i()},{onMount:o}=this.options.validators||{};return o&&this.validateSync("mount"),s},this.update=r=>{var i,s;if(!r)return;const o=this.options;this.options=r;const a=!!((s=(i=r.transform)==null?void 0:i.deps)!=null&&s.some((f,m)=>f!==this.prevTransformArray[m])),c=r.defaultValues&&!nC(r.defaultValues,o.defaultValues)&&!this.state.isTouched,u=!nC(r.defaultState,o.defaultState)&&!this.state.isTouched;!c&&!u&&!a||Jl(()=>{this.baseStore.setState(()=>rC(Object.assign({},this.state,u?r.defaultState:{},c?{values:r.defaultValues}:{},a?{_force_re_eval:!this.state._force_re_eval}:{})))})},this.reset=(r,i)=>{const{fieldMeta:s}=this.state,o=this.resetFieldMeta(s);r&&!(i!=null&&i.keepDefaultValues)&&(this.options={...this.options,defaultValues:r}),this.baseStore.setState(()=>{var a;return rC({...this.options.defaultState,values:r??this.options.defaultValues??((a=this.options.defaultState)==null?void 0:a.values),fieldMetaBase:o})})},this.validateAllFields=async r=>{const i=[];return Jl(()=>{Object.values(this.fieldInfo).forEach(o=>{if(!o.instance)return;const a=o.instance;i.push(Promise.resolve().then(()=>a.validate(r,{skipFormValidation:!0}))),o.instance.state.meta.isTouched||o.instance.setMeta(c=>({...c,isTouched:!0}))})}),(await Promise.all(i)).flat()},this.validateArrayFieldsStartingFrom=async(r,i,s)=>{const o=this.getFieldValue(r),a=Array.isArray(o)?Math.max(o.length-1,0):null,c=[`${r}[${i}]`];for(let p=i+1;p<=(a??0);p++)c.push(`${r}[${p}]`);const u=Object.keys(this.fieldInfo).filter(p=>c.some(y=>p.startsWith(y))),f=[];return Jl(()=>{u.forEach(p=>{f.push(Promise.resolve().then(()=>this.validateField(p,s)))})}),(await Promise.all(f)).flat()},this.validateField=(r,i)=>{var s;const o=(s=this.fieldInfo[r])==null?void 0:s.instance;return o?(o.state.meta.isTouched||o.setMeta(a=>({...a,isTouched:!0})),o.validate(i)):[]},this.validateSync=r=>{const i=Cj(r,this.options);let s=!1;const o={};return Jl(()=>{var a;for(const u of i){if(!u.validate)continue;const f=this.runValidator({validate:u.validate,value:{value:this.state.values,formApi:this,validationSource:"form"},type:"validate"}),{formError:m,fieldErrors:p}=Oj(f),y=Cv(u.cause);if(p)for(const[v,x]of Object.entries(p)){const N={...this.cumulativeFieldsErrorMap[v]||{},[y]:x};o[v]=N,this.cumulativeFieldsErrorMap[v]=N;const _=this.getFieldMeta(v);_&&_.errorMap[y]!==x&&this.setFieldMeta(v,C=>({...C,errorMap:{...C.errorMap,[y]:x}}))}for(const v of Object.keys(this.cumulativeFieldsErrorMap)){const x=this.getFieldMeta(v);x!=null&&x.errorMap[y]&&!((a=o[v])!=null&&a[y])&&(this.cumulativeFieldsErrorMap[v]={...this.cumulativeFieldsErrorMap[v],[y]:void 0},this.setFieldMeta(v,S=>({...S,errorMap:{...S.errorMap,[y]:void 0}})))}this.state.errorMap[y]!==m&&this.baseStore.setState(v=>({...v,errorMap:{...v.errorMap,[y]:m}})),(m||p)&&(s=!0)}const c=Cv("submit");this.state.errorMap[c]&&r!=="submit"&&!s&&this.baseStore.setState(u=>({...u,errorMap:{...u.errorMap,[c]:void 0}}))}),{hasErrored:s,fieldsErrorMap:o}},this.validateAsync=async r=>{const i=_j(r,this.options);this.state.isFormValidating||this.baseStore.setState(u=>({...u,isFormValidating:!0}));const s=[];let o;for(const u of i){if(!u.validate)continue;const f=Cv(u.cause),m=this.state.validationMetaMap[f];m==null||m.lastAbortController.abort();const p=new AbortController;this.state.validationMetaMap[f]={lastAbortController:p},s.push(new Promise(async y=>{let v;try{v=await new Promise((_,C)=>{setTimeout(async()=>{if(p.signal.aborted)return _(void 0);try{_(await this.runValidator({validate:u.validate,value:{value:this.state.values,formApi:this,validationSource:"form",signal:p.signal},type:"validateAsync"}))}catch(j){C(j)}},u.debounceMs)})}catch(_){v=_}const{formError:x,fieldErrors:S}=Oj(v);S&&(o=o?{...o,...S}:S);const N=Cv(u.cause);if(o)for(const[_,C]of Object.entries(o)){const j=this.getFieldMeta(_);j&&j.errorMap[N]!==C&&this.setFieldMeta(_,A=>({...A,errorMap:{...A.errorMap,[N]:C}}))}this.baseStore.setState(_=>({..._,errorMap:{..._.errorMap,[N]:x}})),y(o?{fieldErrors:o,errorMapKey:N}:void 0)}))}let a=[];const c={};if(s.length){a=await Promise.all(s);for(const u of a)if(u!=null&&u.fieldErrors){const{errorMapKey:f}=u;for(const[m,p]of Object.entries(u.fieldErrors)){const v={...c[m]||{},[f]:p};c[m]=v}}}return this.baseStore.setState(u=>({...u,isFormValidating:!1})),c},this.validate=r=>{const{hasErrored:i,fieldsErrorMap:s}=this.validateSync(r);return i&&!this.options.asyncAlways?s:this.validateAsync(r)},this.getFieldValue=r=>ZG(this.state.values,r),this.getFieldMeta=r=>this.state.fieldMeta[r],this.getFieldInfo=r=>{var i;return(i=this.fieldInfo)[r]||(i[r]={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}})},this.setFieldMeta=(r,i)=>{this.baseStore.setState(s=>({...s,fieldMetaBase:{...s.fieldMetaBase,[r]:PS(i,s.fieldMetaBase[r])}}))},this.resetFieldMeta=r=>Object.keys(r).reduce((i,s)=>{const o=s;return i[o]={isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,errors:[],errorMap:{}},i},{}),this.setFieldValue=(r,i,s)=>{const o=(s==null?void 0:s.dontUpdateMeta)??!1;Jl(()=>{o||this.setFieldMeta(r,a=>({...a,isTouched:!0,isDirty:!0,errorMap:{...a==null?void 0:a.errorMap,onMount:void 0}})),this.baseStore.setState(a=>({...a,values:tC(a.values,r,i)}))})},this.deleteField=r=>{const s=[...Object.keys(this.fieldInfo).filter(o=>{const a=r.toString();return o!==a&&o.startsWith(a)}),r];this.baseStore.setState(o=>{const a={...o};return s.forEach(c=>{a.values=vRe(a.values,c),delete this.fieldInfo[c],delete a.fieldMetaBase[c]}),a})},this.pushFieldValue=(r,i,s)=>{this.setFieldValue(r,o=>[...Array.isArray(o)?o:[],i],s),this.validateField(r,"change")},this.insertFieldValue=async(r,i,s,o)=>{this.setFieldValue(r,a=>[...a.slice(0,i),s,...a.slice(i)],o),await this.validateField(r,"change"),_v(this).handleArrayFieldMetaShift(r,i,"insert"),await this.validateArrayFieldsStartingFrom(r,i,"change")},this.replaceFieldValue=async(r,i,s,o)=>{this.setFieldValue(r,a=>a.map((c,u)=>u===i?s:c),o),await this.validateField(r,"change"),await this.validateArrayFieldsStartingFrom(r,i,"change")},this.removeFieldValue=async(r,i,s)=>{const o=this.getFieldValue(r),a=Array.isArray(o)?Math.max(o.length-1,0):null;if(this.setFieldValue(r,c=>c.filter((u,f)=>f!==i),s),_v(this).handleArrayFieldMetaShift(r,i,"remove"),a!==null){const c=`${r}[${a}]`;this.deleteField(c)}await this.validateField(r,"change"),await this.validateArrayFieldsStartingFrom(r,i,"change")},this.swapFieldValues=(r,i,s,o)=>{this.setFieldValue(r,a=>{const c=a[i],u=a[s];return tC(tC(a,`${i}`,u),`${s}`,c)},o),_v(this).handleArrayFieldMetaShift(r,i,"swap",s),this.validateField(r,"change"),this.validateField(`${r}[${i}]`,"change"),this.validateField(`${r}[${s}]`,"change")},this.moveFieldValues=(r,i,s,o)=>{this.setFieldValue(r,a=>(a.splice(s,0,a.splice(i,1)[0]),a),o),_v(this).handleArrayFieldMetaShift(r,i,"move",s),this.validateField(r,"change"),this.validateField(`${r}[${i}]`,"change"),this.validateField(`${r}[${s}]`,"change")},this.getAllErrors=()=>({form:{errors:this.state.errors,errorMap:this.state.errorMap},fields:Object.entries(this.state.fieldMeta).reduce((r,[i,s])=>(Object.keys(s).length&&s.errors.length&&(r[i]={errors:s.errors,errorMap:s.errorMap}),r),{})}),this.baseStore=new Ej(rC({...t==null?void 0:t.defaultState,values:(t==null?void 0:t.defaultValues)??((n=t==null?void 0:t.defaultState)==null?void 0:n.values)})),this.fieldMetaDerived=new La({deps:[this.baseStore],fn:({prevDepVals:r,currDepVals:i,prevVal:s})=>{var o;const a=s,c=r==null?void 0:r[0],u=i[0];let f=0;const m={};for(const p of Object.keys(u.fieldMetaBase)){const y=u.fieldMetaBase[p],v=c==null?void 0:c.fieldMetaBase[p],x=a==null?void 0:a[p];let S=x==null?void 0:x.errors;if(!v||y.errorMap!==v.errorMap){S=Object.values(y.errorMap??{}).filter(C=>C!==void 0);const _=(o=this.getFieldInfo(p))==null?void 0:o.instance;_&&!_.options.disableErrorFlat&&(S=S==null?void 0:S.flat(1))}const N=!y.isDirty;if(x&&x.isPristine===N&&x.errors===S&&y===v){m[p]=x,f++;continue}m[p]={...y,errors:S,isPristine:N}}return Object.keys(u.fieldMetaBase).length&&a&&f===Object.keys(u.fieldMetaBase).length?a:m}}),this.store=new La({deps:[this.baseStore,this.fieldMetaDerived],fn:({prevDepVals:r,currDepVals:i,prevVal:s})=>{var o,a,c,u;const f=s,m=r==null?void 0:r[0],p=i[0],y=Object.values(p.fieldMetaBase),v=y.some(V=>V==null?void 0:V.isValidating),x=!y.some(V=>(V==null?void 0:V.errorMap)&&_Re(Object.values(V.errorMap).filter(Boolean))),S=y.some(V=>V==null?void 0:V.isTouched),N=y.some(V=>V==null?void 0:V.isBlurred),_=S&&((o=p==null?void 0:p.errorMap)==null?void 0:o.onMount),C=y.some(V=>V==null?void 0:V.isDirty),j=!C,A=!!((a=p.errorMap)!=null&&a.onMount||y.some(V=>{var T;return(T=V==null?void 0:V.errorMap)==null?void 0:T.onMount})),$=!!v;let k=(f==null?void 0:f.errors)??[];(!m||p.errorMap!==m.errorMap)&&(k=Object.values(p.errorMap).reduce((V,T)=>T===void 0?V:T&&eJ(T)?(V.push(T.form),V):(V.push(T),V),[]));const R=k.length===0,D=x&&R,z=p.submissionAttempts===0&&!S&&!A||!$&&!p.isSubmitting&&D;let L=p.errorMap;if(_&&(k=k.filter(V=>V!==p.errorMap.onMount),L=Object.assign(L,{onMount:void 0})),f&&m&&f.errorMap===L&&f.fieldMeta===this.fieldMetaDerived.state&&f.errors===k&&f.isFieldsValidating===v&&f.isFieldsValid===x&&f.isFormValid===R&&f.isValid===D&&f.canSubmit===z&&f.isTouched===S&&f.isBlurred===N&&f.isPristine===j&&f.isDirty===C&&nC(m,p))return f;let F={...p,errorMap:L,fieldMeta:this.fieldMetaDerived.state,errors:k,isFieldsValidating:v,isFieldsValid:x,isFormValid:R,isValid:D,canSubmit:z,isTouched:S,isBlurred:N,isPristine:j,isDirty:C};const H=((c=this.options.transform)==null?void 0:c.deps)??[];if(H.length!==this.prevTransformArray.length||H.some((V,T)=>V!==this.prevTransformArray[T])){const V=Object.assign({},this,{state:F});(u=this.options.transform)==null||u.fn(V),F=V.state,this.prevTransformArray=H}return F}}),this.handleSubmit=this.handleSubmit.bind(this),this.update(t||{})}get state(){return this.store.state}runValidator(t){return nJ(t.validate)?tJ[t.type](t.value,t.validate):t.validate(t.value)}async handleSubmit(t){var n,r,i,s,o,a;if(this.baseStore.setState(u=>({...u,isSubmitted:!1,submissionAttempts:u.submissionAttempts+1,isSubmitSuccessful:!1})),!this.state.canSubmit)return;this.baseStore.setState(u=>({...u,isSubmitting:!0}));const c=()=>{this.baseStore.setState(u=>({...u,isSubmitting:!1}))};if(await this.validateAllFields("submit"),!this.state.isFieldsValid){c(),(r=(n=this.options).onSubmitInvalid)==null||r.call(n,{value:this.state.values,formApi:this});return}if(await this.validate("submit"),!this.state.isValid){c(),(s=(i=this.options).onSubmitInvalid)==null||s.call(i,{value:this.state.values,formApi:this});return}Jl(()=>{Object.values(this.fieldInfo).forEach(u=>{var f,m,p;(p=(m=(f=u.instance)==null?void 0:f.options.listeners)==null?void 0:m.onSubmit)==null||p.call(m,{value:u.instance.state.value,fieldApi:u.instance})})});try{await((a=(o=this.options).onSubmit)==null?void 0:a.call(o,{value:this.state.values,formApi:this,meta:t??this.options.onSubmitMeta})),Jl(()=>{this.baseStore.setState(u=>({...u,isSubmitted:!0,isSubmitSuccessful:!0})),c()})}catch(u){throw this.baseStore.setState(f=>({...f,isSubmitSuccessful:!1})),c(),u}}setErrorMap(t){this.baseStore.setState(n=>({...n,errorMap:{...n.errorMap,...t}}))}}function Oj(e){if(e){if(eJ(e)){const t=Oj(e.form).formError,n=e.fields;return{formError:t,fieldErrors:n}}return{formError:e}}return{formError:void 0}}function Cv(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}class TRe{constructor(t){this.options={},this.mount=()=>{var n,r;const i=this.store.mount(),s=this.getInfo();s.instance=this,this.update(this.options);const{onMount:o}=this.options.validators||{};if(o){const a=this.runValidator({validate:o,value:{value:this.state.value,fieldApi:this,validationSource:"field"},type:"validate"});a&&this.setMeta(c=>({...c,errorMap:{...c==null?void 0:c.errorMap,onMount:a}}))}return(r=(n=this.options.listeners)==null?void 0:n.onMount)==null||r.call(n,{value:this.state.value,fieldApi:this}),i},this.update=n=>{if(this.state.value===void 0){const r=ZG(n.form.options.defaultValues,n.name);n.defaultValue!==void 0?this.setValue(n.defaultValue,{dontUpdateMeta:!0}):r!==void 0&&this.setValue(r,{dontUpdateMeta:!0})}this.form.getFieldMeta(this.name)===void 0&&this.setMeta(this.state.meta),this.options=n,this.name=n.name},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(n,r)=>{var i,s;this.form.setFieldValue(this.name,n,r),(s=(i=this.options.listeners)==null?void 0:i.onChange)==null||s.call(i,{value:this.state.value,fieldApi:this}),this.validate("change")},this.getMeta=()=>this.store.state.meta,this.setMeta=n=>this.form.setFieldMeta(this.name,n),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=(n,r)=>{var i,s;this.form.pushFieldValue(this.name,n,r),(s=(i=this.options.listeners)==null?void 0:i.onChange)==null||s.call(i,{value:this.state.value,fieldApi:this})},this.insertValue=(n,r,i)=>{var s,o;this.form.insertFieldValue(this.name,n,r,i),(o=(s=this.options.listeners)==null?void 0:s.onChange)==null||o.call(s,{value:this.state.value,fieldApi:this})},this.replaceValue=(n,r,i)=>{var s,o;this.form.replaceFieldValue(this.name,n,r,i),(o=(s=this.options.listeners)==null?void 0:s.onChange)==null||o.call(s,{value:this.state.value,fieldApi:this})},this.removeValue=(n,r)=>{var i,s;this.form.removeFieldValue(this.name,n,r),(s=(i=this.options.listeners)==null?void 0:i.onChange)==null||s.call(i,{value:this.state.value,fieldApi:this})},this.swapValues=(n,r,i)=>{var s,o;this.form.swapFieldValues(this.name,n,r,i),(o=(s=this.options.listeners)==null?void 0:s.onChange)==null||o.call(s,{value:this.state.value,fieldApi:this})},this.moveValue=(n,r,i)=>{var s,o;this.form.moveFieldValues(this.name,n,r,i),(o=(s=this.options.listeners)==null?void 0:s.onChange)==null||o.call(s,{value:this.state.value,fieldApi:this})},this.getLinkedFields=n=>{const r=Object.values(this.form.fieldInfo),i=[];for(const s of r){if(!s.instance)continue;const{onChangeListenTo:o,onBlurListenTo:a}=s.instance.options.validators||{};n==="change"&&(o!=null&&o.includes(this.name))&&i.push(s.instance),n==="blur"&&(a!=null&&a.includes(this.name))&&i.push(s.instance)}return i},this.validateSync=(n,r)=>{const i=Cj(n,this.options),o=this.getLinkedFields(n).reduce((u,f)=>{const m=Cj(n,f.options);return m.forEach(p=>{p.field=f}),u.concat(m)},[]);let a=!1;Jl(()=>{const u=(f,m)=>{const p=Kp(m.cause),y=m.validate?T9(f.runValidator({validate:m.validate,value:{value:f.store.state.value,validationSource:"field",fieldApi:f},type:"validate"})):r[p];f.state.meta.errorMap[p]!==y&&f.setMeta(v=>({...v,errorMap:{...v.errorMap,[Kp(m.cause)]:y||r[p]}})),(y||r[p])&&(a=!0)};for(const f of i)u(this,f);for(const f of o)f.validate&&u(f.field,f)});const c=Kp("submit");return this.state.meta.errorMap[c]&&n!=="submit"&&!a&&this.setMeta(u=>({...u,errorMap:{...u.errorMap,[c]:void 0}})),{hasErrored:a}},this.validateAsync=async(n,r)=>{const i=_j(n,this.options),s=await r,o=this.getLinkedFields(n),a=o.reduce((p,y)=>{const v=_j(n,y.options);return v.forEach(x=>{x.field=y}),p.concat(v)},[]);this.state.meta.isValidating||this.setMeta(p=>({...p,isValidating:!0}));for(const p of o)p.setMeta(y=>({...y,isValidating:!0}));const c=[],u=[],f=(p,y,v)=>{const x=Kp(y.cause),S=p.getInfo().validationMetaMap[x];S==null||S.lastAbortController.abort();const N=new AbortController;this.getInfo().validationMetaMap[x]={lastAbortController:N},v.push(new Promise(async _=>{var C;let j;try{j=await new Promise((R,D)=>{this.timeoutIds[y.cause]&&clearTimeout(this.timeoutIds[y.cause]),this.timeoutIds[y.cause]=setTimeout(async()=>{if(N.signal.aborted)return R(void 0);try{R(await this.runValidator({validate:y.validate,value:{value:p.store.state.value,fieldApi:p,signal:N.signal,validationSource:"field"},type:"validateAsync"}))}catch(z){D(z)}},y.debounceMs)})}catch(R){j=R}if(N.signal.aborted)return _(void 0);const A=T9(j),$=(C=s[this.name])==null?void 0:C[x],k=A||$;p.setMeta(R=>({...R,errorMap:{...R==null?void 0:R.errorMap,[x]:k}})),_(k)}))};for(const p of i)p.validate&&f(this,p,c);for(const p of a)p.validate&&f(p.field,p,u);let m=[];(c.length||u.length)&&(m=await Promise.all(c),await Promise.all(u)),this.setMeta(p=>({...p,isValidating:!1}));for(const p of o)p.setMeta(y=>({...y,isValidating:!1}));return m.filter(Boolean)},this.validate=(n,r)=>{var i;if(!this.state.meta.isTouched)return[];const{fieldsErrorMap:s}=r!=null&&r.skipFormValidation?{fieldsErrorMap:{}}:this.form.validateSync(n),{hasErrored:o}=this.validateSync(n,s[this.name]??{});if(o&&!this.options.asyncAlways)return(i=this.getInfo().validationMetaMap[Kp(n)])==null||i.lastAbortController.abort(),this.state.meta.errors;const a=r!=null&&r.skipFormValidation?Promise.resolve({}):this.form.validateAsync(n);return this.validateAsync(n,a)},this.handleChange=n=>{this.setValue(n)},this.handleBlur=()=>{var n,r;this.state.meta.isTouched||(this.setMeta(s=>({...s,isTouched:!0})),this.validate("change")),this.state.meta.isBlurred||this.setMeta(s=>({...s,isBlurred:!0})),this.validate("blur"),(r=(n=this.options.listeners)==null?void 0:n.onBlur)==null||r.call(n,{value:this.state.value,fieldApi:this})},this.form=t.form,this.name=t.name,this.timeoutIds={},t.defaultValue!==void 0&&this.form.setFieldValue(this.name,t.defaultValue,{dontUpdateMeta:!0}),this.store=new La({deps:[this.form.store],fn:()=>{const n=this.form.getFieldValue(this.name),r=this.form.getFieldMeta(this.name)??{isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,errors:[],errorMap:{},...t.defaultMeta};return{value:n,meta:r}}}),this.options=t}get state(){return this.store.state}runValidator(t){return nJ(t.validate)?tJ[t.type](t.value,t.validate):t.validate(t.value)}setErrorMap(t){this.setMeta(n=>({...n,errorMap:{...n.errorMap,...t}}))}}function T9(e){if(e)return e}function Kp(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}const _w=typeof window<"u"?w.useLayoutEffect:w.useEffect;function $Re(e){const[t]=w.useState(()=>{const r=new TRe({...e,form:e.form,name:e.name});return r.Field=rJ,r});return _w(t.mount,[t]),_w(()=>{t.update(e)}),IS(t.store,e.mode==="array"?n=>[n.meta,Object.keys(n.value??[]).length]:void 0),t}const rJ=({children:e,...t})=>{const n=$Re(t),r=w.useMemo(()=>PS(e,n),[e,n,n.state.value,n.state.meta]);return h.jsx(h.Fragment,{children:r})};function RRe({form:e,selector:t,children:n}){const r=IS(e.store,t);return PS(n,r)}function kRe(e){const[t]=w.useState(()=>{const n=new ARe(e),r=n;return r.Field=function(s){return h.jsx(rJ,{...s,form:n})},r.Subscribe=i=>h.jsx(RRe,{form:n,selector:i.selector,children:i.children}),r});return _w(t.mount,[]),IS(t.store,n=>n.isSubmitting),_w(()=>{t.update(e)}),t}function MRe(e,t){return os(e,(n,r)=>{n[r.name]=r.getValue(t==null?void 0:t[r.name],"form")??""},{})}function IRe(e,t,n,r){return os(t,(i,s,o)=>{const a=r.find(f=>f.name===o);if(!a||a.isVirtual())return;const c=s===""?null:s,u=a.getValue(c,"submit")||null;(e==="create"||u!==n[o])&&(i[o]=u)},{})}function iJ({action:e="update",entity:t,initialData:n,onSubmitted:r}){const i=n??{},s=t.getFillableFields(e,!0),o=MRe(s,i),a=kRe({defaultValues:o,validators:{onSubmitAsync:async({value:u})=>{try{t.isValidData(u,e,{explain:!0,ignoreUnknown:!0});return}catch(f){return f.message}}},onSubmit:async({value:u,formApi:f})=>{if(!t.isValidData(u,e)){console.error("invalid data",u);return}if(!i)return;const m=IRe(e,u,i,s);await(r==null?void 0:r(Object.keys(m).length===0?void 0:m))}});async function c(u){u.preventDefault(),u.stopPropagation(),a.handleSubmit()}return{Form:a,handleSubmit:c,fields:s,action:e,values:o,initialData:n}}function PRe({params:e}){return h.jsx(DRe,{params:e},e.entity)}function DRe({params:e}){var k,R,D,z,L;const{$data:t,relations:n}=qi(),r=t.entity(e.entity);if(!r)return h.jsx(bi.NotFound,{description:`Entity "${e.entity}" doesn't exist.`});const i=e.id,[s,o]=w.useState(null),[a,c,u]=Bn();wr(["Data",r.label,`#${i}`]);const f=n.listableRelationsOf(r),m=(k=n.sourceRelationsOf(r))==null?void 0:k.map(F=>F.other(r).reference),p=tS(r.name,i,{with:m},{keepPreviousData:!1,revalidateOnFocus:!1,shouldRetryOnError:!1}),y=uS(r,"update",p.data),v=ht.data.entity.list(r.name),x=()=>u({fallback:v});async function S(F){if(!F){cs.show({title:`Updating ${r==null?void 0:r.label}`,message:"No changes to update",color:"yellow"});return}try{await p.update(F),s&&o(null),cs.show({title:`Updating ${r==null?void 0:r.label}`,message:`Successfully updated ID ${i}`,color:"green"}),C.reset()}catch(H){o(H instanceof Error?H.message:"Failed to update")}}async function N(){if(confirm("Are you sure to delete?"))try{await p._delete(),s&&o(null),cs.show({title:`Deleting ${r==null?void 0:r.label}`,message:`Successfully deleted ID ${i}`,color:"green"}),x()}catch(F){o(F instanceof Error?F.message:"Failed to delete")}}const _=p.data,{Form:C,handleSubmit:j}=iJ({action:"update",entity:r,initialData:(R=p.data)==null?void 0:R.toJSON(),onSubmitted:S});if(!_&&!p.isLoading)return h.jsx(bi.NotFound,{description:`Entity "${e.entity}" with ID "${i}" doesn't exist.`});const A=(F="")=>`${r.name}_${i}_${String(F)}`,$=p.isLoading||p.isValidating||C.state.isSubmitting;return h.jsxs(w.Fragment,{children:[h.jsx(Rn,{right:h.jsxs(h.Fragment,{children:[h.jsx($r,{position:"bottom-end",items:[...((D=y.actions)==null?void 0:D.context)??[],{label:"Inspect",onClick:()=>{Or.open("debug",{data:{data:_,entity:r.toJSON(),schema:r.toSchema({clean:!0}),form:C.state.values,state:C.state}})}},{label:"Settings",onClick:()=>a(ht.settings.path(["data","entities",r.name]),{absolute:!0})},{label:"Delete",onClick:N,destructive:!0,disabled:$}],children:h.jsx(yt,{Icon:ll})}),(L=(z=y.actions)==null?void 0:z.primary)==null?void 0:L.map((F,H)=>F&&w.createElement(tt,{variant:"primary",...F,type:"button",key:H})),h.jsx(C.Subscribe,{selector:F=>[F.canSubmit,F.isSubmitting],children:([F,H])=>h.jsx(tt,{type:"button",onClick:C.handleSubmit,variant:"primary",tabIndex:r.fields.length+1,disabled:!F||H||$,children:"Update"})})]}),className:"pl-3",children:h.jsx(MS,{backTo:v,path:[{label:r.label,href:v},{label:`Edit #${i}`}]})}),p.isLoading?h.jsx("div",{className:"w-full h-full flex justify-center items-center font-mono opacity-30",children:"Loading..."}):h.jsxs(nr,{children:[y.header,s&&h.jsxs("div",{className:"flex flex-row dark:bg-red-950 bg-red-100 p-4",children:[h.jsx("b",{className:"mr-2",children:"Update failed: "})," ",s]}),h.jsx(QG,{entity:r,entityId:i,handleSubmit:j,fieldsDisabled:$,data:_??void 0,Form:C,action:"update",className:"flex flex-grow flex-col gap-3 p-3"}),y.footer,f.length>0?h.jsx(LRe,{id:i,entity:r,relations:f}):null]})]},A())}function LRe({id:e,entity:t,relations:n}){const[r,i]=w.useState(n.length>0?n[0]:void 0);function s(o){i(o)}return n.length===0?null:h.jsxs("div",{className:"flex flex-col max-w-full",children:[h.jsx(oH,{title:"Relations",items:n.map(o=>{const a=o.other(t);return{as:"button",type:"button",label:Li(a.reference),onClick:()=>s(o),active:(r==null?void 0:r.other(t).reference)===a.reference,badge:o.type()}})}),h.jsx("div",{className:"flex flex-grow flex-col gap-3 p-3",children:h.jsx(FRe,{id:e,entity:t,relation:r},JSON.stringify(r==null?void 0:r.toJSON()))})]})}function FRe({id:e,entity:t,relation:n}){var p;const r=n.other(t),[i]=Bn(),[s,o]=w.useState({select:r.entity.getSelect(void 0,"table"),sort:r.entity.getDefaultSort(),limit:10,offset:0}),a=c0(y=>y.data.readManyByReference(t.name,e,r.reference,{...s,limit:s.limit+1}),{keepPreviousData:!0,revalidateOnFocus:!0});function c(y){i(ht.data.entity.edit(r.entity.name,y.id))}let u;try{if(r.entity.type!=="system"){const y=n.getReferenceQuery(r.entity,e,r.reference);u=()=>{i(ht.data.entity.create(r.entity.name),{query:y.where})}}}catch{}if(!a.data)return null;const f=a.isValidating||a.isLoading,m=(p=a.data)==null?void 0:p.body.meta;return h.jsx("div",{"data-updating":f?1:void 0,className:"transition-opacity data-[updating]:opacity-50",children:h.jsx(F4,{select:s.select,data:a.data??null,entity:r.entity,sort:s.sort,onClickRow:c,onClickNew:u,page:Math.floor(s.offset/s.limit)+1,total:m==null?void 0:m.count,onClickPage:y=>{o(v=>({...v,offset:(y-1)*v.limit}))}})})}function sJ(e,t){const n=v1e(),[r,i]=Ss(),s=w.useMemo(()=>OF(e.template({withOptional:!0}),(t==null?void 0:t.defaultValue)??{}),[JSON.stringify({schema:e,dflt:t==null?void 0:t.defaultValue})]),[o,a]=w.useState(s);w.useEffect(()=>{const u=n.length>0?bae(n):(t==null?void 0:t.defaultValue)??{},f=An(e,Object.assign({},s,u));a(f)},[n,JSON.stringify(t==null?void 0:t.defaultValue),r]);function c(u){var y;const f=BRe(Object.assign({},o,u),s),m=((y=t==null?void 0:t.beforeEncode)==null?void 0:y.call(t,f))??f,p=C1(m,{encode:!1});i(r+(p.length>0?"?"+p:""))}return{value:o,set:c}}function BRe(e,t){return os(e,(n,r,i)=>{t&&Mz(r,t[i])||(n[i]=r)},{})}function zRe({params:e}){var N,_,C;const{$data:t}=qi(),[n,r,i]=Bn(),s=t.entity(e.entity);if(s){if(s.type==="system")return h.jsx(bi.NotAllowed,{description:`Entity "${e.entity}" cannot be created.`})}else return h.jsx(bi.NotFound,{description:`Entity "${e.entity}" doesn't exist.`});const o=uS(s,"create"),[a,c]=w.useState(null);wr(["Data",s.label,"Create"]);const u=Xxe(s.name),f=sJ(Me({}),{}),m=ht.data.entity.list(s.name),p=()=>i({fallback:m});async function y(j){if(console.log("create:changeSet",j),!!j)try{const A=await u.create(j);a&&c(null),A.id?(cs.show({title:`Creating ${s==null?void 0:s.label}`,message:`Successfully created with ID ${A.id}`,color:"green"}),n(ht.data.entity.edit(e.entity,A.id))):p()}catch(A){c(A instanceof Error?A.message:"Failed to create")}}const{Form:v,handleSubmit:x}=iJ({action:"create",entity:s,initialData:f.value,onSubmitted:y}),S=u.isLoading||u.isValidating||v.state.isSubmitting;return h.jsxs(h.Fragment,{children:[h.jsx(Rn,{right:h.jsxs(h.Fragment,{children:[((N=o.actions)==null?void 0:N.context)&&h.jsx($r,{position:"bottom-end",items:o.actions.context,children:h.jsx(yt,{Icon:ll})}),h.jsx(tt,{onClick:p,children:"Cancel"}),(C=(_=o.actions)==null?void 0:_.primary)==null?void 0:C.map((j,A)=>j&&w.createElement(tt,{...j,type:"button",key:A,variant:"primary"})),h.jsx(v.Subscribe,{selector:j=>[j.canSubmit,j.isSubmitting],children:([j,A])=>h.jsx(tt,{type:"button",onClick:v.handleSubmit,variant:"primary",tabIndex:s.fields.length,disabled:!j||A,children:"Create"})})]}),className:"pl-3",children:h.jsx(MS,{backTo:m,path:[{label:s.label,href:m},{label:"Create"}]})}),h.jsxs(nr,{children:[o.header,a&&h.jsxs("div",{className:"flex flex-row dark:bg-red-950 bg-red-100 p-4",children:[h.jsx("b",{className:"mr-2",children:"Create failed: "})," ",a]}),h.jsx(QG,{entity:s,handleSubmit:x,fieldsDisabled:S,data:f.value,Form:v,action:"create",className:"flex flex-grow flex-col gap-3 p-3"}),o.footer]},s.name)]})}function VRe(){const e=Uo(),{config:t}=Jc(),n=b$(),[r]=Bn();return{open:async()=>{const s=Or.open("overlay",{content:"Loading..."}),o=await e.auth.actionSchema("password","create");s.closeAll(),Or.open("form",{schema:o,uiSchema:{password:{"ui:widget":"password"}},autoCloseAfterSubmit:!1,onSubmit:async(a,c)=>{console.log("submitted:",a,c);const u=await e.auth.action("password","create",a);console.log(u),u.ok?(n(),r(ht.data.entity.edit(t.entity_name,u.data.id)),c.close()):"error"in u?c.setError(u.error):c.setError("Unknown error")}},{title:"Create User"})}}}const URe=UF({...AF(ns.properties,["select","where","sort"]),page:Ct({default:1}).optional(),perPage:Ct({default:10}).optional()}),qRe=[5,10,25,50,100];function HRe({params:e}){return h.jsx(WRe,{params:e},e.entity)}function WRe({params:e}){var v,x,S,N,_;const{$data:t}=qi(),n=t.entity(e.entity);if(!n)return h.jsx(bi.NotFound,{description:`Entity "${e.entity}" doesn't exist.`});const r=uS(n,"list");wr(["Data",(n==null?void 0:n.label)??e.entity]);const[i]=Bn(),s=sJ(URe,{defaultValue:{select:n.getSelect(void 0,"table"),sort:n.getDefaultSort()},beforeEncode:C=>"sort"in C&&C.sort?{...C,sort:`${C.sort.dir==="asc"?"":"-"}${C.sort.by}`}:C}),o=c0(C=>C.data.readMany(n==null?void 0:n.name,{select:s.value.select,limit:s.value.perPage+1,offset:(s.value.page-1)*s.value.perPage,sort:`${s.value.sort.dir==="asc"?"":"-"}${s.value.sort.by}`}),{enabled:!!n,revalidateOnFocus:!0,keepPreviousData:!0}),a=(v=o.data)==null?void 0:v.data,c=(x=o.data)==null?void 0:x.body.meta;function u(C){n&&i(ht.data.entity.edit(n.name,C.id))}function f(C){s.set({page:C})}function m(C){const j=s.value.sort,A={by:C,dir:j.by===C&&j.dir==="asc"?"desc":"asc"};s.set({sort:A})}function p(C){s.set({perPage:C,page:1})}const y=o.isLoading||o.isValidating;return h.jsxs(w.Fragment,{children:[h.jsx(Rn,{right:h.jsxs(h.Fragment,{children:[h.jsx($r,{items:[...((S=r.actions)==null?void 0:S.context)??[],{label:"Settings",onClick:()=>i(ht.data.schema.entity(n.name))},{label:"Data Schema",onClick:()=>i(ht.data.schema.root())},{label:"Advanced Settings",onClick:()=>i(ht.settings.path(["data","entities",n.name]),{absolute:!0})}],position:"bottom-end",children:h.jsx(yt,{Icon:ll})}),(_=(N=r.actions)==null?void 0:N.primary)==null?void 0:_.map((C,j)=>C&&w.createElement(tt,{variant:"primary",...C,type:"button",key:j})),h.jsx(GRe,{entity:n})]}),children:h.jsx(m0,{children:n.label})}),h.jsxs(nr,{children:[r.header,h.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:h.jsx("div",{"data-updating":y?1:void 0,className:"data-[updating]:opacity-50 transition-opacity",children:h.jsx(F4,{data:a??null,entity:n,select:s.value.select,onClickRow:u,page:s.value.page,sort:s.value.sort,onClickSort:m,perPage:s.value.perPage,perPageOptions:qRe,total:c==null?void 0:c.count,onClickPage:f,onClickPerPage:p})})}),r.footer]},n.name)]},n.name)}function GRe({entity:e}){const t=ct(),n=VRe(),[r]=Bn();return e?e.type==="system"?{users:t.app.config.auth.entity_name,media:t.app.config.media.entity_name}.users===e.name?h.jsx(tt,{onClick:n.open,variant:"primary",children:"New User"}):null:h.jsx(tt,{onClick:()=>{r(ht.data.entity.create(e.name))},variant:"primary",children:"Create new"}):null}function JRe({params:e}){const{$data:t}=qi(),[n]=Bn(),r=t.entity(e.entity);return r?h.jsxs(qSe,{path:`/entity/${r.name}/:setting?`,defaultIdentifier:"fields",children:[h.jsx(Rn,{right:h.jsxs(h.Fragment,{children:[h.jsx($r,{items:[{label:"Data",onClick:()=>n(ht.data.root()+ht.data.entity.list(r.name),{absolute:!0})},{label:"Advanced Settings",onClick:()=>n(ht.settings.path(["data","entities",r.name]),{absolute:!0})}],position:"bottom-end",children:h.jsx(yt,{Icon:ll})}),h.jsx(iS,{children:h.jsx($r,{items:[{icon:I$,label:"Add relation",onClick:()=>t.modals.createRelation(r.name)},{icon:f0,label:"Add media",onClick:()=>t.modals.createMedia(r.name)},()=>h.jsx("div",{className:"h-px my-1 w-full bg-primary/5"}),{icon:Kq,label:"Create Entity",onClick:()=>t.modals.createEntity()}],position:"bottom-end",children:h.jsx(tt,{IconRight:tH,children:"Add"})})})]}),className:"pl-3",children:h.jsxs("div",{className:"flex flex-row gap-4",children:[h.jsx(MS,{path:[{label:"Schema",href:"/"},{label:r.label}],backTo:"/"}),h.jsx(Ln,{to:"/",className:"hidden md:inline",children:h.jsx(tt,{IconLeft:YO,children:"Overview"})})]})}),h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx(YRe,{entity:r}),h.jsx(XRe,{entity:r}),h.jsx(ew,{identifier:"relations",title:"Relations",ActiveIcon:x$,children:h.jsx(Jn,{title:"Relations",description:"This will soon be available here. Meanwhile, check advanced settings.",primary:{children:"Advanced Settings",onClick:()=>n(ht.settings.path(["data","relations"]),{absolute:!0})}})}),h.jsx(ew,{identifier:"indices",title:"Indices",ActiveIcon:twe,children:h.jsx(Jn,{title:"Indices",description:"This will soon be available here. Meanwhile, check advanced settings.",primary:{children:"Advanced Settings",onClick:()=>n(ht.settings.path(["data","indices"]),{absolute:!0})}})})]},r.name)]}):h.jsx(bi.NotFound,{description:`Entity "${e.entity}" doesn't exist.`})}const YRe=({entity:e})=>{const[t,n]=w.useState(!1),[r,i]=w.useState(0),{actions:s,$data:o,config:a}=qi(),{readonly:c}=ct(),[u,f]=w.useState(),m=w.useRef(null);async function p(){var x;if(t)return;n(!0);const v=(x=m.current)==null?void 0:x.getData();await s.entity.patch(e.name).fields.set(v),n(!1),i(S=>S+1)}const y=Object.fromEntries(e.fields.map(v=>[v.name,v.toJSON()]));return h.jsx(ew,{identifier:"fields",title:"Fields",ActiveIcon:v$,renderHeaderRight:({open:v})=>v&&!c?h.jsx(tt,{variant:"primary",disabled:!v,onClick:p,children:"Update"}):null,children:h.jsxs("div",{className:"flex flex-col flex-grow py-3 px-4 max-w-4xl gap-3 relative",children:[t&&h.jsx("div",{className:"animate-fade-in absolute w-full h-full top-0 bottom-0 left-0 right-0 bg-background/65 z-50"}),h.jsx(JW,{readonly:c,routePattern:`/entity/${e.name}/fields/:sub?`,fields:y,ref:m,sortable:!c,additionalFieldTypes:_S.filter(v=>["relation","media"].includes(v.type)).map(v=>({...v,onClick:()=>{switch(v.type){case"relation":o.modals.createRelation(e.name);break;case"media":o.modals.createMedia(e.name);break}}})),defaultPrimaryFormat:a==null?void 0:a.default_primary_format,isNew:!1},String(r)),xr()&&!c&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex flex-row gap-1 justify-center",children:[h.jsx(tt,{size:"small",onClick:()=>{var v;return f((v=m.current)==null?void 0:v.isValid())},children:"valid"}),h.jsx(tt,{size:"small",onClick:()=>{var v;return f((v=m.current)==null?void 0:v.getValues())},children:"values"}),h.jsx(tt,{size:"small",onClick:()=>{var v;return f((v=m.current)==null?void 0:v.getData())},children:"data"}),h.jsx(tt,{size:"small",onClick:()=>{var v;return f((v=m.current)==null?void 0:v.getErrors())},children:"errors"}),h.jsx(tt,{size:"small",onClick:p,children:"update"})]}),h.jsx("pre",{className:"select-text",children:JSON.stringify(u,null,2)})]})]})})},XRe=({entity:e})=>{var u,f,m,p;const t=qi(),n=(f=(u=t.entities)==null?void 0:u[e.name])==null?void 0:f.config,r=w.useRef(null),{readonly:i}=ct(),s=G1((p=(m=t.schema.properties.entities.additionalProperties)==null?void 0:m.properties)==null?void 0:p.config),[o,a]=zW(s,n,["fields"]);try{o.properties.sort_field.enum=e.getFields().map(y=>y.name)}catch(y){console.error("error setting sort_field enum",y)}async function c(){var y,v;console.log("update",(y=r.current)==null?void 0:y.formData()),await t.actions.entity.patch(e.name).config((v=r.current)==null?void 0:v.formData())}return h.jsx(ew,{identifier:"settings",title:"Settings",ActiveIcon:oy,renderHeaderRight:({open:y})=>y&&!i?h.jsx(tt,{variant:"primary",disabled:!y,onClick:c,children:"Update"}):null,children:h.jsx("div",{className:"flex flex-col flex-grow py-3 px-4 max-w-4xl gap-3 relative",children:h.jsx(Em,{ref:r,schema:o,formData:a,onSubmit:console.log,className:"legacy hide-required-mark fieldset-alternative mute-root",readonly:i})})})},KRe=w.lazy(()=>p0(()=>import("./DataSchemaCanvas-CTzvaBUN.js"),[]).then(e=>({default:e.DataSchemaCanvas})));function QRe(){const{$data:e}=qi();return h.jsxs(h.Fragment,{children:[h.jsx(Rn,{right:h.jsx(iS,{children:h.jsx(tt,{type:"button",variant:"primary",onClick:e.modals.createAny,children:"Create new"})}),children:"Schema Overview"}),h.jsx("div",{className:"w-full h-full",children:h.jsx(w.Suspense,{children:h.jsx(KRe,{})})})]})}function ZRe(){return h.jsx(oRe,{children:h.jsxs(Xa,{children:[h.jsx(at,{path:"/",component:lRe}),h.jsx(at,{path:"/entity/:entity",component:HRe}),h.jsx(at,{path:"/entity/:entity/create",component:zRe}),h.jsx(at,{path:"/entity/:entity/edit/:id",component:PRe}),h.jsxs(at,{path:"/schema",nest:!0,children:[h.jsx(at,{path:"/",component:QRe}),h.jsx(at,{path:"/entity/:entity/:setting?/:sub?",component:JRe})]})]})})}const $9=()=>h.jsx("span",{className:"text-xs bg-primary/10 flex rounded-full px-2.5 py-1 leading-none",children:"coming soon"});function eke(e){return xr()?h.jsx(tke,{...e}):h.jsx(nke,{})}function tke({children:e}){const{app:t}=ct();return h.jsxs(h.Fragment,{children:[h.jsxs(Od,{children:[h.jsx(Rn,{right:h.jsx(Ln,{href:t.getSettingsPath(["flows"]),children:h.jsx(yt,{Icon:xm})}),children:"Flows"}),h.jsx(nr,{initialOffset:96,children:h.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:h.jsxs("nav",{className:"flex flex-col flex-1 gap-1",children:[h.jsx(li,{as:Ln,href:ht.flows.flows.list(),children:"All Flows"}),h.jsxs(li,{disabled:!0,className:"justify-between",children:["Endpoints",h.jsx($9,{})]}),h.jsxs(li,{disabled:!0,className:"justify-between",children:["Executions",h.jsx($9,{})]}),h.jsx(li,{as:Ln,href:t.getSettingsPath(["flows"]),children:"Settings"})]})})})]}),h.jsx(h0,{children:e})]})}function nke(){return wr(["Flows"]),h.jsx(Jn,{Icon:dwe,title:"Flows",description:"Flows are coming very soon!"})}function Yn(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Yn(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var rke={value:()=>{}};function DS(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new cx(n)}function cx(e){this._=e}function ike(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}cx.prototype=DS.prototype={constructor:cx,on:function(e,t){var n=this._,r=ike(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=ske(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=R9(n[i],e.name,t);else if(t==null)for(i in n)n[i]=R9(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new cx(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function ske(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function R9(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=rke,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var jj="http://www.w3.org/1999/xhtml";const k9={svg:"http://www.w3.org/2000/svg",xhtml:jj,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function LS(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),k9.hasOwnProperty(t)?{space:k9[t],local:e}:e}function oke(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===jj&&t.documentElement.namespaceURI===jj?t.createElement(e):t.createElementNS(n,e)}}function ake(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function oJ(e){var t=LS(e);return(t.local?ake:oke)(t)}function lke(){}function z4(e){return e==null?lke:function(){return this.querySelector(e)}}function cke(e){typeof e!="function"&&(e=z4(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),c,u,f=0;f<o;++f)(c=s[f])&&(u=e.call(c,c.__data__,f,s))&&("__data__"in c&&(u.__data__=c.__data__),a[f]=u);return new zi(r,this._parents)}function uke(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function dke(){return[]}function aJ(e){return e==null?dke:function(){return this.querySelectorAll(e)}}function fke(e){return function(){return uke(e.apply(this,arguments))}}function hke(e){typeof e=="function"?e=fke(e):e=aJ(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,c,u=0;u<a;++u)(c=o[u])&&(r.push(e.call(c,c.__data__,u,o)),i.push(c));return new zi(r,i)}function lJ(e){return function(){return this.matches(e)}}function cJ(e){return function(t){return t.matches(e)}}var mke=Array.prototype.find;function pke(e){return function(){return mke.call(this.children,e)}}function gke(){return this.firstElementChild}function yke(e){return this.select(e==null?gke:pke(typeof e=="function"?e:cJ(e)))}var bke=Array.prototype.filter;function vke(){return Array.from(this.children)}function xke(e){return function(){return bke.call(this.children,e)}}function wke(e){return this.selectAll(e==null?vke:xke(typeof e=="function"?e:cJ(e)))}function Ske(e){typeof e!="function"&&(e=lJ(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],c,u=0;u<o;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&a.push(c);return new zi(r,this._parents)}function uJ(e){return new Array(e.length)}function Eke(){return new zi(this._enter||this._groups.map(uJ),this._parents)}function Cw(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Cw.prototype={constructor:Cw,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Nke(e){return function(){return e}}function _ke(e,t,n,r,i,s){for(var o=0,a,c=t.length,u=s.length;o<u;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new Cw(e,s[o]);for(;o<c;++o)(a=t[o])&&(i[o]=a)}function Cke(e,t,n,r,i,s,o){var a,c,u=new Map,f=t.length,m=s.length,p=new Array(f),y;for(a=0;a<f;++a)(c=t[a])&&(p[a]=y=o.call(c,c.__data__,a,t)+"",u.has(y)?i[a]=c:u.set(y,c));for(a=0;a<m;++a)y=o.call(e,s[a],a,s)+"",(c=u.get(y))?(r[a]=c,c.__data__=s[a],u.delete(y)):n[a]=new Cw(e,s[a]);for(a=0;a<f;++a)(c=t[a])&&u.get(p[a])===c&&(i[a]=c)}function Oke(e){return e.__data__}function jke(e,t){if(!arguments.length)return Array.from(this,Oke);var n=t?Cke:_ke,r=this._parents,i=this._groups;typeof e!="function"&&(e=Nke(e));for(var s=i.length,o=new Array(s),a=new Array(s),c=new Array(s),u=0;u<s;++u){var f=r[u],m=i[u],p=m.length,y=Ake(e.call(f,f&&f.__data__,u,r)),v=y.length,x=a[u]=new Array(v),S=o[u]=new Array(v),N=c[u]=new Array(p);n(f,m,x,S,N,y,t);for(var _=0,C=0,j,A;_<v;++_)if(j=x[_]){for(_>=C&&(C=_+1);!(A=S[C])&&++C<v;);j._next=A||null}}return o=new zi(o,r),o._enter=a,o._exit=c,o}function Ake(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Tke(){return new zi(this._exit||this._groups.map(uJ),this._parents)}function $ke(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Rke(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),c=0;c<o;++c)for(var u=n[c],f=r[c],m=u.length,p=a[c]=new Array(m),y,v=0;v<m;++v)(y=u[v]||f[v])&&(p[v]=y);for(;c<i;++c)a[c]=n[c];return new zi(a,this._parents)}function kke(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Mke(e){e||(e=Ike);function t(m,p){return m&&p?e(m.__data__,p.__data__):!m-!p}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,c=i[s]=new Array(a),u,f=0;f<a;++f)(u=o[f])&&(c[f]=u);c.sort(t)}return new zi(i,this._parents).order()}function Ike(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Pke(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Dke(){return Array.from(this)}function Lke(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Fke(){let e=0;for(const t of this)++e;return e}function Bke(){return!this.node()}function zke(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function Vke(e){return function(){this.removeAttribute(e)}}function Uke(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qke(e,t){return function(){this.setAttribute(e,t)}}function Hke(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Wke(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Gke(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Jke(e,t){var n=LS(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Uke:Vke:typeof t=="function"?n.local?Gke:Wke:n.local?Hke:qke)(n,t))}function dJ(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Yke(e){return function(){this.style.removeProperty(e)}}function Xke(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Kke(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Qke(e,t,n){return arguments.length>1?this.each((t==null?Yke:typeof t=="function"?Kke:Xke)(e,t,n??"")):qh(this.node(),e)}function qh(e,t){return e.style.getPropertyValue(t)||dJ(e).getComputedStyle(e,null).getPropertyValue(t)}function Zke(e){return function(){delete this[e]}}function eMe(e,t){return function(){this[e]=t}}function tMe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function nMe(e,t){return arguments.length>1?this.each((t==null?Zke:typeof t=="function"?tMe:eMe)(e,t)):this.node()[e]}function fJ(e){return e.trim().split(/^|\s+/)}function V4(e){return e.classList||new hJ(e)}function hJ(e){this._node=e,this._names=fJ(e.getAttribute("class")||"")}hJ.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function mJ(e,t){for(var n=V4(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function pJ(e,t){for(var n=V4(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function rMe(e){return function(){mJ(this,e)}}function iMe(e){return function(){pJ(this,e)}}function sMe(e,t){return function(){(t.apply(this,arguments)?mJ:pJ)(this,e)}}function oMe(e,t){var n=fJ(e+"");if(arguments.length<2){for(var r=V4(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?sMe:t?rMe:iMe)(n,t))}function aMe(){this.textContent=""}function lMe(e){return function(){this.textContent=e}}function cMe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function uMe(e){return arguments.length?this.each(e==null?aMe:(typeof e=="function"?cMe:lMe)(e)):this.node().textContent}function dMe(){this.innerHTML=""}function fMe(e){return function(){this.innerHTML=e}}function hMe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function mMe(e){return arguments.length?this.each(e==null?dMe:(typeof e=="function"?hMe:fMe)(e)):this.node().innerHTML}function pMe(){this.nextSibling&&this.parentNode.appendChild(this)}function gMe(){return this.each(pMe)}function yMe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bMe(){return this.each(yMe)}function vMe(e){var t=typeof e=="function"?e:oJ(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function xMe(){return null}function wMe(e,t){var n=typeof e=="function"?e:oJ(e),r=t==null?xMe:typeof t=="function"?t:z4(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function SMe(){var e=this.parentNode;e&&e.removeChild(this)}function EMe(){return this.each(SMe)}function NMe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _Me(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function CMe(e){return this.select(e?_Me:NMe)}function OMe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function jMe(e){return function(t){e.call(this,t,this.__data__)}}function AMe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function TMe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function $Me(e,t,n){return function(){var r=this.__on,i,s=jMe(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function RMe(e,t,n){var r=AMe(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,u=a.length,f;c<u;++c)for(i=0,f=a[c];i<s;++i)if((o=r[i]).type===f.type&&o.name===f.name)return f.value}return}for(a=t?$Me:TMe,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function gJ(e,t,n){var r=dJ(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function kMe(e,t){return function(){return gJ(this,e,t)}}function MMe(e,t){return function(){return gJ(this,e,t.apply(this,arguments))}}function IMe(e,t){return this.each((typeof t=="function"?MMe:kMe)(e,t))}function*PMe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var yJ=[null];function zi(e,t){this._groups=e,this._parents=t}function C0(){return new zi([[document.documentElement]],yJ)}function DMe(){return this}zi.prototype=C0.prototype={constructor:zi,select:cke,selectAll:hke,selectChild:yke,selectChildren:wke,filter:Ske,data:jke,enter:Eke,exit:Tke,join:$ke,merge:Rke,selection:DMe,order:kke,sort:Mke,call:Pke,nodes:Dke,node:Lke,size:Fke,empty:Bke,each:zke,attr:Jke,style:Qke,property:nMe,classed:oMe,text:uMe,html:mMe,raise:gMe,lower:bMe,append:vMe,insert:wMe,remove:EMe,clone:CMe,datum:OMe,on:RMe,dispatch:IMe,[Symbol.iterator]:PMe};function $i(e){return typeof e=="string"?new zi([[document.querySelector(e)]],[document.documentElement]):new zi([[e]],yJ)}function LMe(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Bs(e,t){if(e=LMe(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const FMe={passive:!1},yy={capture:!0,passive:!1};function iC(e){e.stopImmediatePropagation()}function rh(e){e.preventDefault(),e.stopImmediatePropagation()}function bJ(e){var t=e.document.documentElement,n=$i(e).on("dragstart.drag",rh,yy);"onselectstart"in t?n.on("selectstart.drag",rh,yy):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function vJ(e,t){var n=e.document.documentElement,r=$i(e).on("dragstart.drag",null);t&&(r.on("click.drag",rh,yy),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ov=e=>()=>e;function Aj(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:c,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}Aj.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function BMe(e){return!e.ctrlKey&&!e.button}function zMe(){return this.parentNode}function VMe(e,t){return t??{x:e.x,y:e.y}}function UMe(){return navigator.maxTouchPoints||"ontouchstart"in this}function xJ(){var e=BMe,t=zMe,n=VMe,r=UMe,i={},s=DS("start","drag","end"),o=0,a,c,u,f,m=0;function p(j){j.on("mousedown.drag",y).filter(r).on("touchstart.drag",S).on("touchmove.drag",N,FMe).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(j,A){if(!(f||!e.call(this,j,A))){var $=C(this,t.call(this,j,A),j,A,"mouse");$&&($i(j.view).on("mousemove.drag",v,yy).on("mouseup.drag",x,yy),bJ(j.view),iC(j),u=!1,a=j.clientX,c=j.clientY,$("start",j))}}function v(j){if(rh(j),!u){var A=j.clientX-a,$=j.clientY-c;u=A*A+$*$>m}i.mouse("drag",j)}function x(j){$i(j.view).on("mousemove.drag mouseup.drag",null),vJ(j.view,u),rh(j),i.mouse("end",j)}function S(j,A){if(e.call(this,j,A)){var $=j.changedTouches,k=t.call(this,j,A),R=$.length,D,z;for(D=0;D<R;++D)(z=C(this,k,j,A,$[D].identifier,$[D]))&&(iC(j),z("start",j,$[D]))}}function N(j){var A=j.changedTouches,$=A.length,k,R;for(k=0;k<$;++k)(R=i[A[k].identifier])&&(rh(j),R("drag",j,A[k]))}function _(j){var A=j.changedTouches,$=A.length,k,R;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),k=0;k<$;++k)(R=i[A[k].identifier])&&(iC(j),R("end",j,A[k]))}function C(j,A,$,k,R,D){var z=s.copy(),L=Bs(D||$,A),F,H,M;if((M=n.call(j,new Aj("beforestart",{sourceEvent:$,target:p,identifier:R,active:o,x:L[0],y:L[1],dx:0,dy:0,dispatch:z}),k))!=null)return F=M.x-L[0]||0,H=M.y-L[1]||0,function V(T,I,P){var W=L,B;switch(T){case"start":i[R]=V,B=o++;break;case"end":delete i[R],--o;case"drag":L=Bs(P||I,A),B=o;break}z.call(T,j,new Aj(T,{sourceEvent:I,subject:M,target:p,identifier:R,active:B,x:L[0]+F,y:L[1]+H,dx:L[0]-W[0],dy:L[1]-W[1],dispatch:z}),k)}}return p.filter=function(j){return arguments.length?(e=typeof j=="function"?j:Ov(!!j),p):e},p.container=function(j){return arguments.length?(t=typeof j=="function"?j:Ov(j),p):t},p.subject=function(j){return arguments.length?(n=typeof j=="function"?j:Ov(j),p):n},p.touchable=function(j){return arguments.length?(r=typeof j=="function"?j:Ov(!!j),p):r},p.on=function(){var j=s.on.apply(s,arguments);return j===s?p:j},p.clickDistance=function(j){return arguments.length?(m=(j=+j)*j,p):Math.sqrt(m)},p}function U4(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function wJ(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function O0(){}var by=.7,Ow=1/by,ih="\\s*([+-]?\\d+)\\s*",vy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qMe=/^#([0-9a-f]{3,8})$/,HMe=new RegExp(`^rgb\\(${ih},${ih},${ih}\\)$`),WMe=new RegExp(`^rgb\\(${ko},${ko},${ko}\\)$`),GMe=new RegExp(`^rgba\\(${ih},${ih},${ih},${vy}\\)$`),JMe=new RegExp(`^rgba\\(${ko},${ko},${ko},${vy}\\)$`),YMe=new RegExp(`^hsl\\(${vy},${ko},${ko}\\)$`),XMe=new RegExp(`^hsla\\(${vy},${ko},${ko},${vy}\\)$`),M9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};U4(O0,xy,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:I9,formatHex:I9,formatHex8:KMe,formatHsl:QMe,formatRgb:P9,toString:P9});function I9(){return this.rgb().formatHex()}function KMe(){return this.rgb().formatHex8()}function QMe(){return SJ(this).formatHsl()}function P9(){return this.rgb().formatRgb()}function xy(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=qMe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?D9(t):n===3?new di(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?jv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?jv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=HMe.exec(e))?new di(t[1],t[2],t[3],1):(t=WMe.exec(e))?new di(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=GMe.exec(e))?jv(t[1],t[2],t[3],t[4]):(t=JMe.exec(e))?jv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=YMe.exec(e))?B9(t[1],t[2]/100,t[3]/100,1):(t=XMe.exec(e))?B9(t[1],t[2]/100,t[3]/100,t[4]):M9.hasOwnProperty(e)?D9(M9[e]):e==="transparent"?new di(NaN,NaN,NaN,0):null}function D9(e){return new di(e>>16&255,e>>8&255,e&255,1)}function jv(e,t,n,r){return r<=0&&(e=t=n=NaN),new di(e,t,n,r)}function ZMe(e){return e instanceof O0||(e=xy(e)),e?(e=e.rgb(),new di(e.r,e.g,e.b,e.opacity)):new di}function Tj(e,t,n,r){return arguments.length===1?ZMe(e):new di(e,t,n,r??1)}function di(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}U4(di,Tj,wJ(O0,{brighter(e){return e=e==null?Ow:Math.pow(Ow,e),new di(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?by:Math.pow(by,e),new di(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new di(td(this.r),td(this.g),td(this.b),jw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:L9,formatHex:L9,formatHex8:e6e,formatRgb:F9,toString:F9}));function L9(){return`#${Fu(this.r)}${Fu(this.g)}${Fu(this.b)}`}function e6e(){return`#${Fu(this.r)}${Fu(this.g)}${Fu(this.b)}${Fu((isNaN(this.opacity)?1:this.opacity)*255)}`}function F9(){const e=jw(this.opacity);return`${e===1?"rgb(":"rgba("}${td(this.r)}, ${td(this.g)}, ${td(this.b)}${e===1?")":`, ${e})`}`}function jw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function td(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Fu(e){return e=td(e),(e<16?"0":"")+e.toString(16)}function B9(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Hs(e,t,n,r)}function SJ(e){if(e instanceof Hs)return new Hs(e.h,e.s,e.l,e.opacity);if(e instanceof O0||(e=xy(e)),!e)return new Hs;if(e instanceof Hs)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,c=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=c<.5?s+i:2-s-i,o*=60):a=c>0&&c<1?0:o,new Hs(o,a,c,e.opacity)}function t6e(e,t,n,r){return arguments.length===1?SJ(e):new Hs(e,t,n,r??1)}function Hs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}U4(Hs,t6e,wJ(O0,{brighter(e){return e=e==null?Ow:Math.pow(Ow,e),new Hs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?by:Math.pow(by,e),new Hs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new di(sC(e>=240?e-240:e+120,i,r),sC(e,i,r),sC(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Hs(z9(this.h),Av(this.s),Av(this.l),jw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=jw(this.opacity);return`${e===1?"hsl(":"hsla("}${z9(this.h)}, ${Av(this.s)*100}%, ${Av(this.l)*100}%${e===1?")":`, ${e})`}`}}));function z9(e){return e=(e||0)%360,e<0?e+360:e}function Av(e){return Math.max(0,Math.min(1,e||0))}function sC(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const EJ=e=>()=>e;function n6e(e,t){return function(n){return e+n*t}}function r6e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function i6e(e){return(e=+e)==1?NJ:function(t,n){return n-t?r6e(t,n,e):EJ(isNaN(t)?n:t)}}function NJ(e,t){var n=t-e;return n?n6e(e,n):EJ(isNaN(e)?t:e)}const V9=function e(t){var n=i6e(t);function r(i,s){var o=n((i=Tj(i)).r,(s=Tj(s)).r),a=n(i.g,s.g),c=n(i.b,s.b),u=NJ(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=a(f),i.b=c(f),i.opacity=u(f),i+""}}return r.gamma=e,r}(1);function Kl(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var $j=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oC=new RegExp($j.source,"g");function s6e(e){return function(){return e}}function o6e(e){return function(t){return e(t)+""}}function a6e(e,t){var n=$j.lastIndex=oC.lastIndex=0,r,i,s,o=-1,a=[],c=[];for(e=e+"",t=t+"";(r=$j.exec(e))&&(i=oC.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,c.push({i:o,x:Kl(r,i)})),n=oC.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?c[0]?o6e(c[0].x):s6e(t):(t=c.length,function(u){for(var f=0,m;f<t;++f)a[(m=c[f]).i]=m.x(u);return a.join("")})}var U9=180/Math.PI,Rj={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _J(e,t,n,r,i,s){var o,a,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*U9,skewX:Math.atan(c)*U9,scaleX:o,scaleY:a}}var Tv;function l6e(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Rj:_J(t.a,t.b,t.c,t.d,t.e,t.f)}function c6e(e){return e==null||(Tv||(Tv=document.createElementNS("http://www.w3.org/2000/svg","g")),Tv.setAttribute("transform",e),!(e=Tv.transform.baseVal.consolidate()))?Rj:(e=e.matrix,_J(e.a,e.b,e.c,e.d,e.e,e.f))}function CJ(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,f,m,p,y,v){if(u!==m||f!==p){var x=y.push("translate(",null,t,null,n);v.push({i:x-4,x:Kl(u,m)},{i:x-2,x:Kl(f,p)})}else(m||p)&&y.push("translate("+m+t+p+n)}function o(u,f,m,p){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),p.push({i:m.push(i(m)+"rotate(",null,r)-2,x:Kl(u,f)})):f&&m.push(i(m)+"rotate("+f+r)}function a(u,f,m,p){u!==f?p.push({i:m.push(i(m)+"skewX(",null,r)-2,x:Kl(u,f)}):f&&m.push(i(m)+"skewX("+f+r)}function c(u,f,m,p,y,v){if(u!==m||f!==p){var x=y.push(i(y)+"scale(",null,",",null,")");v.push({i:x-4,x:Kl(u,m)},{i:x-2,x:Kl(f,p)})}else(m!==1||p!==1)&&y.push(i(y)+"scale("+m+","+p+")")}return function(u,f){var m=[],p=[];return u=e(u),f=e(f),s(u.translateX,u.translateY,f.translateX,f.translateY,m,p),o(u.rotate,f.rotate,m,p),a(u.skewX,f.skewX,m,p),c(u.scaleX,u.scaleY,f.scaleX,f.scaleY,m,p),u=f=null,function(y){for(var v=-1,x=p.length,S;++v<x;)m[(S=p[v]).i]=S.x(y);return m.join("")}}}var u6e=CJ(l6e,"px, ","px)","deg)"),d6e=CJ(c6e,", ",")",")"),f6e=1e-12;function q9(e){return((e=Math.exp(e))+1/e)/2}function h6e(e){return((e=Math.exp(e))-1/e)/2}function m6e(e){return((e=Math.exp(2*e))-1)/(e+1)}const p6e=function e(t,n,r){function i(s,o){var a=s[0],c=s[1],u=s[2],f=o[0],m=o[1],p=o[2],y=f-a,v=m-c,x=y*y+v*v,S,N;if(x<f6e)N=Math.log(p/u)/t,S=function(k){return[a+k*y,c+k*v,u*Math.exp(t*k*N)]};else{var _=Math.sqrt(x),C=(p*p-u*u+r*x)/(2*u*n*_),j=(p*p-u*u-r*x)/(2*p*n*_),A=Math.log(Math.sqrt(C*C+1)-C),$=Math.log(Math.sqrt(j*j+1)-j);N=($-A)/t,S=function(k){var R=k*N,D=q9(A),z=u/(n*_)*(D*m6e(t*R+A)-h6e(A));return[a+z*y,c+z*v,u*D/q9(t*R+A)]}}return S.duration=N*1e3*t/Math.SQRT2,S}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,c=a*a;return e(o,a,c)},i}(Math.SQRT2,2,4);var Hh=0,cg=0,Qp=0,OJ=1e3,Aw,ug,Tw=0,pd=0,FS=0,wy=typeof performance=="object"&&performance.now?performance:Date,jJ=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function q4(){return pd||(jJ(g6e),pd=wy.now()+FS)}function g6e(){pd=0}function $w(){this._call=this._time=this._next=null}$w.prototype=AJ.prototype={constructor:$w,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?q4():+n)+(t==null?0:+t),!this._next&&ug!==this&&(ug?ug._next=this:Aw=this,ug=this),this._call=e,this._time=n,kj()},stop:function(){this._call&&(this._call=null,this._time=1/0,kj())}};function AJ(e,t,n){var r=new $w;return r.restart(e,t,n),r}function y6e(){q4(),++Hh;for(var e=Aw,t;e;)(t=pd-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Hh}function H9(){pd=(Tw=wy.now())+FS,Hh=cg=0;try{y6e()}finally{Hh=0,v6e(),pd=0}}function b6e(){var e=wy.now(),t=e-Tw;t>OJ&&(FS-=t,Tw=e)}function v6e(){for(var e,t=Aw,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Aw=n);ug=e,kj(r)}function kj(e){if(!Hh){cg&&(cg=clearTimeout(cg));var t=e-pd;t>24?(e<1/0&&(cg=setTimeout(H9,e-wy.now()-FS)),Qp&&(Qp=clearInterval(Qp))):(Qp||(Tw=wy.now(),Qp=setInterval(b6e,OJ)),Hh=1,jJ(H9))}}function W9(e,t,n){var r=new $w;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var x6e=DS("start","end","cancel","interrupt"),w6e=[],TJ=0,G9=1,Mj=2,ux=3,J9=4,Ij=5,dx=6;function BS(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;S6e(e,n,{name:t,index:r,group:i,on:x6e,tween:w6e,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:TJ})}function H4(e,t){var n=fo(e,t);if(n.state>TJ)throw new Error("too late; already scheduled");return n}function Ho(e,t){var n=fo(e,t);if(n.state>ux)throw new Error("too late; already running");return n}function fo(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function S6e(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=AJ(s,0,n.time);function s(u){n.state=G9,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var f,m,p,y;if(n.state!==G9)return c();for(f in r)if(y=r[f],y.name===n.name){if(y.state===ux)return W9(o);y.state===J9?(y.state=dx,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete r[f]):+f<t&&(y.state=dx,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete r[f])}if(W9(function(){n.state===ux&&(n.state=J9,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Mj,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Mj){for(n.state=ux,i=new Array(p=n.tween.length),f=0,m=-1;f<p;++f)(y=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++m]=y);i.length=m+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=Ij,1),m=-1,p=i.length;++m<p;)i[m].call(e,f);n.state===Ij&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=dx,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function fx(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>Mj&&r.state<Ij,r.state=dx,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function E6e(e){return this.each(function(){fx(this,e)})}function N6e(e,t){var n,r;return function(){var i=Ho(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function _6e(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Ho(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===t){i[c]=a;break}c===u&&i.push(a)}s.tween=i}}function C6e(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=fo(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?N6e:_6e)(n,e,t))}function W4(e,t,n){var r=e._id;return e.each(function(){var i=Ho(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return fo(i,r).value[t]}}function $J(e,t){var n;return(typeof t=="number"?Kl:t instanceof xy?V9:(n=xy(t))?(t=n,V9):a6e)(e,t)}function O6e(e){return function(){this.removeAttribute(e)}}function j6e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function A6e(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function T6e(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function $6e(e,t,n){var r,i,s;return function(){var o,a=n(this),c;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=a+"",o===c?null:o===r&&c===i?s:(i=c,s=t(r=o,a)))}}function R6e(e,t,n){var r,i,s;return function(){var o,a=n(this),c;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=a+"",o===c?null:o===r&&c===i?s:(i=c,s=t(r=o,a)))}}function k6e(e,t){var n=LS(e),r=n==="transform"?d6e:$J;return this.attrTween(e,typeof t=="function"?(n.local?R6e:$6e)(n,r,W4(this,"attr."+e,t)):t==null?(n.local?j6e:O6e)(n):(n.local?T6e:A6e)(n,r,t))}function M6e(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function I6e(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function P6e(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&I6e(e,s)),n}return i._value=t,i}function D6e(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&M6e(e,s)),n}return i._value=t,i}function L6e(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=LS(e);return this.tween(n,(r.local?P6e:D6e)(r,t))}function F6e(e,t){return function(){H4(this,e).delay=+t.apply(this,arguments)}}function B6e(e,t){return t=+t,function(){H4(this,e).delay=t}}function z6e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?F6e:B6e)(t,e)):fo(this.node(),t).delay}function V6e(e,t){return function(){Ho(this,e).duration=+t.apply(this,arguments)}}function U6e(e,t){return t=+t,function(){Ho(this,e).duration=t}}function q6e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?V6e:U6e)(t,e)):fo(this.node(),t).duration}function H6e(e,t){if(typeof t!="function")throw new Error;return function(){Ho(this,e).ease=t}}function W6e(e){var t=this._id;return arguments.length?this.each(H6e(t,e)):fo(this.node(),t).ease}function G6e(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ho(this,e).ease=n}}function J6e(e){if(typeof e!="function")throw new Error;return this.each(G6e(this._id,e))}function Y6e(e){typeof e!="function"&&(e=lJ(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],c,u=0;u<o;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&a.push(c);return new Qa(r,this._parents,this._name,this._id)}function X6e(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var c=t[a],u=n[a],f=c.length,m=o[a]=new Array(f),p,y=0;y<f;++y)(p=c[y]||u[y])&&(m[y]=p);for(;a<r;++a)o[a]=t[a];return new Qa(o,this._parents,this._name,this._id)}function K6e(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Q6e(e,t,n){var r,i,s=K6e(t)?H4:Ho;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function Z6e(e,t){var n=this._id;return arguments.length<2?fo(this.node(),n).on.on(e):this.each(Q6e(n,e,t))}function eIe(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function tIe(){return this.on("end.remove",eIe(this._id))}function nIe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=z4(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],c=a.length,u=s[o]=new Array(c),f,m,p=0;p<c;++p)(f=a[p])&&(m=e.call(f,f.__data__,p,a))&&("__data__"in f&&(m.__data__=f.__data__),u[p]=m,BS(u[p],t,n,p,u,fo(f,n)));return new Qa(s,this._parents,t,n)}function rIe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=aJ(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var c=r[a],u=c.length,f,m=0;m<u;++m)if(f=c[m]){for(var p=e.call(f,f.__data__,m,c),y,v=fo(f,n),x=0,S=p.length;x<S;++x)(y=p[x])&&BS(y,t,n,x,p,v);s.push(p),o.push(f)}return new Qa(s,o,t,n)}var iIe=C0.prototype.constructor;function sIe(){return new iIe(this._groups,this._parents)}function oIe(e,t){var n,r,i;return function(){var s=qh(this,e),o=(this.style.removeProperty(e),qh(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function RJ(e){return function(){this.style.removeProperty(e)}}function aIe(e,t,n){var r,i=n+"",s;return function(){var o=qh(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function lIe(e,t,n){var r,i,s;return function(){var o=qh(this,e),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(e),qh(this,e))),o===c?null:o===r&&c===i?s:(i=c,s=t(r=o,a))}}function cIe(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var c=Ho(this,e),u=c.on,f=c.value[s]==null?a||(a=RJ(t)):void 0;(u!==n||i!==f)&&(r=(n=u).copy()).on(o,i=f),c.on=r}}function uIe(e,t,n){var r=(e+="")=="transform"?u6e:$J;return t==null?this.styleTween(e,oIe(e,r)).on("end.style."+e,RJ(e)):typeof t=="function"?this.styleTween(e,lIe(e,r,W4(this,"style."+e,t))).each(cIe(this._id,e)):this.styleTween(e,aIe(e,r,t),n).on("end.style."+e,null)}function dIe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function fIe(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&dIe(e,o,n)),r}return s._value=t,s}function hIe(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,fIe(e,t,n??""))}function mIe(e){return function(){this.textContent=e}}function pIe(e){return function(){var t=e(this);this.textContent=t??""}}function gIe(e){return this.tween("text",typeof e=="function"?pIe(W4(this,"text",e)):mIe(e==null?"":e+""))}function yIe(e){return function(t){this.textContent=e.call(this,t)}}function bIe(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&yIe(i)),t}return r._value=e,r}function vIe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,bIe(e))}function xIe(){for(var e=this._name,t=this._id,n=kJ(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,c,u=0;u<a;++u)if(c=o[u]){var f=fo(c,t);BS(c,e,n,u,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Qa(r,this._parents,e,n)}function wIe(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},c={value:function(){--i===0&&s()}};n.each(function(){var u=Ho(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),u.on=t}),i===0&&s()})}var SIe=0;function Qa(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function kJ(){return++SIe}var ha=C0.prototype;Qa.prototype={constructor:Qa,select:nIe,selectAll:rIe,selectChild:ha.selectChild,selectChildren:ha.selectChildren,filter:Y6e,merge:X6e,selection:sIe,transition:xIe,call:ha.call,nodes:ha.nodes,node:ha.node,size:ha.size,empty:ha.empty,each:ha.each,on:Z6e,attr:k6e,attrTween:L6e,style:uIe,styleTween:hIe,text:gIe,textTween:vIe,remove:tIe,tween:C6e,delay:z6e,duration:q6e,ease:W6e,easeVarying:J6e,end:wIe,[Symbol.iterator]:ha[Symbol.iterator]};function EIe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var NIe={time:null,delay:0,duration:250,ease:EIe};function _Ie(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function CIe(e){var t,n;e instanceof Qa?(t=e._id,e=e._name):(t=kJ(),(n=NIe).time=q4(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,c,u=0;u<a;++u)(c=o[u])&&BS(c,e,t,u,o,n||_Ie(c,t));return new Qa(r,this._parents,e,t)}C0.prototype.interrupt=E6e;C0.prototype.transition=CIe;const $v=e=>()=>e;function OIe(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ra(e,t,n){this.k=e,this.x=t,this.y=n}Ra.prototype={constructor:Ra,scale:function(e){return e===1?this:new Ra(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ra(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var zS=new Ra(1,0,0);MJ.prototype=Ra.prototype;function MJ(e){for(;!e.__zoom;)if(!(e=e.parentNode))return zS;return e.__zoom}function aC(e){e.stopImmediatePropagation()}function Zp(e){e.preventDefault(),e.stopImmediatePropagation()}function jIe(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function AIe(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Y9(){return this.__zoom||zS}function TIe(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function $Ie(){return navigator.maxTouchPoints||"ontouchstart"in this}function RIe(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function IJ(){var e=jIe,t=AIe,n=RIe,r=TIe,i=$Ie,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,c=p6e,u=DS("start","zoom","end"),f,m,p,y=500,v=150,x=0,S=10;function N(M){M.property("__zoom",Y9).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",z).filter(i).on("touchstart.zoom",L).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",H).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}N.transform=function(M,V,T,I){var P=M.selection?M.selection():M;P.property("__zoom",Y9),M!==P?A(M,V,T,I):P.interrupt().each(function(){$(this,arguments).event(I).start().zoom(null,typeof V=="function"?V.apply(this,arguments):V).end()})},N.scaleBy=function(M,V,T,I){N.scaleTo(M,function(){var P=this.__zoom.k,W=typeof V=="function"?V.apply(this,arguments):V;return P*W},T,I)},N.scaleTo=function(M,V,T,I){N.transform(M,function(){var P=t.apply(this,arguments),W=this.__zoom,B=T==null?j(P):typeof T=="function"?T.apply(this,arguments):T,q=W.invert(B),X=typeof V=="function"?V.apply(this,arguments):V;return n(C(_(W,X),B,q),P,o)},T,I)},N.translateBy=function(M,V,T,I){N.transform(M,function(){return n(this.__zoom.translate(typeof V=="function"?V.apply(this,arguments):V,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),o)},null,I)},N.translateTo=function(M,V,T,I,P){N.transform(M,function(){var W=t.apply(this,arguments),B=this.__zoom,q=I==null?j(W):typeof I=="function"?I.apply(this,arguments):I;return n(zS.translate(q[0],q[1]).scale(B.k).translate(typeof V=="function"?-V.apply(this,arguments):-V,typeof T=="function"?-T.apply(this,arguments):-T),W,o)},I,P)};function _(M,V){return V=Math.max(s[0],Math.min(s[1],V)),V===M.k?M:new Ra(V,M.x,M.y)}function C(M,V,T){var I=V[0]-T[0]*M.k,P=V[1]-T[1]*M.k;return I===M.x&&P===M.y?M:new Ra(M.k,I,P)}function j(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function A(M,V,T,I){M.on("start.zoom",function(){$(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){$(this,arguments).event(I).end()}).tween("zoom",function(){var P=this,W=arguments,B=$(P,W).event(I),q=t.apply(P,W),X=T==null?j(q):typeof T=="function"?T.apply(P,W):T,Q=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),ie=P.__zoom,ae=typeof V=="function"?V.apply(P,W):V,fe=c(ie.invert(X).concat(Q/ie.k),ae.invert(X).concat(Q/ae.k));return function(ce){if(ce===1)ce=ae;else{var he=fe(ce),ve=Q/he[2];ce=new Ra(ve,X[0]-he[0]*ve,X[1]-he[1]*ve)}B.zoom(null,ce)}})}function $(M,V,T){return!T&&M.__zooming||new k(M,V)}function k(M,V){this.that=M,this.args=V,this.active=0,this.sourceEvent=null,this.extent=t.apply(M,V),this.taps=0}k.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,V){return this.mouse&&M!=="mouse"&&(this.mouse[1]=V.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=V.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=V.invert(this.touch1[0])),this.that.__zoom=V,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var V=$i(this.that).datum();u.call(M,this.that,new OIe(M,{sourceEvent:this.sourceEvent,target:N,transform:this.that.__zoom,dispatch:u}),V)}};function R(M,...V){if(!e.apply(this,arguments))return;var T=$(this,V).event(M),I=this.__zoom,P=Math.max(s[0],Math.min(s[1],I.k*Math.pow(2,r.apply(this,arguments)))),W=Bs(M);if(T.wheel)(T.mouse[0][0]!==W[0]||T.mouse[0][1]!==W[1])&&(T.mouse[1]=I.invert(T.mouse[0]=W)),clearTimeout(T.wheel);else{if(I.k===P)return;T.mouse=[W,I.invert(W)],fx(this),T.start()}Zp(M),T.wheel=setTimeout(B,v),T.zoom("mouse",n(C(_(I,P),T.mouse[0],T.mouse[1]),T.extent,o));function B(){T.wheel=null,T.end()}}function D(M,...V){if(p||!e.apply(this,arguments))return;var T=M.currentTarget,I=$(this,V,!0).event(M),P=$i(M.view).on("mousemove.zoom",X,!0).on("mouseup.zoom",Q,!0),W=Bs(M,T),B=M.clientX,q=M.clientY;bJ(M.view),aC(M),I.mouse=[W,this.__zoom.invert(W)],fx(this),I.start();function X(ie){if(Zp(ie),!I.moved){var ae=ie.clientX-B,fe=ie.clientY-q;I.moved=ae*ae+fe*fe>x}I.event(ie).zoom("mouse",n(C(I.that.__zoom,I.mouse[0]=Bs(ie,T),I.mouse[1]),I.extent,o))}function Q(ie){P.on("mousemove.zoom mouseup.zoom",null),vJ(ie.view,I.moved),Zp(ie),I.event(ie).end()}}function z(M,...V){if(e.apply(this,arguments)){var T=this.__zoom,I=Bs(M.changedTouches?M.changedTouches[0]:M,this),P=T.invert(I),W=T.k*(M.shiftKey?.5:2),B=n(C(_(T,W),I,P),t.apply(this,V),o);Zp(M),a>0?$i(this).transition().duration(a).call(A,B,I,M):$i(this).call(N.transform,B,I,M)}}function L(M,...V){if(e.apply(this,arguments)){var T=M.touches,I=T.length,P=$(this,V,M.changedTouches.length===I).event(M),W,B,q,X;for(aC(M),B=0;B<I;++B)q=T[B],X=Bs(q,this),X=[X,this.__zoom.invert(X),q.identifier],P.touch0?!P.touch1&&P.touch0[2]!==X[2]&&(P.touch1=X,P.taps=0):(P.touch0=X,W=!0,P.taps=1+!!f);f&&(f=clearTimeout(f)),W&&(P.taps<2&&(m=X[0],f=setTimeout(function(){f=null},y)),fx(this),P.start())}}function F(M,...V){if(this.__zooming){var T=$(this,V).event(M),I=M.changedTouches,P=I.length,W,B,q,X;for(Zp(M),W=0;W<P;++W)B=I[W],q=Bs(B,this),T.touch0&&T.touch0[2]===B.identifier?T.touch0[0]=q:T.touch1&&T.touch1[2]===B.identifier&&(T.touch1[0]=q);if(B=T.that.__zoom,T.touch1){var Q=T.touch0[0],ie=T.touch0[1],ae=T.touch1[0],fe=T.touch1[1],ce=(ce=ae[0]-Q[0])*ce+(ce=ae[1]-Q[1])*ce,he=(he=fe[0]-ie[0])*he+(he=fe[1]-ie[1])*he;B=_(B,Math.sqrt(ce/he)),q=[(Q[0]+ae[0])/2,(Q[1]+ae[1])/2],X=[(ie[0]+fe[0])/2,(ie[1]+fe[1])/2]}else if(T.touch0)q=T.touch0[0],X=T.touch0[1];else return;T.zoom("touch",n(C(B,q,X),T.extent,o))}}function H(M,...V){if(this.__zooming){var T=$(this,V).event(M),I=M.changedTouches,P=I.length,W,B;for(aC(M),p&&clearTimeout(p),p=setTimeout(function(){p=null},y),W=0;W<P;++W)B=I[W],T.touch0&&T.touch0[2]===B.identifier?delete T.touch0:T.touch1&&T.touch1[2]===B.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(B=Bs(B,this),Math.hypot(m[0]-B[0],m[1]-B[1])<S)){var q=$i(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return N.wheelDelta=function(M){return arguments.length?(r=typeof M=="function"?M:$v(+M),N):r},N.filter=function(M){return arguments.length?(e=typeof M=="function"?M:$v(!!M),N):e},N.touchable=function(M){return arguments.length?(i=typeof M=="function"?M:$v(!!M),N):i},N.extent=function(M){return arguments.length?(t=typeof M=="function"?M:$v([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),N):t},N.scaleExtent=function(M){return arguments.length?(s[0]=+M[0],s[1]=+M[1],N):[s[0],s[1]]},N.translateExtent=function(M){return arguments.length?(o[0][0]=+M[0][0],o[1][0]=+M[1][0],o[0][1]=+M[0][1],o[1][1]=+M[1][1],N):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},N.constrain=function(M){return arguments.length?(n=M,N):n},N.duration=function(M){return arguments.length?(a=+M,N):a},N.interpolate=function(M){return arguments.length?(c=M,N):c},N.on=function(){var M=u.on.apply(u,arguments);return M===u?N:M},N.clickDistance=function(M){return arguments.length?(x=(M=+M)*M,N):Math.sqrt(x)},N.tapDistance=function(M){return arguments.length?(S=+M,N):S},N}const Fo={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Sy=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],PJ=["Enter"," ","Escape"];var Wh;(function(e){e.Strict="strict",e.Loose="loose"})(Wh||(Wh={}));var nd;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(nd||(nd={}));var Ey;(function(e){e.Partial="partial",e.Full="full"})(Ey||(Ey={}));const DJ={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var nc;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(nc||(nc={}));var gd;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(gd||(gd={}));var st;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(st||(st={}));const X9={[st.Left]:st.Right,[st.Right]:st.Left,[st.Top]:st.Bottom,[st.Bottom]:st.Top};function LJ(e){return e===null?null:e?"valid":"invalid"}const FJ=e=>"id"in e&&"source"in e&&"target"in e,kIe=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),G4=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),j0=(e,t=[0,0])=>{const{width:n,height:r}=dl(e),i=e.origin??t,s=n*i[0],o=r*i[1];return{x:e.position.x-s,y:e.position.y-o}},MIe=(e,t={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const s=typeof i=="string";let o=!t.nodeLookup&&!s?i:void 0;t.nodeLookup&&(o=s?t.nodeLookup.get(i):G4(i)?i:t.nodeLookup.get(i.id));const a=o?Rw(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return VS(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return US(n)},A0=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const i=Rw(r);n=VS(n,i)}}),US(n)},BJ=(e,t,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const a={...T0(t,[n,r,i]),width:t.width/i,height:t.height/i},c=[];for(const u of e.values()){const{measured:f,selectable:m=!0,hidden:p=!1}=u;if(o&&!m||p)continue;const y=f.width??u.width??u.initialWidth??null,v=f.height??u.height??u.initialHeight??null,x=Ny(a,Jh(u)),S=(y??0)*(v??0),N=s&&x>0;(!u.internals.handleBounds||N||x>=S||u.dragging)&&c.push(u)}return c},IIe=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function Pj(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function Dj({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(e.size===0)return Promise.resolve(!1);const a=A0(e),c=J4(a,t,n,(o==null?void 0:o.minZoom)??i,(o==null?void 0:o.maxZoom)??s,(o==null?void 0:o.padding)??.1);return await r.setViewport(c,{duration:o==null?void 0:o.duration}),Promise.resolve(!0)}function zJ({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(e),a=o.parentId?n.get(o.parentId):void 0,{x:c,y:u}=a?a.internals.positionAbsolute:{x:0,y:0},f=o.origin??r;let m=i;if(o.extent==="parent"&&!o.expandParent)if(!a)s==null||s("005",Fo.error005());else{const y=a.measured.width,v=a.measured.height;y&&v&&(m=[[c,u],[c+y,u+v]])}else a&&Yh(o.extent)&&(m=[[o.extent[0][0]+c,o.extent[0][1]+u],[o.extent[1][0]+c,o.extent[1][1]+u]]);const p=Yh(m)?yd(t,m,o.measured):t;return(o.measured.width===void 0||o.measured.height===void 0)&&(s==null||s("015",Fo.error015())),{position:{x:p.x-c+(o.measured.width??0)*f[0],y:p.y-u+(o.measured.height??0)*f[1]},positionAbsolute:p}}async function PIe({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(e.map(p=>p.id)),o=[];for(const p of n){if(p.deletable===!1)continue;const y=s.has(p.id),v=!y&&p.parentId&&o.find(x=>x.id===p.parentId);(y||v)&&o.push(p)}const a=new Set(t.map(p=>p.id)),c=r.filter(p=>p.deletable!==!1),f=IIe(o,c);for(const p of c)a.has(p.id)&&!f.find(v=>v.id===p.id)&&f.push(p);if(!i)return{edges:f,nodes:o};const m=await i({nodes:o,edges:f});return typeof m=="boolean"?m?{edges:f,nodes:o}:{edges:[],nodes:[]}:m}const Gh=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),yd=(e={x:0,y:0},t,n)=>({x:Gh(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Gh(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function VJ(e,t,n){const{width:r,height:i}=dl(n),{x:s,y:o}=n.internals.positionAbsolute;return yd(e,[[s,o],[s+r,o+i]],t)}const K9=(e,t,n)=>e<t?Gh(Math.abs(e-t),1,t)/t:e>n?-Gh(Math.abs(e-n),1,t)/t:0,UJ=(e,t,n=15,r=40)=>{const i=K9(e.x,r,t.width-r)*n,s=K9(e.y,r,t.height-r)*n;return[i,s]},VS=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Lj=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),US=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Jh=(e,t=[0,0])=>{var i,s;const{x:n,y:r}=G4(e)?e.internals.positionAbsolute:j0(e,t);return{x:n,y:r,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0}},Rw=(e,t=[0,0])=>{var i,s;const{x:n,y:r}=G4(e)?e.internals.positionAbsolute:j0(e,t);return{x:n,y:r,x2:n+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:r+(((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0)}},qJ=(e,t)=>US(VS(Lj(e),Lj(t))),Ny=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Q9=e=>Ks(e.width)&&Ks(e.height)&&Ks(e.x)&&Ks(e.y),Ks=e=>!isNaN(e)&&isFinite(e),DIe=(e,t)=>{},qS=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),T0=({x:e,y:t},[n,r,i],s=!1,o=[1,1])=>{const a={x:(e-n)/i,y:(t-r)/i};return s?qS(a,o):a},HJ=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),J4=(e,t,n,r,i,s)=>{const o=t/(e.width*(1+s)),a=n/(e.height*(1+s)),c=Math.min(o,a),u=Gh(c,r,i),f=e.x+e.width/2,m=e.y+e.height/2,p=t/2-f*u,y=n/2-m*u;return{x:p,y,zoom:u}},kw=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Yh(e){return e!==void 0&&e!=="parent"}function dl(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function WJ(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function GJ(e,t={width:0,height:0},n,r,i){const s={...e},o=r.get(n);if(o){const a=o.origin||i;s.x+=o.internals.positionAbsolute.x-(t.width??0)*a[0],s.y+=o.internals.positionAbsolute.y-(t.height??0)*a[1]}return s}function Z9(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function jg(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=Fa(e),a=T0({x:s-((i==null?void 0:i.left)??0),y:o-((i==null?void 0:i.top)??0)},r),{x:c,y:u}=n?qS(a,t):a;return{xSnapped:c,ySnapped:u,...a}}const HS=e=>({width:e.offsetWidth,height:e.offsetHeight}),JJ=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},LIe=["INPUT","SELECT","TEXTAREA"];function Fj(e){var r,i;const t=((i=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:LIe.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const YJ=e=>"clientX"in e,Fa=(e,t)=>{var s,o;const n=YJ(e),r=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,i=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},e8=(e,t,n,r,i)=>{const s=t.querySelectorAll(`.${e}`);return!s||!s.length?null:Array.from(s).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:e,nodeId:i,position:o.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...HS(o)}})};function XJ({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const c=e*.125+i*.375+o*.375+n*.125,u=t*.125+s*.375+a*.375+r*.125,f=Math.abs(c-e),m=Math.abs(u-t);return[c,u,f,m]}function Rv(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function t8({pos:e,x1:t,y1:n,x2:r,y2:i,c:s}){switch(e){case st.Left:return[t-Rv(t-r,s),n];case st.Right:return[t+Rv(r-t,s),n];case st.Top:return[t,n-Rv(n-i,s)];case st.Bottom:return[t,n+Rv(i-n,s)]}}function KJ({sourceX:e,sourceY:t,sourcePosition:n=st.Bottom,targetX:r,targetY:i,targetPosition:s=st.Top,curvature:o=.25}){const[a,c]=t8({pos:n,x1:e,y1:t,x2:r,y2:i,c:o}),[u,f]=t8({pos:s,x1:r,y1:i,x2:e,y2:t,c:o}),[m,p,y,v]=XJ({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:c,targetControlX:u,targetControlY:f});return[`M${e},${t} C${a},${c} ${u},${f} ${r},${i}`,m,p,y,v]}function QJ({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,s=n<e?n+i:n-i,o=Math.abs(r-t)/2,a=r<t?r+o:r-o;return[s,a,i,o]}function FIe({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const s=n||t.selected||e.selected,o=Math.max(e.internals.z||0,t.internals.z||0,1e3);return r+(s?o:0)}function BIe({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const s=VS(Rw(e),Rw(t));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Ny(o,US(s))>0}const zIe=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,VIe=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),ZJ=(e,t)=>{if(!e.source||!e.target)return t;let n;return FJ(e)?n={...e}:n={...e,id:zIe(e)},VIe(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function eY({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,s,o,a]=QJ({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,s,o,a]}const n8={[st.Left]:{x:-1,y:0},[st.Right]:{x:1,y:0},[st.Top]:{x:0,y:-1},[st.Bottom]:{x:0,y:1}},UIe=({source:e,sourcePosition:t=st.Bottom,target:n})=>t===st.Left||t===st.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},r8=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function qIe({source:e,sourcePosition:t=st.Bottom,target:n,targetPosition:r=st.Top,center:i,offset:s}){const o=n8[t],a=n8[r],c={x:e.x+o.x*s,y:e.y+o.y*s},u={x:n.x+a.x*s,y:n.y+a.y*s},f=UIe({source:c,sourcePosition:t,target:u}),m=f.x!==0?"x":"y",p=f[m];let y=[],v,x;const S={x:0,y:0},N={x:0,y:0},[_,C,j,A]=QJ({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[m]*a[m]===-1){v=i.x??_,x=i.y??C;const k=[{x:v,y:c.y},{x:v,y:u.y}],R=[{x:c.x,y:x},{x:u.x,y:x}];o[m]===p?y=m==="x"?k:R:y=m==="x"?R:k}else{const k=[{x:c.x,y:u.y}],R=[{x:u.x,y:c.y}];if(m==="x"?y=o.x===p?R:k:y=o.y===p?k:R,t===r){const H=Math.abs(e[m]-n[m]);if(H<=s){const M=Math.min(s-1,s-H);o[m]===p?S[m]=(c[m]>e[m]?-1:1)*M:N[m]=(u[m]>n[m]?-1:1)*M}}if(t!==r){const H=m==="x"?"y":"x",M=o[m]===a[H],V=c[H]>u[H],T=c[H]<u[H];(o[m]===1&&(!M&&V||M&&T)||o[m]!==1&&(!M&&T||M&&V))&&(y=m==="x"?k:R)}const D={x:c.x+S.x,y:c.y+S.y},z={x:u.x+N.x,y:u.y+N.y},L=Math.max(Math.abs(D.x-y[0].x),Math.abs(z.x-y[0].x)),F=Math.max(Math.abs(D.y-y[0].y),Math.abs(z.y-y[0].y));L>=F?(v=(D.x+z.x)/2,x=y[0].y):(v=y[0].x,x=(D.y+z.y)/2)}return[[e,{x:c.x+S.x,y:c.y+S.y},...y,{x:u.x+N.x,y:u.y+N.y},n],v,x,j,A]}function HIe(e,t,n,r){const i=Math.min(r8(e,t)/2,r8(t,n)/2,r),{x:s,y:o}=t;if(e.x===s&&s===n.x||e.y===o&&o===n.y)return`L${s} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${s+i*u},${o}Q ${s},${o} ${s},${o+i*f}`}const a=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${s},${o+i*c}Q ${s},${o} ${s+i*a},${o}`}function Bj({sourceX:e,sourceY:t,sourcePosition:n=st.Bottom,targetX:r,targetY:i,targetPosition:s=st.Top,borderRadius:o=5,centerX:a,centerY:c,offset:u=20}){const[f,m,p,y,v]=qIe({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:c},offset:u});return[f.reduce((S,N,_)=>{let C="";return _>0&&_<f.length-1?C=HIe(f[_-1],N,f[_+1],o):C=`${_===0?"M":"L"}${N.x} ${N.y}`,S+=C,S},""),m,p,y,v]}function i8(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function WIe(e){var m;const{sourceNode:t,targetNode:n}=e;if(!i8(t)||!i8(n))return null;const r=t.internals.handleBounds||s8(t.handles),i=n.internals.handleBounds||s8(n.handles),s=o8((r==null?void 0:r.source)??[],e.sourceHandle),o=o8(e.connectionMode===Wh.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!s||!o)return(m=e.onError)==null||m.call(e,"008",Fo.error008(s?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(s==null?void 0:s.position)||st.Bottom,c=(o==null?void 0:o.position)||st.Top,u=_y(t,s,a),f=_y(n,o,c);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:a,targetPosition:c}}function s8(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function _y(e,t,n=st.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,s=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:o,height:a}=t??dl(e);if(r)return{x:i+o/2,y:s+a/2};switch((t==null?void 0:t.position)??n){case st.Top:return{x:i+o/2,y:s};case st.Right:return{x:i+o,y:s+a/2};case st.Bottom:return{x:i+o/2,y:s+a};case st.Left:return{x:i,y:s+a/2}}}function o8(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function zj(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function GIe(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return e.reduce((o,a)=>([a.markerStart||r,a.markerEnd||i].forEach(c=>{if(c&&typeof c=="object"){const u=zj(c,t);s.has(u)||(o.push({id:u,color:c.color||n,...c}),s.add(u))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))}const Y4={nodeOrigin:[0,0],nodeExtent:Sy,elevateNodesOnSelect:!0,defaults:{}},JIe={...Y4,checkEquality:!0};function X4(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function YIe(e,t,n){const r=X4(Y4,n);for(const i of e.values())if(i.parentId)K4(i,e,t,r);else{const s=j0(i,r.nodeOrigin),o=Yh(i.extent)?i.extent:r.nodeExtent,a=yd(s,o,dl(i));i.internals.positionAbsolute=a}}function Vj(e,t,n,r){var a,c;const i=X4(JIe,r),s=new Map(t),o=i!=null&&i.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const u of e){let f=s.get(u.id);if(i.checkEquality&&u===(f==null?void 0:f.internals.userNode))t.set(u.id,f);else{const m=j0(u,i.nodeOrigin),p=Yh(u.extent)?u.extent:i.nodeExtent,y=yd(m,p,dl(u));f={...i.defaults,...u,measured:{width:(a=u.measured)==null?void 0:a.width,height:(c=u.measured)==null?void 0:c.height},internals:{positionAbsolute:y,handleBounds:u.measured?f==null?void 0:f.internals.handleBounds:void 0,z:tY(u,o),userNode:u}},t.set(u.id,f)}u.parentId&&K4(f,t,n,r)}}function XIe(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function K4(e,t,n,r){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:o}=X4(Y4,r),a=e.parentId,c=t.get(a);if(!c){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}XIe(e,n);const u=i?1e3:0,{x:f,y:m,z:p}=KIe(e,c,s,o,u),{positionAbsolute:y}=e.internals,v=f!==y.x||m!==y.y;(v||p!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:v?{x:f,y:m}:y,z:p}})}function tY(e,t){return(Ks(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function KIe(e,t,n,r,i){const{x:s,y:o}=t.internals.positionAbsolute,a=dl(e),c=j0(e,n),u=Yh(e.extent)?yd(c,e.extent,a):c;let f=yd({x:s+u.x,y:o+u.y},r,a);e.extent==="parent"&&(f=VJ(f,a,t));const m=tY(e,i),p=t.internals.z??0;return{x:f.x,y:f.y,z:p>m?p:m}}function Q4(e,t,n,r=[0,0]){var o;const i=[],s=new Map;for(const a of e){const c=t.get(a.parentId);if(!c)continue;const u=((o=s.get(a.parentId))==null?void 0:o.expandedRect)??Jh(c),f=qJ(u,a.rect);s.set(a.parentId,{expandedRect:f,parent:c})}return s.size>0&&s.forEach(({expandedRect:a,parent:c},u)=>{var C;const f=c.internals.positionAbsolute,m=dl(c),p=c.origin??r,y=a.x<f.x?Math.round(Math.abs(f.x-a.x)):0,v=a.y<f.y?Math.round(Math.abs(f.y-a.y)):0,x=Math.max(m.width,Math.round(a.width)),S=Math.max(m.height,Math.round(a.height)),N=(x-m.width)*p[0],_=(S-m.height)*p[1];(y>0||v>0||N||_)&&(i.push({id:u,type:"position",position:{x:c.position.x-y+N,y:c.position.y-v+_}}),(C=n.get(u))==null||C.forEach(j=>{e.some(A=>A.id===j.id)||i.push({id:j.id,type:"position",position:{x:j.position.x+y,y:j.position.y+v}})})),(m.width<a.width||m.height<a.height||y||v)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:x+(y?p[0]*y-N:0),height:S+(v?p[1]*v-_:0)}})}),i}function QIe(e,t,n,r,i,s){const o=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!o)return{changes:[],updatedInternals:a};const c=[],u=window.getComputedStyle(o),{m22:f}=new window.DOMMatrixReadOnly(u.transform),m=[];for(const p of e.values()){const y=t.get(p.id);if(!y)continue;if(y.hidden){t.set(y.id,{...y,internals:{...y.internals,handleBounds:void 0}}),a=!0;continue}const v=HS(p.nodeElement),x=y.measured.width!==v.width||y.measured.height!==v.height;if(!!(v.width&&v.height&&(x||!y.internals.handleBounds||p.force))){const N=p.nodeElement.getBoundingClientRect(),_=Yh(y.extent)?y.extent:s;let{positionAbsolute:C}=y.internals;y.parentId&&y.extent==="parent"?C=VJ(C,v,t.get(y.parentId)):_&&(C=yd(C,_,v));const j={...y,measured:v,internals:{...y.internals,positionAbsolute:C,handleBounds:{source:e8("source",p.nodeElement,N,f,y.id),target:e8("target",p.nodeElement,N,f,y.id)}}};t.set(y.id,j),y.parentId&&K4(j,t,n,{nodeOrigin:i}),a=!0,x&&(c.push({id:y.id,type:"dimensions",dimensions:v}),y.expandParent&&y.parentId&&m.push({id:y.id,parentId:y.parentId,rect:Jh(j,i)}))}}if(m.length>0){const p=Q4(m,t,n,i);c.push(...p)}return{changes:c,updatedInternals:a}}async function ZIe({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:s}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const o=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,s]],r),a=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(a)}function a8(e,t,n,r,i,s){let o=i;const a=r.get(o)||new Map;r.set(o,a.set(n,t)),o=`${i}-${e}`;const c=r.get(o)||new Map;if(r.set(o,c.set(n,t)),s){o=`${i}-${e}-${s}`;const u=r.get(o)||new Map;r.set(o,u.set(n,t))}}function nY(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:a=null}=r,c={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:a},u=`${i}-${o}--${s}-${a}`,f=`${s}-${a}--${i}-${o}`;a8("source",c,f,e,i,o),a8("target",c,u,e,s,a),t.set(r.id,r)}}function rY(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:rY(n,t):!1}function l8(e,t,n){var i;let r=e;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function ePe(e,t,n,r){const i=new Map;for(const[s,o]of e)if((o.selected||o.id===r)&&(!o.parentId||!rY(o,e))&&(o.draggable||t&&typeof o.draggable>"u")){const a=e.get(s);a&&i.set(s,{id:s,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function lC({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var o,a,c;const i=[];for(const[u,f]of t){const m=(o=n.get(u))==null?void 0:o.internals.userNode;m&&i.push({...m,position:f.position,dragging:r})}if(!e)return[i[0],i];const s=(a=n.get(e))==null?void 0:a.internals.userNode;return[s?{...s,position:((c=t.get(e))==null?void 0:c.position)||s.position,dragging:r}:i[0],i]}function tPe({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,a=new Map,c=!1,u={x:0,y:0},f=null,m=!1,p=null,y=!1;function v({noDragClassName:S,handleSelector:N,domNode:_,isSelectable:C,nodeId:j,nodeClickDistance:A=0}){p=$i(_);function $({x:z,y:L},F){const{nodeLookup:H,nodeExtent:M,snapGrid:V,snapToGrid:T,nodeOrigin:I,onNodeDrag:P,onSelectionDrag:W,onError:B,updateNodePositions:q}=t();s={x:z,y:L};let X=!1,Q={x:0,y:0,x2:0,y2:0};if(a.size>1&&M){const ie=A0(a);Q=Lj(ie)}for(const[ie,ae]of a){if(!H.has(ie))continue;let fe={x:z-ae.distance.x,y:L-ae.distance.y};T&&(fe=qS(fe,V));let ce=[[M[0][0],M[0][1]],[M[1][0],M[1][1]]];if(a.size>1&&M&&!ae.extent){const{positionAbsolute:Ae}=ae.internals,Ce=Ae.x-Q.x+M[0][0],Ee=Ae.x+ae.measured.width-Q.x2+M[1][0],Re=Ae.y-Q.y+M[0][1],ke=Ae.y+ae.measured.height-Q.y2+M[1][1];ce=[[Ce,Re],[Ee,ke]]}const{position:he,positionAbsolute:ve}=zJ({nodeId:ie,nextPosition:fe,nodeLookup:H,nodeExtent:ce,nodeOrigin:I,onError:B});X=X||ae.position.x!==he.x||ae.position.y!==he.y,ae.position=he,ae.internals.positionAbsolute=ve}if(X&&(q(a,!0),F&&(r||P||!j&&W))){const[ie,ae]=lC({nodeId:j,dragItems:a,nodeLookup:H});r==null||r(F,a,ie,ae),P==null||P(F,ie,ae),j||W==null||W(F,ae)}}async function k(){if(!f)return;const{transform:z,panBy:L,autoPanSpeed:F,autoPanOnNodeDrag:H}=t();if(!H){c=!1,cancelAnimationFrame(o);return}const[M,V]=UJ(u,f,F);(M!==0||V!==0)&&(s.x=(s.x??0)-M/z[2],s.y=(s.y??0)-V/z[2],await L({x:M,y:V})&&$(s,null)),o=requestAnimationFrame(k)}function R(z){var X;const{nodeLookup:L,multiSelectionActive:F,nodesDraggable:H,transform:M,snapGrid:V,snapToGrid:T,selectNodesOnDrag:I,onNodeDragStart:P,onSelectionDragStart:W,unselectNodesAndEdges:B}=t();m=!0,(!I||!C)&&!F&&j&&((X=L.get(j))!=null&&X.selected||B()),C&&I&&j&&(e==null||e(j));const q=jg(z.sourceEvent,{transform:M,snapGrid:V,snapToGrid:T,containerBounds:f});if(s=q,a=ePe(L,H,q,j),a.size>0&&(n||P||!j&&W)){const[Q,ie]=lC({nodeId:j,dragItems:a,nodeLookup:L});n==null||n(z.sourceEvent,a,Q,ie),P==null||P(z.sourceEvent,Q,ie),j||W==null||W(z.sourceEvent,ie)}}const D=xJ().clickDistance(A).on("start",z=>{const{domNode:L,nodeDragThreshold:F,transform:H,snapGrid:M,snapToGrid:V}=t();f=(L==null?void 0:L.getBoundingClientRect())||null,y=!1,F===0&&R(z),s=jg(z.sourceEvent,{transform:H,snapGrid:M,snapToGrid:V,containerBounds:f}),u=Fa(z.sourceEvent,f)}).on("drag",z=>{const{autoPanOnNodeDrag:L,transform:F,snapGrid:H,snapToGrid:M,nodeDragThreshold:V,nodeLookup:T}=t(),I=jg(z.sourceEvent,{transform:F,snapGrid:H,snapToGrid:M,containerBounds:f});if((z.sourceEvent.type==="touchmove"&&z.sourceEvent.touches.length>1||j&&!T.has(j))&&(y=!0),!y){if(!c&&L&&m&&(c=!0,k()),!m){const P=I.xSnapped-(s.x??0),W=I.ySnapped-(s.y??0);Math.sqrt(P*P+W*W)>V&&R(z)}(s.x!==I.xSnapped||s.y!==I.ySnapped)&&a&&m&&(u=Fa(z.sourceEvent,f),$(I,z.sourceEvent))}}).on("end",z=>{if(!(!m||y)&&(c=!1,m=!1,cancelAnimationFrame(o),a.size>0)){const{nodeLookup:L,updateNodePositions:F,onNodeDragStop:H,onSelectionDragStop:M}=t();if(F(a,!1),i||H||!j&&M){const[V,T]=lC({nodeId:j,dragItems:a,nodeLookup:L,dragging:!1});i==null||i(z.sourceEvent,a,V,T),H==null||H(z.sourceEvent,V,T),j||M==null||M(z.sourceEvent,T)}}}).filter(z=>{const L=z.target;return!z.button&&(!S||!l8(L,`.${S}`,_))&&(!N||l8(L,N,_))});p.call(D)}function x(){p==null||p.on(".drag",null)}return{update:v,destroy:x}}function nPe(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const s of t.values())Ny(i,Jh(s))>0&&r.push(s);return r}const rPe=250;function iPe(e,t,n,r){var a,c;let i=[],s=1/0;const o=nPe(e,n,t+rPe);for(const u of o){const f=[...((a=u.internals.handleBounds)==null?void 0:a.source)??[],...((c=u.internals.handleBounds)==null?void 0:c.target)??[]];for(const m of f){if(r.nodeId===m.nodeId&&r.type===m.type&&r.id===m.id)continue;const{x:p,y}=_y(u,m,m.position,!0),v=Math.sqrt(Math.pow(p-e.x,2)+Math.pow(y-e.y,2));v>t||(v<s?(i=[{...m,x:p,y}],s=v):v===s&&i.push({...m,x:p,y}))}}if(!i.length)return null;if(i.length>1){const u=r.type==="source"?"target":"source";return i.find(f=>f.type===u)??i[0]}return i[0]}function iY(e,t,n,r,i,s=!1){var u,f,m;const o=r.get(e);if(!o)return null;const a=i==="strict"?(u=o.internals.handleBounds)==null?void 0:u[t]:[...((f=o.internals.handleBounds)==null?void 0:f.source)??[],...((m=o.internals.handleBounds)==null?void 0:m.target)??[]],c=(n?a==null?void 0:a.find(p=>p.id===n):a==null?void 0:a[0])??null;return c&&s?{...c,..._y(o,c,c.position,!0)}:c}function sY(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function sPe(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const oY=()=>!0;function oPe(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:a,nodeLookup:c,lib:u,autoPanOnConnect:f,flowId:m,panBy:p,cancelConnection:y,onConnectStart:v,onConnect:x,onConnectEnd:S,isValidConnection:N=oY,onReconnectEnd:_,updateConnection:C,getTransform:j,getFromHandle:A,autoPanSpeed:$}){const k=JJ(e.target);let R=0,D;const{x:z,y:L}=Fa(e),F=k==null?void 0:k.elementFromPoint(z,L),H=sY(s,F),M=a==null?void 0:a.getBoundingClientRect();if(!M||!H)return;const V=iY(i,H,r,c,t);if(!V)return;let T=Fa(e,M),I=!1,P=null,W=!1,B=null;function q(){if(!f||!M)return;const[ve,Ae]=UJ(T,M,$);p({x:ve,y:Ae}),R=requestAnimationFrame(q)}const X={...V,nodeId:i,type:H,position:V.position},Q=c.get(i),ae={inProgress:!0,isValid:null,from:_y(Q,X,st.Left,!0),fromHandle:X,fromPosition:X.position,fromNode:Q,to:T,toHandle:null,toPosition:X9[X.position],toNode:null};C(ae);let fe=ae;v==null||v(e,{nodeId:i,handleId:r,handleType:H});function ce(ve){if(!A()||!X){he(ve);return}const Ae=j();T=Fa(ve,M),D=iPe(T0(T,Ae,!1,[1,1]),n,c,X),I||(q(),I=!0);const Ce=aY(ve,{handle:D,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:N,doc:k,lib:u,flowId:m,nodeLookup:c});B=Ce.handleDomNode,P=Ce.connection,W=sPe(!!D,Ce.isValid);const Ee={...fe,isValid:W,to:D&&W?HJ({x:D.x,y:D.y},Ae):T,toHandle:Ce.toHandle,toPosition:W&&Ce.toHandle?Ce.toHandle.position:X9[X.position],toNode:Ce.toHandle?c.get(Ce.toHandle.nodeId):null};W&&D&&fe.toHandle&&Ee.toHandle&&fe.toHandle.type===Ee.toHandle.type&&fe.toHandle.nodeId===Ee.toHandle.nodeId&&fe.toHandle.id===Ee.toHandle.id&&fe.to.x===Ee.to.x&&fe.to.y===Ee.to.y||(C(Ee),fe=Ee)}function he(ve){(D||B)&&P&&W&&(x==null||x(P));const{inProgress:Ae,...Ce}=fe,Ee={...Ce,toPosition:fe.toHandle?fe.toPosition:null};S==null||S(ve,Ee),s&&(_==null||_(ve,Ee)),y(),cancelAnimationFrame(R),I=!1,W=!1,P=null,B=null,k.removeEventListener("mousemove",ce),k.removeEventListener("mouseup",he),k.removeEventListener("touchmove",ce),k.removeEventListener("touchend",he)}k.addEventListener("mousemove",ce),k.addEventListener("mouseup",he),k.addEventListener("touchmove",ce),k.addEventListener("touchend",he)}function aY(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:a,flowId:c,isValidConnection:u=oY,nodeLookup:f}){const m=s==="target",p=t?o.querySelector(`.${a}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:y,y:v}=Fa(e),x=o.elementFromPoint(y,v),S=x!=null&&x.classList.contains(`${a}-flow__handle`)?x:p,N={handleDomNode:S,isValid:!1,connection:null,toHandle:null};if(S){const _=sY(void 0,S),C=S.getAttribute("data-nodeid"),j=S.getAttribute("data-handleid"),A=S.classList.contains("connectable"),$=S.classList.contains("connectableend");if(!C||!_)return N;const k={source:m?C:r,sourceHandle:m?j:i,target:m?r:C,targetHandle:m?i:j};N.connection=k;const D=A&&$&&(n===Wh.Strict?m&&_==="source"||!m&&_==="target":C!==r||j!==i);N.isValid=D&&u(k),N.toHandle=iY(C,_,j,f,n,!1)}return N}const Uj={onPointerDown:oPe,isValid:aY};function aPe({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const i=$i(e);function s({translateExtent:a,width:c,height:u,zoomStep:f=10,pannable:m=!0,zoomable:p=!0,inversePan:y=!1}){const v=C=>{const j=n();if(C.sourceEvent.type!=="wheel"||!t)return;const A=-C.sourceEvent.deltaY*(C.sourceEvent.deltaMode===1?.05:C.sourceEvent.deltaMode?1:.002)*f,$=j[2]*Math.pow(2,A);t.scaleTo($)};let x=[0,0];const S=C=>{(C.sourceEvent.type==="mousedown"||C.sourceEvent.type==="touchstart")&&(x=[C.sourceEvent.clientX??C.sourceEvent.touches[0].clientX,C.sourceEvent.clientY??C.sourceEvent.touches[0].clientY])},N=C=>{const j=n();if(C.sourceEvent.type!=="mousemove"&&C.sourceEvent.type!=="touchmove"||!t)return;const A=[C.sourceEvent.clientX??C.sourceEvent.touches[0].clientX,C.sourceEvent.clientY??C.sourceEvent.touches[0].clientY],$=[A[0]-x[0],A[1]-x[1]];x=A;const k=r()*Math.max(j[2],Math.log(j[2]))*(y?-1:1),R={x:j[0]-$[0]*k,y:j[1]-$[1]*k},D=[[0,0],[c,u]];t.setViewportConstrained({x:R.x,y:R.y,zoom:j[2]},D,a)},_=IJ().on("start",S).on("zoom",m?N:null).on("zoom.wheel",p?v:null);i.call(_,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:Bs}}const lPe=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,WS=e=>({x:e.x,y:e.y,zoom:e.k}),cC=({x:e,y:t,zoom:n})=>zS.translate(e,t).scale(n),Hf=(e,t)=>e.target.closest(`.${t}`),lY=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),uC=(e,t=0,n=()=>{})=>{const r=typeof t=="number"&&t>0;return r||n(),r?e.transition().duration(t).on("end",n):e},cY=e=>{const t=e.ctrlKey&&kw()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function cPe({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:a,onPanZoom:c,onPanZoomEnd:u}){return f=>{if(Hf(f,t))return!1;f.preventDefault(),f.stopImmediatePropagation();const m=n.property("__zoom").k||1;if(f.ctrlKey&&o){const S=Bs(f),N=cY(f),_=m*Math.pow(2,N);r.scaleTo(n,_,S,f);return}const p=f.deltaMode===1?20:1;let y=i===nd.Vertical?0:f.deltaX*p,v=i===nd.Horizontal?0:f.deltaY*p;!kw()&&f.shiftKey&&i!==nd.Vertical&&(y=f.deltaY*p,v=0),r.translateBy(n,-(y/m)*s,-(v/m)*s,{internal:!0});const x=WS(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,a==null||a(f,x)),e.isPanScrolling&&(c==null||c(f,x),e.panScrollTimeout=setTimeout(()=>{u==null||u(f,x),e.isPanScrolling=!1},150))}}function uPe({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){if(!t&&r.type==="wheel"&&!r.ctrlKey||Hf(r,e))return null;r.preventDefault(),n.call(this,r,i)}}function dPe({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var s,o,a;if((s=r.sourceEvent)!=null&&s.internal)return;const i=WS(r.transform);e.mouseButton=((o=r.sourceEvent)==null?void 0:o.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,i))}}function fPe({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{var o,a;e.usedRightMouseButton=!!(n&&lY(t,e.mouseButton??0)),(o=s.sourceEvent)!=null&&o.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!((a=s.sourceEvent)!=null&&a.internal)&&(i==null||i(s.sourceEvent,WS(s.transform)))}}function hPe({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{var a;if(!((a=o.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,s&&lY(t,e.mouseButton??0)&&!e.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),e.usedRightMouseButton=!1,r(!1),i&&lPe(e.prevViewport,o.transform))){const c=WS(o.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(o.sourceEvent,c)},n?150:0)}}}function mPe({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:a,noPanClassName:c,lib:u}){return f=>{var v;const m=e||t,p=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(Hf(f,`${u}-flow__node`)||Hf(f,`${u}-flow__edge`)))return!0;if(!r&&!m&&!i&&!s&&!n||o||Hf(f,a)&&f.type==="wheel"||Hf(f,c)&&(f.type!=="wheel"||i&&f.type==="wheel"&&!e)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&((v=f.touches)==null?void 0:v.length)>1)return f.preventDefault(),!1;if(!m&&!i&&!p&&f.type==="wheel"||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const y=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&y}}function pPe({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:o,onPanZoomStart:a,onPanZoomEnd:c,onDraggingChange:u}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=e.getBoundingClientRect(),p=IJ().clickDistance(!Ks(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(i),y=$i(e).call(p);C({x:s.x,y:s.y,zoom:Gh(s.zoom,t,n)},[[0,0],[m.width,m.height]],i);const v=y.on("wheel.zoom"),x=y.on("dblclick.zoom");p.wheelDelta(cY);function S(F,H){return y?new Promise(M=>{p==null||p.transform(uC(y,H==null?void 0:H.duration,()=>M(!0)),F)}):Promise.resolve(!1)}function N({noWheelClassName:F,noPanClassName:H,onPaneContextMenu:M,userSelectionActive:V,panOnScroll:T,panOnDrag:I,panOnScrollMode:P,panOnScrollSpeed:W,preventScrolling:B,zoomOnPinch:q,zoomOnScroll:X,zoomOnDoubleClick:Q,zoomActivationKeyPressed:ie,lib:ae,onTransformChange:fe}){V&&!f.isZoomingOrPanning&&_();const he=T&&!ie&&!V?cPe({zoomPanValues:f,noWheelClassName:F,d3Selection:y,d3Zoom:p,panOnScrollMode:P,panOnScrollSpeed:W,zoomOnPinch:q,onPanZoomStart:a,onPanZoom:o,onPanZoomEnd:c}):uPe({noWheelClassName:F,preventScrolling:B,d3ZoomHandler:v});if(y.on("wheel.zoom",he,{passive:!1}),!V){const Ae=dPe({zoomPanValues:f,onDraggingChange:u,onPanZoomStart:a});p.on("start",Ae);const Ce=fPe({zoomPanValues:f,panOnDrag:I,onPaneContextMenu:!!M,onPanZoom:o,onTransformChange:fe});p.on("zoom",Ce);const Ee=hPe({zoomPanValues:f,panOnDrag:I,panOnScroll:T,onPaneContextMenu:M,onPanZoomEnd:c,onDraggingChange:u});p.on("end",Ee)}const ve=mPe({zoomActivationKeyPressed:ie,panOnDrag:I,zoomOnScroll:X,panOnScroll:T,zoomOnDoubleClick:Q,zoomOnPinch:q,userSelectionActive:V,noPanClassName:H,noWheelClassName:F,lib:ae});p.filter(ve),Q?y.on("dblclick.zoom",x):y.on("dblclick.zoom",null)}function _(){p.on("zoom",null)}async function C(F,H,M){const V=cC(F),T=p==null?void 0:p.constrain()(V,H,M);return T&&await S(T),new Promise(I=>I(T))}async function j(F,H){const M=cC(F);return await S(M,H),new Promise(V=>V(M))}function A(F){if(y){const H=cC(F),M=y.property("__zoom");(M.k!==F.zoom||M.x!==F.x||M.y!==F.y)&&(p==null||p.transform(y,H,null,{sync:!0}))}}function $(){const F=y?MJ(y.node()):{x:0,y:0,k:1};return{x:F.x,y:F.y,zoom:F.k}}function k(F,H){return y?new Promise(M=>{p==null||p.scaleTo(uC(y,H==null?void 0:H.duration,()=>M(!0)),F)}):Promise.resolve(!1)}function R(F,H){return y?new Promise(M=>{p==null||p.scaleBy(uC(y,H==null?void 0:H.duration,()=>M(!0)),F)}):Promise.resolve(!1)}function D(F){p==null||p.scaleExtent(F)}function z(F){p==null||p.translateExtent(F)}function L(F){const H=!Ks(F)||F<0?0:F;p==null||p.clickDistance(H)}return{update:N,destroy:_,setViewport:j,setViewportConstrained:C,getViewport:$,scaleTo:k,scaleBy:R,setScaleExtent:D,setTranslateExtent:z,syncViewport:A,setClickDistance:L}}var Ag;(function(e){e.Line="line",e.Handle="handle"})(Ag||(Ag={}));function gPe({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:s}){const o=e-t,a=n-r,c=[o>0?1:o<0?-1:0,a>0?1:a<0?-1:0];return o&&i&&(c[0]=c[0]*-1),a&&s&&(c[1]=c[1]*-1),c}function yPe(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function Hl(e,t){return Math.max(0,t-e)}function Wl(e,t){return Math.max(0,e-t)}function kv(e,t,n){return Math.max(0,t-e,e-n)}function c8(e,t){return e?!t:t}function bPe(e,t,n,r,i,s,o,a){let{affectsX:c,affectsY:u}=t;const{isHorizontal:f,isVertical:m}=t,p=f&&m,{xSnapped:y,ySnapped:v}=n,{minWidth:x,maxWidth:S,minHeight:N,maxHeight:_}=r,{x:C,y:j,width:A,height:$,aspectRatio:k}=e;let R=Math.floor(f?y-e.pointerX:0),D=Math.floor(m?v-e.pointerY:0);const z=A+(c?-R:R),L=$+(u?-D:D),F=-s[0]*A,H=-s[1]*$;let M=kv(z,x,S),V=kv(L,N,_);if(o){let P=0,W=0;c&&R<0?P=Hl(C+R+F,o[0][0]):!c&&R>0&&(P=Wl(C+z+F,o[1][0])),u&&D<0?W=Hl(j+D+H,o[0][1]):!u&&D>0&&(W=Wl(j+L+H,o[1][1])),M=Math.max(M,P),V=Math.max(V,W)}if(a){let P=0,W=0;c&&R>0?P=Wl(C+R,a[0][0]):!c&&R<0&&(P=Hl(C+z,a[1][0])),u&&D>0?W=Wl(j+D,a[0][1]):!u&&D<0&&(W=Hl(j+L,a[1][1])),M=Math.max(M,P),V=Math.max(V,W)}if(i){if(f){const P=kv(z/k,N,_)*k;if(M=Math.max(M,P),o){let W=0;!c&&!u||c&&!u&&p?W=Wl(j+H+z/k,o[1][1])*k:W=Hl(j+H+(c?R:-R)/k,o[0][1])*k,M=Math.max(M,W)}if(a){let W=0;!c&&!u||c&&!u&&p?W=Hl(j+z/k,a[1][1])*k:W=Wl(j+(c?R:-R)/k,a[0][1])*k,M=Math.max(M,W)}}if(m){const P=kv(L*k,x,S)/k;if(V=Math.max(V,P),o){let W=0;!c&&!u||u&&!c&&p?W=Wl(C+L*k+F,o[1][0])/k:W=Hl(C+(u?D:-D)*k+F,o[0][0])/k,V=Math.max(V,W)}if(a){let W=0;!c&&!u||u&&!c&&p?W=Hl(C+L*k,a[1][0])/k:W=Wl(C+(u?D:-D)*k,a[0][0])/k,V=Math.max(V,W)}}}D=D+(D<0?V:-V),R=R+(R<0?M:-M),i&&(p?z>L*k?D=(c8(c,u)?-R:R)/k:R=(c8(c,u)?-D:D)*k:f?(D=R/k,u=c):(R=D*k,c=u));const T=c?C+R:C,I=u?j+D:j;return{width:A+(c?-R:R),height:$+(u?-D:D),x:s[0]*R*(c?-1:1)+T,y:s[1]*D*(u?-1:1)+I}}const uY={width:0,height:0,x:0,y:0},vPe={...uY,pointerX:0,pointerY:0,aspectRatio:1};function xPe(e){return[[0,0],[e.measured.width,e.measured.height]]}function wPe(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,s=e.measured.width??0,o=e.measured.height??0,a=n[0]*s,c=n[1]*o;return[[r-a,i-c],[r+s-a,i+o-c]]}function SPe({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const s=$i(e);function o({controlPosition:c,boundaries:u,keepAspectRatio:f,onResizeStart:m,onResize:p,onResizeEnd:y,shouldResize:v}){let x={...uY},S={...vPe};const N=yPe(c);let _,C=null,j=[],A,$,k;const R=xJ().on("start",D=>{const{nodeLookup:z,transform:L,snapGrid:F,snapToGrid:H,nodeOrigin:M,paneDomNode:V}=n();if(_=z.get(t),!_)return;C=(V==null?void 0:V.getBoundingClientRect())??null;const{xSnapped:T,ySnapped:I}=jg(D.sourceEvent,{transform:L,snapGrid:F,snapToGrid:H,containerBounds:C});x={width:_.measured.width??0,height:_.measured.height??0,x:_.position.x??0,y:_.position.y??0},S={...x,pointerX:T,pointerY:I,aspectRatio:x.width/x.height},A=void 0,_.parentId&&(_.extent==="parent"||_.expandParent)&&(A=z.get(_.parentId),$=A&&_.extent==="parent"?xPe(A):void 0),j=[],k=void 0;for(const[P,W]of z)if(W.parentId===t&&(j.push({id:P,position:{...W.position},extent:W.extent}),W.extent==="parent"||W.expandParent)){const B=wPe(W,_,W.origin??M);k?k=[[Math.min(B[0][0],k[0][0]),Math.min(B[0][1],k[0][1])],[Math.max(B[1][0],k[1][0]),Math.max(B[1][1],k[1][1])]]:k=B}m==null||m(D,{...x})}).on("drag",D=>{const{transform:z,snapGrid:L,snapToGrid:F,nodeOrigin:H}=n(),M=jg(D.sourceEvent,{transform:z,snapGrid:L,snapToGrid:F,containerBounds:C}),V=[];if(!_)return;const{x:T,y:I,width:P,height:W}=x,B={},q=_.origin??H,{width:X,height:Q,x:ie,y:ae}=bPe(S,N,M,u,f,q,$,k),fe=X!==P,ce=Q!==W,he=ie!==T&&fe,ve=ae!==I&&ce;if(!he&&!ve&&!fe&&!ce)return;if((he||ve||q[0]===1||q[1]===1)&&(B.x=he?ie:x.x,B.y=ve?ae:x.y,x.x=B.x,x.y=B.y,j.length>0)){const Re=ie-T,ke=ae-I;for(const We of j)We.position={x:We.position.x-Re+q[0]*(X-P),y:We.position.y-ke+q[1]*(Q-W)},V.push(We)}if((fe||ce)&&(B.width=fe?X:x.width,B.height=ce?Q:x.height,x.width=B.width,x.height=B.height),A&&_.expandParent){const Re=q[0]*(B.width??0);B.x&&B.x<Re&&(x.x=Re,S.x=S.x-(B.x-Re));const ke=q[1]*(B.height??0);B.y&&B.y<ke&&(x.y=ke,S.y=S.y-(B.y-ke))}const Ae=gPe({width:x.width,prevWidth:P,height:x.height,prevHeight:W,affectsX:N.affectsX,affectsY:N.affectsY}),Ce={...x,direction:Ae};(v==null?void 0:v(D,Ce))!==!1&&(p==null||p(D,Ce),r(B,V))}).on("end",D=>{y==null||y(D,{...x}),i==null||i()});s.call(R)}function a(){s.on(".drag",null)}return{update:o,destroy:a}}const{useDebugValue:EPe}=je,{useSyncExternalStoreWithSelector:NPe}=fq,_Pe=e=>e;function dY(e,t=_Pe,n){const r=NPe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return EPe(r),r}const u8=(e,t)=>{const n=C$(e),r=(i,s=t)=>dY(n,i,s);return Object.assign(r,n),r},CPe=(e,t)=>e?u8(e,t):u8;function Nn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const GS=w.createContext(null),OPe=GS.Provider,fY=Fo.error001();function kt(e,t){const n=w.useContext(GS);if(n===null)throw new Error(fY);return dY(n,e,t)}function xn(){const e=w.useContext(GS);if(e===null)throw new Error(fY);return w.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const d8={display:"none"},jPe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},hY="react-flow__node-desc",mY="react-flow__edge-desc",APe="react-flow__aria-live",TPe=e=>e.ariaLiveMessage;function $Pe({rfId:e}){const t=kt(TPe);return h.jsx("div",{id:`${APe}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:jPe,children:t})}function RPe({rfId:e,disableKeyboardA11y:t}){return h.jsxs(h.Fragment,{children:[h.jsxs("div",{id:`${hY}-${e}`,style:d8,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),h.jsx("div",{id:`${mY}-${e}`,style:d8,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&h.jsx($Pe,{rfId:e})]})}const kPe=e=>e.userSelectionActive?"none":"all",Xh=w.forwardRef(({position:e="top-left",children:t,className:n,style:r,...i},s)=>{const o=kt(kPe),a=`${e}`.split("-");return h.jsx("div",{className:Yn(["react-flow__panel",n,...a]),style:{...r,pointerEvents:o},ref:s,...i,children:t})});Xh.displayName="Panel";function MPe({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:h.jsx(Xh,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:h.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const IPe=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Mv=e=>e.id;function PPe(e,t){return Nn(e.selectedNodes.map(Mv),t.selectedNodes.map(Mv))&&Nn(e.selectedEdges.map(Mv),t.selectedEdges.map(Mv))}function DPe({onSelectionChange:e}){const t=xn(),{selectedNodes:n,selectedEdges:r}=kt(IPe,PPe);return w.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,e]),null}const LPe=e=>!!e.onSelectionChangeHandlers;function FPe({onSelectionChange:e}){const t=kt(LPe);return e||t?h.jsx(DPe,{onSelectionChange:e}):null}const pY=[0,0],BPe={x:0,y:0,zoom:1},zPe=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],f8=[...zPe,"rfId"],VPe=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),h8={translateExtent:Sy,nodeOrigin:pY,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function UPe(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:a,setDefaultNodesAndEdges:c,setPaneClickDistance:u}=kt(VPe,Nn),f=xn();w.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{m.current=h8,a()}),[]);const m=w.useRef(h8);return w.useEffect(()=>{for(const p of f8){const y=e[p],v=m.current[p];y!==v&&(typeof e[p]>"u"||(p==="nodes"?t(y):p==="edges"?n(y):p==="minZoom"?r(y):p==="maxZoom"?i(y):p==="translateExtent"?s(y):p==="nodeExtent"?o(y):p==="paneClickDistance"?u(y):p==="fitView"?f.setState({fitViewOnInit:y}):p==="fitViewOptions"?f.setState({fitViewOnInitOptions:y}):f.setState({[p]:y})))}m.current=e},f8.map(p=>e[p])),null}function m8(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function qPe(e){var r;const[t,n]=w.useState(e==="system"?null:e);return w.useEffect(()=>{if(e!=="system"){n(e);return}const i=m8(),s=()=>n(i!=null&&i.matches?"dark":"light");return s(),i==null||i.addEventListener("change",s),()=>{i==null||i.removeEventListener("change",s)}},[e]),t!==null?t:(r=m8())!=null&&r.matches?"dark":"light"}const p8=typeof document<"u"?document:null;function Cy(e=null,t={target:p8,actInsideInputWithModifier:!0}){const[n,r]=w.useState(!1),i=w.useRef(!1),s=w.useRef(new Set([])),[o,a]=w.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(m=>typeof m=="string").map(m=>m.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=u.reduce((m,p)=>m.concat(...p),[]);return[u,f]}return[[],[]]},[e]);return w.useEffect(()=>{const c=(t==null?void 0:t.target)||p8;if(e!==null){const u=p=>{if(i.current=p.ctrlKey||p.metaKey||p.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&Fj(p))return!1;const v=y8(p.code,a);s.current.add(p[v]),g8(o,s.current,!1)&&(p.preventDefault(),r(!0))},f=p=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&Fj(p))return!1;const v=y8(p.code,a);g8(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(p[v]),p.key==="Meta"&&s.current.clear(),i.current=!1},m=()=>{s.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",u),c==null||c.addEventListener("keyup",f),window.addEventListener("blur",m),window.addEventListener("contextmenu",m),()=>{c==null||c.removeEventListener("keydown",u),c==null||c.removeEventListener("keyup",f),window.removeEventListener("blur",m),window.removeEventListener("contextmenu",m)}}},[e,r]),n}function g8(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function y8(e,t){return t.includes(e)?"code":"key"}const HPe=()=>{const e=xn();return w.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,i,s],panZoom:o}=e.getState();return o?(await o.setViewport({x:t.x??r,y:t.y??i,zoom:t.zoom??s},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},fitView:t=>{const{nodeLookup:n,minZoom:r,maxZoom:i,panZoom:s,domNode:o}=e.getState();if(!s||!o)return Promise.resolve(!1);const a=Pj(n,t),{width:c,height:u}=HS(o);return Dj({nodes:a,width:c,height:u,minZoom:r,maxZoom:i,panZoom:s},t)},setCenter:async(t,n,r)=>{const{width:i,height:s,maxZoom:o,panZoom:a}=e.getState(),c=typeof(r==null?void 0:r.zoom)<"u"?r.zoom:o,u=i/2-t*c,f=s/2-n*c;return a?(await a.setViewport({x:u,y:f,zoom:c},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:a}=e.getState(),c=J4(t,r,i,s,o,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(c,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:i,snapToGrid:s,domNode:o}=e.getState();if(!o)return t;const{x:a,y:c}=o.getBoundingClientRect(),u={x:t.x-a,y:t.y-c},f=n.snapGrid??i,m=n.snapToGrid??s;return T0(u,r,m,f)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:i,y:s}=r.getBoundingClientRect(),o=HJ(t,n);return{x:o.x+i,y:o.y+s}}}),[])};function gY(e,t){const n=[],r=new Map,i=[];for(const s of e)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of t){const o=r.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const a={...s};for(const c of o)WPe(c,a);n.push(a)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function WPe(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&(t.width=e.dimensions.width,t.height=e.dimensions.height)),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function yY(e,t){return gY(e,t)}function bY(e,t){return gY(e,t)}function Au(e,t){return{id:e,type:"select",selected:t}}function Wf(e,t=new Set,n=!1){const r=[];for(const[i,s]of e){const o=t.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),r.push(Au(s.id,o)))}return r}function b8({items:e=[],lookup:t}){var i;const n=[],r=new Map(e.map(s=>[s.id,s]));for(const[s,o]of e.entries()){const a=t.get(o.id),c=((i=a==null?void 0:a.internals)==null?void 0:i.userNode)??a;c!==void 0&&c!==o&&n.push({id:o.id,item:o,type:"replace"}),c===void 0&&n.push({item:o,type:"add",index:s})}for(const[s]of t)r.get(s)===void 0&&n.push({id:s,type:"remove"});return n}function v8(e){return{id:e.id,type:"remove"}}const x8=e=>kIe(e),GPe=e=>FJ(e);function vY(e){return w.forwardRef(e)}const JPe=typeof window<"u"?w.useLayoutEffect:w.useEffect;function w8(e){const[t,n]=w.useState(BigInt(0)),[r]=w.useState(()=>YPe(()=>n(i=>i+BigInt(1))));return JPe(()=>{const i=r.get();i.length&&(e(i),r.reset())},[t]),r}function YPe(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const xY=w.createContext(null);function XPe({children:e}){const t=xn(),n=w.useCallback(a=>{const{nodes:c=[],setNodes:u,hasDefaultNodes:f,onNodesChange:m,nodeLookup:p}=t.getState();let y=c;for(const v of a)y=typeof v=="function"?v(y):v;f?u(y):m&&m(b8({items:y,lookup:p}))},[]),r=w8(n),i=w.useCallback(a=>{const{edges:c=[],setEdges:u,hasDefaultEdges:f,onEdgesChange:m,edgeLookup:p}=t.getState();let y=c;for(const v of a)y=typeof v=="function"?v(y):v;f?u(y):m&&m(b8({items:y,lookup:p}))},[]),s=w8(i),o=w.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return h.jsx(xY.Provider,{value:o,children:e})}function KPe(){const e=w.useContext(xY);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const QPe=e=>!!e.panZoom;function $m(){const e=HPe(),t=xn(),n=KPe(),r=kt(QPe),i=w.useMemo(()=>{const s=m=>t.getState().nodeLookup.get(m),o=m=>{n.nodeQueue.push(m)},a=m=>{n.edgeQueue.push(m)},c=m=>{var N,_;const{nodeLookup:p,nodeOrigin:y}=t.getState(),v=x8(m)?m:p.get(m.id),x=v.parentId?GJ(v.position,v.measured,v.parentId,p,y):v.position,S={...v,position:x,width:((N=v.measured)==null?void 0:N.width)??v.width,height:((_=v.measured)==null?void 0:_.height)??v.height};return Jh(S)},u=(m,p,y={replace:!1})=>{o(v=>v.map(x=>{if(x.id===m){const S=typeof p=="function"?p(x):p;return y.replace&&x8(S)?S:{...x,...S}}return x}))},f=(m,p,y={replace:!1})=>{a(v=>v.map(x=>{if(x.id===m){const S=typeof p=="function"?p(x):p;return y.replace&&GPe(S)?S:{...x,...S}}return x}))};return{getNodes:()=>t.getState().nodes.map(m=>({...m})),getNode:m=>{var p;return(p=s(m))==null?void 0:p.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:m=[]}=t.getState();return m.map(p=>({...p}))},getEdge:m=>t.getState().edgeLookup.get(m),setNodes:o,setEdges:a,addNodes:m=>{const p=Array.isArray(m)?m:[m];n.nodeQueue.push(y=>[...y,...p])},addEdges:m=>{const p=Array.isArray(m)?m:[m];n.edgeQueue.push(y=>[...y,...p])},toObject:()=>{const{nodes:m=[],edges:p=[],transform:y}=t.getState(),[v,x,S]=y;return{nodes:m.map(N=>({...N})),edges:p.map(N=>({...N})),viewport:{x:v,y:x,zoom:S}}},deleteElements:async({nodes:m=[],edges:p=[]})=>{const{nodes:y,edges:v,onNodesDelete:x,onEdgesDelete:S,triggerNodeChanges:N,triggerEdgeChanges:_,onDelete:C,onBeforeDelete:j}=t.getState(),{nodes:A,edges:$}=await PIe({nodesToRemove:m,edgesToRemove:p,nodes:y,edges:v,onBeforeDelete:j}),k=$.length>0,R=A.length>0;if(k){const D=$.map(v8);S==null||S($),_(D)}if(R){const D=A.map(v8);x==null||x(A),N(D)}return(R||k)&&(C==null||C({nodes:A,edges:$})),{deletedNodes:A,deletedEdges:$}},getIntersectingNodes:(m,p=!0,y)=>{const v=Q9(m),x=v?m:c(m),S=y!==void 0;return x?(y||t.getState().nodes).filter(N=>{const _=t.getState().nodeLookup.get(N.id);if(_&&!v&&(N.id===m.id||!_.internals.positionAbsolute))return!1;const C=Jh(S?N:_),j=Ny(C,x);return p&&j>0||j>=x.width*x.height}):[]},isNodeIntersecting:(m,p,y=!0)=>{const x=Q9(m)?m:c(m);if(!x)return!1;const S=Ny(x,p);return y&&S>0||S>=x.width*x.height},updateNode:u,updateNodeData:(m,p,y={replace:!1})=>{u(m,v=>{const x=typeof p=="function"?p(v):p;return y.replace?{...v,data:x}:{...v,data:{...v.data,...x}}},y)},updateEdge:f,updateEdgeData:(m,p,y={replace:!1})=>{f(m,v=>{const x=typeof p=="function"?p(v):p;return y.replace?{...v,data:x}:{...v,data:{...v.data,...x}}},y)},getNodesBounds:m=>{const{nodeLookup:p,nodeOrigin:y}=t.getState();return MIe(m,{nodeLookup:p,nodeOrigin:y})},getHandleConnections:({type:m,id:p,nodeId:y})=>{var v;return Array.from(((v=t.getState().connectionLookup.get(`${y}-${m}${p?`-${p}`:""}`))==null?void 0:v.values())??[])},getNodeConnections:({type:m,handleId:p,nodeId:y})=>{var v;return Array.from(((v=t.getState().connectionLookup.get(`${y}${m?p?`-${m}-${p}`:`-${m}`:""}`))==null?void 0:v.values())??[])}}},[]);return w.useMemo(()=>({...i,...e,viewportInitialized:r}),[r])}const S8=e=>e.selected,ZPe={actInsideInputWithModifier:!1},eDe=typeof window<"u"?window:void 0;function tDe({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=xn(),{deleteElements:r}=$m(),i=Cy(e,ZPe),s=Cy(t,{target:eDe});w.useEffect(()=>{if(i){const{edges:o,nodes:a}=n.getState();r({nodes:a.filter(S8),edges:o.filter(S8)}),n.setState({nodesSelectionActive:!1})}},[i]),w.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function nDe(e){const t=xn();w.useEffect(()=>{const n=()=>{var i,s;if(!e.current)return!1;const r=HS(e.current);(r.height===0||r.width===0)&&((s=(i=t.getState()).onError)==null||s.call(i,"004",Fo.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const JS={position:"absolute",width:"100%",height:"100%",top:0,left:0},rDe=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function iDe({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=nd.Free,zoomOnDoubleClick:o=!0,panOnDrag:a=!0,defaultViewport:c,translateExtent:u,minZoom:f,maxZoom:m,zoomActivationKeyCode:p,preventScrolling:y=!0,children:v,noWheelClassName:x,noPanClassName:S,onViewportChange:N,isControlledViewport:_,paneClickDistance:C}){const j=xn(),A=w.useRef(null),{userSelectionActive:$,lib:k}=kt(rDe,Nn),R=Cy(p),D=w.useRef();nDe(A);const z=w.useCallback(L=>{N==null||N({x:L[0],y:L[1],zoom:L[2]}),_||j.setState({transform:L})},[N,_]);return w.useEffect(()=>{if(A.current){D.current=pPe({domNode:A.current,minZoom:f,maxZoom:m,translateExtent:u,viewport:c,paneClickDistance:C,onDraggingChange:M=>j.setState({paneDragging:M}),onPanZoomStart:(M,V)=>{const{onViewportChangeStart:T,onMoveStart:I}=j.getState();I==null||I(M,V),T==null||T(V)},onPanZoom:(M,V)=>{const{onViewportChange:T,onMove:I}=j.getState();I==null||I(M,V),T==null||T(V)},onPanZoomEnd:(M,V)=>{const{onViewportChangeEnd:T,onMoveEnd:I}=j.getState();I==null||I(M,V),T==null||T(V)}});const{x:L,y:F,zoom:H}=D.current.getViewport();return j.setState({panZoom:D.current,transform:[L,F,H],domNode:A.current.closest(".react-flow")}),()=>{var M;(M=D.current)==null||M.destroy()}}},[]),w.useEffect(()=>{var L;(L=D.current)==null||L.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:a,zoomActivationKeyPressed:R,preventScrolling:y,noPanClassName:S,userSelectionActive:$,noWheelClassName:x,lib:k,onTransformChange:z})},[e,t,n,r,i,s,o,a,R,y,S,$,x,k,z]),h.jsx("div",{className:"react-flow__renderer",ref:A,style:JS,children:v})}const sDe=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function oDe(){const{userSelectionActive:e,userSelectionRect:t}=kt(sDe,Nn);return e&&t?h.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const dC=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},aDe=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging});function lDe({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Ey.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:o,onPaneClick:a,onPaneContextMenu:c,onPaneScroll:u,onPaneMouseEnter:f,onPaneMouseMove:m,onPaneMouseLeave:p,children:y}){const v=xn(),{userSelectionActive:x,elementsSelectable:S,dragging:N}=kt(aDe,Nn),_=S&&(e||x),C=w.useRef(null),j=w.useRef(),A=w.useRef(new Set),$=w.useRef(new Set),k=w.useRef(!1),R=w.useRef(!1),D=T=>{if(k.current){k.current=!1;return}a==null||a(T),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},z=T=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){T.preventDefault();return}c==null||c(T)},L=u?T=>u(T):void 0,F=T=>{var q,X;const{resetSelectedElements:I,domNode:P}=v.getState();if(j.current=P==null?void 0:P.getBoundingClientRect(),!S||!e||T.button!==0||T.target!==C.current||!j.current)return;(X=(q=T.target)==null?void 0:q.setPointerCapture)==null||X.call(q,T.pointerId),R.current=!0,k.current=!1;const{x:W,y:B}=Fa(T.nativeEvent,j.current);I(),v.setState({userSelectionRect:{width:0,height:0,startX:W,startY:B,x:W,y:B}}),s==null||s(T)},H=T=>{const{userSelectionRect:I,transform:P,nodeLookup:W,edgeLookup:B,connectionLookup:q,triggerNodeChanges:X,triggerEdgeChanges:Q,defaultEdgeOptions:ie}=v.getState();if(!j.current||!I)return;k.current=!0;const{x:ae,y:fe}=Fa(T.nativeEvent,j.current),{startX:ce,startY:he}=I,ve={startX:ce,startY:he,x:ae<ce?ae:ce,y:fe<he?fe:he,width:Math.abs(ae-ce),height:Math.abs(fe-he)},Ae=A.current,Ce=$.current;A.current=new Set(BJ(W,ve,P,n===Ey.Partial,!0).map(Re=>Re.id)),$.current=new Set;const Ee=(ie==null?void 0:ie.selectable)??!0;for(const Re of A.current){const ke=q.get(Re);if(ke)for(const{edgeId:We}of ke.values()){const et=B.get(We);et&&(et.selectable??Ee)&&$.current.add(We)}}if(!Z9(Ae,A.current)){const Re=Wf(W,A.current,!0);X(Re)}if(!Z9(Ce,$.current)){const Re=Wf(B,$.current);Q(Re)}v.setState({userSelectionRect:ve,userSelectionActive:!0,nodesSelectionActive:!1})},M=T=>{var P,W;if(T.button!==0||!R.current)return;(W=(P=T.target)==null?void 0:P.releasePointerCapture)==null||W.call(P,T.pointerId);const{userSelectionRect:I}=v.getState();!x&&I&&T.target===C.current&&(D==null||D(T)),v.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:A.current.size>0}),o==null||o(T),(t||i)&&(k.current=!1),R.current=!1},V=r===!0||Array.isArray(r)&&r.includes(0);return h.jsxs("div",{className:Yn(["react-flow__pane",{draggable:V,dragging:N,selection:e}]),onClick:_?void 0:dC(D,C),onContextMenu:dC(z,C),onWheel:dC(L,C),onPointerEnter:_?void 0:f,onPointerDown:_?F:m,onPointerMove:_?H:m,onPointerUp:_?M:void 0,onPointerLeave:p,ref:C,style:JS,children:[y,h.jsx(oDe,{})]})}function qj({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:a,onError:c}=t.getState(),u=a.get(e);if(!u){c==null||c("012",Fo.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):i([e])}function wY({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const a=xn(),[c,u]=w.useState(!1),f=w.useRef();return w.useEffect(()=>{f.current=tPe({getStoreItems:()=>a.getState(),onNodeMouseDown:m=>{qj({id:m,store:a,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),w.useEffect(()=>{var m,p;if(t)(m=f.current)==null||m.destroy();else if(e.current)return(p=f.current)==null||p.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{var y;(y=f.current)==null||y.destroy()}},[n,r,t,s,e,i]),c}const cDe=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function SY(){const e=xn();return w.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:a,updateNodePositions:c,nodeLookup:u,nodeOrigin:f}=e.getState(),m=new Map,p=cDe(o),y=i?s[0]:5,v=i?s[1]:5,x=n.direction.x*y*n.factor,S=n.direction.y*v*n.factor;for(const[,N]of u){if(!p(N))continue;let _={x:N.internals.positionAbsolute.x+x,y:N.internals.positionAbsolute.y+S};i&&(_=qS(_,s));const{position:C,positionAbsolute:j}=zJ({nodeId:N.id,nextPosition:_,nodeLookup:u,nodeExtent:r,nodeOrigin:f,onError:a});N.position=C,N.internals.positionAbsolute=j,m.set(N.id,N)}c(m)},[])}const Z4=w.createContext(null),uDe=Z4.Provider;Z4.Consumer;const EY=()=>w.useContext(Z4),dDe=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),fDe=(e,t,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:a,toHandle:c,isValid:u}=o,f=(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,connectingTo:f,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.id)===t&&(i==null?void 0:i.type)===n,isPossibleEndHandle:s===Wh.Strict?(a==null?void 0:a.type)!==n:e!==(a==null?void 0:a.nodeId)||t!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:f&&u}};function hDe({type:e="source",position:t=st.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:c,className:u,onMouseDown:f,onTouchStart:m,...p},y){var V,T;const v=o||null,x=e==="target",S=xn(),N=EY(),{connectOnClick:_,noPanClassName:C,rfId:j}=kt(dDe,Nn),{connectingFrom:A,connectingTo:$,clickConnecting:k,isPossibleEndHandle:R,connectionInProcess:D,clickConnectionInProcess:z,valid:L}=kt(fDe(N,v,e),Nn);N||(T=(V=S.getState()).onError)==null||T.call(V,"010",Fo.error010());const F=I=>{const{defaultEdgeOptions:P,onConnect:W,hasDefaultEdges:B}=S.getState(),q={...P,...I};if(B){const{edges:X,setEdges:Q}=S.getState();Q(ZJ(q,X))}W==null||W(q),a==null||a(q)},H=I=>{if(!N)return;const P=YJ(I.nativeEvent);if(i&&(P&&I.button===0||!P)){const W=S.getState();Uj.onPointerDown(I.nativeEvent,{autoPanOnConnect:W.autoPanOnConnect,connectionMode:W.connectionMode,connectionRadius:W.connectionRadius,domNode:W.domNode,nodeLookup:W.nodeLookup,lib:W.lib,isTarget:x,handleId:v,nodeId:N,flowId:W.rfId,panBy:W.panBy,cancelConnection:W.cancelConnection,onConnectStart:W.onConnectStart,onConnectEnd:W.onConnectEnd,updateConnection:W.updateConnection,onConnect:F,isValidConnection:n||W.isValidConnection,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,autoPanSpeed:W.autoPanSpeed})}P?f==null||f(I):m==null||m(I)},M=I=>{const{onClickConnectStart:P,onClickConnectEnd:W,connectionClickStartHandle:B,connectionMode:q,isValidConnection:X,lib:Q,rfId:ie,nodeLookup:ae,connection:fe}=S.getState();if(!N||!B&&!i)return;if(!B){P==null||P(I.nativeEvent,{nodeId:N,handleId:v,handleType:e}),S.setState({connectionClickStartHandle:{nodeId:N,type:e,id:v}});return}const ce=JJ(I.target),he=n||X,{connection:ve,isValid:Ae}=Uj.isValid(I.nativeEvent,{handle:{nodeId:N,id:v,type:e},connectionMode:q,fromNodeId:B.nodeId,fromHandleId:B.id||null,fromType:B.type,isValidConnection:he,flowId:ie,doc:ce,lib:Q,nodeLookup:ae});Ae&&ve&&F(ve);const Ce=structuredClone(fe);delete Ce.inProgress,Ce.toPosition=Ce.toHandle?Ce.toHandle.position:null,W==null||W(I,Ce),S.setState({connectionClickStartHandle:null})};return h.jsx("div",{"data-handleid":v,"data-nodeid":N,"data-handlepos":t,"data-id":`${j}-${N}-${v}-${e}`,className:Yn(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",C,u,{source:!x,target:x,connectable:r,connectablestart:i,connectableend:s,clickconnecting:k,connectingfrom:A,connectingto:$,valid:L,connectionindicator:r&&(!D||R)&&(D||z?s:i)}]),onMouseDown:H,onTouchStart:H,onClick:_?M:void 0,ref:y,...p,children:c})}const Oy=w.memo(vY(hDe));function mDe({data:e,isConnectable:t,sourcePosition:n=st.Bottom}){return h.jsxs(h.Fragment,{children:[e==null?void 0:e.label,h.jsx(Oy,{type:"source",position:n,isConnectable:t})]})}function pDe({data:e,isConnectable:t,targetPosition:n=st.Top,sourcePosition:r=st.Bottom}){return h.jsxs(h.Fragment,{children:[h.jsx(Oy,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,h.jsx(Oy,{type:"source",position:r,isConnectable:t})]})}function gDe(){return null}function yDe({data:e,isConnectable:t,targetPosition:n=st.Top}){return h.jsxs(h.Fragment,{children:[h.jsx(Oy,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Mw={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},E8={input:mDe,default:pDe,output:yDe,group:gDe};function bDe(e){var t,n,r,i;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((i=e.style)==null?void 0:i.height)}}const vDe=e=>{const{width:t,height:n,x:r,y:i}=A0(e.nodeLookup,{filter:s=>!!s.selected});return{width:Ks(t)?t:null,height:Ks(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${i}px)`}};function xDe({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=xn(),{width:i,height:s,transformString:o,userSelectionActive:a}=kt(vDe,Nn),c=SY(),u=w.useRef(null);if(w.useEffect(()=>{var p;n||(p=u.current)==null||p.focus({preventScroll:!0})},[n]),wY({nodeRef:u}),a||!i||!s)return null;const f=e?p=>{const y=r.getState().nodes.filter(v=>v.selected);e(p,y)}:void 0,m=p=>{Object.prototype.hasOwnProperty.call(Mw,p.key)&&(p.preventDefault(),c({direction:Mw[p.key],factor:p.shiftKey?4:1}))};return h.jsx("div",{className:Yn(["react-flow__nodesselection","react-flow__container",t]),style:{transform:o},children:h.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:i,height:s}})})}const N8=typeof window<"u"?window:void 0,wDe=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function NY({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:a,deleteKeyCode:c,selectionKeyCode:u,selectionOnDrag:f,selectionMode:m,onSelectionStart:p,onSelectionEnd:y,multiSelectionKeyCode:v,panActivationKeyCode:x,zoomActivationKeyCode:S,elementsSelectable:N,zoomOnScroll:_,zoomOnPinch:C,panOnScroll:j,panOnScrollSpeed:A,panOnScrollMode:$,zoomOnDoubleClick:k,panOnDrag:R,defaultViewport:D,translateExtent:z,minZoom:L,maxZoom:F,preventScrolling:H,onSelectionContextMenu:M,noWheelClassName:V,noPanClassName:T,disableKeyboardA11y:I,onViewportChange:P,isControlledViewport:W}){const{nodesSelectionActive:B,userSelectionActive:q}=kt(wDe),X=Cy(u,{target:N8}),Q=Cy(x,{target:N8}),ie=Q||R,ae=Q||j,fe=f&&ie!==!0,ce=X||q||fe;return tDe({deleteKeyCode:c,multiSelectionKeyCode:v}),h.jsx(iDe,{onPaneContextMenu:s,elementsSelectable:N,zoomOnScroll:_,zoomOnPinch:C,panOnScroll:ae,panOnScrollSpeed:A,panOnScrollMode:$,zoomOnDoubleClick:k,panOnDrag:!X&&ie,defaultViewport:D,translateExtent:z,minZoom:L,maxZoom:F,zoomActivationKeyCode:S,preventScrolling:H,noWheelClassName:V,noPanClassName:T,onViewportChange:P,isControlledViewport:W,paneClickDistance:a,children:h.jsxs(lDe,{onSelectionStart:p,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:ie,isSelecting:!!ce,selectionMode:m,selectionKeyPressed:X,selectionOnDrag:fe,children:[e,B&&h.jsx(xDe,{onSelectionContextMenu:M,noPanClassName:T,disableKeyboardA11y:I})]})})}NY.displayName="FlowRenderer";const SDe=w.memo(NY),EDe=e=>t=>e?BJ(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function NDe(e){return kt(w.useCallback(EDe(e),[e]),Nn)}const _De=e=>e.updateNodeInternals;function CDe(){const e=kt(_De),[t]=w.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),e(r)}));return w.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function ODe({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const i=xn(),s=w.useRef(null),o=w.useRef(null),a=w.useRef(e.sourcePosition),c=w.useRef(e.targetPosition),u=w.useRef(t),f=n&&!!e.internals.handleBounds;return w.useEffect(()=>{s.current&&!e.hidden&&(!f||o.current!==s.current)&&(o.current&&(r==null||r.unobserve(o.current)),r==null||r.observe(s.current),o.current=s.current)},[f,e.hidden]),w.useEffect(()=>()=>{o.current&&(r==null||r.unobserve(o.current),o.current=null)},[]),w.useEffect(()=>{if(s.current){const m=u.current!==t,p=a.current!==e.sourcePosition,y=c.current!==e.targetPosition;(m||p||y)&&(u.current=t,a.current=e.sourcePosition,c.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:s.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),s}function jDe({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:a,elementsSelectable:c,nodesConnectable:u,nodesFocusable:f,resizeObserver:m,noDragClassName:p,noPanClassName:y,disableKeyboardA11y:v,rfId:x,nodeTypes:S,nodeClickDistance:N,onError:_}){const{node:C,internals:j,isParent:A}=kt(ce=>{const he=ce.nodeLookup.get(e),ve=ce.parentLookup.has(e);return{node:he,internals:he.internals,isParent:ve}},Nn);let $=C.type||"default",k=(S==null?void 0:S[$])||E8[$];k===void 0&&(_==null||_("003",Fo.error003($)),$="default",k=E8.default);const R=!!(C.draggable||a&&typeof C.draggable>"u"),D=!!(C.selectable||c&&typeof C.selectable>"u"),z=!!(C.connectable||u&&typeof C.connectable>"u"),L=!!(C.focusable||f&&typeof C.focusable>"u"),F=xn(),H=WJ(C),M=ODe({node:C,nodeType:$,hasDimensions:H,resizeObserver:m}),V=wY({nodeRef:M,disabled:C.hidden||!R,noDragClassName:p,handleSelector:C.dragHandle,nodeId:e,isSelectable:D,nodeClickDistance:N}),T=SY();if(C.hidden)return null;const I=dl(C),P=bDe(C),W=D||R||t||n||r||i,B=n?ce=>n(ce,{...j.userNode}):void 0,q=r?ce=>r(ce,{...j.userNode}):void 0,X=i?ce=>i(ce,{...j.userNode}):void 0,Q=s?ce=>s(ce,{...j.userNode}):void 0,ie=o?ce=>o(ce,{...j.userNode}):void 0,ae=ce=>{const{selectNodesOnDrag:he,nodeDragThreshold:ve}=F.getState();D&&(!he||!R||ve>0)&&qj({id:e,store:F,nodeRef:M}),t&&t(ce,{...j.userNode})},fe=ce=>{if(!(Fj(ce.nativeEvent)||v))if(PJ.includes(ce.key)&&D){const he=ce.key==="Escape";qj({id:e,store:F,unselect:he,nodeRef:M})}else R&&C.selected&&Object.prototype.hasOwnProperty.call(Mw,ce.key)&&(ce.preventDefault(),F.setState({ariaLiveMessage:`Moved selected node ${ce.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~j.positionAbsolute.x}, y: ${~~j.positionAbsolute.y}`}),T({direction:Mw[ce.key],factor:ce.shiftKey?4:1}))};return h.jsx("div",{className:Yn(["react-flow__node",`react-flow__node-${$}`,{[y]:R},C.className,{selected:C.selected,selectable:D,parent:A,draggable:R,dragging:V}]),ref:M,style:{zIndex:j.z,transform:`translate(${j.positionAbsolute.x}px,${j.positionAbsolute.y}px)`,pointerEvents:W?"all":"none",visibility:H?"visible":"hidden",...C.style,...P},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:B,onMouseMove:q,onMouseLeave:X,onContextMenu:Q,onClick:ae,onDoubleClick:ie,onKeyDown:L?fe:void 0,tabIndex:L?0:void 0,role:L?"button":void 0,"aria-describedby":v?void 0:`${hY}-${x}`,"aria-label":C.ariaLabel,children:h.jsx(uDe,{value:e,children:h.jsx(k,{id:e,data:C.data,type:$,positionAbsoluteX:j.positionAbsolute.x,positionAbsoluteY:j.positionAbsolute.y,selected:C.selected??!1,selectable:D,draggable:R,deletable:C.deletable??!0,isConnectable:z,sourcePosition:C.sourcePosition,targetPosition:C.targetPosition,dragging:V,dragHandle:C.dragHandle,zIndex:j.z,parentId:C.parentId,...I})})})}const ADe=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function _Y(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=kt(ADe,Nn),o=NDe(e.onlyRenderVisibleElements),a=CDe();return h.jsx("div",{className:"react-flow__nodes",style:JS,children:o.map(c=>h.jsx(jDe,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:s},c))})}_Y.displayName="NodeRenderer";const TDe=w.memo(_Y);function $De(e){return kt(w.useCallback(n=>{if(!e)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),o=n.nodeLookup.get(i.target);s&&o&&BIe({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[e]),Nn)}const RDe=({color:e="none",strokeWidth:t=1})=>h.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),kDe=({color:e="none",strokeWidth:t=1})=>h.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),_8={[gd.Arrow]:RDe,[gd.ArrowClosed]:kDe};function MDe(e){const t=xn();return w.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(_8,e)?_8[e]:((s=(i=t.getState()).onError)==null||s.call(i,"009",Fo.error009(e)),null)},[e])}const IDe=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const c=MDe(t);return c?h.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0",children:h.jsx(c,{color:n,strokeWidth:o})}):null},CY=({defaultColor:e,rfId:t})=>{const n=kt(s=>s.edges),r=kt(s=>s.defaultEdgeOptions),i=w.useMemo(()=>GIe(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return i.length?h.jsx("svg",{className:"react-flow__marker",children:h.jsx("defs",{children:i.map(s=>h.jsx(IDe,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};CY.displayName="MarkerDefinitions";var PDe=w.memo(CY);function OY({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:c,className:u,...f}){const[m,p]=w.useState({x:1,y:0,width:0,height:0}),y=Yn(["react-flow__edge-textwrapper",u]),v=w.useRef(null);return w.useEffect(()=>{if(v.current){const x=v.current.getBBox();p({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),typeof n>"u"||!n?null:h.jsxs("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:y,visibility:m.width?"visible":"hidden",...f,children:[i&&h.jsx("rect",{width:m.width+2*o[0],x:-o[0],y:-o[1],height:m.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),h.jsx("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:v,style:r,children:n}),c]})}OY.displayName="EdgeText";const DDe=w.memo(OY);function YS({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:c,interactionWidth:u=20,...f}){return h.jsxs(h.Fragment,{children:[h.jsx("path",{...f,d:e,fill:"none",className:Yn(["react-flow__edge-path",f.className])}),u&&h.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}),r&&Ks(t)&&Ks(n)?h.jsx(DDe,{x:t,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:c}):null]})}function C8({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===st.Left||e===st.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function jY({sourceX:e,sourceY:t,sourcePosition:n=st.Bottom,targetX:r,targetY:i,targetPosition:s=st.Top}){const[o,a]=C8({pos:n,x1:e,y1:t,x2:r,y2:i}),[c,u]=C8({pos:s,x1:r,y1:i,x2:e,y2:t}),[f,m,p,y]=XJ({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:c,targetControlY:u});return[`M${e},${t} C${o},${a} ${c},${u} ${r},${i}`,f,m,p,y]}function AY(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=st.Bottom,targetPosition:a=st.Top,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:m,labelBgPadding:p,labelBgBorderRadius:y,style:v,markerEnd:x,markerStart:S,interactionWidth:N})=>{const[_,C,j]=jY({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a}),A=e.isInternal?void 0:t;return h.jsx(YS,{id:A,path:_,labelX:C,labelY:j,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:m,labelBgPadding:p,labelBgBorderRadius:y,style:v,markerEnd:x,markerStart:S,interactionWidth:N})})}const LDe=AY({isInternal:!1}),TY=AY({isInternal:!0});LDe.displayName="SimpleBezierEdge";TY.displayName="SimpleBezierEdgeInternal";function $Y(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:m,style:p,sourcePosition:y=st.Bottom,targetPosition:v=st.Top,markerEnd:x,markerStart:S,pathOptions:N,interactionWidth:_})=>{const[C,j,A]=Bj({sourceX:n,sourceY:r,sourcePosition:y,targetX:i,targetY:s,targetPosition:v,borderRadius:N==null?void 0:N.borderRadius,offset:N==null?void 0:N.offset}),$=e.isInternal?void 0:t;return h.jsx(YS,{id:$,path:C,labelX:j,labelY:A,label:o,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:m,style:p,markerEnd:x,markerStart:S,interactionWidth:_})})}const RY=$Y({isInternal:!1}),kY=$Y({isInternal:!0});RY.displayName="SmoothStepEdge";kY.displayName="SmoothStepEdgeInternal";function MY(e){return w.memo(({id:t,...n})=>{var i;const r=e.isInternal?void 0:t;return h.jsx(RY,{...n,id:r,pathOptions:w.useMemo(()=>{var s;return{borderRadius:0,offset:(s=n.pathOptions)==null?void 0:s.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const FDe=MY({isInternal:!1}),IY=MY({isInternal:!0});FDe.displayName="StepEdge";IY.displayName="StepEdgeInternal";function PY(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:m,style:p,markerEnd:y,markerStart:v,interactionWidth:x})=>{const[S,N,_]=eY({sourceX:n,sourceY:r,targetX:i,targetY:s}),C=e.isInternal?void 0:t;return h.jsx(YS,{id:C,path:S,labelX:N,labelY:_,label:o,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:m,style:p,markerEnd:y,markerStart:v,interactionWidth:x})})}const BDe=PY({isInternal:!1}),DY=PY({isInternal:!0});BDe.displayName="StraightEdge";DY.displayName="StraightEdgeInternal";function LY(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=st.Bottom,targetPosition:a=st.Top,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:m,labelBgPadding:p,labelBgBorderRadius:y,style:v,markerEnd:x,markerStart:S,pathOptions:N,interactionWidth:_})=>{const[C,j,A]=KJ({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a,curvature:N==null?void 0:N.curvature}),$=e.isInternal?void 0:t;return h.jsx(YS,{id:$,path:C,labelX:j,labelY:A,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:m,labelBgPadding:p,labelBgBorderRadius:y,style:v,markerEnd:x,markerStart:S,interactionWidth:_})})}const zDe=LY({isInternal:!1}),FY=LY({isInternal:!0});zDe.displayName="BezierEdge";FY.displayName="BezierEdgeInternal";const O8={default:FY,straight:DY,step:IY,smoothstep:kY,simplebezier:TY},j8={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},VDe=(e,t,n)=>n===st.Left?e-t:n===st.Right?e+t:e,UDe=(e,t,n)=>n===st.Top?e-t:n===st.Bottom?e+t:e,A8="react-flow__edgeupdater";function T8({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a}){return h.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:Yn([A8,`${A8}-${a}`]),cx:VDe(t,r,e),cy:UDe(n,r,e),r,stroke:"transparent",fill:"transparent"})}function qDe({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:a,targetPosition:c,onReconnect:u,onReconnectStart:f,onReconnectEnd:m,setReconnecting:p,setUpdateHover:y}){const v=xn(),x=(j,A)=>{if(j.button!==0)return;const{autoPanOnConnect:$,domNode:k,isValidConnection:R,connectionMode:D,connectionRadius:z,lib:L,onConnectStart:F,onConnectEnd:H,cancelConnection:M,nodeLookup:V,rfId:T,panBy:I,updateConnection:P}=v.getState(),W=A.type==="target";p(!0),f==null||f(j,n,A.type);const B=(X,Q)=>{p(!1),m==null||m(X,n,A.type,Q)},q=X=>u==null?void 0:u(n,X);Uj.onPointerDown(j.nativeEvent,{autoPanOnConnect:$,connectionMode:D,connectionRadius:z,domNode:k,handleId:A.id,nodeId:A.nodeId,nodeLookup:V,isTarget:W,edgeUpdaterType:A.type,lib:L,flowId:T,cancelConnection:M,panBy:I,isValidConnection:R,onConnect:q,onConnectStart:F,onConnectEnd:H,onReconnectEnd:B,updateConnection:P,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle})},S=j=>x(j,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),N=j=>x(j,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),_=()=>y(!0),C=()=>y(!1);return h.jsxs(h.Fragment,{children:[(e===!0||e==="source")&&h.jsx(T8,{position:a,centerX:r,centerY:i,radius:t,onMouseDown:S,onMouseEnter:_,onMouseOut:C,type:"source"}),(e===!0||e==="target")&&h.jsx(T8,{position:c,centerX:s,centerY:o,radius:t,onMouseDown:N,onMouseEnter:_,onMouseOut:C,type:"target"})]})}function HDe({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:a,onMouseMove:c,onMouseLeave:u,reconnectRadius:f,onReconnect:m,onReconnectStart:p,onReconnectEnd:y,rfId:v,edgeTypes:x,noPanClassName:S,onError:N,disableKeyboardA11y:_}){let C=kt(Ee=>Ee.edgeLookup.get(e));const j=kt(Ee=>Ee.defaultEdgeOptions);C=j?{...j,...C}:C;let A=C.type||"default",$=(x==null?void 0:x[A])||O8[A];$===void 0&&(N==null||N("011",Fo.error011(A)),A="default",$=O8.default);const k=!!(C.focusable||t&&typeof C.focusable>"u"),R=typeof m<"u"&&(C.reconnectable||n&&typeof C.reconnectable>"u"),D=!!(C.selectable||r&&typeof C.selectable>"u"),z=w.useRef(null),[L,F]=w.useState(!1),[H,M]=w.useState(!1),V=xn(),{zIndex:T,sourceX:I,sourceY:P,targetX:W,targetY:B,sourcePosition:q,targetPosition:X}=kt(w.useCallback(Ee=>{const Re=Ee.nodeLookup.get(C.source),ke=Ee.nodeLookup.get(C.target);if(!Re||!ke)return{zIndex:C.zIndex,...j8};const We=WIe({id:e,sourceNode:Re,targetNode:ke,sourceHandle:C.sourceHandle||null,targetHandle:C.targetHandle||null,connectionMode:Ee.connectionMode,onError:N});return{zIndex:FIe({selected:C.selected,zIndex:C.zIndex,sourceNode:Re,targetNode:ke,elevateOnSelect:Ee.elevateEdgesOnSelect}),...We||j8}},[C.source,C.target,C.sourceHandle,C.targetHandle,C.selected,C.zIndex]),Nn),Q=w.useMemo(()=>C.markerStart?`url('#${zj(C.markerStart,v)}')`:void 0,[C.markerStart,v]),ie=w.useMemo(()=>C.markerEnd?`url('#${zj(C.markerEnd,v)}')`:void 0,[C.markerEnd,v]);if(C.hidden||I===null||P===null||W===null||B===null)return null;const ae=Ee=>{var et;const{addSelectedEdges:Re,unselectNodesAndEdges:ke,multiSelectionActive:We}=V.getState();D&&(V.setState({nodesSelectionActive:!1}),C.selected&&We?(ke({nodes:[],edges:[C]}),(et=z.current)==null||et.blur()):Re([e])),i&&i(Ee,C)},fe=s?Ee=>{s(Ee,{...C})}:void 0,ce=o?Ee=>{o(Ee,{...C})}:void 0,he=a?Ee=>{a(Ee,{...C})}:void 0,ve=c?Ee=>{c(Ee,{...C})}:void 0,Ae=u?Ee=>{u(Ee,{...C})}:void 0,Ce=Ee=>{var Re;if(!_&&PJ.includes(Ee.key)&&D){const{unselectNodesAndEdges:ke,addSelectedEdges:We}=V.getState();Ee.key==="Escape"?((Re=z.current)==null||Re.blur(),ke({edges:[C]})):We([e])}};return h.jsx("svg",{style:{zIndex:T},children:h.jsxs("g",{className:Yn(["react-flow__edge",`react-flow__edge-${A}`,C.className,S,{selected:C.selected,animated:C.animated,inactive:!D&&!i,updating:L,selectable:D}]),onClick:ae,onDoubleClick:fe,onContextMenu:ce,onMouseEnter:he,onMouseMove:ve,onMouseLeave:Ae,onKeyDown:k?Ce:void 0,tabIndex:k?0:void 0,role:k?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":C.ariaLabel===null?void 0:C.ariaLabel||`Edge from ${C.source} to ${C.target}`,"aria-describedby":k?`${mY}-${v}`:void 0,ref:z,children:[!H&&h.jsx($,{id:e,source:C.source,target:C.target,type:C.type,selected:C.selected,animated:C.animated,selectable:D,deletable:C.deletable??!0,label:C.label,labelStyle:C.labelStyle,labelShowBg:C.labelShowBg,labelBgStyle:C.labelBgStyle,labelBgPadding:C.labelBgPadding,labelBgBorderRadius:C.labelBgBorderRadius,sourceX:I,sourceY:P,targetX:W,targetY:B,sourcePosition:q,targetPosition:X,data:C.data,style:C.style,sourceHandleId:C.sourceHandle,targetHandleId:C.targetHandle,markerStart:Q,markerEnd:ie,pathOptions:"pathOptions"in C?C.pathOptions:void 0,interactionWidth:C.interactionWidth}),R&&h.jsx(qDe,{edge:C,isReconnectable:R,reconnectRadius:f,onReconnect:m,onReconnectStart:p,onReconnectEnd:y,sourceX:I,sourceY:P,targetX:W,targetY:B,sourcePosition:q,targetPosition:X,setUpdateHover:F,setReconnecting:M})]})})}const WDe=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function BY({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:f,reconnectRadius:m,onEdgeDoubleClick:p,onReconnectStart:y,onReconnectEnd:v,disableKeyboardA11y:x}){const{edgesFocusable:S,edgesReconnectable:N,elementsSelectable:_,onError:C}=kt(WDe,Nn),j=$De(t);return h.jsxs("div",{className:"react-flow__edges",children:[h.jsx(PDe,{defaultColor:e,rfId:n}),j.map(A=>h.jsx(HDe,{id:A,edgesFocusable:S,edgesReconnectable:N,elementsSelectable:_,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:a,onMouseMove:c,onMouseLeave:u,onClick:f,reconnectRadius:m,onDoubleClick:p,onReconnectStart:y,onReconnectEnd:v,rfId:n,onError:C,edgeTypes:r,disableKeyboardA11y:x},A))]})}BY.displayName="EdgeRenderer";const GDe=w.memo(BY),JDe=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function YDe({children:e}){const t=kt(JDe);return h.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function XDe(e){const t=$m(),n=w.useRef(!1);w.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const KDe=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function QDe(e){const t=kt(KDe),n=xn();return w.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function ZDe(e){return e.connection.inProgress?{...e.connection,to:T0(e.connection.to,e.transform)}:{...e.connection}}function e9e(e){return ZDe}function t9e(e){const t=e9e();return kt(t,Nn)}const n9e=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function r9e({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:a,inProgress:c}=kt(n9e,Nn);return!(s&&i&&c)?null:h.jsx("svg",{style:e,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:h.jsx("g",{className:Yn(["react-flow__connection",LJ(a)]),children:h.jsx(zY,{style:t,type:n,CustomComponent:r,isValid:a})})})}const zY=({style:e,type:t=nc.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:a,fromPosition:c,to:u,toNode:f,toHandle:m,toPosition:p}=t9e();if(!i)return;if(n)return h.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:o,fromHandle:a,fromX:s.x,fromY:s.y,toX:u.x,toY:u.y,fromPosition:c,toPosition:p,connectionStatus:LJ(r),toNode:f,toHandle:m});let y="";const v={sourceX:s.x,sourceY:s.y,sourcePosition:c,targetX:u.x,targetY:u.y,targetPosition:p};switch(t){case nc.Bezier:[y]=KJ(v);break;case nc.SimpleBezier:[y]=jY(v);break;case nc.Step:[y]=Bj({...v,borderRadius:0});break;case nc.SmoothStep:[y]=Bj(v);break;default:[y]=eY(v)}return h.jsx("path",{d:y,fill:"none",className:"react-flow__connection-path",style:e})};zY.displayName="ConnectionLine";const i9e={};function $8(e=i9e){w.useRef(e),xn(),w.useEffect(()=>{},[e])}function s9e(){xn(),w.useRef(!1),w.useEffect(()=>{},[])}function VY({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:f,onSelectionContextMenu:m,onSelectionStart:p,onSelectionEnd:y,connectionLineType:v,connectionLineStyle:x,connectionLineComponent:S,connectionLineContainerStyle:N,selectionKeyCode:_,selectionOnDrag:C,selectionMode:j,multiSelectionKeyCode:A,panActivationKeyCode:$,zoomActivationKeyCode:k,deleteKeyCode:R,onlyRenderVisibleElements:D,elementsSelectable:z,defaultViewport:L,translateExtent:F,minZoom:H,maxZoom:M,preventScrolling:V,defaultMarkerColor:T,zoomOnScroll:I,zoomOnPinch:P,panOnScroll:W,panOnScrollSpeed:B,panOnScrollMode:q,zoomOnDoubleClick:X,panOnDrag:Q,onPaneClick:ie,onPaneMouseEnter:ae,onPaneMouseMove:fe,onPaneMouseLeave:ce,onPaneScroll:he,onPaneContextMenu:ve,paneClickDistance:Ae,nodeClickDistance:Ce,onEdgeContextMenu:Ee,onEdgeMouseEnter:Re,onEdgeMouseMove:ke,onEdgeMouseLeave:We,reconnectRadius:et,onReconnect:Oe,onReconnectStart:Ie,onReconnectEnd:Pe,noDragClassName:G,noWheelClassName:re,noPanClassName:te,disableKeyboardA11y:me,nodeExtent:se,rfId:ne,viewport:le,onViewportChange:xe}){return $8(e),$8(t),s9e(),XDe(n),QDe(le),h.jsx(SDe,{onPaneClick:ie,onPaneMouseEnter:ae,onPaneMouseMove:fe,onPaneMouseLeave:ce,onPaneContextMenu:ve,onPaneScroll:he,paneClickDistance:Ae,deleteKeyCode:R,selectionKeyCode:_,selectionOnDrag:C,selectionMode:j,onSelectionStart:p,onSelectionEnd:y,multiSelectionKeyCode:A,panActivationKeyCode:$,zoomActivationKeyCode:k,elementsSelectable:z,zoomOnScroll:I,zoomOnPinch:P,zoomOnDoubleClick:X,panOnScroll:W,panOnScrollSpeed:B,panOnScrollMode:q,panOnDrag:Q,defaultViewport:L,translateExtent:F,minZoom:H,maxZoom:M,onSelectionContextMenu:m,preventScrolling:V,noDragClassName:G,noWheelClassName:re,noPanClassName:te,disableKeyboardA11y:me,onViewportChange:xe,isControlledViewport:!!le,children:h.jsxs(YDe,{children:[h.jsx(GDe,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:Oe,onReconnectStart:Ie,onReconnectEnd:Pe,onlyRenderVisibleElements:D,onEdgeContextMenu:Ee,onEdgeMouseEnter:Re,onEdgeMouseMove:ke,onEdgeMouseLeave:We,reconnectRadius:et,defaultMarkerColor:T,noPanClassName:te,disableKeyboardA11y:me,rfId:ne}),h.jsx(r9e,{style:x,type:v,component:S,containerStyle:N}),h.jsx("div",{className:"react-flow__edgelabel-renderer"}),h.jsx(TDe,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:f,nodeClickDistance:Ce,onlyRenderVisibleElements:D,noPanClassName:te,noDragClassName:G,disableKeyboardA11y:me,nodeExtent:se,rfId:ne}),h.jsx("div",{className:"react-flow__viewport-portal"})]})})}VY.displayName="GraphView";const o9e=w.memo(VY),R8=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:a,nodeExtent:c}={})=>{const u=new Map,f=new Map,m=new Map,p=new Map,y=r??t??[],v=n??e??[],x=a??[0,0],S=c??Sy;nY(m,p,y),Vj(v,u,f,{nodeOrigin:x,nodeExtent:S,elevateNodesOnSelect:!1});let N=[0,0,1];if(o&&i&&s){const _=A0(u,{filter:$=>!!(($.width||$.initialWidth)&&($.height||$.initialHeight))}),{x:C,y:j,zoom:A}=J4(_,i,s,.5,2,.1);N=[C,j,A]}return{rfId:"1",width:0,height:0,transform:N,nodes:v,nodeLookup:u,parentLookup:f,edges:y,edgeLookup:p,connectionLookup:m,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:Sy,nodeExtent:S,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Wh.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:x,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...DJ},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:DIe,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},a9e=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:a,nodeExtent:c})=>CPe((u,f)=>({...R8({nodes:e,edges:t,width:i,height:s,fitView:o,nodeOrigin:a,nodeExtent:c,defaultNodes:n,defaultEdges:r}),setNodes:m=>{const{nodeLookup:p,parentLookup:y,nodeOrigin:v,elevateNodesOnSelect:x}=f();Vj(m,p,y,{nodeOrigin:v,nodeExtent:c,elevateNodesOnSelect:x,checkEquality:!0}),u({nodes:m})},setEdges:m=>{const{connectionLookup:p,edgeLookup:y}=f();nY(p,y,m),u({edges:m})},setDefaultNodesAndEdges:(m,p)=>{if(m){const{setNodes:y}=f();y(m),u({hasDefaultNodes:!0})}if(p){const{setEdges:y}=f();y(p),u({hasDefaultEdges:!0})}},updateNodeInternals:(m,p={triggerFitView:!0})=>{const{triggerNodeChanges:y,nodeLookup:v,parentLookup:x,fitViewOnInit:S,fitViewDone:N,fitViewOnInitOptions:_,domNode:C,nodeOrigin:j,nodeExtent:A,debug:$,fitViewSync:k}=f(),{changes:R,updatedInternals:D}=QIe(m,v,x,C,j,A);if(D){if(YIe(v,x,{nodeOrigin:j,nodeExtent:A}),p.triggerFitView){let z=N;!N&&S&&(z=k({..._,nodes:_==null?void 0:_.nodes})),u({fitViewDone:z})}else u({});(R==null?void 0:R.length)>0&&($&&console.log("React Flow: trigger node changes",R),y==null||y(R))}},updateNodePositions:(m,p=!1)=>{const y=[],v=[],{nodeLookup:x,triggerNodeChanges:S}=f();for(const[N,_]of m){const C=x.get(N),j=!!(C!=null&&C.expandParent&&(C!=null&&C.parentId)&&(_!=null&&_.position)),A={id:N,type:"position",position:j?{x:Math.max(0,_.position.x),y:Math.max(0,_.position.y)}:_.position,dragging:p};j&&C.parentId&&y.push({id:N,parentId:C.parentId,rect:{..._.internals.positionAbsolute,width:_.measured.width??0,height:_.measured.height??0}}),v.push(A)}if(y.length>0){const{parentLookup:N,nodeOrigin:_}=f(),C=Q4(y,x,N,_);v.push(...C)}S(v)},triggerNodeChanges:m=>{const{onNodesChange:p,setNodes:y,nodes:v,hasDefaultNodes:x,debug:S}=f();if(m!=null&&m.length){if(x){const N=yY(m,v);y(N)}S&&console.log("React Flow: trigger node changes",m),p==null||p(m)}},triggerEdgeChanges:m=>{const{onEdgesChange:p,setEdges:y,edges:v,hasDefaultEdges:x,debug:S}=f();if(m!=null&&m.length){if(x){const N=bY(m,v);y(N)}S&&console.log("React Flow: trigger edge changes",m),p==null||p(m)}},addSelectedNodes:m=>{const{multiSelectionActive:p,edgeLookup:y,nodeLookup:v,triggerNodeChanges:x,triggerEdgeChanges:S}=f();if(p){const N=m.map(_=>Au(_,!0));x(N);return}x(Wf(v,new Set([...m]),!0)),S(Wf(y))},addSelectedEdges:m=>{const{multiSelectionActive:p,edgeLookup:y,nodeLookup:v,triggerNodeChanges:x,triggerEdgeChanges:S}=f();if(p){const N=m.map(_=>Au(_,!0));S(N);return}S(Wf(y,new Set([...m]))),x(Wf(v,new Set,!0))},unselectNodesAndEdges:({nodes:m,edges:p}={})=>{const{edges:y,nodes:v,nodeLookup:x,triggerNodeChanges:S,triggerEdgeChanges:N}=f(),_=m||v,C=p||y,j=_.map($=>{const k=x.get($.id);return k&&(k.selected=!1),Au($.id,!1)}),A=C.map($=>Au($.id,!1));S(j),N(A)},setMinZoom:m=>{const{panZoom:p,maxZoom:y}=f();p==null||p.setScaleExtent([m,y]),u({minZoom:m})},setMaxZoom:m=>{const{panZoom:p,minZoom:y}=f();p==null||p.setScaleExtent([y,m]),u({maxZoom:m})},setTranslateExtent:m=>{var p;(p=f().panZoom)==null||p.setTranslateExtent(m),u({translateExtent:m})},setPaneClickDistance:m=>{var p;(p=f().panZoom)==null||p.setClickDistance(m)},resetSelectedElements:()=>{const{edges:m,nodes:p,triggerNodeChanges:y,triggerEdgeChanges:v}=f(),x=p.reduce((N,_)=>_.selected?[...N,Au(_.id,!1)]:N,[]),S=m.reduce((N,_)=>_.selected?[...N,Au(_.id,!1)]:N,[]);y(x),v(S)},setNodeExtent:m=>{const{nodes:p,nodeLookup:y,parentLookup:v,nodeOrigin:x,elevateNodesOnSelect:S,nodeExtent:N}=f();m[0][0]===N[0][0]&&m[0][1]===N[0][1]&&m[1][0]===N[1][0]&&m[1][1]===N[1][1]||(Vj(p,y,v,{nodeOrigin:x,nodeExtent:m,elevateNodesOnSelect:S,checkEquality:!1}),u({nodeExtent:m}))},panBy:m=>{const{transform:p,width:y,height:v,panZoom:x,translateExtent:S}=f();return ZIe({delta:m,panZoom:x,transform:p,translateExtent:S,width:y,height:v})},fitView:m=>{const{panZoom:p,width:y,height:v,minZoom:x,maxZoom:S,nodeLookup:N}=f();if(!p)return Promise.resolve(!1);const _=Pj(N,m);return Dj({nodes:_,width:y,height:v,panZoom:p,minZoom:x,maxZoom:S},m)},fitViewSync:m=>{const{panZoom:p,width:y,height:v,minZoom:x,maxZoom:S,nodeLookup:N}=f();if(!p)return!1;const _=Pj(N,m);return Dj({nodes:_,width:y,height:v,panZoom:p,minZoom:x,maxZoom:S},m),_.size>0},cancelConnection:()=>{u({connection:{...DJ}})},updateConnection:m=>{u({connection:m})},reset:()=>u({...R8()})}),Object.is);function UY({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,fitView:o,nodeOrigin:a,nodeExtent:c,children:u}){const[f]=w.useState(()=>a9e({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:a,nodeExtent:c}));return h.jsx(OPe,{value:f,children:h.jsx(XPe,{children:u})})}function l9e({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:a,nodeOrigin:c,nodeExtent:u}){return w.useContext(GS)?h.jsx(h.Fragment,{children:e}):h.jsx(UY,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:a,nodeOrigin:c,nodeExtent:u,children:e})}const c9e={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function u9e({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:a,onEdgeClick:c,onInit:u,onMove:f,onMoveStart:m,onMoveEnd:p,onConnect:y,onConnectStart:v,onConnectEnd:x,onClickConnectStart:S,onClickConnectEnd:N,onNodeMouseEnter:_,onNodeMouseMove:C,onNodeMouseLeave:j,onNodeContextMenu:A,onNodeDoubleClick:$,onNodeDragStart:k,onNodeDrag:R,onNodeDragStop:D,onNodesDelete:z,onEdgesDelete:L,onDelete:F,onSelectionChange:H,onSelectionDragStart:M,onSelectionDrag:V,onSelectionDragStop:T,onSelectionContextMenu:I,onSelectionStart:P,onSelectionEnd:W,onBeforeDelete:B,connectionMode:q,connectionLineType:X=nc.Bezier,connectionLineStyle:Q,connectionLineComponent:ie,connectionLineContainerStyle:ae,deleteKeyCode:fe="Backspace",selectionKeyCode:ce="Shift",selectionOnDrag:he=!1,selectionMode:ve=Ey.Full,panActivationKeyCode:Ae="Space",multiSelectionKeyCode:Ce=kw()?"Meta":"Control",zoomActivationKeyCode:Ee=kw()?"Meta":"Control",snapToGrid:Re,snapGrid:ke,onlyRenderVisibleElements:We=!1,selectNodesOnDrag:et,nodesDraggable:Oe,nodesConnectable:Ie,nodesFocusable:Pe,nodeOrigin:G=pY,edgesFocusable:re,edgesReconnectable:te,elementsSelectable:me=!0,defaultViewport:se=BPe,minZoom:ne=.5,maxZoom:le=2,translateExtent:xe=Sy,preventScrolling:Ne=!0,nodeExtent:Ge,defaultMarkerColor:Ut="#b1b1b7",zoomOnScroll:St=!0,zoomOnPinch:ho=!0,panOnScroll:qt=!1,panOnScrollSpeed:pn=.5,panOnScrollMode:fr=nd.Free,zoomOnDoubleClick:_s=!0,panOnDrag:Hi=!0,onPaneClick:mo,onPaneMouseEnter:Qc,onPaneMouseMove:$d,onPaneMouseLeave:fl,onPaneScroll:Wo,onPaneContextMenu:Wi,paneClickDistance:Zc=0,nodeClickDistance:Rm=0,children:eu,onReconnect:tu,onReconnectStart:gn,onReconnectEnd:Cs,onEdgeContextMenu:rr,onEdgeDoubleClick:ln,onEdgeMouseEnter:zn,onEdgeMouseMove:Os,onEdgeMouseLeave:hl,reconnectRadius:Rd=10,onNodesChange:km,onEdgesChange:kd,noDragClassName:Go="nodrag",noWheelClassName:nu="nowheel",noPanClassName:gt="nopan",fitView:kn,fitViewOptions:Sr,connectOnClick:Jo,attributionPosition:Vn,proOptions:R0,defaultEdgeOptions:k0,elevateNodesOnSelect:Yo,elevateEdgesOnSelect:ml,disableKeyboardA11y:M0=!1,autoPanOnConnect:I0,autoPanOnNodeDrag:P0,autoPanSpeed:XS,connectionRadius:Md,isValidConnection:Id,onError:js,style:Mm,id:Im,nodeDragThreshold:pl,viewport:Pm,onViewportChange:Dm,width:KS,height:D0,colorMode:Qr="light",debug:L0,onScroll:Pd,...Dd},F0){const gl=Im||"1",QS=qPe(Qr),Zr=w.useCallback(Ld=>{Ld.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Pd==null||Pd(Ld)},[Pd]);return h.jsx("div",{"data-testid":"rf__wrapper",...Dd,onScroll:Zr,style:{...Mm,...c9e},ref:F0,className:Yn(["react-flow",i,QS]),id:Im,children:h.jsxs(l9e,{nodes:e,edges:t,width:KS,height:D0,fitView:kn,nodeOrigin:G,nodeExtent:Ge,children:[h.jsx(o9e,{onInit:u,onNodeClick:a,onEdgeClick:c,onNodeMouseEnter:_,onNodeMouseMove:C,onNodeMouseLeave:j,onNodeContextMenu:A,onNodeDoubleClick:$,nodeTypes:s,edgeTypes:o,connectionLineType:X,connectionLineStyle:Q,connectionLineComponent:ie,connectionLineContainerStyle:ae,selectionKeyCode:ce,selectionOnDrag:he,selectionMode:ve,deleteKeyCode:fe,multiSelectionKeyCode:Ce,panActivationKeyCode:Ae,zoomActivationKeyCode:Ee,onlyRenderVisibleElements:We,defaultViewport:se,translateExtent:xe,minZoom:ne,maxZoom:le,preventScrolling:Ne,zoomOnScroll:St,zoomOnPinch:ho,zoomOnDoubleClick:_s,panOnScroll:qt,panOnScrollSpeed:pn,panOnScrollMode:fr,panOnDrag:Hi,onPaneClick:mo,onPaneMouseEnter:Qc,onPaneMouseMove:$d,onPaneMouseLeave:fl,onPaneScroll:Wo,onPaneContextMenu:Wi,paneClickDistance:Zc,nodeClickDistance:Rm,onSelectionContextMenu:I,onSelectionStart:P,onSelectionEnd:W,onReconnect:tu,onReconnectStart:gn,onReconnectEnd:Cs,onEdgeContextMenu:rr,onEdgeDoubleClick:ln,onEdgeMouseEnter:zn,onEdgeMouseMove:Os,onEdgeMouseLeave:hl,reconnectRadius:Rd,defaultMarkerColor:Ut,noDragClassName:Go,noWheelClassName:nu,noPanClassName:gt,rfId:gl,disableKeyboardA11y:M0,nodeExtent:Ge,viewport:Pm,onViewportChange:Dm}),h.jsx(UPe,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:y,onConnectStart:v,onConnectEnd:x,onClickConnectStart:S,onClickConnectEnd:N,nodesDraggable:Oe,nodesConnectable:Ie,nodesFocusable:Pe,edgesFocusable:re,edgesReconnectable:te,elementsSelectable:me,elevateNodesOnSelect:Yo,elevateEdgesOnSelect:ml,minZoom:ne,maxZoom:le,nodeExtent:Ge,onNodesChange:km,onEdgesChange:kd,snapToGrid:Re,snapGrid:ke,connectionMode:q,translateExtent:xe,connectOnClick:Jo,defaultEdgeOptions:k0,fitView:kn,fitViewOptions:Sr,onNodesDelete:z,onEdgesDelete:L,onDelete:F,onNodeDragStart:k,onNodeDrag:R,onNodeDragStop:D,onSelectionDrag:V,onSelectionDragStart:M,onSelectionDragStop:T,onMove:f,onMoveStart:m,onMoveEnd:p,noPanClassName:gt,nodeOrigin:G,rfId:gl,autoPanOnConnect:I0,autoPanOnNodeDrag:P0,autoPanSpeed:XS,onError:js,connectionRadius:Md,isValidConnection:Id,selectNodesOnDrag:et,nodeDragThreshold:pl,onBeforeDelete:B,paneClickDistance:Zc,debug:L0}),h.jsx(FPe,{onSelectionChange:H}),eu,h.jsx(MPe,{proOptions:R0,position:Vn}),h.jsx(RPe,{rfId:gl,disableKeyboardA11y:M0})]})})}var d9e=vY(u9e);const f9e=e=>({x:e.transform[0],y:e.transform[1],zoom:e.transform[2]});function h9e(){return kt(f9e,Nn)}function m9e(e){const[t,n]=w.useState(e),r=w.useCallback(i=>n(s=>yY(i,s)),[]);return[t,n,r]}function p9e(e){const[t,n]=w.useState(e),r=w.useCallback(i=>n(s=>bY(i,s)),[]);return[t,n,r]}function g9e({dimensions:e,lineWidth:t,variant:n,className:r}){return h.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Yn(["react-flow__background-pattern",n,r])})}function y9e({radius:e,className:t}){return h.jsx("circle",{cx:e,cy:e,r:e,className:Yn(["react-flow__background-pattern","dots",t])})}var Ba;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ba||(Ba={}));const b9e={[Ba.Dots]:1,[Ba.Lines]:1,[Ba.Cross]:6},v9e=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function qY({id:e,variant:t=Ba.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:a,style:c,className:u,patternClassName:f}){const m=w.useRef(null),{transform:p,patternId:y}=kt(v9e,Nn),v=r||b9e[t],x=t===Ba.Dots,S=t===Ba.Cross,N=Array.isArray(n)?n:[n,n],_=[N[0]*p[2]||1,N[1]*p[2]||1],C=v*p[2],j=Array.isArray(s)?s:[s,s],A=S?[C,C]:_,$=[j[0]*p[2]||1+A[0]/2,j[1]*p[2]||1+A[1]/2],k=`${y}${e||""}`;return h.jsxs("svg",{className:Yn(["react-flow__background",u]),style:{...c,...JS,"--xy-background-color-props":a,"--xy-background-pattern-color-props":o},ref:m,"data-testid":"rf__background",children:[h.jsx("pattern",{id:k,x:p[0]%_[0],y:p[1]%_[1],width:_[0],height:_[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${$[0]},-${$[1]})`,children:x?h.jsx(y9e,{radius:C/2,className:f}):h.jsx(g9e,{dimensions:A,lineWidth:i,variant:t,className:f})}),h.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${k})`})]})}qY.displayName="Background";const k8=w.memo(qY);function x9e(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:h.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function w9e(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:h.jsx("path",{d:"M0 0h32v4.2H0z"})})}function S9e(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:h.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function E9e(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:h.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function N9e(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:h.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Iv({children:e,className:t,...n}){return h.jsx("button",{type:"button",className:Yn(["react-flow__controls-button",t]),...n,children:e})}const _9e=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function HY({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:c,className:u,children:f,position:m="bottom-left",orientation:p="vertical","aria-label":y="React Flow controls"}){const v=xn(),{isInteractive:x,minZoomReached:S,maxZoomReached:N}=kt(_9e,Nn),{zoomIn:_,zoomOut:C,fitView:j}=$m(),A=()=>{_(),s==null||s()},$=()=>{C(),o==null||o()},k=()=>{j(i),a==null||a()},R=()=>{v.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),c==null||c(!x)},D=p==="horizontal"?"horizontal":"vertical";return h.jsxs(Xh,{className:Yn(["react-flow__controls",D,u]),position:m,style:e,"data-testid":"rf__controls","aria-label":y,children:[t&&h.jsxs(h.Fragment,{children:[h.jsx(Iv,{onClick:A,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:N,children:h.jsx(x9e,{})}),h.jsx(Iv,{onClick:$,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:S,children:h.jsx(w9e,{})})]}),n&&h.jsx(Iv,{className:"react-flow__controls-fitview",onClick:k,title:"fit view","aria-label":"fit view",children:h.jsx(S9e,{})}),r&&h.jsx(Iv,{className:"react-flow__controls-interactive",onClick:R,title:"toggle interactivity","aria-label":"toggle interactivity",children:x?h.jsx(N9e,{}):h.jsx(E9e,{})}),f]})}HY.displayName="Controls";w.memo(HY);function C9e({id:e,x:t,y:n,width:r,height:i,style:s,color:o,strokeColor:a,strokeWidth:c,className:u,borderRadius:f,shapeRendering:m,selected:p,onClick:y}){const{background:v,backgroundColor:x}=s||{},S=o||v||x;return h.jsx("rect",{className:Yn(["react-flow__minimap-node",{selected:p},u]),x:t,y:n,rx:f,ry:f,width:r,height:i,style:{fill:S,stroke:a,strokeWidth:c},shapeRendering:m,onClick:y?N=>y(N,e):void 0})}const O9e=w.memo(C9e),j9e=e=>e.nodes.map(t=>t.id),fC=e=>e instanceof Function?e:()=>e;function A9e({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=O9e,onClick:o}){const a=kt(j9e,Nn),c=fC(t),u=fC(e),f=fC(n),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return h.jsx(h.Fragment,{children:a.map(p=>h.jsx($9e,{id:p,nodeColorFunc:c,nodeStrokeColorFunc:u,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:m},p))})}function T9e({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:a,onClick:c}){const{node:u,x:f,y:m,width:p,height:y}=kt(v=>{const x=v.nodeLookup.get(e),{x:S,y:N}=x.internals.positionAbsolute,{width:_,height:C}=dl(x);return{node:x,x:S,y:N,width:_,height:C}},Nn);return!u||u.hidden||!WJ(u)?null:h.jsx(a,{x:f,y:m,width:p,height:y,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:i,strokeColor:n(u),strokeWidth:s,shapeRendering:o,onClick:c,id:u.id})}const $9e=w.memo(T9e);var R9e=w.memo(A9e);const k9e=200,M9e=150,I9e=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?qJ(A0(e.nodeLookup),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}},P9e="react-flow__minimap-desc";function WY({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:a,bgColor:c,maskColor:u,maskStrokeColor:f,maskStrokeWidth:m,position:p="bottom-right",onClick:y,onNodeClick:v,pannable:x=!1,zoomable:S=!1,ariaLabel:N="React Flow mini map",inversePan:_,zoomStep:C=10,offsetScale:j=5}){const A=xn(),$=w.useRef(null),{boundingRect:k,viewBB:R,rfId:D,panZoom:z,translateExtent:L,flowWidth:F,flowHeight:H}=kt(I9e,Nn),M=(e==null?void 0:e.width)??k9e,V=(e==null?void 0:e.height)??M9e,T=k.width/M,I=k.height/V,P=Math.max(T,I),W=P*M,B=P*V,q=j*P,X=k.x-(W-k.width)/2-q,Q=k.y-(B-k.height)/2-q,ie=W+q*2,ae=B+q*2,fe=`${P9e}-${D}`,ce=w.useRef(0),he=w.useRef();ce.current=P,w.useEffect(()=>{if($.current&&z)return he.current=aPe({domNode:$.current,panZoom:z,getTransform:()=>A.getState().transform,getViewScale:()=>ce.current}),()=>{var Ce;(Ce=he.current)==null||Ce.destroy()}},[z]),w.useEffect(()=>{var Ce;(Ce=he.current)==null||Ce.update({translateExtent:L,width:F,height:H,inversePan:_,pannable:x,zoomStep:C,zoomable:S})},[x,S,_,C,L,F,H]);const ve=y?Ce=>{var ke;const[Ee,Re]=((ke=he.current)==null?void 0:ke.pointer(Ce))||[0,0];y(Ce,{x:Ee,y:Re})}:void 0,Ae=v?w.useCallback((Ce,Ee)=>{const Re=A.getState().nodeLookup.get(Ee);v(Ce,Re)},[]):void 0;return h.jsx(Xh,{position:p,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof m=="number"?m*P:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="string"?o:void 0},className:Yn(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:h.jsxs("svg",{width:M,height:V,viewBox:`${X} ${Q} ${ie} ${ae}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":fe,ref:$,onClick:ve,children:[N&&h.jsx("title",{id:fe,children:N}),h.jsx(R9e,{onClick:Ae,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),h.jsx("path",{className:"react-flow__minimap-mask",d:`M${X-q},${Q-q}h${ie+q*2}v${ae+q*2}h${-ie-q*2}z
        M${R.x},${R.y}h${R.width}v${R.height}h${-R.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}WY.displayName="MiniMap";const GY=w.memo(WY);function D9e({nodeId:e,position:t,variant:n=Ag.Handle,className:r,style:i={},children:s,color:o,minWidth:a=10,minHeight:c=10,maxWidth:u=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:m=!1,shouldResize:p,onResizeStart:y,onResize:v,onResizeEnd:x}){const S=EY(),N=typeof e=="string"?e:S,_=xn(),C=w.useRef(null),j=n===Ag.Line?"right":"bottom-right",A=t??j,$=w.useRef(null);w.useEffect(()=>{if(!(!C.current||!N))return $.current||($.current=SPe({domNode:C.current,nodeId:N,getStoreItems:()=>{const{nodeLookup:z,transform:L,snapGrid:F,snapToGrid:H,nodeOrigin:M,domNode:V}=_.getState();return{nodeLookup:z,transform:L,snapGrid:F,snapToGrid:H,nodeOrigin:M,paneDomNode:V}},onChange:(z,L)=>{const{triggerNodeChanges:F,nodeLookup:H,parentLookup:M,nodeOrigin:V}=_.getState(),T=[],I={x:z.x,y:z.y},P=H.get(N);if(P&&P.expandParent&&P.parentId){const W=P.origin??V,B=z.width??P.measured.width??0,q=z.height??P.measured.height??0,X={id:P.id,parentId:P.parentId,rect:{width:B,height:q,...GJ({x:z.x??P.position.x,y:z.y??P.position.y},{width:B,height:q},P.parentId,H,W)}},Q=Q4([X],H,M,V);T.push(...Q),I.x=z.x?Math.max(W[0]*B,z.x):void 0,I.y=z.y?Math.max(W[1]*q,z.y):void 0}if(I.x!==void 0&&I.y!==void 0){const W={id:N,type:"position",position:{...I}};T.push(W)}if(z.width!==void 0&&z.height!==void 0){const W={id:N,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:z.width,height:z.height}};T.push(W)}for(const W of L){const B={...W,type:"position"};T.push(B)}F(T)},onEnd:()=>{const z={id:N,type:"dimensions",resizing:!1};_.getState().triggerNodeChanges([z])}})),$.current.update({controlPosition:A,boundaries:{minWidth:a,minHeight:c,maxWidth:u,maxHeight:f},keepAspectRatio:m,onResizeStart:y,onResize:v,onResizeEnd:x,shouldResize:p}),()=>{var z;(z=$.current)==null||z.destroy()}},[A,a,c,u,f,m,y,v,x,p]);const k=A.split("-"),R=n===Ag.Line?"borderColor":"backgroundColor",D=o?{...i,[R]:o}:i;return h.jsx("div",{className:Yn(["react-flow__resize-control","nodrag",...k,n,r]),ref:C,style:D,children:s})}w.memo(D9e);function L9e({nodes:e,edges:t,externalProvider:n,backgroundStyle:r="lines",minimap:i=!1,children:s,onDropNewNode:o,onDropNewEdge:a,...c}){const[u,f,m]=m9e(e??[]),[p,y,v]=p9e(t??[]),{screenToFlowPosition:x}=$m(),{theme:S}=al(),[N,_]=w.useState(!1),[C,j]=w.useState(!1),[A,$]=w.useState(!1),k=H=>{H.metaKey&&_(!0),H.key===" "&&j(!0)},R=H=>{H.metaKey||_(!1),H.key===" "&&j(!1)},D=()=>{if(C){$(!1);return}$(!0)},z=()=>{if(C){$(!1);return}$(!1)};w.useEffect(()=>{var H;return(H=document.querySelector("html"))==null||H.classList.add("fixed"),window.addEventListener("keydown",k),window.addEventListener("keyup",R),window.addEventListener("pointerdown",D),window.addEventListener("pointerup",z),()=>{var M;window.removeEventListener("keydown",k),window.removeEventListener("keyup",R),window.removeEventListener("pointerdown",D),window.removeEventListener("pointerup",z),(M=document.querySelector("html"))==null||M.classList.remove("fixed")}},[]),w.useEffect(()=>{f(e??[]),y(t??[])},[e,t]);const L=w.useCallback(H=>y(M=>ZJ(H,M)),[]),F=w.useCallback((H,M)=>{if(!o||!a)return;const{fromNode:V,fromHandle:T,fromPosition:I}=M;if(!M.isValid){console.log("conn",{event:H,connectionState:M});const{clientX:P,clientY:W}="changedTouches"in H?H.changedTouches[0]:H,B=o({id:"select",type:"default",data:{label:""},position:x({x:P,y:W}),origin:[0,0]});f(q=>q.concat(B)),y(q=>q.concat(o({id:B.id,source:M.fromNode.id,target:B.id})))}},[x]);return h.jsxs(d9e,{colorMode:S,onConnect:L,onConnectEnd:F,className:N?"cursor-zoom-in":C?A?"cursor-grabbing":"cursor-grab":"",proOptions:{hideAttribution:!0},fitView:!0,fitViewOptions:{maxZoom:1.5,...c.fitViewOptions},nodeDragThreshold:25,panOnScrollSpeed:1,snapToGrid:!0,nodes:u,edges:p,onNodesChange:m,onEdgesChange:v,nodesConnectable:!1,panOnDrag:!0,zoomOnScroll:N,panOnScroll:!N,zoomOnDoubleClick:!1,selectionOnDrag:!C,...c,children:[r==="lines"&&h.jsx(k8,{color:S==="light"?"rgba(0,0,0,.05)":"rgba(255,255,255,.1)",gap:[50,50],variant:Ba.Lines}),r==="dots"&&h.jsx(k8,{color:S==="light"?"rgba(0,0,0,.5)":"rgba(255,255,255,.2)"}),i&&h.jsx(GY,{...typeof i=="object"?i:{}}),s]})}function Cr({position:e,className:t,children:n,unstyled:r,...i}){return r?h.jsx(Xh,{position:e,className:qe("flex flex-row p-1 gap-4",t),...i,children:n}):h.jsx(Xh,{position:e,...i,children:h.jsx(JY,{className:t,children:n})})}const JY=({children:e,className:t,...n})=>h.jsx("div",{...n,className:qe("flex flex-row bg-lightest border ring-2 ring-muted/5 border-muted rounded-full items-center p-1",t),children:e}),F9e=({Icon:e,size:t="lg",variant:n="ghost",onClick:r,disabled:i,className:s,round:o,...a})=>h.jsx(yt,{Icon:e,size:t,variant:n,onClick:r,disabled:i,className:qe(o?"rounded-full":"",s),...a}),B9e=w.forwardRef(({children:e,className:t,mono:n,...r},i)=>h.jsx("span",{...r,ref:i,className:qe("text-md font-medium leading-none",n&&"font-mono",t),children:e}));Cr.Wrapper=JY;Cr.IconButton=F9e;Cr.Text=B9e;function z9e({children:e,...t}){const[n,r]=w.useState(!1),i=$m(),{zoom:s,x:o,y:a}=h9e(),c=Math.round(s*100),u=async()=>await i.zoomIn(),f=async()=>i.zoomTo(1),m=async()=>await i.zoomOut();function p(){r(y=>!y)}return h.jsxs(h.Fragment,{children:[e,t.coordinates&&h.jsx(Cr,{position:"bottom-center",children:h.jsxs(Cr.Text,{className:"px-2",mono:!0,children:[o.toFixed(2),",",a.toFixed(2)]})}),h.jsxs(Cr,{unstyled:!0,position:"bottom-right",children:[t.zoom&&h.jsxs(Cr.Wrapper,{className:"px-1.5",children:[h.jsx(Cr.IconButton,{Icon:tH,round:!0,onClick:u}),h.jsxs(Cr.Text,{className:"px-2",mono:!0,onClick:f,children:[c,"%"]}),h.jsx(Cr.IconButton,{Icon:GEe,round:!0,onClick:m}),h.jsx(Cr.IconButton,{Icon:HEe,round:!0,onClick:f})]}),t.minimap&&h.jsxs(h.Fragment,{children:[h.jsx(Cr.Wrapper,{children:h.jsx(Cr.IconButton,{Icon:YO,round:!0,onClick:p,variant:n?"default":"ghost"})}),n&&h.jsx(GY,{style:{bottom:50,right:-5},ariaLabel:null})]})]})]})}function Ec({selected:e,children:t,className:n,...r}){return al(),h.jsx("div",{...r,className:qe("relative w-80 shadow-lg rounded-lg bg-background",e&&"outline outline-blue-500/25",n),children:t})}const V9e=({className:e,label:t,children:n,...r})=>h.jsx("div",{...r,className:qe("flex flex-row bg-primary/15 justify-center items-center rounded-tl-lg rounded-tr-lg py-1 px-2 drag-handle",e),children:n||h.jsx("span",{className:"font-semibold opacity-75 font-mono",children:t??"Untitled node"})}),U9e=({children:e,className:t,...n})=>h.jsx("div",{...n,className:qe("px-2 py-1.5 pb-2 flex flex-col",t),children:e});Ec.Header=V9e;Ec.Content=U9e;const e3=Vh({dirty:!1,name:void 0,flow:void 0}),YY=w.createContext(void 0),hC={trigger:{type:"manual"},tasks:{},connections:{}};function q9e({children:e,name:t}){const n=C4(e3),r=ct(),i=t?r.config.flows.flows[t]:void 0,s=r.schema.flows.properties.flows;w.useEffect(()=>{t&&n({dirty:!1,name:t,flow:i})},[t]);const o={flow:{setName:async a=>{console.log("set name",a),n(c=>({...c,name:a,dirty:!0}))}},trigger:{update:async a=>{console.log("update trigger",a),n(c=>{const u=c.flow||hC;return{...c,dirty:!0,flow:{...u,trigger:a}}})}},task:{create:async(a,c={})=>{console.log("create task",a,c),n(u=>{const f=u.flow||hC,m={...f.tasks,[a]:c};return{...u,dirty:!0,flow:{...f,tasks:m}}})},update:async(a,c)=>{console.log("update task",a,c),n(u=>{var p,y;const f=u.flow||hC,m={...(y=(p=u.flow)==null?void 0:p.tasks)==null?void 0:y[a],params:c};return{...u,dirty:!0,flow:{...f,tasks:{...f.tasks,[a]:m}}}})}}};return h.jsx(YY.Provider,{value:{name:t,data:i,schema:s,actions:o},children:e})}function $0(){return w.useContext(YY)}function H9e(){return _4(e3)}function t3(e,t=Mz){const n=w0(e3,w.useCallback(e,[]),t);return jm(n)[0]}function W9e(e,t){const n=[{id:"trigger",data:{label:t,type:e.trigger.type},type:"trigger",dragHandle:".drag-handle",position:{x:0,y:0}}];let r=1;const i=Object.keys(e.tasks??{}).length;for(const[s,o]of Object.entries(e.tasks??{})){const a=r===i,c=r===1,u=a;n.push({id:`task-${s}`,data:{label:s,type:o.type,last:a,start:c,responding:u},type:"task",dragHandle:".drag-handle",position:{x:450*r+(r-1)*64,y:0}}),r++}return n}function G9e(e){var r;const t=Object.entries(e.tasks??{});if(t.length===0)return[];const n=t.length>=1?[{id:"trigger-task",source:"trigger",target:`task-${(r=t[0])==null?void 0:r[0]}`,style:{strokeWidth:2},markerEnd:{type:gd.ArrowClosed,width:10,height:10}}]:[];for(const[i,s]of Object.entries(e.connections??{}))n.push({id:i,source:"task-"+s.source,target:"task-"+s.target,style:{strokeWidth:2},markerEnd:{type:gd.ArrowClosed,width:10,height:10}});return n}function Iw(e){const t={top:16,width:10,height:10,background:"transparent",border:"2px solid #999"},n=-10,r={target:{...t,left:n},source:{...t,right:n}};return h.jsx(Oy,{...e,position:e.type==="source"?st.Right:st.Left,style:r[e.type]})}const M8=[{type:"fetch",label:"Fetch",description:"Fetch data from a URL",template:{type:"fetch",params:{method:"GET",headers:[],url:""}}},{type:"render",label:"Render",description:"Render data using LiquidJS"}];function J9e(e){const[t,n]=w.useState(),r=$m(),{actions:i}=$0(),s=e.id;async function o(){const a=M8.find(u=>u.type===t),c="untitled";await i.task.create(c,a.template),r.setNodes(u=>u.map(f=>f.id===s?{...f,id:"task-"+c,type:"task",data:{...a.template,label:c}}:f)),setTimeout(()=>{r.setEdges(u=>u.map(f=>(console.log("edge?",f,s,f.target===s),f.target===s?{...f,id:"task-"+c,target:"task-"+c}:f)))},100),console.log("make",a)}return h.jsxs(Ec,{className:"w-96",children:[h.jsx(Iw,{type:"target",id:"select-in"}),h.jsxs(Ec.Header,{className:"gap-3 justify-start py-2",children:[h.jsx("div",{className:"bg-primary/10 rounded-full w-4 h-4"}),h.jsx("div",{className:"bg-primary/5 rounded-full w-1/2 h-4"})]}),h.jsxs(Ec.Content,{children:[h.jsx("div",{children:"select"}),h.jsx("div",{className:"grid grid-cols-3 gap-2",children:M8.map(a=>h.jsx("button",{type:"button",className:qe("border border-primary/10 rounded-md py-2 px-4 hover:bg-primary/10",t===a.type&&"bg-primary/10"),onClick:()=>n(a.type),children:a.label},a.type))}),h.jsx("button",{onClick:o,children:"make"})]})]})}function Y9e({label:e,description:t,size:n,...r}){return h.jsxs(Vt.Wrapper,{className:"relative",children:[e&&h.jsxs("div",{className:"flex flex-col",children:[h.jsx(Vt.Label,{size:n,children:e}),t&&h.jsx(Vt.Description,{size:n,children:t})]}),h.jsx(zc,{...r,size:n})]})}const Hj={key:"",value:""};function X9e(e){return!e||Array.isArray(e)?[Hj]:Object.entries(e).map(([t,n])=>({key:t,value:n}))}const Pv=({label:e,initialValue:t,onChange:n,error:r,classNames:i,mode:s="object"})=>{const[o,a]=w.useState(t?X9e(t):[Hj]);w.useEffect(()=>{if(n)if(s==="object"){const m=o.reduce((p,y)=>(y.key&&typeof y.value<"u"&&(p[y.key]=y.value),p),{});n(m)}else n(o)},[o]);function c(){a(m=>[...m,Hj])}function u(m,p){return y=>{const v=y.currentTarget.value;a(x=>x.map((S,N)=>N===m?{...S,[p]:v}:S))}}function f(m){return()=>{a(p=>p.filter((y,v)=>v!==m))}}return h.jsxs(Vt.Wrapper,{className:"w-full",children:[h.jsxs("div",{className:"flex flex-row w-full justify-between",children:[e?h.jsx(Vt.Label,{className:i==null?void 0:i.label,children:e}):h.jsx("div",{}),h.jsx(yt,{Icon:w$,size:"xs",onClick:c})]}),h.jsxs("div",{className:qe("flex flex-col gap-2",i==null?void 0:i.itemWrapper),children:[o.map(({key:m,value:p},y)=>h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[o.length>1&&h.jsx(yt,{Icon:BU,size:"xs",onClick:f(y)}),h.jsx(jn,{className:"w-36",placeholder:"key",value:m,classNames:{wrapper:"font-mono pt-px"},onChange:u(y,"key")}),h.jsx(jn,{className:"w-full",placeholder:"value",value:p,classNames:{wrapper:"font-mono pt-px"},onChange:u(y,"value")})]},y)),r&&h.jsx(Vt.Error,{children:r})]})]})};function n3({children:e,className:t,tabs:n,Icon:r,isInvalid:i,...s}){const{data:o}=s;function a(c){s.onChangeName&&s.onChangeName(c.target.value)}return h.jsxs(Ec,{className:qe("w-96",i&&"ring-8 ring-red-500/15",t),children:[h.jsx(Q9e,{Icon:r??wwe,initialValue:o.label,onChange:a}),h.jsx(Ec.Content,{className:"gap-3",children:e}),h.jsx(K9e,{tabs:n})]})}const K9e=({tabs:e})=>{var i;const[t,n]=w.useState();if(!e||(e==null?void 0:e.length)===0)return null;function r(s){return()=>{n(o=>o===s?void 0:s)}}return h.jsxs("div",{className:"border-t border-t-muted mt-1",children:[h.jsx("div",{className:"flex flex-row justify-start bg-primary/5 px-3 py-2.5 gap-3",children:e.map((s,o)=>h.jsx("button",{type:"button",onClick:r(o),className:qe("text-sm leading-none",o===t?"font-bold opacity-80":"font-medium opacity-50"),children:s.label},s.id))}),typeof t<"u"?h.jsx("div",{className:"border-t border-t-muted",children:(i=e[t])==null?void 0:i.content()}):null]})},Q9e=({Icon:e,iconProps:t,rightSection:n,initialValue:r,changable:i=!1,onChange:s})=>{const[o,a]=w.useState(r);function c(u){if(!i)return;const f=String(u.target.value);if(f.length>0&&!/^[a-zA-Z_][a-zA-Z0-9_ ]*$/.test(f)||f.length===25)return;const m=f.toLowerCase().replace(/ /g,"_").replace(/__+/g,"_");a(m),s==null||s({...u,target:{...u.target,value:m}})}return h.jsxs(Ec.Header,{className:"justify-between gap-10",children:[h.jsxs("div",{className:"flex flex-row flex-grow gap-1 items-center",children:[h.jsx(e,{width:16,height:16,...t??{}}),i?h.jsx("input",{type:"text",value:o,disabled:!i,onChange:c,className:qe("font-mono font-semibold bg-transparent rounded-lg outline-none pl-1.5 w-full hover:bg-lightest/30 transition-colors focus:bg-lightest/60")}):h.jsx("span",{className:"font-mono font-semibold bg-transparent  rounded-lg outline-none pl-1.5",children:o})]}),h.jsxs("div",{className:"flex flex-row gap-1",children:[h.jsx(yt,{Icon:aEe,size:"sm"}),h.jsx(yt,{Icon:ll,size:"sm"})]})]})},Z9e=Me({query:ad(de()).optional(),...s$.schema.properties});function e8e({onChange:e,params:t,...n}){var S;const[r,i]=vq([!0,!1]),[s,o]=w.useState("None"),{register:a,handleSubmit:c,setValue:u,getValues:f,formState:{isValid:m,errors:p},watch:y,control:v}=Yc({resolver:Xc(Z9e),defaultValues:t,mode:"onChange"});function x(N){console.log("submit task",N),e(N)}return h.jsx(n3,{...n,isInvalid:!m,className:"w-[400px]",Icon:zU,tabs:t8e({watch:y}),onChangeName:console.log,children:h.jsxs("form",{onBlur:c(x),className:"flex flex-col gap-3",children:[h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx(Da,{className:"w-36",label:"Method",defaultValue:"GET",data:["GET","POST","PATCH","PUT","DEL"],name:"method",control:v}),h.jsx(jn,{className:"w-full",label:"Mapping Path",placeholder:"/path/to-be/mapped",classNames:{wrapper:"font-mono pt-px"},...a("url")})]}),h.jsx(tt,{onClick:i,className:"justify-center",size:"small",variant:"ghost",iconSize:14,IconLeft:r?gwe:w$,children:"More options"}),r&&h.jsxs(h.Fragment,{children:[h.jsx(Pv,{label:"URL query",onChange:N=>u("query",N),error:(S=p.query)==null?void 0:S.message}),h.jsx(Pv,{label:"Headers"}),h.jsx("div",{className:"flex flex-row gap-2 items-center mt-2",children:h.jsxs(Vt.Wrapper,{className:"w-full",children:[h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx(Vt.Label,{children:"Body"}),h.jsx(Y9e,{data:["None","Form","JSON","Code"],size:"xs",defaultValue:s,onChange:N=>o(N)})]}),s==="Form"&&h.jsx(Pv,{label:void 0}),s==="JSON"&&h.jsx(Pv,{label:void 0})]})})]})]})})}const t8e=({watch:e})=>[{id:"json",label:"JSON",content:()=>h.jsx("div",{className:"scroll-auto",children:h.jsx(Xr,{json:e(),expand:2,className:"bg-white break-all"})})},{id:"test",label:"test",content:()=>h.jsx("div",{children:"test"})}],n8e=w.lazy(()=>p0(()=>import("./CodeEditor-BURt1AmN.js"),[]));function r8e({editable:e,...t}){return h.jsx(w.Suspense,{fallback:null,children:h.jsx(n8e,{className:qe("flex w-full border border-muted bg-white rounded-lg",!e&&"opacity-70"),editable:e,_extensions:{html:!0},...t})})}function i8e(e){return h.jsx(n3,{...e,onChangeName:console.log,Icon:zU,className:"w-[400px]",children:h.jsx("form",{className:"flex flex-col gap-3",children:h.jsx(r8e,{value:e.params.render,onChange:console.log})})})}const I8={fetch:e8e,render:i8e},s8e=e=>{const{data:{label:t,start:n,last:r,responding:i}}=e,s=t3(u=>u.flow.tasks[t]),{actions:o}=$0(),a=s.type in I8?I8[s.type]:()=>h.jsx("div",{children:"unsupported"});function c(u){o.task.update(t,u)}return h.jsxs(h.Fragment,{children:[h.jsx(a,{...e,params:s.params,onChange:c}),h.jsx(Iw,{type:"target",id:`${t}-in`}),h.jsx(Iw,{type:"source",id:`${t}-out`})]})};function jy({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i,onChange:s,label:o,size:a,description:c,error:u,...f}){const{field:{value:m,onChange:p,...y}}=Sm({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i});return h.jsxs(Vt.Wrapper,{className:"relative",children:[o&&h.jsxs("div",{className:"flex flex-col",children:[h.jsx(Vt.Label,{size:a,children:o}),c&&h.jsx(Vt.Description,{size:a,children:c})]}),h.jsx(zc,{value:m,onChange:v=>{p(v),s==null||s(v)},size:a,...y,...f})]})}const o8e=Me({trigger:Pt(Object.values(Xt(l$,(e,t)=>He({type:us(t),config:e.cls.schema},{title:String(t)}))))}),a8e=e=>{const{data:{label:t,...n}}=e,r=t3(S=>S.flow.trigger),{actions:i}=$0(),{register:s,handleSubmit:o,setValue:a,getValues:c,formState:{isValid:u,errors:f},watch:m,control:p}=Yc({resolver:Xc(o8e),defaultValues:{trigger:r},mode:"onChange"}),y=m("trigger");async function v(S){console.log("submit",S.trigger),await i.trigger.update(S.trigger)}async function x(S){console.log("change name",S),await i.flow.setName(S)}return h.jsxs(n3,{...e,tabs:u8e({data:y}),onChangeName:x,children:[h.jsxs("form",{onBlur:o(v),className:"flex flex-col gap-3",children:[h.jsxs("div",{className:"flex flex-row justify-between items-center",children:[h.jsx(jy,{label:"Trigger Type",defaultValue:"manual",data:[{label:"Manual",value:"manual"},{label:"HTTP",value:"http"},{label:"Event",value:"event",disabled:!0}],name:"trigger.type",control:p}),h.jsx(jy,{label:"Execution Mode",defaultValue:"async",data:[{label:"Async",value:"async"},{label:"Sync",value:"sync"}],name:"trigger.config.mode",control:p})]}),(y==null?void 0:y.type)==="manual"&&h.jsx(l8e,{}),(y==null?void 0:y.type)==="http"&&h.jsx(c8e,{form:{watch:m,register:s,setValue:a,getValues:c,control:p}})]}),h.jsx(Iw,{type:"source",id:"trigger-out"})]})},l8e=()=>null,c8e=({form:e})=>h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx(Da,{className:"w-36",label:"Method",data:["GET","POST","PATCH","PUT","DEL"],name:"trigger.config.method",control:e.control}),h.jsx(jn,{className:"w-full",label:"Mapping Path",placeholder:"/trigger_http",classNames:{wrapper:"font-mono pt-px"},...e.register("trigger.config.path")})]}),h.jsx("div",{className:"flex flex-row gap-2 items-center",children:h.jsx(jy,{className:"w-full",label:"Response Type",defaultValue:"json",data:[{label:"JSON",value:"json"},{label:"HTML",value:"html"},{label:"Text",value:"text"}],name:"trigger.config.response_type",control:e.control})})]}),u8e=({data:e,...t})=>[{id:"json",label:"JSON",content:()=>h.jsx(Xr,{json:e,expand:2,className:""})},{id:"test",label:"test",content:()=>h.jsx("div",{children:"test"})}],d8e={select:J9e,trigger:a8e,task:s8e};function f8e(e){return h.jsx(q9e,{name:e.params.flow,children:h.jsx(UY,{children:h.jsx(h8e,{})})})}function h8e(){const e=w.useRef(null),[t,n]=w.useState(),r=$0();if(!r.data||!r.name)return"no flow";w.useEffect(()=>{var u,f;console.log("ref",(u=e.current)==null?void 0:u.getBoundingClientRect()),n((f=e.current)==null?void 0:f.getBoundingClientRect())},[]);const i=W9e(r.data,r.name),s=G9e(r.data);console.log("nodes",i),console.log("edges",s);const c={zoom:1,x:t!=null&&t.width?t.width*.1:0,y:t!=null&&t.height?t.height/2-260/2-50:0};return h.jsx("div",{className:"flex flex-col w-full h-full",ref:e,children:t&&h.jsxs(h.Fragment,{children:[h.jsx(L9e,{externalProvider:!0,backgroundStyle:"dots",nodes:i,edges:s,nodeTypes:d8e,nodeDragThreshold:0,fitView:!1,defaultViewport:c,nodesConnectable:!0,onDropNewNode:u=>({...u,type:"select",data:{label:""}}),onDropNewEdge:u=>({...u,style:{strokeWidth:2},markerEnd:{type:gd.ArrowClosed,width:10,height:10}}),children:h.jsx(m8e,{})}),h.jsx(g8e,{})]})})}function m8e(){const e=t3(r=>Pz(r,["name","dirty"])),[t]=Bn(),{goBack:n}=M1e(()=>t(ht.flows.flows.list()));return h.jsx(z9e,{minimap:!0,zoom:!0,children:h.jsxs(Cr,{position:"top-left",className:"gap-2 pr-6",children:[h.jsx(Cr.IconButton,{Icon:M$,round:!0,onClick:n}),h.jsxs(Cr.Text,{children:[e.name," ",e.dirty?"*":""]})]})})}const p8e=T$e("__dev_flow_debugger_tab",{tab:null}),g8e=()=>{var o;const[e,t]=jm(p8e),n=$0(),r=H9e();function i(a){t(c=>({...c,tab:c.tab===a?null:a}))}const s=((o=e.store)==null?void 0:o.expand)||3;return h.jsx("div",{className:"flex fixed left-5 bottom-5 z-20",children:h.jsxs(En,{value:e.tab,onChange:i,children:[h.jsx("div",{className:"max-h-96 overflow-y-scroll bg-background/70",children:h.jsxs(En.Panel,{value:"store",children:[h.jsxs("div",{className:"flex flex-row text-sm",children:[h.jsx(Xr,{className:"max-w-96 break-all",title:"Context",json:{name:n.name,...n.data},expand:s}),h.jsx(Xr,{className:"max-w-96 break-all",title:"State",json:{name:r.name,...r.flow},expand:s})]}),h.jsx(iT,{className:"w-36",defaultValue:s,min:0,max:CF(r.flow??{}),onChange:zT(a=>t(c=>({...c,store:{...c.store,expand:a}})),250)})]})}),h.jsx(En.List,{children:h.jsx(En.Tab,{value:"store",children:"Store"})})]})})};function XY(){const{config:e,app:t,actions:n}=ct(),r={flow:{create:async(i,s)=>{const o=An(mU,s,{skipMark:!0,forceParse:!0});await n.add("flows",`flows.${i}`,o)}}};return{flows:t.flows,config:e.flows,actions:r}}const y8e=Object.keys(dU),b8e=He({name:ld,trigger:de({enum:y8e}),mode:de({enum:["async","sync"]})}),v8e=w.forwardRef(function(t,n){const[r,i]=w.useState([]);function s(){var o;(o=n==null?void 0:n.current)==null||o.close()}return h.jsx(W2e,{ref:n,size:"lg",children:h.jsx(hH,{path:r,lastBack:s,children:h.jsxs(Ou,{id:"select",children:[h.jsx(Cu,{path:["Create New Flow"],onClose:s}),h.jsx(x8e,{})]})})})});function x8e(){var y;const e=O$(),{actions:t}=XY(),{nextStep:n,stepBack:r,state:i,setState:s}=Td(),{handleSubmit:o,watch:a,control:c,register:u,formState:{isValid:f,errors:m}}=Yc({resolver:Xc(b8e),defaultValues:{name:"",trigger:"manual",mode:"async"},mode:"onSubmit"});async function p(v){console.log(v,f),t.flow.create(v.name,{trigger:{type:v.trigger,config:{mode:v.mode}}})}return console.log("errors",m),h.jsxs("form",{ref:e,onSubmit:o(p),children:[h.jsxs(jd,{className:"min-h-40",children:[h.jsx("div",{children:h.jsx(jn,{"data-autofocus":!0,label:"Flow Name",placeholder:"Enter flow name",error:(y=m.name)==null?void 0:y.message,...u("name",{required:!0})})}),h.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[h.jsx(jy,{label:"Trigger Type",name:"trigger",data:[{label:"Manual",value:"manual"},{label:"HTTP",value:"http"},{label:"Event",value:"event"}],control:c}),h.jsx(jy,{label:"Execution mode",name:"mode",data:[{label:"Async",value:"async"},{label:"Sync",value:"sync"}],control:c})]}),h.jsx("pre",{children:JSON.stringify(a(),null,2)})]}),h.jsx(Ad,{next:{type:"submit",disabled:!f},nextLabel:"Create",prev:{onClick:r},prevLabel:"Cancel"})]})}function w8e(){const e=w.useRef(null),[t]=Bn(),{flows:n}=XY();console.log("flows",n);const r=n.map(s=>{var o;return{flow:s.name,trigger:s.trigger.type,mode:s.trigger.config.mode,tasks:Object.keys(s.tasks).length,start_task:(o=s.startTask)==null?void 0:o.name}});function i(s){t(ht.flows.flows.edit(s.flow))}return h.jsxs(h.Fragment,{children:[h.jsx(v8e,{ref:e}),h.jsx(Rn,{right:h.jsx(tt,{variant:"primary",onClick:()=>{var s;return(s=e.current)==null?void 0:s.open()},children:"Create new"}),children:"All Flows"}),h.jsx(nr,{children:h.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:h.jsx(CS,{data:r,renderValue:S8e,renderHeader:Gy,onClickRow:i})})})]})}const S8e=({value:e,property:t})=>["is_default","implicit_allow"].includes(t)?e?h.jsx("span",{children:"Yes"}):h.jsx("span",{className:"opacity-50",children:"No"}):t==="permissions"?[...e||[]].map((n,r)=>h.jsx("span",{className:"inline-block px-2 py-1.5 text-sm bg-primary/5 rounded font-mono leading-none",children:n},r)):h.jsx(OS,{value:e,property:t});function E8e(){return h.jsxs(Xa,{children:[h.jsx(at,{path:"/flow/:flow",component:f8e}),h.jsx(eke,{children:h.jsx(at,{path:"/",component:w8e})})]})}function N8e({children:e}){const{app:t,config:n}=ct(),r=!n.media.enabled;return wr(["Media"]),h.jsxs(h.Fragment,{children:[h.jsxs(Od,{children:[h.jsx(Rn,{right:h.jsx(Ln,{href:t.getSettingsPath(["media"]),children:h.jsx(yt,{Icon:xm})}),children:"Media"}),h.jsx(nr,{initialOffset:96,children:h.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:h.jsxs("nav",{className:"flex flex-col flex-1 gap-1",children:[h.jsxs(li,{as:Ln,href:"/",className:"flex flex-row justify-between",children:["Main Bucket"," ",r&&h.jsx(dS.Warning,{title:"Media not enabled.",className:"size-5"})]}),h.jsx(li,{as:Ln,href:"/settings",children:"Settings"})]})})})]}),h.jsx(h0,{children:e})]})}function _8e(){const{config:e}=ct(),[,t]=Ss();if(wr(["Media"]),!e.media.enabled)return h.jsx(Jn,{Icon:FU,title:"Media not enabled",description:"Please enable media in the settings to continue.",primary:{children:"Manage Settings",onClick:()=>t("/settings")}});const n=r=>{Or.open(Or.ids.mediaInfo,{file:r})};return h.jsx(nr,{children:h.jsx("div",{className:"flex flex-1 p-3",children:h.jsx(E4.Dropzone,{onClick:n,infinite:!0,query:{sort:"-id"}})})})}function C8e(e){wr(["Media","Settings"]);const{hasSecrets:t}=ct({withSecrets:!0});return t?h.jsx(j8e,{...e}):h.jsx(bi.MissingPermission,{what:"Media Settings"})}const O8e={ignoreKeys:["entity_name","basepath"],options:{debug:xr(),keepEmpty:!0}};function j8e(){const{config:e,schema:t,actions:n}=sG(),{readonly:r}=ct(),i=JSON.parse(JSON.stringify(t));i.if={properties:{enabled:{const:!0}}},i.then={required:["adapter"]};async function s(o){console.log("submit",o),await n.config.patch(o)}return h.jsx(h.Fragment,{children:h.jsxs(E0,{schema:i,initialValues:e,onSubmit:s,...O8e,readOnly:r,children:[h.jsx(Tm,{selector:o=>({dirty:o.dirty,errors:o.errors.length>0,submitting:o.submitting}),children:({dirty:o,errors:a,submitting:c})=>h.jsx(Rn,{right:!r&&h.jsx(tt,{variant:"primary",type:"submit",disabled:!o||a||c,children:"Update"}),children:"Settings"})}),h.jsxs(nr,{children:[h.jsx(A8e,{}),h.jsxs("div",{className:"flex flex-col gap-3 p-3",children:[h.jsx(Rr,{name:"enabled",inputProps:{"data-testId":YG.media.switchEnabled}}),h.jsxs("div",{className:"flex flex-col gap-3 relative",children:[h.jsx(P8,{}),h.jsx(Rr,{name:"storage.body_max_size",label:"Storage Body Max Size"})]})]}),h.jsx(XO,{}),h.jsxs("div",{className:"flex flex-col gap-3 p-3 relative",children:[h.jsx(P8,{}),h.jsx(Cg.Root,{path:"adapter",children:h.jsx(R8e,{})})]}),h.jsx(_0,{})]})]})})}const A8e=()=>{const e=Am("",{strict:!0});return e.length===0?null:h.jsx(Ys.Exception,{children:e.map((t,n)=>h.jsx("div",{children:t.message},n))})},T8e={s3:iwe,cloudinary:lwe,local:bwe,r2:swe},$8e=({type:e})=>{var n;const t=(n=Object.entries(T8e).find(([r])=>e.startsWith(r)))==null?void 0:n[1];return t?h.jsx(t,{}):null};function R8e(){var n;const e=Cg.useContext(),{readonly:t}=ct();return h.jsxs(ps,{children:[h.jsxs(Mc,{className:"flex flex-row items-center gap-1",children:[h.jsx("span",{className:"font-bold",children:"Media Adapter:"}),e.selected===null&&h.jsx("span",{className:"opacity-70",children:" (Choose one)"})]}),h.jsx("div",{className:"grid grid-cols-2 md:flex flex-row gap-1 mb-2 flex-wrap",children:(n=e.schemas)==null?void 0:n.map((r,i)=>h.jsxs(tt,{onClick:()=>e.select(i),id:`adapter-${r.properties.type.const}`,variant:e.selected===i?"primary":"outline",className:qe("flex flex-row items-center justify-center gap-3 border",e.selected===i&&"border-primary"),disabled:t,children:[h.jsx("div",{children:h.jsx($8e,{type:r.properties.type.const})}),h.jsxs("div",{className:"flex flex-col items-start justify-center",children:[h.jsx("span",{children:Wa(r.title)}),r.description&&h.jsx("span",{className:"text-xs opacity-70 text-left",children:r.description})]})]},i))}),e.selected!==null&&h.jsxs(ps,{as:"fieldset",error:e.errors.length>0,children:[h.jsx(Mc,{as:"legend",className:"font-mono px-2 w-min-content",children:Wa(e.selectedSchema.title)}),h.jsxs(N0,{schema:e.selectedSchema,prefix:e.path,children:[h.jsx(Rr,{name:"type",hidden:!0}),h.jsx(kS,{path:"config",wrapperProps:{label:!1,wrapper:"group"}})]})]})]})}const P8=()=>h.jsx(Tm,{selector:e=>({enabled:e.data.enabled}),children:({enabled:e})=>!e&&h.jsx("div",{className:"absolute w-full h-full z-50 inset-0 bg-background opacity-90"})});function k8e(){return h.jsxs(N8e,{children:[h.jsx(at,{path:"/",component:_8e}),h.jsx(at,{path:"/settings",component:C8e})]})}function M8e(e,t){const n=w.useRef(!1),r=w.useRef(t);w.useEffect(()=>{if(!n.current||!I8e(r.current,t))return n.current=!0,r.current=t,e()},[t])}function I8e(e,t){return e&&e.length===0&&t.length===0||!e&&t.length===0?!0:!e||!t||e.length!==t.length?!1:e.every((n,r)=>Object.is(n,t[r]))}const P8e=({children:e})=>{const{verify:t,user:n}=PU();return M8e(()=>{t()},[n==null?void 0:n.id]),h.jsxs(iH,{children:[h.jsx(o2e,{}),h.jsx(sH,{children:e})]})};function D8e(){const[e]=Bn();return w.useEffect(()=>{e("/data")},[]),wr(),h.jsx(Jn,{Icon:fwe,title:"Not implemented yet",description:'Go checkout "Data" or "Media" for some action.'})}const eg={jwt:{basepath:{"ui:options":{label:!1}},fields:{"ui:options":{orderable:!1}}},strategies:{additionalProperties:{"ui:widget":"select",type:{"ui:widget":"hidden"}},type:{"ui:widget":"hidden"}},roles:{"ui:options":{orderable:!1},permissions:{items:{"ui:widget":"checkboxes"},"ui:widget":"checkboxes"}}},L8e=({schema:e,config:t})=>{var o,a;const n=ct(),r=G1(e),i=n.app.getAbsolutePath("settings");try{const c=t.entity_name??"users",u=n.config.data.entities??{};console.log("entities",u,c);const f=Object.entries(((o=u[c])==null?void 0:o.fields)??{}).map(([m,p])=>{var y;return(y=p.config)!=null&&y.virtual?void 0:m}).filter(Boolean);f.length>0&&(console.log("user_fields",f),r.properties.jwt.properties.fields.items.enum=f,r.properties.jwt.properties.fields.uniqueItems=!0,eg.jwt.fields["ui:widget"]="checkboxes")}catch{}console.log("_s",n);const s=((a=r.properties.roles)==null?void 0:a.additionalProperties)??{type:"object"};return h.jsx(at,{path:"/auth",nest:!0,children:h.jsxs(Xa,{children:[h.jsx(at,{path:"/roles/:role",component:({params:{role:c}})=>{var u;return h.jsx(ci,{schema:s,uiSchema:eg.roles,config:(u=t.roles)==null?void 0:u[c],path:["auth","roles",c],prefix:`${i}/auth/roles/${c}`})},nest:!0}),h.jsx(at,{path:"/strategies/:strategy",component:({params:{strategy:c}})=>{var p,y;const u=(p=t.strategies)==null?void 0:p[c],f=r.properties.strategies.additionalProperties,m=f.anyOf.find(v=>v.properties.type.const===(u==null?void 0:u.type));return h.jsx(ci,{schema:m??f,config:(y=t.strategies)==null?void 0:y[c],path:["auth","strategies",c],prefix:`${i}/auth/strategies/${c}`})},nest:!0}),h.jsx(at,{path:"/",component:()=>h.jsx(ci,{schema:r,uiSchema:eg,config:t,options:{showAlert:c=>{if(!c.enabled)return"Auth is disabled. Enable it by toggling the switch below. Please also make sure set a secure secret to sign JWT tokens."},reloadOnSave:!0},properties:{strategies:{extract:!0,tableValues:c=>Object.values(Xt(c,(u,f)=>({key:f,type:u.type}))),new:{schema:r.properties.strategies.additionalProperties,uiSchema:eg.strategies,generateKey:c=>{var u;return c.type==="password"?"password":((u=c.config.name)==null?void 0:u.toLowerCase())||""}}},roles:{extract:!0,new:{schema:s,uiSchema:eg.roles}}},prefix:`${i}/auth`,path:["auth"]}),nest:!0})]})})},F8e={jwt:{basepath:{"ui:options":{label:!1}},fields:{"ui:options":{orderable:!1}}},strategies:{additionalProperties:{"ui:widget":"select",type:{"ui:widget":"hidden"}},type:{"ui:widget":"hidden"}}},B8e=({schema:e,config:t})=>{const{app:n}=ct(),r=n.getAbsolutePath("settings");function i(s,o,a){const c=Object.keys(o.tasks??{});c.length!==0&&(s.properties&&a in s.properties&&(s.properties[a].enum=c),"anyOf"in s&&s.anyOf.forEach(u=>i(u,o,a)))}return h.jsx(at,{path:"/flows",nest:!0,children:h.jsxs(Xa,{children:[h.jsx(at,{path:"/flows/:flow/connections/:connection",component:({params:{flow:s,connection:o}})=>{var f,m,p,y;const a=(f=t.flows)==null?void 0:f[s],c=(y=(p=(m=t.flows)==null?void 0:m[s])==null?void 0:p.connections)==null?void 0:y[o],u=e.properties.flows.additionalProperties.properties.connections.additionalProperties;return i(u,a,"source"),i(u,a,"target"),h.jsx(ci,{schema:u,config:c,path:["flows","flows",s,"connections",o],prefix:`${r}/flows/flows/${s}/connections/${o}`})},nest:!0}),h.jsx(at,{path:"/flows/:flow/tasks/:task",component:({params:{flow:s,task:o}})=>{var f,m,p;const a=(p=(m=(f=t.flows)==null?void 0:f[s])==null?void 0:m.tasks)==null?void 0:p[o],u=e.properties.flows.additionalProperties.properties.tasks.additionalProperties.anyOf.find(y=>y.properties.type.const===(a==null?void 0:a.type));return h.jsx(ci,{schema:u,config:a,path:["flows","flows",s,"tasks",o],prefix:`${r}/flows/flows/${s}/tasks/${o}`,uiSchema:{params:{render:{"ui:field":"HtmlField"}}}})},nest:!0}),h.jsx(at,{path:"/flows/:flow",component:({params:{flow:s}})=>{var f;const o=(f=t.flows)==null?void 0:f[s],a=e.properties.flows.additionalProperties,c=a.properties.tasks.additionalProperties,u=a.properties.connections.additionalProperties;return i(a,o,"start_task"),i(a,o,"responding_task"),i(u,o,"source"),i(u,o,"target"),h.jsx(ci,{schema:a,config:o,path:["flows","flows",s],prefix:`${r}/flows/flows/${s}`,properties:{tasks:{extract:!0,new:{schema:c},tableValues:m=>os(m,(p,y,v)=>{p.push({name:v,type:y.type})},[])},connections:{extract:!0,new:{schema:u,generateKey:crypto.randomUUID()},tableValues:m=>os(m,(p,y,v)=>{var x;p.push({id:v,source:y.source,target:y.target,condition:(x=y.config.condition)==null?void 0:x.type})},[])}}})},nest:!0}),h.jsx(at,{path:"/",component:()=>h.jsx(ci,{schema:e,uiSchema:F8e,config:t,properties:{flows:{extract:!0,new:{schema:e.properties.flows.additionalProperties},tableValues:s=>os(s,(o,a,c)=>{o.push({name:c,trigger:a.trigger.type,mode:a.trigger.config.mode,start_task:a.start_task,responding_task:a.responding_task})},[])}},prefix:`${r}/flows`,path:["flows"]}),nest:!0})]})})},z8e={cors:{allow_methods:{"ui:widget":"checkboxes"},allow_headers:{"ui:options":{orderable:!1}}}},V8e=({schema:e,config:t})=>{const{app:n}=ct(),r=G1(e),i=n.getAbsolutePath("settings"),s=r;return h.jsx(at,{path:"/server",nest:!0,children:h.jsx(at,{path:"/",component:()=>h.jsx(ci,{schema:s,uiSchema:z8e,config:t,prefix:`${i}/server`,path:["server"]}),nest:!0})})};function U8e(){const{version:e,schema:t,actions:n,app:r}=ct();wr(["Settings"]);async function i(){await n.reload()}const s=Object.keys(t).map(o=>({title:t[o].title??Li(o),key:o}));return h.jsxs(Od,{children:[h.jsx(Rn,{right:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"font-mono leading-none",children:["v",e]}),h.jsx(yt,{Icon:ywe,onClick:i})]}),children:"Settings"}),h.jsx(nr,{initialOffset:96,children:h.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:h.jsx("nav",{className:"flex flex-col flex-1 gap-1",children:s.map((o,a)=>h.jsx(li,{as:Ln,href:`/${o.key}`,children:o.title},a))})})})]})}function q8e(){return ct({withSecrets:!0}).hasSecrets?h.jsxs(h.Fragment,{children:[h.jsx(U8e,{}),h.jsx(h0,{children:h.jsxs(Xa,{children:[h.jsx(at,{path:"/",component:()=>h.jsx(Jn,{Icon:oy,title:"No Setting selected",description:"Please select a setting from the left sidebar."})}),h.jsx(W8e,{}),h.jsx(at,{path:"*",component:()=>h.jsx(Jn,{Icon:oy,title:"Settings not found",description:"Check other options."})})]})})]}):h.jsx(bi.MissingPermission,{what:"the settings"})}const H8e={media:{adapter:{"ui:options":{label:!1}}}},W8e=()=>{const{schema:e,config:t}=ct();return console.log("flows",{schema:e.flows,config:t.flows}),h.jsxs(h.Fragment,{children:[h.jsx(V8e,{schema:e.server,config:t.server}),h.jsx(ZAe,{schema:e.data,config:t.data}),h.jsx(L8e,{schema:e.auth,config:t.auth}),h.jsx(G8e,{module:"media",schema:e,config:t,uiSchema:H8e.media,options:{reloadOnSave:!0}}),h.jsx(B8e,{schema:e.flows,config:t.flows})]})},G8e=({module:e,schema:t,config:n,...r})=>{const{app:i}=ct(),s=i.getAbsolutePath("settings");return h.jsx(at,{path:e,nest:!0,children:h.jsx(Xa,{children:h.jsx(at,{path:"/",component:()=>h.jsx(ci,{...r,schema:t[e],config:n[e],prefix:`${s}/${e}`,path:[e]}),nest:!0})})})};function J8e(){const[e,t]=w.useState();if(w.useEffect(()=>{if(!e){const n=U0e();n&&t(n)}},[]),e){let n=Ys.Info;switch(e.type){case"error":n=Ys.Exception;break;case"success":n=Ys.Success;break;case"warning":n=Ys.Warning;break}return h.jsx(n,{message:e.message,className:"justify-center"})}return null}function Y8e(){return wr(["Register"]),h.jsx(ZW.Screen,{action:"register",logo:h.jsx(Ln,{href:"/",className:"link",children:h.jsx(oS,{scale:.25})})})}const ls=sS(u0({tools:[],feature:"tools",content:null,history:[],historyLimit:50,historyVisible:!1},e=>({setTools:t=>e({tools:t}),setFeature:t=>e({feature:t}),setContent:t=>e({content:t}),addHistory:(t,n)=>e(r=>({history:[{type:t,data:n},...r.history.slice(0,r.historyLimit-1)]})),setHistoryLimit:t=>e({historyLimit:t}),setHistoryVisible:t=>e({historyVisible:t})})));function D8(e){return!e||e===void 0||e===null?void 0:new R4(e).getTemplate(void 0,e)}function X8e(...e){return e.filter(Boolean).join(" ")}const mC=new Map;function K8e(e){return mC.has(JSON.stringify(e))||mC.set(JSON.stringify(e),new Hce(e)),mC.get(JSON.stringify(e))}function KY(){const{config:e}=ct();return K8e({url:window.location.origin+e.server.mcp.path})}function Q8e({open:e,toggle:t}){const n=KY(),r=Pa(x=>x.closeSidebar("default")),i=ls(x=>x.tools),s=ls(x=>x.setTools),o=ls(x=>x.setContent),a=ls(x=>x.content),[c,u]=w.useState(!1),[f,m]=w.useState(""),[p,y]=w.useState(null),v=w.useCallback(async()=>{u(!0),y(null);try{const x=await n.listTools();x&&s(x.tools)}catch(x){console.error(x),y(String(x))}u(!1)},[]);return w.useEffect(()=>{v()},[]),h.jsx(F$,{title:"Tools",open:e,toggle:t,renderHeaderRight:()=>h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p&&h.jsx(ao,{label:p,children:h.jsx(dS.Err,{className:"size-5 pointer-events-auto"})}),h.jsx("span",{className:"flex-inline bg-primary/10 px-2 py-1.5 rounded-xl text-sm font-mono leading-none",children:i.length}),h.jsx(yt,{Icon:nH,disabled:!e||c,onClick:v})]}),children:h.jsxs("div",{className:"flex flex-col flex-grow p-3 gap-3",children:[h.jsx(cl,{type:"text",placeholder:"Search tools",value:f,onChange:x=>m(x.target.value),autoCapitalize:"none"}),h.jsx("nav",{className:"flex flex-col flex-1 gap-1",children:i.filter(x=>x.name.toLowerCase().includes(f.toLowerCase())).map(x=>h.jsxs(li,{className:X8e("flex flex-col items-start h-auto py-3 gap-px",(a==null?void 0:a.name)===x.name?"active":""),onClick:()=>{o(x),r()},children:[h.jsx("span",{className:"font-mono",children:x.name}),h.jsx("span",{className:"text-sm text-primary/50",children:x.description})]},x.name))})]})})}function Z8e(){var x;const e=ls(S=>S.content),t=ls(S=>S.addHistory),[n,r]=w.useState(D8(e==null?void 0:e.inputSchema)),[i,s]=w.useState(null),o=ls(S=>S.historyVisible),a=ls(S=>S.setHistoryVisible),c=KY(),u=w.useRef(null),f=(e==null?void 0:e.inputSchema)&&Object.keys(e.inputSchema.properties??{}).length>0,[m,p]=w.useTransition();w.useEffect(()=>{r(D8(e==null?void 0:e.inputSchema)),s(null)},[e]);const y=w.useCallback(async()=>{if(!(e!=null&&e.name))return;const S={name:e.name,arguments:n};p(async()=>{var _;t("request",S);const N=await c.callTool(S);N&&(s(N),t("response",N),(_=u.current)==null||_.setSelected("Result"))})},[n]);if(!e)return null;let v=i;try{v=i?(x=i.content)!=null&&x[0].text?JSON.parse(i.content[0].text):i:null}catch{}return h.jsxs(E0,{className:"flex flex-grow flex-col min-w-0 max-w-screen",schema:{title:"InputSchema",...e==null?void 0:e.inputSchema},validateOn:"submit",initialValues:n,hiddenSubmit:!1,onChange:S=>{r(S)},onSubmit:y,children:[h.jsx(Rn,{className:"max-w-full min-w-0",right:h.jsxs("div",{className:"flex flex-row gap-2",children:[h.jsx(yt,{Icon:o?VEe:zEe,onClick:()=>a(!o)}),h.jsx(tt,{type:"submit",disabled:!(e!=null&&e.name)||m,variant:"primary",className:"whitespace-nowrap",children:"Call Tool"})]}),children:h.jsxs(m0,{className:"leading-tight",children:[h.jsxs("span",{className:"opacity-50",children:["Tools ",h.jsx("span",{className:"opacity-70",children:"/"})]})," ",h.jsx("span",{className:"truncate",children:e==null?void 0:e.name})]})}),h.jsxs("div",{className:"flex flex-grow flex-row w-vw",children:[h.jsx("div",{className:"flex flex-grow flex-col max-w-full",style:{width:"calc(100% - var(--sidebar-width-right) - 1px)"},children:h.jsx(nr,{children:h.jsxs("div",{className:"flex flex-col py-4 px-5  gap-4",children:[h.jsx("p",{className:"text-primary/80",children:e==null?void 0:e.description}),f&&h.jsx(Rr,{name:""}),h.jsx(H2e,{ref:u,expand:9,showCopy:!0,showSize:!0,tabs:{Arguments:{json:n,title:"Payload",enabled:f},Result:{json:v,title:"Result"},Configuration:{json:e??null,title:"Configuration"}}})]},JSON.stringify(e))})}),o&&h.jsx(Od,{name:"right",handle:"left",maxWidth:window.innerWidth*.4,children:h.jsx(e7e,{})})]})]},e.name)}const e7e=()=>{const e=ls(t=>t.history.slice(0,50));return h.jsxs(h.Fragment,{children:[h.jsx(Rn,{children:"History"}),h.jsx(nr,{children:h.jsx("div",{className:"flex flex-col flex-grow p-3 gap-1",children:e.map((t,n)=>h.jsx(Xr,{json:t.data,title:t.type.substring(0,3),expand:2,showCopy:!0},`${t.type}-${n}`))})})]})};function t7e(){wr(["MCP UI"]);const{config:e,options:t}=ct(),n=ls(a=>a.feature),r=ls(a=>a.setFeature),i=ls(a=>a.content),s=Pa(a=>a.toggleSidebar("default")),o=e.server.mcp.path;return e.server.mcp.enabled?h.jsxs("div",{className:"flex flex-col flex-grow max-w-screen",children:[h.jsx(Rn,{children:h.jsxs("div",{className:"flex flex-row gap-4 items-center",children:[h.jsx(rH,{}),h.jsx(m0,{className:"whitespace-nowrap truncate",children:"MCP UI"}),h.jsxs("div",{className:"hidden md:flex flex-row gap-2 items-center bg-primary/5 rounded-full px-3 pr-3.5 py-2",children:[h.jsx(t2e,{}),h.jsx("div",{className:"min-w-0 flex-1",children:h.jsx("span",{className:"block truncate text-sm font-mono leading-none select-text",children:window.location.origin+o})})]})]})}),h.jsxs("div",{className:"flex h-full",children:[h.jsxs(Od,{children:[h.jsx(Q8e,{open:n==="tools",toggle:()=>r("tools")}),h.jsx(F$,{title:"Resources",open:n==="resources",toggle:()=>r("resources"),children:h.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3 justify-center items-center opacity-40",children:h.jsx("i",{children:"Resources"})})})]}),n==="tools"&&h.jsx(Z8e,{}),!i&&h.jsx(Jn,{title:"No tool selected",description:"Please select a tool to continue.",children:h.jsx(tt,{variant:"primary",onClick:()=>s(),className:"block md:hidden",children:"Open Tools"})})]})]}):h.jsx(Jn,{title:"MCP not enabled",description:"Please enable MCP in the settings to continue."})}function n7e(){return h.jsxs(h.Fragment,{children:[h.jsx(at,{path:"/",component:r7e}),h.jsx(at,{path:"/mcp",component:t7e})]})}function r7e(){return h.jsx(Jn,{title:"Tools",description:"Select a tool to continue."})}const i7e=w.lazy(()=>p0(()=>import("./index-BYs8IsB5.js"),__vite__mapDeps([2,1])));function s7e({BkndWrapper:e,basePath:t="",children:n}){const{theme:r}=al(),i=eS(),s=t||i.admin_basepath;return h.jsxs("div",{id:"bknd-admin",className:r+" antialiased",children:[h.jsx(J8e,{}),h.jsx(oq,{base:s,children:h.jsxs(Xa,{children:[h.jsx(at,{path:"/auth/login",component:sRe}),h.jsx(at,{path:"/auth/register",component:Y8e}),h.jsx(e,{children:h.jsx(N5e,{children:h.jsx(at,{path:"/",nest:!0,children:h.jsx(P8e,{children:h.jsxs(Xa,{children:[h.jsx(at,{path:"/test*",nest:!0,children:h.jsx(w.Suspense,{fallback:null,children:h.jsx(i7e,{})})}),n,h.jsx(at,{path:"/",component:D8e}),h.jsx(at,{path:"/data",nest:!0,children:h.jsx(w.Suspense,{fallback:null,children:h.jsx(ZRe,{})})}),h.jsx(at,{path:"/flows",nest:!0,children:h.jsx(w.Suspense,{fallback:null,children:h.jsx(E8e,{})})}),h.jsx(at,{path:"/auth",nest:!0,children:h.jsx(w.Suspense,{fallback:null,children:h.jsx(iRe,{})})}),h.jsx(at,{path:"/media",nest:!0,children:h.jsx(w.Suspense,{fallback:null,children:h.jsx(k8e,{})})}),h.jsx(at,{path:"/settings",nest:!0,children:h.jsx(w.Suspense,{fallback:null,children:h.jsx(q8e,{})})}),h.jsx(at,{path:"/tools",nest:!0,children:h.jsx(w.Suspense,{fallback:null,children:h.jsx(n7e,{})})}),h.jsx(at,{path:"*",component:o7e})]})})})})})]})})]})}function o7e(){return h.jsx("div",{className:"flex w-full items-center justify-center",children:h.jsxs("p",{className:"text-2xl font-mono",children:[h.jsx("span",{className:"font-bold",children:"404"}),h.jsx("span",{className:"opacity-50",children:", Sorry :)"})]})})}function a7e({baseUrl:e,withProvider:t=!1,config:n={},children:r}){const{theme:i}=al(),s=({children:c})=>t?h.jsx(dxe,{baseUrl:e,...typeof t=="object"?t:{},children:c}):c,o={...n,...eS()},a=({children:c})=>h.jsx(I1e,{options:o,fallback:h.jsx(l7e,{theme:o==null?void 0:o.theme}),children:c});return h.jsx(s,{children:h.jsxs(w7,{...u2e(i),children:[h.jsx(zo,{position:"top-right"}),h.jsx(s7e,{BkndWrapper:a,basePath:o==null?void 0:o.basepath,children:r})]})})}const l7e=({theme:e})=>{const t=al(),n=e&&["dark","light"].includes(e)?e:t.theme;return h.jsx("div",{id:"bknd-admin",className:n+" antialiased",children:h.jsxs(iH,{children:[h.jsxs("header",{"data-shell":"header",className:"flex flex-row w-full h-16 gap-2.5 border-muted border-b justify-start bg-muted/10",children:[h.jsx("div",{className:"max-h-full flex hover:bg-primary/5 link p-2.5 w-[134px] outline-none",children:h.jsx(oS,{theme:n})}),h.jsx("nav",{className:"hidden md:flex flex-row gap-2.5 pl-0 p-2.5 items-center",children:[...new Array(4)].map((r,i)=>h.jsx(Sg,{as:"span",className:"active h-full opacity-50",children:h.jsx("div",{className:"w-18 h-3"})},i))}),h.jsx("nav",{className:"flex md:hidden flex-row gap-2.5 pl-0 p-2.5 items-center",children:h.jsx(Sg,{as:"span",className:"active h-full opacity-50",children:h.jsx("div",{className:"w-20 h-3"})})}),h.jsx("div",{className:"flex flex-grow"}),h.jsx("div",{className:"hidden lg:flex flex-row items-center px-4 gap-2 opacity-50",children:h.jsx("div",{className:"size-11 rounded-full bg-primary/10"})})]}),h.jsx(sH,{children:h.jsx("div",{className:"flex flex-col w-full h-full justify-center items-center"})})]})})};function L8(){fQ.createRoot(document.getElementById("root")).render(h.jsx(w.StrictMode,{children:h.jsx(a7e,{withProvider:!0})}))}"startViewTransition"in document?document.startViewTransition(L8):L8();export{E0 as $,Uve as A,MS as B,wwe as C,$r as D,Y9e as E,s$ as F,ps as G,S1 as H,yt as I,Xr as J,jn as K,Mc as L,g7 as M,CTe as N,hd as O,uT as P,Vt as Q,zG as R,Rn as S,ll as T,vq as U,zU as V,gwe as W,w$ as X,Pv as Y,aEe as Z,ct as _,Zj as a,TT as a$,Me as a0,mn as a1,Ct as a2,de as a3,Pt as a4,WW as a5,r8e as a6,id as a7,cs as a8,Vc as a9,UY as aA,L9e as aB,z9e as aC,Iz as aD,yi as aE,ez as aF,rz as aG,L1 as aH,Sme as aI,Eme as aJ,pm as aK,VN as aL,Yg as aM,rv as aN,G1 as aO,pz as aP,Xoe as aQ,kh as aR,tH as aS,D$ as aT,fEe as aU,uEe as aV,Gy as aW,Vs as aX,G6 as aY,z1 as aZ,Xge as a_,Ui as aa,ao as ab,Yc as ac,Xc as ad,d9e as ae,bAe as af,uwe as ag,Zje as ah,FAe as ai,Ys as aj,$7e as ak,at as al,Jn as am,Od as an,li as ao,Ln as ap,h0 as aq,wm as ar,_$ as as,so as at,Oy as au,st as av,A7e as aw,j7e as ax,al as ay,gd as az,v$ as b,fz as b0,Do as b1,Ed as b2,$h as b3,V1 as b4,Wg as b5,zs as b6,MT as b7,Bhe as b8,J1 as b9,ehe as ba,kz as bb,Jge as bc,nhe as bd,dO as be,mge as bf,Lx as bg,uge as bh,Kfe as bi,tye as bj,u7e as bk,os as bl,Tr as bm,qA as bn,jh as bo,tt as c,oy as d,x$ as e,twe as f,awe as g,owe as h,HW as i,h as j,cl as k,nr as l,c0 as m,bC as n,Jxe as o,tS as p,Xxe as q,w as r,An as s,qe as t,dZ as u,Em as v,vm as w,GW as x,E4 as y,Ec as z};
